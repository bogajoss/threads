import{a as Je}from"./rolldown-runtime-BaZ8gS7u.js";import{o as bt,s as yt}from"./animations-pEILWrFP.js";import{_ as Xe,c as ge,t as vt}from"./framework-di2JoXyY.js";import"./database-CdmW3A7f.js";import{nn as St,tn as Nt}from"./ui-libs-yzUERV1o.js";import"./media-libs-D2H42K39.js";import{B as Ze,M as ze,N as jt,V as We,_n as G,dt as et,j as wt,lt as tt,ut as nt}from"./index-ZcVyY9rV.js";import"./VideoPlayer-D5zTel2q.js";import{n as kt}from"./post-CcFmSLJO.js";import"./text-processing-C3TjCoM3.js";import"./linkify-FEcu8M-7.js";import{n as zt,o as Et}from"./hooks-WavgvGBm.js";var At=ge(),O=Je(yt(),1),x=Je(bt(),1),Lt=n=>{const e=(0,At.c)(24),{user:t,onClick:s,isAddStory:r,isSeen:o}=n,i=r===void 0?!1:r,c=`relative p-0.5 rounded-full ${i?"bg-transparent":o!==void 0&&o?"bg-zinc-200 dark:bg-zinc-800":"bg-gradient-to-tr from-yellow-400 via-pink-500 to-violet-600"}`;let l;e[0]!==t.avatar||e[1]!==t.handle?(l=(0,x.jsx)(et,{src:t.avatar,alt:t.handle,className:"object-cover"}),e[0]=t.avatar,e[1]=t.handle,e[2]=l):l=e[2];let u;e[3]!==t.handle?.[0]?(u=t.handle?.[0]?.toUpperCase(),e[3]=t.handle?.[0],e[4]=u):u=e[4];let a;e[5]!==u?(a=(0,x.jsx)(nt,{children:u}),e[5]=u,e[6]=a):a=e[6];let p;e[7]!==l||e[8]!==a?(p=(0,x.jsxs)(tt,{className:"size-14 border border-zinc-100 dark:border-zinc-800 sm:size-16",children:[l,a]}),e[7]=l,e[8]=a,e[9]=p):p=e[9];let h;e[10]!==i?(h=i&&(0,x.jsx)("div",{className:"absolute bottom-0 right-0 rounded-full border-2 border-white bg-violet-600 p-1 text-white shadow-lg dark:border-black",children:(0,x.jsx)(Nt,{size:14,strokeWidth:3})}),e[10]=i,e[11]=h):h=e[11];let f;e[12]!==p||e[13]!==h?(f=(0,x.jsx)("div",{className:"rounded-full bg-white p-0.5 dark:bg-black",children:(0,x.jsxs)("div",{className:"relative",children:[p,h]})}),e[12]=p,e[13]=h,e[14]=f):f=e[14];let d;e[15]!==c||e[16]!==f?(d=(0,x.jsx)("div",{className:c,children:f}),e[15]=c,e[16]=f,e[17]=d):d=e[17];const b=i?"Add Story":t.handle;let g;e[18]!==b?(g=(0,x.jsx)("span",{className:"w-16 truncate text-center text-[11px] font-semibold leading-tight text-zinc-600 dark:text-zinc-400",children:b}),e[18]=b,e[19]=g):g=e[19];let m;return e[20]!==s||e[21]!==d||e[22]!==g?(m=(0,x.jsxs)("button",{onClick:s,className:"group flex shrink-0 flex-col items-center gap-2",children:[d,g]}),e[20]=s,e[21]=d,e[22]=g,e[23]=m):m=e[23],m},qe=Lt;function Ct(n){return Object.prototype.toString.call(n)==="[object Object]"}function Ge(n){return Ct(n)||Array.isArray(n)}function It(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Le(n,e){const t=Object.keys(n),s=Object.keys(e);return t.length!==s.length||JSON.stringify(Object.keys(n.breakpoints||{}))!==JSON.stringify(Object.keys(e.breakpoints||{}))?!1:t.every(r=>{const o=n[r],i=e[r];return typeof o=="function"?`${o}`==`${i}`:!Ge(o)||!Ge(i)?o===i:Le(o,i)})}function Ke(n){return n.concat().sort((e,t)=>e.name>t.name?1:-1).map(e=>e.options)}function Pt(n,e){if(n.length!==e.length)return!1;const t=Ke(n),s=Ke(e);return t.every((r,o)=>{const i=s[o];return Le(r,i)})}function Ce(n){return typeof n=="number"}function Ee(n){return typeof n=="string"}function ve(n){return typeof n=="boolean"}function Qe(n){return Object.prototype.toString.call(n)==="[object Object]"}function I(n){return Math.abs(n)}function Ie(n){return Math.sign(n)}function de(n,e){return I(n-e)}function _t(n,e){return n===0||e===0||I(n)<=I(e)?0:I(de(I(n),I(e))/n)}function Tt(n){return Math.round(n*100)/100}function me(n){return pe(n).map(Number)}function K(n){return n[xe(n)]}function xe(n){return Math.max(0,n.length-1)}function Pe(n,e){return e===xe(n)}function Ye(n,e=0){return Array.from(Array(n),(t,s)=>e+s)}function pe(n){return Object.keys(n)}function rt(n,e){return[n,e].reduce((t,s)=>(pe(s).forEach(r=>{const o=t[r],i=s[r];t[r]=Qe(o)&&Qe(i)?rt(o,i):i}),t),{})}function Ae(n,e){return typeof e.MouseEvent<"u"&&n instanceof e.MouseEvent}function Ot(n,e){const t={start:s,center:r,end:o};function s(){return 0}function r(c){return o(c)/2}function o(c){return e-c}function i(c,l){return Ee(n)?t[n](c):n(e,c,l)}return{measure:i}}function he(){let n=[];function e(r,o,i,c={passive:!0}){let l;if("addEventListener"in r)r.addEventListener(o,i,c),l=()=>r.removeEventListener(o,i,c);else{const u=r;u.addListener(i),l=()=>u.removeListener(i)}return n.push(l),s}function t(){n=n.filter(r=>r())}const s={add:e,clear:t};return s}function Mt(n,e,t,s){const r=he(),o=1e3/60;let i=null,c=0,l=0;function u(){r.add(n,"visibilitychange",()=>{n.hidden&&d()})}function a(){f(),r.clear()}function p(b){if(!l)return;i||(i=b,t(),t());const g=b-i;for(i=b,c+=g;c>=o;)t(),c-=o;s(c/o),l&&(l=e.requestAnimationFrame(p))}function h(){l||(l=e.requestAnimationFrame(p))}function f(){e.cancelAnimationFrame(l),i=null,c=0,l=0}function d(){i=null,c=0}return{init:u,destroy:a,start:h,stop:f,update:t,render:s}}function Dt(n,e){const t=e==="rtl",s=n==="y",r=s?"y":"x",o=s?"x":"y",i=!s&&t?-1:1,c=a(),l=p();function u(f){const{height:d,width:b}=f;return s?d:b}function a(){return s?"top":t?"right":"left"}function p(){return s?"bottom":t?"left":"right"}function h(f){return f*i}return{scroll:r,cross:o,startEdge:c,endEdge:l,measureSize:u,direction:h}}function ne(n=0,e=0){const t=I(n-e);function s(l){return l<n}function r(l){return l>e}function o(l){return s(l)||r(l)}function i(l){return o(l)?s(l)?n:e:l}function c(l){return t?l-t*Math.ceil((l-e)/t):l}return{length:t,max:e,min:n,constrain:i,reachedAny:o,reachedMax:r,reachedMin:s,removeOffset:c}}function st(n,e,t){const{constrain:s}=ne(0,n),r=n+1;let o=i(e);function i(h){return t?I((r+h)%r):s(h)}function c(){return o}function l(h){return o=i(h),p}function u(h){return a().set(c()+h)}function a(){return st(n,c(),t)}const p={get:c,set:l,add:u,clone:a};return p}function Ft(n,e,t,s,r,o,i,c,l,u,a,p,h,f,d,b,g,m,y){const{cross:S,direction:j}=n,w=["INPUT","SELECT","TEXTAREA"],N={passive:!1},k=he(),z=he(),L=ne(50,225).constrain(f.measure(20)),C={mouse:300,touch:400},P={mouse:500,touch:600},T=d?43:25;let F=!1,$=0,B=0,V=!1,M=!1,H=!1,_=!1;function ee(v){if(!y)return;function E(D){(ve(y)||y(v,D))&&U(D)}const A=e;k.add(A,"dragstart",D=>D.preventDefault(),N).add(A,"touchmove",()=>{},N).add(A,"touchend",()=>{}).add(A,"touchstart",E).add(A,"mousedown",E).add(A,"touchcancel",R).add(A,"contextmenu",R).add(A,"click",se,!0)}function Y(){k.clear(),z.clear()}function re(){const v=_?t:e;z.add(v,"touchmove",Q,N).add(v,"touchend",R).add(v,"mousemove",Q,N).add(v,"mouseup",R)}function J(v){const E=v.nodeName||"";return w.includes(E)}function ce(){return(d?P:C)[_?"mouse":"touch"]}function le(v,E){const A=p.add(Ie(v)*-1),D=a.byDistance(v,!d).distance;return d||I(v)<L?D:g&&E?D*.5:a.byIndex(A.get(),0).distance}function U(v){const E=Ae(v,s);_=E,H=d&&E&&!v.buttons&&F,F=de(r.get(),i.get())>=2,!(E&&v.button!==0)&&(J(v.target)||(V=!0,o.pointerDown(v),u.useFriction(0).useDuration(0),r.set(i),re(),$=o.readPoint(v),B=o.readPoint(v,S),h.emit("pointerDown")))}function Q(v){if(!Ae(v,s)&&v.touches.length>=2)return R(v);const E=o.readPoint(v),A=o.readPoint(v,S),D=de(E,$),X=de(A,B);if(!M&&!_&&(!v.cancelable||(M=D>X,!M)))return R(v);const Z=o.pointerMove(v);D>b&&(H=!0),u.useFriction(.3).useDuration(.75),c.start(),r.add(j(Z)),v.preventDefault()}function R(v){const E=a.byDistance(0,!1).index!==p.get(),A=o.pointerUp(v)*ce(),D=le(j(A),E),X=_t(A,D),Z=T-10*X,ae=m+X/50;M=!1,V=!1,z.clear(),u.useDuration(Z).useFriction(ae),l.distance(D,!d),_=!1,h.emit("pointerUp")}function se(v){H&&(v.stopPropagation(),v.preventDefault(),H=!1)}function q(){return V}return{init:ee,destroy:Y,pointerDown:q}}function $t(n,e){let s,r;function o(a){return a.timeStamp}function i(a,p){const h=`client${(p||n.scroll)==="x"?"X":"Y"}`;return(Ae(a,e)?a:a.touches[0])[h]}function c(a){return s=a,r=a,i(a)}function l(a){const p=i(a)-i(r),h=o(a)-o(s)>170;return r=a,h&&(s=a),p}function u(a){if(!s||!r)return 0;const p=i(r)-i(s),h=o(a)-o(s),f=o(a)-o(r)>170,d=p/h;return h&&!f&&I(d)>.1?d:0}return{pointerDown:c,pointerMove:l,pointerUp:u,readPoint:i}}function Rt(){function n(e){const{offsetTop:t,offsetLeft:s,offsetWidth:r,offsetHeight:o}=e;return{top:t,right:s+r,bottom:t+o,left:s,width:r,height:o}}return{measure:n}}function Bt(n){function e(t){return n*(t/100)}return{measure:e}}function Vt(n,e,t,s,r,o,i){const c=[n].concat(s);let l,u,a=[],p=!1;function h(b){return r.measureSize(i.measure(b))}function f(b){if(!o)return;u=h(n),a=s.map(h);function g(m){for(const y of m){if(p)return;const S=y.target===n,j=s.indexOf(y.target),w=S?u:a[j];if(I(h(S?n:s[j])-w)>=.5){b.reInit(),e.emit("resize");break}}}l=new ResizeObserver(m=>{(ve(o)||o(b,m))&&g(m)}),t.requestAnimationFrame(()=>{c.forEach(m=>l.observe(m))})}function d(){p=!0,l&&l.disconnect()}return{init:f,destroy:d}}function Ht(n,e,t,s,r,o){let i=0,c=0,l=r,u=o,a=n.get(),p=0;function h(){const N=s.get()-n.get(),k=!l;let z=0;return k?(i=0,t.set(s),n.set(s),z=N):(t.set(n),i+=N/l,i*=u,a+=i,n.add(i),z=a-p),c=Ie(z),p=a,w}function f(){return I(s.get()-e.get())<.001}function d(){return l}function b(){return c}function g(){return i}function m(){return S(r)}function y(){return j(o)}function S(N){return l=N,w}function j(N){return u=N,w}const w={direction:b,duration:d,velocity:g,seek:h,settled:f,useBaseFriction:y,useBaseDuration:m,useFriction:j,useDuration:S};return w}function Ut(n,e,t,s,r){const o=r.measure(10),i=r.measure(50),c=ne(.1,.99);let l=!1;function u(){return!(l||!n.reachedAny(t.get())||!n.reachedAny(e.get()))}function a(h){if(!u())return;const f=I(n[n.reachedMin(e.get())?"min":"max"]-e.get()),d=t.get()-e.get(),b=c.constrain(f/i);t.subtract(d*b),!h&&I(d)<o&&(t.set(n.constrain(t.get())),s.useDuration(25).useBaseFriction())}function p(h){l=!h}return{shouldConstrain:u,constrain:a,toggleActive:p}}function qt(n,e,t,s,r){const o=ne(-e+n,0),i=p(),c=a(),l=h();function u(f,d){return de(f,d)<=1}function a(){const f=i[0],d=K(i);return ne(i.lastIndexOf(f),i.indexOf(d)+1)}function p(){return t.map((f,d)=>{const{min:b,max:g}=o,m=o.constrain(f),y=!d,S=Pe(t,d);return y?g:S||u(b,m)?b:u(g,m)?g:m}).map(f=>parseFloat(f.toFixed(3)))}function h(){if(e<=n+r)return[o.max];if(s==="keepSnaps")return i;const{min:f,max:d}=c;return i.slice(f,d)}return{snapsContained:l,scrollContainLimit:c}}function Gt(n,e,t){const s=e[0];return{limit:ne(t?s-n:K(e),s)}}function Kt(n,e,t,s){const{reachedMin:o,reachedMax:i}=ne(e.min+.1,e.max+.1);function c(u){return u===1?i(t.get()):u===-1?o(t.get()):!1}function l(u){if(!c(u))return;const a=n*(u*-1);s.forEach(p=>p.add(a))}return{loop:l}}function Qt(n){const{max:e,length:t}=n;function s(r){const o=r-e;return t?o/-t:0}return{get:s}}function Yt(n,e,t,s,r){const{startEdge:o,endEdge:i}=n,{groupSlides:c}=r,l=p().map(e.measure),u=h(),a=f();function p(){return c(s).map(d=>K(d)[i]-d[0][o]).map(I)}function h(){return s.map(d=>t[o]-d[o]).map(d=>-I(d))}function f(){return c(u).map(d=>d[0]).map((d,b)=>d+l[b])}return{snaps:u,snapsAligned:a}}function Jt(n,e,t,s,r,o){const{groupSlides:i}=r,{min:c,max:l}=s,u=a();function a(){const p=i(o),h=!n||e==="keepSnaps";return t.length===1?[o]:h?p:p.slice(c,l).map((f,d,b)=>{const g=!d,m=Pe(b,d);return g?Ye(K(b[0])+1):m?Ye(xe(o)-K(b)[0]+1,K(b)[0]):f})}return{slideRegistry:u}}function Xt(n,e,t,s,r){const{reachedAny:o,removeOffset:i,constrain:c}=s;function l(f){return f.concat().sort((d,b)=>I(d)-I(b))[0]}function u(f){const d=n?i(f):c(f),{index:b}=e.map((g,m)=>({diff:a(g-d,0),index:m})).sort((g,m)=>I(g.diff)-I(m.diff))[0];return{index:b,distance:d}}function a(f,d){const b=[f,f+t,f-t];if(!n)return f;if(!d)return l(b);const g=b.filter(m=>Ie(m)===d);return g.length?l(g):K(b)-t}function p(f,d){return{index:f,distance:a(e[f]-r.get(),d)}}function h(f,d){const b=r.get()+f,{index:g,distance:m}=u(b),y=!n&&o(b);return!d||y?{index:g,distance:f}:{index:g,distance:f+a(e[g]-m,0)}}return{byDistance:h,byIndex:p,shortcut:a}}function Zt(n,e,t,s,r,o,i){function c(a){const p=a.distance,h=a.index!==e.get();o.add(p),p&&(s.duration()?n.start():(n.update(),n.render(1),n.update())),h&&(t.set(e.get()),e.set(a.index),i.emit("select"))}function l(a,p){c(r.byDistance(a,p))}function u(a,p){const h=e.clone().set(a);c(r.byIndex(h.get(),p))}return{distance:l,index:u}}function Wt(n,e,t,s,r,o,i,c){const l={passive:!0,capture:!0};let u=0;function a(h){if(!c)return;function f(d){if(new Date().getTime()-u>10)return;i.emit("slideFocusStart"),n.scrollLeft=0;const b=t.findIndex(g=>g.includes(d));Ce(b)&&(r.useDuration(0),s.index(b,0),i.emit("slideFocus"))}o.add(document,"keydown",p,!1),e.forEach((d,b)=>{o.add(d,"focus",g=>{(ve(c)||c(h,g))&&f(b)},l)})}function p(h){h.code==="Tab"&&(u=new Date().getTime())}return{init:a}}function fe(n){let e=n;function t(){return e}function s(c){e=i(c)}function r(c){e+=i(c)}function o(c){e-=i(c)}function i(c){return Ce(c)?c:c.get()}return{get:t,set:s,add:r,subtract:o}}function ot(n,e){const t=n.scroll==="x"?i:c,s=e.style;let r=null,o=!1;function i(p){return`translate3d(${p}px,0px,0px)`}function c(p){return`translate3d(0px,${p}px,0px)`}function l(p){if(o)return;const h=Tt(n.direction(p));h!==r&&(s.transform=t(h),r=h)}function u(p){o=!p}function a(){o||(s.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:a,to:l,toggleActive:u}}function en(n,e,t,s,r,o,i,c,l){const a=me(r),p=me(r).reverse(),h=m().concat(y());function f(N,k){return N.reduce((z,L)=>z-r[L],k)}function d(N,k){return N.reduce((z,L)=>f(z,k)>0?z.concat([L]):z,[])}function b(N){return o.map((k,z)=>({start:k-s[z]+.5+N,end:k+e-.5+N}))}function g(N,k,z){const L=b(k);return N.map(C=>{const P=z?0:-t,T=z?t:0,F=z?"end":"start",$=L[C][F];return{index:C,loopPoint:$,slideLocation:fe(-1),translate:ot(n,l[C]),target:()=>c.get()>$?P:T}})}function m(){const N=i[0];return g(d(p,N),t,!1)}function y(){return g(d(a,e-i[0]-1),-t,!0)}function S(){return h.every(({index:N})=>f(a.filter(k=>k!==N),e)<=.1)}function j(){h.forEach(N=>{const{target:k,translate:z,slideLocation:L}=N,C=k();C!==L.get()&&(z.to(C),L.set(C))})}function w(){h.forEach(N=>N.translate.clear())}return{canLoop:S,clear:w,loop:j,loopPoints:h}}function tn(n,e,t){let s,r=!1;function o(c){if(!t)return;function l(u){for(const a of u)if(a.type==="childList"){c.reInit(),e.emit("slidesChanged");break}}s=new MutationObserver(u=>{r||(ve(t)||t(c,u))&&l(u)}),s.observe(n,{childList:!0})}function i(){s&&s.disconnect(),r=!0}return{init:o,destroy:i}}function nn(n,e,t,s){const r={};let o=null,i=null,c,l=!1;function u(){c=new IntersectionObserver(f=>{l||(f.forEach(d=>{const b=e.indexOf(d.target);r[b]=d}),o=null,i=null,t.emit("slidesInView"))},{root:n.parentElement,threshold:s}),e.forEach(f=>c.observe(f))}function a(){c&&c.disconnect(),l=!0}function p(f){return pe(r).reduce((d,b)=>{const g=parseInt(b),{isIntersecting:m}=r[g];return(f&&m||!f&&!m)&&d.push(g),d},[])}function h(f=!0){if(f&&o)return o;if(!f&&i)return i;const d=p(f);return f&&(o=d),f||(i=d),d}return{init:u,destroy:a,get:h}}function rn(n,e,t,s,r,o){const{measureSize:i,startEdge:c,endEdge:l}=n,u=t[0]&&r,a=d(),p=b(),h=t.map(i),f=g();function d(){if(!u)return 0;const m=t[0];return I(e[c]-m[c])}function b(){if(!u)return 0;const m=o.getComputedStyle(K(s));return parseFloat(m.getPropertyValue(`margin-${l}`))}function g(){return t.map((m,y,S)=>{const j=!y,w=Pe(S,y);return j?h[y]+a:w?h[y]+p:S[y+1][c]-m[c]}).map(I)}return{slideSizes:h,slideSizesWithGaps:f,startGap:a,endGap:p}}function sn(n,e,t,s,r,o,i,c,l){const{startEdge:u,endEdge:a,direction:p}=n,h=Ce(t);function f(g,m){return me(g).filter(y=>y%m===0).map(y=>g.slice(y,y+m))}function d(g){return g.length?me(g).reduce((m,y,S)=>{const j=K(m)||0,w=j===0,N=y===xe(g),k=r[u]-o[j][u],z=r[u]-o[y][a],L=!s&&w?p(i):0,C=I(z-(!s&&N?p(c):0)-(k+L));return S&&C>e+l&&m.push(y),N&&m.push(g.length),m},[]).map((m,y,S)=>{const j=Math.max(S[y-1]||0);return g.slice(j,m)}):[]}function b(g){return h?f(g,t):d(g)}return{groupSlides:b}}function on(n,e,t,s,r,o,i){const{align:c,axis:l,direction:u,startIndex:a,loop:p,duration:h,dragFree:f,dragThreshold:d,inViewThreshold:b,slidesToScroll:g,skipSnaps:m,containScroll:y,watchResize:S,watchSlides:j,watchDrag:w,watchFocus:N}=o,k=2,z=Rt(),L=z.measure(e),C=t.map(z.measure),P=Dt(l,u),T=P.measureSize(L),F=Bt(T),$=Ot(c,T),B=!p&&!!y,{slideSizes:V,slideSizesWithGaps:M,startGap:H,endGap:_}=rn(P,L,C,t,p||!!y,r),ee=sn(P,T,g,p,L,C,H,_,k),{snaps:Y,snapsAligned:re}=Yt(P,$,L,C,ee),J=-K(Y)+K(M),{snapsContained:ce,scrollContainLimit:le}=qt(T,J,re,y,k),U=B?ce:re,{limit:Q}=Gt(J,U,p),R=st(xe(U),a,p),se=R.clone(),q=me(t),v=({dragHandler:ie,scrollBody:we,scrollBounds:ke,options:{loop:be}})=>{be||ke.constrain(ie.pointerDown()),we.seek()},E=({scrollBody:ie,translate:we,location:ke,offsetLocation:be,previousLocation:ut,scrollLooper:ft,slideLooper:dt,dragHandler:mt,animation:pt,eventHandler:$e,scrollBounds:ht,options:{loop:Re}},Be)=>{const Ve=ie.settled(),gt=!ht.shouldConstrain(),He=Re?Ve:Ve&&gt,Ue=He&&!mt.pointerDown();Ue&&pt.stop();const xt=ke.get()*Be+ut.get()*(1-Be);be.set(xt),Re&&(ft.loop(ie.direction()),dt.loop()),we.to(be.get()),Ue&&$e.emit("settle"),He||$e.emit("scroll")},A=Mt(s,r,()=>v(je),ie=>E(je,ie)),D=.68,X=U[R.get()],Z=fe(X),ae=fe(X),oe=fe(X),te=fe(X),ue=Ht(Z,oe,ae,te,h,D),Se=Xt(p,U,J,Q,te),Ne=Zt(A,R,se,ue,Se,te,i),Me=Qt(Q),De=he(),lt=nn(e,t,i,b),{slideRegistry:Fe}=Jt(B,y,U,le,ee,q),at=Wt(n,t,Fe,Ne,ue,De,i,N),je={ownerDocument:s,ownerWindow:r,eventHandler:i,containerRect:L,slideRects:C,animation:A,axis:P,dragHandler:Ft(P,n,s,r,te,$t(P,r),Z,A,Ne,ue,Se,R,i,F,f,d,m,D,w),eventStore:De,percentOfView:F,index:R,indexPrevious:se,limit:Q,location:Z,offsetLocation:oe,previousLocation:ae,options:o,resizeHandler:Vt(e,i,r,t,P,S,z),scrollBody:ue,scrollBounds:Ut(Q,oe,te,ue,F),scrollLooper:Kt(J,Q,oe,[Z,oe,ae,te]),scrollProgress:Me,scrollSnapList:U.map(Me.get),scrollSnaps:U,scrollTarget:Se,scrollTo:Ne,slideLooper:en(P,T,J,V,M,Y,U,oe,t),slideFocus:at,slidesHandler:tn(e,i,j),slidesInView:lt,slideIndexes:q,slideRegistry:Fe,slidesToScroll:ee,target:te,translate:ot(P,e)};return je}function cn(){let n={},e;function t(u){e=u}function s(u){return n[u]||[]}function r(u){return s(u).forEach(a=>a(e,u)),l}function o(u,a){return n[u]=s(u).concat([a]),l}function i(u,a){return n[u]=s(u).filter(p=>p!==a),l}function c(){n={}}const l={init:t,emit:r,off:i,on:o,clear:c};return l}var ln={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function an(n){function e(r,o){return rt(r,o||{})}function t(r){const o=r.breakpoints||{};return e(r,pe(o).filter(i=>n.matchMedia(i).matches).map(i=>o[i]).reduce((i,c)=>e(i,c),{}))}function s(r){return r.map(o=>pe(o.breakpoints||{})).reduce((o,i)=>o.concat(i),[]).map(n.matchMedia)}return{mergeOptions:e,optionsAtMedia:t,optionsMediaQueries:s}}function un(n){let e=[];function t(r,o){return e=o.filter(({options:i})=>n.optionsAtMedia(i).active!==!1),e.forEach(i=>i.init(r,n)),o.reduce((i,c)=>Object.assign(i,{[c.name]:c}),{})}function s(){e=e.filter(r=>r.destroy())}return{init:t,destroy:s}}function ye(n,e,t){const s=n.ownerDocument,r=s.defaultView,o=an(r),i=un(o),c=he(),l=cn(),{mergeOptions:u,optionsAtMedia:a,optionsMediaQueries:p}=o,{on:h,off:f,emit:d}=l,b=P;let g=!1,m,y=u(ln,ye.globalOptions),S=u(y),j=[],w,N,k;function z(){const{container:v,slides:E}=S;N=(Ee(v)?n.querySelector(v):v)||n.children[0];const A=Ee(E)?N.querySelectorAll(E):E;k=[].slice.call(A||N.children)}function L(v){const E=on(n,N,k,s,r,v,l);return v.loop&&!E.slideLooper.canLoop()?L(Object.assign({},v,{loop:!1})):E}function C(v,E){g||(y=u(y,v),S=a(y),j=E||j,z(),m=L(S),p([y,...j.map(({options:A})=>A)]).forEach(A=>c.add(A,"change",P)),S.active&&(m.translate.to(m.location.get()),m.animation.init(),m.slidesInView.init(),m.slideFocus.init(q),m.eventHandler.init(q),m.resizeHandler.init(q),m.slidesHandler.init(q),m.options.loop&&m.slideLooper.loop(),N.offsetParent&&k.length&&m.dragHandler.init(q),w=i.init(q,j)))}function P(v,E){const A=Y();T(),C(u({startIndex:A},v),E),l.emit("reInit")}function T(){m.dragHandler.destroy(),m.eventStore.clear(),m.translate.clear(),m.slideLooper.clear(),m.resizeHandler.destroy(),m.slidesHandler.destroy(),m.slidesInView.destroy(),m.animation.destroy(),i.destroy(),c.clear()}function F(){g||(g=!0,c.clear(),T(),l.emit("destroy"),l.clear())}function $(v,E,A){!S.active||g||(m.scrollBody.useBaseFriction().useDuration(E===!0?0:S.duration),m.scrollTo.index(v,A||0))}function B(v){$(m.index.add(1).get(),v,-1)}function V(v){$(m.index.add(-1).get(),v,1)}function M(){return m.index.add(1).get()!==Y()}function H(){return m.index.add(-1).get()!==Y()}function _(){return m.scrollSnapList}function ee(){return m.scrollProgress.get(m.offsetLocation.get())}function Y(){return m.index.get()}function re(){return m.indexPrevious.get()}function J(){return m.slidesInView.get()}function ce(){return m.slidesInView.get(!1)}function le(){return w}function U(){return m}function Q(){return n}function R(){return N}function se(){return k}const q={canScrollNext:M,canScrollPrev:H,containerNode:R,internalEngine:U,destroy:F,off:f,on:h,emit:d,plugins:le,previousScrollSnap:re,reInit:b,rootNode:Q,scrollNext:B,scrollPrev:V,scrollProgress:ee,scrollSnapList:_,scrollTo:$,selectedScrollSnap:Y,slideNodes:se,slidesInView:J,slidesNotInView:ce};return C(e,t),setTimeout(()=>l.emit("init"),0),q}ye.globalOptions=void 0;function _e(n={},e=[]){const t=(0,O.useRef)(n),s=(0,O.useRef)(e),[r,o]=(0,O.useState)(),[i,c]=(0,O.useState)(),l=(0,O.useCallback)(()=>{r&&r.reInit(t.current,s.current)},[r]);return(0,O.useEffect)(()=>{Le(t.current,n)||(t.current=n,l())},[n,l]),(0,O.useEffect)(()=>{Pt(s.current,e)||(s.current=e,l())},[e,l]),(0,O.useEffect)(()=>{if(It()&&i){ye.globalOptions=_e.globalOptions;const u=ye(i,t.current,s.current);return o(u),()=>u.destroy()}else o(void 0)},[i,o]),[c,r]}_e.globalOptions=void 0;var Te=ge(),it=O.createContext(null);function ct(){const n=O.useContext(it);if(!n)throw new Error("useCarousel must be used within a <Carousel />");return n}function fn(n){const e=(0,Te.c)(45);let t,s,r,o,i,c,l;e[0]!==n?({orientation:l,opts:r,setApi:c,plugins:o,className:s,children:t,...i}=n,e[0]=n,e[1]=t,e[2]=s,e[3]=r,e[4]=o,e[5]=i,e[6]=c,e[7]=l):(t=e[1],s=e[2],r=e[3],o=e[4],i=e[5],c=e[6],l=e[7]);const u=l===void 0?"horizontal":l,a=u==="horizontal"?"x":"y";let p;e[8]!==r||e[9]!==a?(p={...r,axis:a},e[8]=r,e[9]=a,e[10]=p):p=e[10];const[h,f]=_e(p,o),[d,b]=O.useState(!1),[g,m]=O.useState(!1);let y;e[11]===Symbol.for("react.memo_cache_sentinel")?(y=_=>{_&&(b(_.canScrollPrev()),m(_.canScrollNext()))},e[11]=y):y=e[11];const S=y;let j;e[12]!==f?(j=()=>{f?.scrollPrev()},e[12]=f,e[13]=j):j=e[13];const w=j;let N;e[14]!==f?(N=()=>{f?.scrollNext()},e[14]=f,e[15]=N):N=e[15];const k=N;let z;e[16]!==k||e[17]!==w?(z=_=>{_.key==="ArrowLeft"?(_.preventDefault(),w()):_.key==="ArrowRight"&&(_.preventDefault(),k())},e[16]=k,e[17]=w,e[18]=z):z=e[18];const L=z;let C,P;e[19]!==f||e[20]!==c?(C=()=>{!f||!c||c(f)},P=[f,c],e[19]=f,e[20]=c,e[21]=C,e[22]=P):(C=e[21],P=e[22]),O.useEffect(C,P);let T,F;e[23]!==f?(T=()=>{if(f)return S(f),f.on("reInit",S),f.on("select",S),()=>{f?.off("select",S)}},F=[f,S],e[23]=f,e[24]=T,e[25]=F):(T=e[24],F=e[25]),O.useEffect(T,F);const $=u||(r?.axis==="y"?"vertical":"horizontal");let B;e[26]!==f||e[27]!==g||e[28]!==d||e[29]!==h||e[30]!==r||e[31]!==k||e[32]!==w||e[33]!==$?(B={carouselRef:h,api:f,opts:r,orientation:$,scrollPrev:w,scrollNext:k,canScrollPrev:d,canScrollNext:g},e[26]=f,e[27]=g,e[28]=d,e[29]=h,e[30]=r,e[31]=k,e[32]=w,e[33]=$,e[34]=B):B=e[34];let V;e[35]!==s?(V=G("relative",s),e[35]=s,e[36]=V):V=e[36];let M;e[37]!==t||e[38]!==L||e[39]!==i||e[40]!==V?(M=(0,x.jsx)("div",{onKeyDownCapture:L,className:V,role:"region","aria-roledescription":"carousel","data-slot":"carousel",...i,children:t}),e[37]=t,e[38]=L,e[39]=i,e[40]=V,e[41]=M):M=e[41];let H;return e[42]!==B||e[43]!==M?(H=(0,x.jsx)(it.Provider,{value:B,children:M}),e[42]=B,e[43]=M,e[44]=H):H=e[44],H}function dn(n){const e=(0,Te.c)(12);let t,s;e[0]!==n?({className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s):(t=e[1],s=e[2]);const{carouselRef:r,orientation:o}=ct(),i=o==="horizontal"?"-ml-4":"-mt-4 flex-col";let c;e[3]!==t||e[4]!==i?(c=G("flex",i,t),e[3]=t,e[4]=i,e[5]=c):c=e[5];let l;e[6]!==s||e[7]!==c?(l=(0,x.jsx)("div",{className:c,...s}),e[6]=s,e[7]=c,e[8]=l):l=e[8];let u;return e[9]!==r||e[10]!==l?(u=(0,x.jsx)("div",{ref:r,className:"overflow-hidden","data-slot":"carousel-content",children:l}),e[9]=r,e[10]=l,e[11]=u):u=e[11],u}function mn(n){const e=(0,Te.c)(9);let t,s;e[0]!==n?({className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s):(t=e[1],s=e[2]);const{orientation:r}=ct(),o=r==="horizontal"?"pl-4":"pt-4";let i;e[3]!==t||e[4]!==o?(i=G("min-w-0 shrink-0 grow-0 basis-full",o,t),e[3]=t,e[4]=o,e[5]=i):i=e[5];let c;return e[6]!==s||e[7]!==i?(c=(0,x.jsx)("div",{role:"group","aria-roledescription":"slide","data-slot":"carousel-item",className:i,...s}),e[6]=s,e[7]=i,e[8]=c):c=e[8],c}var W=ge();const pn=n=>{const e=(0,W.c)(12);let t,s,r;e[0]!==n?({className:t,opts:s,...r}=n,e[0]=n,e[1]=t,e[2]=s,e[3]=r):(t=e[1],s=e[2],r=e[3]);let o;e[4]!==t?(o=G("w-full",t),e[4]=t,e[5]=o):o=e[5];let i;e[6]!==s?(i={align:"start",loop:!1,dragFree:!0,...s},e[6]=s,e[7]=i):i=e[7];let c;return e[8]!==r||e[9]!==o||e[10]!==i?(c=(0,x.jsx)(fn,{className:o,opts:i,...r}),e[8]=r,e[9]=o,e[10]=i,e[11]=c):c=e[11],c},hn=n=>{const e=(0,W.c)(8);let t,s;e[0]!==n?({className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let r;e[3]!==t?(r=G("-ml-2 gap-2",t),e[3]=t,e[4]=r):r=e[4];let o;return e[5]!==s||e[6]!==r?(o=(0,x.jsx)(dn,{className:r,...s}),e[5]=s,e[6]=r,e[7]=o):o=e[7],o},gn=n=>{const e=(0,W.c)(13);let t,s;e[0]!==n?({className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let r;e[3]!==t?(r=G("basis-0 pl-2 md:pl-4 min-w-[150px] sm:min-w-[180px]",t),e[3]=t,e[4]=r):r=e[4];let o;e[5]!==t?(o=G("group relative overflow-hidden rounded-xl bg-muted/40","cursor-pointer transition-all duration-200","hover:scale-[1.02] hover:shadow-lg","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),e[5]=t,e[6]=o):o=e[6];let i;e[7]!==s||e[8]!==o?(i=(0,x.jsx)("div",{className:o,role:"button",tabIndex:0,...s}),e[7]=s,e[8]=o,e[9]=i):i=e[9];let c;return e[10]!==r||e[11]!==i?(c=(0,x.jsx)(mn,{className:r,children:i}),e[10]=r,e[11]=i,e[12]=c):c=e[12],c};var xn=/t=(\d+(?:\.\d+)?)/;const bn=n=>{const e=(0,W.c)(15);let t,s;e[0]!==n?({className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s):(t=e[1],s=e[2]);const r=(0,O.useRef)(null),o=(0,O.useRef)(0);let i,c;e[3]!==s.src?(i=()=>{const y=s.src??"";let S=0;if(typeof y=="string"){const j=y.indexOf("#");if(j!==-1){const w=y.slice(j+1).match(xn);w&&(S=Number.parseFloat(w[1]))}}o.current=S},c=[s.src],e[3]=s.src,e[4]=i,e[5]=c):(i=e[4],c=e[5]),(0,O.useEffect)(i,c);let l;e[6]===Symbol.for("react.memo_cache_sentinel")?(l=()=>{r.current?.play()},e[6]=l):l=e[6];const u=l;let a;e[7]===Symbol.for("react.memo_cache_sentinel")?(a=()=>{r.current&&(r.current.pause(),r.current.currentTime=o.current)},e[7]=a):a=e[7];const p=a;let h;e[8]===Symbol.for("react.memo_cache_sentinel")?(h=()=>{r.current?.play()},e[8]=h):h=e[8];const f=h;let d;e[9]===Symbol.for("react.memo_cache_sentinel")?(d=()=>{r.current&&(r.current.pause(),r.current.currentTime=o.current)},e[9]=d):d=e[9];const b=d;let g;e[10]!==t?(g=G("absolute inset-0 size-full object-cover","transition-opacity duration-200","group-hover:opacity-90",t),e[10]=t,e[11]=g):g=e[11];let m;return e[12]!==s||e[13]!==g?(m=(0,x.jsx)("video",{className:g,loop:!0,muted:!0,onBlur:b,onFocus:f,onMouseOut:p,onMouseOver:u,preload:"metadata",ref:r,tabIndex:0,...s}),e[12]=s,e[13]=g,e[14]=m):m=e[14],m},yn=n=>{const e=(0,W.c)(12);let t,s,r;e[0]!==n?({className:s,children:t,...r}=n,e[0]=n,e[1]=t,e[2]=s,e[3]=r):(t=e[1],s=e[2],r=e[3]);let o;e[4]!==s?(o=G("absolute right-0 bottom-0 left-0 z-10","p-3 text-white",s),e[4]=s,e[5]=o):o=e[5];let i;e[6]!==t?(i=(0,x.jsx)("div",{className:"flex items-center gap-2",children:t}),e[6]=t,e[7]=i):i=e[7];let c;return e[8]!==r||e[9]!==o||e[10]!==i?(c=(0,x.jsx)("div",{className:o,...r,children:i}),e[8]=r,e[9]=o,e[10]=i,e[11]=c):c=e[11],c},vn=n=>{const e=(0,W.c)(21);let t,s,r,o,i;e[0]!==n?({src:i,fallback:s,name:r,className:t,...o}=n,e[0]=n,e[1]=t,e[2]=s,e[3]=r,e[4]=o,e[5]=i):(t=e[1],s=e[2],r=e[3],o=e[4],i=e[5]);let c;e[6]!==t?(c=G("size-6 border border-white/20",t),e[6]=t,e[7]=c):c=e[7];let l;e[8]!==r||e[9]!==i?(l=i&&(0,x.jsx)(et,{alt:r,src:i}),e[8]=r,e[9]=i,e[10]=l):l=e[10];let u;e[11]!==s||e[12]!==r?(u=s||r?.charAt(0)?.toUpperCase(),e[11]=s,e[12]=r,e[13]=u):u=e[13];let a;e[14]!==u?(a=(0,x.jsx)(nt,{className:"bg-white/10 text-white text-xs",children:u}),e[14]=u,e[15]=a):a=e[15];let p;return e[16]!==o||e[17]!==c||e[18]!==l||e[19]!==a?(p=(0,x.jsxs)(tt,{className:c,...o,children:[l,a]}),e[16]=o,e[17]=c,e[18]=l,e[19]=a,e[20]=p):p=e[20],p},Sn=n=>{const e=(0,W.c)(8);let t,s;e[0]!==n?({className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let r;e[3]!==t?(r=G("truncate font-medium text-sm",t),e[3]=t,e[4]=r):r=e[4];let o;return e[5]!==s||e[6]!==r?(o=(0,x.jsx)("span",{className:r,...s}),e[5]=s,e[6]=r,e[7]=o):o=e[7],o},Nn=n=>{const e=(0,W.c)(10);let t,s,r;e[0]!==n?({className:t,side:r,...s}=n,e[0]=n,e[1]=t,e[2]=s,e[3]=r):(t=e[1],s=e[2],r=e[3]);const o=(r===void 0?"bottom":r)==="top"?"top-0 bg-gradient-to-b":"bottom-0 bg-gradient-to-t";let i;e[4]!==t||e[5]!==o?(i=G("absolute right-0 left-0 h-10 from-black/20 to-transparent",o,t),e[4]=t,e[5]=o,e[6]=i):i=e[6];let c;return e[7]!==s||e[8]!==i?(c=(0,x.jsx)("div",{className:i,...s}),e[7]=s,e[8]=i,e[9]=c):c=e[9],c};var jn=ge(),wn=n=>{const e=(0,jn.c)(25),{index:t}=n,s=t===void 0?0:t,r=Xe(),{reels:o,loading:i}=zt();if(i&&o.length===0){let g;e[0]===Symbol.for("react.memo_cache_sentinel")?(g=(0,x.jsxs)("div",{className:"mb-3 px-4 flex items-center justify-between",children:[(0,x.jsx)(ze,{className:"h-6 w-32 rounded"}),(0,x.jsx)(ze,{className:"h-4 w-16 rounded"})]}),e[0]=g):g=e[0];let m;return e[1]===Symbol.for("react.memo_cache_sentinel")?(m=(0,x.jsxs)("div",{className:"my-4 border-y border-zinc-100 bg-zinc-50/30 py-4 dark:border-zinc-800 dark:bg-zinc-900/10",children:[g,(0,x.jsx)("div",{className:"flex gap-4 overflow-hidden px-4",children:[...Array(5)].map(zn)})]}),e[1]=m):m=e[1],m}if(o.length===0)return null;const c=s%Math.max(1,Math.floor(o.length/5))*5;let l,u,a,p,h;if(e[2]!==r||e[3]!==o||e[4]!==c){const g=o.slice(c,c+10);p="my-4 border-y border-zinc-100 bg-zinc-50/30 py-4 dark:border-zinc-800 dark:bg-zinc-900/10";let m;e[10]===Symbol.for("react.memo_cache_sentinel")?(m=(0,x.jsx)("h3",{className:"font-bold text-lg",children:"Recommended Reels"}),e[10]=m):m=e[10],e[11]!==r?(h=(0,x.jsxs)("div",{className:"mb-3 px-4 flex items-center justify-between",children:[m,(0,x.jsx)("button",{onClick:()=>r("/r"),className:"text-sm font-semibold text-violet-600 hover:underline",children:"View all"})]}),e[11]=r,e[12]=h):h=e[12],u=pn,l=hn;let y;e[13]!==r?(y=S=>(0,x.jsxs)(gn,{className:"aspect-[9/16] w-[150px] sm:w-[180px]",onClick:()=>r(`/r/${S.id}`),children:[(0,x.jsx)(bn,{src:S.media?.[0]?.url||"",poster:S.media?.[0]?.poster||""}),(0,x.jsx)(Nn,{}),(0,x.jsxs)("div",{className:"absolute top-2 left-2 z-10 flex items-center gap-1 rounded-full bg-black/20 px-2 py-1 backdrop-blur-md",children:[(0,x.jsx)(St,{size:10,fill:"white",className:"text-white"}),(0,x.jsx)("span",{className:"text-[10px] font-bold text-white",children:S.stats?.views||0})]}),(0,x.jsxs)(yn,{children:[(0,x.jsx)(vn,{name:S.user?.handle,src:S.user?.avatar}),(0,x.jsx)(Sn,{children:S.user?.handle})]})]},S.id),e[13]=r,e[14]=y):y=e[14],a=g.map(y),e[2]=r,e[3]=o,e[4]=c,e[5]=l,e[6]=u,e[7]=a,e[8]=p,e[9]=h}else l=e[5],u=e[6],a=e[7],p=e[8],h=e[9];let f;e[15]!==l||e[16]!==a?(f=(0,x.jsx)(l,{children:a}),e[15]=l,e[16]=a,e[17]=f):f=e[17];let d;e[18]!==u||e[19]!==f?(d=(0,x.jsx)(u,{children:f}),e[18]=u,e[19]=f,e[20]=d):d=e[20];let b;return e[21]!==p||e[22]!==h||e[23]!==d?(b=(0,x.jsxs)("div",{className:p,children:[h,d]}),e[21]=p,e[22]=h,e[23]=d,e[24]=b):b=e[24],b},kn=wn;function zn(n,e){return(0,x.jsx)(ze,{className:"aspect-[9/16] w-[150px] shrink-0 rounded-xl sm:w-[180px]"},e)}var Oe=ge(),En=n=>{const e=(0,Oe.c)(19),{currentUser:t,groupedStories:s,onAddStory:r,onStoryClick:o}=n;let i;e[0]!==t||e[1]!==r?(i=t&&(0,x.jsx)(qe,{user:t,isAddStory:!0,onClick:r}),e[0]=t,e[1]=r,e[2]=i):i=e[2];let c;if(e[3]!==s||e[4]!==o){let f;e[6]!==o?(f=d=>(0,x.jsx)(qe,{user:d.user,isSeen:d.isSeen,onClick:()=>o(d)},d.user.id),e[6]=o,e[7]=f):f=e[7],c=s.map(f),e[3]=s,e[4]=o,e[5]=c}else c=e[5];let l;e[8]!==i||e[9]!==c?(l=(0,x.jsxs)("div",{className:"flex w-max gap-4 px-4 py-4",children:[i,c]}),e[8]=i,e[9]=c,e[10]=l):l=e[10];let u;e[11]===Symbol.for("react.memo_cache_sentinel")?(u=(0,x.jsx)(We,{orientation:"horizontal",className:"hidden"}),e[11]=u):u=e[11];let a;e[12]!==l?(a=(0,x.jsxs)(Ze,{className:"w-full border-b border-zinc-100 bg-white dark:bg-black dark:border-zinc-800",children:[l,u]}),e[12]=l,e[13]=a):a=e[13];let p;e[14]!==t?(p=!t&&(0,x.jsx)("div",{className:"px-4 py-2 md:hidden",children:(0,x.jsx)(jt,{className:"p-6"})}),e[14]=t,e[15]=p):p=e[15];let h;return e[16]!==a||e[17]!==p?(h=(0,x.jsxs)("div",{className:"bg-white dark:bg-black",children:[a,p]}),e[16]=a,e[17]=p,e[18]=h):h=e[18],h},An=n=>{const e=(0,Oe.c)(4),{isFetchingNextPage:t,hasMore:s,hasPosts:r}=n;let o;return e[0]!==s||e[1]!==r||e[2]!==t?(o=(0,x.jsx)("div",{className:"flex justify-center py-8",children:t?(0,x.jsx)("p",{className:"text-sm text-zinc-400 animate-pulse",children:"Loading more..."}):s?(0,x.jsx)("div",{className:"h-4"}):r?(0,x.jsx)("p",{className:"text-sm font-medium text-zinc-500",children:"You've reached the end of the feed."}):(0,x.jsxs)("div",{className:"p-20 text-center text-zinc-500",children:[(0,x.jsx)("p",{className:"text-lg font-medium",children:"No posts yet."}),(0,x.jsx)("p",{className:"text-sm",children:"Be the first to share something amazing!"})]})}),e[0]=s,e[1]=r,e[2]=t,e[3]=o):o=e[3],o},Ln=n=>{const e=(0,Oe.c)(26),{onStoryClick:t}=n,s=Xe(),{currentUser:r,homePosts:o,groupedStories:i,isPostsLoading:c,isStoriesLoading:l,hasMore:u,isFetchingNextPage:a,fetchNextPage:p,handlePostClick:h,handleUserClick:f}=Et();if(c||l){let j;return e[0]===Symbol.for("react.memo_cache_sentinel")?(j=(0,x.jsxs)("div",{className:"min-h-screen overflow-hidden rounded-none border-y border-zinc-100 bg-white dark:bg-black dark:border-zinc-800 md:rounded-xl md:border",children:[(0,x.jsxs)(Ze,{className:"w-full whitespace-nowrap border-b border-zinc-100 dark:border-zinc-800",children:[(0,x.jsxs)("div",{className:"flex w-max gap-3 px-4 py-4",children:[(0,x.jsx)("div",{className:"size-16 shrink-0 animate-pulse rounded-full bg-zinc-100 dark:bg-zinc-900"}),(0,x.jsx)("div",{className:"size-16 shrink-0 animate-pulse rounded-full bg-zinc-100 dark:bg-zinc-900"}),(0,x.jsx)("div",{className:"size-16 shrink-0 animate-pulse rounded-full bg-zinc-100 dark:bg-zinc-900"})]}),(0,x.jsx)(We,{orientation:"horizontal",className:"hidden"})]}),[1,2,3].map(Cn)]}),e[0]=j):j=e[0],j}let d;e[1]!==r||e[2]!==i||e[3]!==s||e[4]!==t?(d=()=>(0,x.jsx)(En,{currentUser:r,groupedStories:i,onAddStory:()=>s("/create",{state:{isStory:!0}}),onStoryClick:t}),e[1]=r,e[2]=i,e[3]=s,e[4]=t,e[5]=d):d=e[5];let b;e[6]!==u||e[7]!==o||e[8]!==a?(b=()=>(0,x.jsx)(An,{isFetchingNextPage:a,hasMore:u,hasPosts:o.length>0}),e[6]=u,e[7]=o,e[8]=a,e[9]=b):b=e[9];let g;e[10]!==d||e[11]!==b?(g={Header:d,Footer:b},e[10]=d,e[11]=b,e[12]=g):g=e[12];let m;e[13]!==p||e[14]!==u||e[15]!==a?(m=()=>{u&&!a&&p()},e[13]=p,e[14]=u,e[15]=a,e[16]=m):m=e[16];let y;e[17]!==r||e[18]!==h||e[19]!==f?(y=(j,w)=>(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(kt,{...w,currentUser:r,onClick:()=>h(w.id),onUserClick:f},w.feed_id||w.id),(j===4||j>4&&(j-4)%25===0)&&(0,x.jsx)(kn,{index:Math.floor((j+1)/5)})]}),e[17]=r,e[18]=h,e[19]=f,e[20]=y):y=e[20];let S;return e[21]!==o||e[22]!==g||e[23]!==m||e[24]!==y?(S=(0,x.jsx)("div",{className:"w-full max-w-full min-h-screen rounded-none border-zinc-100 bg-white shadow-sm dark:bg-black dark:border-zinc-800 md:rounded-xl",children:(0,x.jsx)(vt,{useWindowScroll:!0,data:o,overscan:400,increaseViewportBy:200,components:g,endReached:m,itemContent:y})}),e[21]=o,e[22]=g,e[23]=m,e[24]=y,e[25]=S):S=e[25],S},Hn=Ln;function Cn(n){return(0,x.jsx)(wt,{},n)}export{Hn as default};
