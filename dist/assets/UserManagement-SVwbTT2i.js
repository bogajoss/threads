import{a as N}from"./rolldown-runtime-BaZ8gS7u.js";import{o as _,s as S}from"./animations-pEILWrFP.js";import{c as z}from"./framework-di2JoXyY.js";import"./database-CdmW3A7f.js";import{Bn as C,Jt as L,Nn as A,Ot as M,Pt as U,Zt as I,xn as R}from"./ui-libs-DxumVphN.js";import{St as j,Y as E,bn as $,dt as q,ft as B,ut as D}from"./index-Dkit3Yh6.js";import{t as F}from"./useAdmin-BSOhdcBl.js";var O=z(),T=N(S(),1),s=N(_(),1),P=()=>{const e=(0,O.c)(30),[a,w]=(0,T.useState)(""),{users:i,actions:n}=F();let o,c,d,r,l,m;if(e[0]!==n||e[1]!==a||e[2]!==i.data||e[3]!==i.isLoading){m=Symbol.for("react.early_return_sentinel");e:{let h;e[10]!==a?(h=t=>t&&(t.name.toLowerCase().includes(a.toLowerCase())||t.handle.toLowerCase().includes(a.toLowerCase())),e[10]=a,e[11]=h):h=e[11];const y=(i.data||[]).filter(h);if(i.isLoading){let t;e[12]===Symbol.for("react.memo_cache_sentinel")?(t=(0,s.jsx)("div",{className:"flex h-64 items-center justify-center",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,s.jsx)(R,{className:"h-8 w-8 animate-spin text-violet-600"}),(0,s.jsx)("p",{className:"text-xs font-bold text-muted-foreground",children:"Loading directory..."})]})}),e[12]=t):t=e[12],m=t;break e}d="space-y-8";let u;e[13]===Symbol.for("react.memo_cache_sentinel")?(u=(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("h1",{className:"text-3xl font-black tracking-tight",children:"User Directory"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Manage user accounts and platform permissions."})]}),e[13]=u):u=e[13];let g;e[14]===Symbol.for("react.memo_cache_sentinel")?(g=(0,s.jsxs)(j,{variant:"outline",size:"sm",className:"h-10 rounded-xl font-bold",children:[(0,s.jsx)(A,{className:"mr-2 h-4 w-4"}),"Filter"]}),e[14]=g):g=e[14],e[15]===Symbol.for("react.memo_cache_sentinel")?(r=(0,s.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-end sm:justify-between",children:[u,(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[g,(0,s.jsxs)(j,{size:"sm",className:"h-10 rounded-xl font-bold bg-violet-600",children:[(0,s.jsx)(M,{className:"mr-2 h-4 w-4"}),"Provision"]})]})]}),e[15]=r):r=e[15];let p;e[16]===Symbol.for("react.memo_cache_sentinel")?(p=(0,s.jsx)(I,{className:"absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-muted-foreground"}),e[16]=p):p=e[16];let b;e[17]===Symbol.for("react.memo_cache_sentinel")?(b=t=>w(t.target.value),e[17]=b):b=e[17],e[18]!==a?(l=(0,s.jsxs)("div",{className:"relative",children:[p,(0,s.jsx)(E,{className:"h-12 rounded-xl border-border bg-card pl-12 text-sm font-medium focus:ring-violet-500/10",placeholder:"Search by name or handle...",value:a,onChange:b})]}),e[18]=a,e[19]=l):l=e[19],o="grid gap-4 sm:grid-cols-2 xl:grid-cols-3";let v;e[20]!==n?(v=t=>t?(0,s.jsxs)("div",{className:"rounded-3xl border border-border bg-card p-5 shadow-sm transition-all hover:shadow-md",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)(D,{className:"h-12 w-12 rounded-xl ring-2 ring-zinc-50 dark:ring-zinc-900",children:[(0,s.jsx)(B,{src:t.avatar,className:"rounded-xl object-cover"}),(0,s.jsx)(q,{className:"rounded-xl bg-violet-50 text-violet-600 font-bold",children:t.name[0]})]}),t.verified&&(0,s.jsx)("div",{className:"absolute -bottom-1 -right-1 rounded-full bg-blue-500 p-0.5 ring-2 ring-card",children:(0,s.jsx)(L,{className:"h-2.5 w-2.5 text-white"})})]}),(0,s.jsxs)("div",{className:"min-w-0",children:[(0,s.jsx)("h3",{className:"truncate text-sm font-bold text-foreground",children:t.name}),(0,s.jsxs)("p",{className:"truncate text-[11px] text-muted-foreground font-medium",children:["@",t.handle]})]})]}),(0,s.jsx)("button",{className:"rounded-lg p-1.5 text-muted-foreground hover:bg-zinc-50 dark:hover:bg-zinc-900",children:(0,s.jsx)(C,{className:"h-4 w-4"})})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{className:"rounded-xl bg-zinc-50 p-3 dark:bg-zinc-900/50",children:[(0,s.jsx)("p",{className:"text-[9px] font-bold uppercase tracking-wider text-muted-foreground mb-1",children:"Role"}),(0,s.jsxs)("select",{value:t.role,onChange:k=>n.updateRole({userId:t.id,role:k.target.value}),className:"w-full bg-transparent text-[10px] font-bold uppercase tracking-widest text-violet-600 focus:outline-none",children:[(0,s.jsx)("option",{value:"user",children:"USER"}),(0,s.jsx)("option",{value:"moderator",children:"MODERATOR"}),(0,s.jsx)("option",{value:"admin",children:"ADMIN"})]})]}),(0,s.jsxs)("div",{onClick:()=>n.toggleVerification({userId:t.id,verified:!t.verified}),className:"rounded-xl bg-zinc-50 p-3 cursor-pointer dark:bg-zinc-900/50",children:[(0,s.jsx)("p",{className:"text-[9px] font-bold uppercase tracking-wider text-muted-foreground mb-1",children:"Status"}),(0,s.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,s.jsx)("div",{className:$("h-1.5 w-1.5 rounded-full",t.verified?"bg-blue-500":"bg-zinc-300")}),(0,s.jsx)("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:t.verified?"Verified":"Basic"})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{className:"flex-1 rounded-xl bg-zinc-100 py-2.5 text-[10px] font-bold uppercase tracking-widest text-muted-foreground hover:bg-zinc-200 dark:bg-zinc-800 dark:hover:bg-zinc-700 transition-all",children:"Activity"}),(0,s.jsx)("button",{className:"flex h-9 w-9 items-center justify-center rounded-xl bg-rose-50 text-rose-500 hover:bg-rose-500 hover:text-white transition-all dark:bg-rose-500/10",children:(0,s.jsx)(U,{className:"h-4 w-4"})})]})]})]},t.id):null,e[20]=n,e[21]=v):v=e[21],c=y.map(v)}e[0]=n,e[1]=a,e[2]=i.data,e[3]=i.isLoading,e[4]=o,e[5]=c,e[6]=d,e[7]=r,e[8]=l,e[9]=m}else o=e[4],c=e[5],d=e[6],r=e[7],l=e[8],m=e[9];if(m!==Symbol.for("react.early_return_sentinel"))return m;let x;e[22]!==o||e[23]!==c?(x=(0,s.jsx)("div",{className:o,children:c}),e[22]=o,e[23]=c,e[24]=x):x=e[24];let f;return e[25]!==d||e[26]!==r||e[27]!==l||e[28]!==x?(f=(0,s.jsxs)("div",{className:d,children:[r,l,x]}),e[25]=d,e[26]=r,e[27]=l,e[28]=x,e[29]=f):f=e[29],f},K=P;export{K as default};
