import{n as H,o as f,r as m}from"./text-processing-DeuGot6t.js";var p=m("hashtag",{isLink:!0});function A({scanner:n,parser:o}){const{POUND:h,UNDERSCORE:l,FULLWIDTHMIDDLEDOT:r,ASCIINUMERICAL:k,ALPHANUMERICAL:s}=n.tokens,{alpha:g,numeric:i,alphanumeric:a,emoji:u}=n.tokens.groups,c=o.start.tt(h),e=c.tt(l),t=new H(p);c.tt(k,t),c.tt(s,t),c.ta(i,e),c.ta(g,t),c.ta(u,t),c.ta(r,t),e.tt(k,t),e.tt(s,t),e.ta(g,t),e.ta(u,t),e.ta(r,t),e.ta(i,e),e.tt(l,e),t.ta(a,t),t.ta(u,t),t.tt(r,t),t.tt(l,t)}f("hashtag",A);var L=m("mention",{isLink:!0,toHref(){return"/"+this.toString().slice(1)}});function d({scanner:n,parser:o}){const{HYPHEN:h,SLASH:l,UNDERSCORE:r,AT:k}=n.tokens,{domain:s}=n.tokens.groups,g=o.start.tt(k),i=g.tt(h);i.tt(h,i);const a=g.tt(r,L);g.ta(s,a),i.tt(r,a),i.ta(s,a),a.ta(s,a),a.tt(h,a),a.tt(r,a);const u=a.tt(l);u.ta(s,a),u.tt(r,a),u.tt(h,a)}f("mention",d);const E={formatHref:(n,o)=>o==="mention"?`/u/${n.substring(1)}`:o==="hashtag"?`/tags/${n.substring(1)}`:n,attributes:{onClick:n=>n.stopPropagation(),className:"cursor-pointer font-bold text-rose-600 hover:underline dark:text-rose-400"},validate:{hashtag:n=>/^#[\u0980-\u09FF\w]+$/.test(n)},target:(n,o)=>o==="url"?"_blank":void 0,rel:(n,o)=>o==="url"?"noopener noreferrer":void 0};export{E as t};
