import{a as d}from"./rolldown-runtime-BaZ8gS7u.js";import{l as b,v as j,w as p}from"./framework-3lkjbTvb.js";import"./database-COznt_u0.js";import{Sn as v,er as g,mr as N}from"./ui-libs-oBja7Jpd.js";import"./media-libs-C98UjHPF.js";import{Ut as o,a as y,dn as w,ln as k,vt as z}from"./index-BknzezBr.js";var r=d(p(),1),e=d(b(),1),_=()=>{const a=j(),{forgotPassword:c}=w(),{addToast:l}=k(),[t,m]=(0,r.useState)(""),[x,i]=(0,r.useState)(!1),[u,n]=(0,r.useState)(!1),f=async s=>{s.preventDefault(),i(!0);try{await c(t),n(!0),l("Password reset link sent!")}catch(h){console.error("Forgot password error:",h),l("Failed to send reset link","error")}finally{i(!1)}};return(0,e.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:(0,e.jsx)(y,{noBackground:!0,className:"flex items-center justify-center",children:(0,e.jsxs)("div",{className:"mx-auto w-full max-w-md animate-in fade-in slide-in-from-bottom-5 duration-300 p-8 bg-card border border-border rounded-3xl shadow-xl",children:[(0,e.jsxs)("button",{onClick:()=>a("/login"),className:"group mb-8 flex items-center gap-2 text-sm font-medium text-zinc-500 transition-colors hover:text-black dark:hover:text-white",children:[(0,e.jsx)("div",{className:"flex size-8 items-center justify-center rounded-full border border-border bg-secondary transition-all group-hover:scale-110",children:(0,e.jsx)(N,{size:16})}),"Back to login"]}),(0,e.jsxs)("div",{className:"mb-10 text-center",children:[(0,e.jsx)("div",{className:"mb-6 flex justify-center",children:(0,e.jsxs)("div",{className:"relative",children:[(0,e.jsx)("div",{className:"absolute inset-0 scale-150 bg-violet-500/20 blur-2xl rounded-full"}),(0,e.jsx)("div",{className:"relative flex size-20 items-center justify-center rounded-3xl bg-gradient-to-br from-violet-500 to-violet-700 p-4 shadow-xl shadow-violet-500/20 text-white",children:(0,e.jsx)(v,{size:40,strokeWidth:1.5})})]})}),(0,e.jsx)("h2",{className:"mb-3 text-3xl font-extrabold tracking-tight dark:text-white md:text-4xl",children:"Forgot Password?"}),(0,e.jsx)("p",{className:"text-balance font-medium text-zinc-500",children:"No worries, we'll send you reset instructions."})]}),u?(0,e.jsxs)("div",{className:"space-y-8 animate-in zoom-in-95 duration-500",children:[(0,e.jsxs)("div",{className:"flex flex-col items-center gap-4 rounded-3xl bg-emerald-500/10 p-8 border border-emerald-500/20 text-emerald-600 dark:text-emerald-400",children:[(0,e.jsx)("div",{className:"flex size-16 items-center justify-center rounded-full bg-emerald-500/20 shadow-inner",children:(0,e.jsx)(g,{size:32})}),(0,e.jsxs)("div",{className:"text-center",children:[(0,e.jsx)("p",{className:"mb-2 font-black text-xl dark:text-white",children:"Check your email"}),(0,e.jsxs)("p",{className:"text-sm leading-relaxed text-zinc-500",children:["We've sent a 6-digit reset code to ",(0,e.jsx)("br",{}),(0,e.jsx)("span",{className:"font-bold text-emerald-600 dark:text-emerald-400 underline decoration-emerald-500/50 underline-offset-4",children:t}),"."]})]})]}),(0,e.jsx)(o,{className:"w-full py-4 text-lg font-bold",onClick:()=>a(`/verify-otp?email=${encodeURIComponent(t)}&type=recovery`),children:"Enter code manually"}),(0,e.jsx)("div",{className:"text-center",children:(0,e.jsx)("button",{onClick:()=>n(!1),className:"text-sm font-bold text-zinc-500 hover:text-black dark:hover:text-white transition-colors",children:"Didn't get the email? Try again"})})]}):(0,e.jsxs)("form",{onSubmit:f,className:"space-y-6",children:[(0,e.jsx)(z,{label:"Email Address",type:"email",placeholder:"john@example.com",value:t,onChange:s=>m(s.target.value),required:!0}),(0,e.jsx)(o,{type:"submit",className:"w-full py-4 text-lg font-bold",loading:x,children:"Send reset instructions"})]}),(0,e.jsx)("div",{className:"mt-10 border-t border-border pt-8 text-center",children:(0,e.jsx)("p",{className:"text-sm font-medium text-zinc-500",children:"Please check your inbox and spam folder for the reset instructions."})})]})})})},q=_;export{q as default};
