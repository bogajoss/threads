const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-BVu6-06D.js","assets/framework-pMVb9Z5_.js","assets/rolldown-runtime-2JzG8er9.js","assets/framework-sg0yWRLc.css","assets/ui-libs-CVo_NHeJ.js","assets/ui-libs-CqCaMccn.css","assets/database-ApDMvJcm.js","assets/linkify-bYOTkjrL.js","assets/post-DaFD1iuB.js","assets/query-CYcBlx0y.js","assets/hooks-CsE4EoXJ.js","assets/Explore-D6GYh9yv.js","assets/Reels-BAhUA2lQ.js","assets/Messages-Dt0THoAu.js","assets/Notifications-CLL0JAzi.js","assets/Profile-DGxC3CXT.js","assets/Community-CVQs0qgP.js","assets/PostDetails-C0sYqw8o.js","assets/Settings-CZPdek9R.js","assets/HashtagFeed-uraoY311.js"])))=>i.map(i=>d[i]);
import{n as Bn}from"./rolldown-runtime-2JzG8er9.js";import{C as $r,S as Io,_ as Do,a as To,d as Po,f as es,g as We,h as Lo,i as Fo,m as mr,p as ts,r as Oo,s as ie,u as Uo,v as gn,w as Ho,x as ft,y as vn}from"./framework-pMVb9Z5_.js";import{a as Bo,i as qn,n as Dt,r as qo,t as Wo}from"./query-CYcBlx0y.js";import{t as Vo}from"./database-ApDMvJcm.js";import{$ as Dm,A as Yo,An as ns,At as Rt,B as Xo,C as rs,Ct as Ko,D as ss,Dt as Qo,E as Tm,En as Zo,Et as Pm,F as as,Fn as Wn,G as Go,Gt as Jo,H as Lm,Hn as $o,Ht as ei,I as os,J as Fm,Jt as ti,K as is,L as ni,Ln as ri,M as ls,Mn as bn,N as Om,Nn as cs,Nt as ds,O as si,On as us,Ot as ai,P as fs,Pn as ms,Pt as Mn,Q as oi,R as Um,Rn as hr,S as hs,St as ps,T as ii,Tt as gs,U as vs,Un as li,V as bs,Vn as ci,Vt as di,W as xs,X as ys,Y as ws,Z as js,Zt as Yt,_ as ks,_n as pr,_t as Cs,a as Ns,at as _s,b as ui,bt as Ss,c as fi,ct as zs,d as mi,dt as As,et as Es,f as Rs,fn as hi,ft as Ms,g as Is,gt as pi,h as Ds,ht as gi,i as vi,it as Ts,j as Ps,jn as bi,k as xi,kn as yi,l as Ls,ln as mt,lt as Fs,m as wi,mn as ji,mt as Os,n as Us,nt as Hs,o as Bs,ot as ki,p as Ci,pn as Ni,pt as qs,q as Ws,qt as Vs,r as Ys,rn as _i,rt as Hm,s as Bm,st as Xs,tn as Si,tt as zi,u as Ai,ut as Ks,v as Qs,vt as qm,w as Ei,wt as Ri,x as Mi,xn as Ii,xt as Zs,y as Di,yt as Ti,z as Gs,zt as Pi}from"./ui-libs-CVo_NHeJ.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();var Li=Io(),g=Bn(Ho(),1),Fi="https://dbkcedktqhueqnulnosq.supabase.co",Oi="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRia2NlZGt0cWh1ZXFudWxub3NxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg5NzE1NTQsImV4cCI6MjA4NDU0NzU1NH0.m_Tv-H7o5mL1Nac6TH-S1JkS1x7ZN1AK_4Mt1hZlkvU";const Y=Vo(Fi,Oi);var Ui=ie();function re(...n){return $o(li(n))}const Hi=()=>{const n=(0,Ui.c)(2),{pathname:e}=gn();let t;return n[0]!==e?(t=[e],n[0]=e,n[1]=t):t=n[1],(0,g.useEffect)(qi,t),null},tn=n=>typeof n!="string"?!1:/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(n),Bi=(n,e)=>{const t=document.createElement("canvas"),s=n.naturalWidth/n.width,r=n.naturalHeight/n.height;t.width=e.width*s,t.height=e.height*r;const a=t.getContext("2d");return a?(a.imageSmoothingEnabled=!0,a.imageSmoothingQuality="high",a.drawImage(n,e.x*s,e.y*r,e.width*s,e.height*r,0,0,e.width*s,e.height*r),new Promise((o,i)=>{t.toBlob(d=>{if(!d){i(new Error("Canvas is empty"));return}o(d)},"image/jpeg",.95)})):Promise.reject(new Error("No 2d context"))},Js=n=>{if(!n)return"";const e=typeof n=="string"?new Date(n):n,t=new Date().getTime()-e.getTime(),s=Math.floor(t/1e3),r=Math.floor(s/60),a=Math.floor(r/60),o=Math.floor(a/24);return s<60?"Just now":r<60?`${r}m ago`:a<24?`${a}h ago`:o<7?`${o}d ago`:e.toLocaleDateString(void 0,{day:"2-digit",month:"2-digit",year:"2-digit"})},Wm=n=>typeof n!="string"?!1:/[\u0980-\u09FF]/.test(n),Vm=n=>{if(!n)return null;const e=n.match(/(https?:\/\/[^\s]+)/g);return e?e[0]:null};function qi(){window.scrollTo(0,0)}const Ct=n=>n?{id:n.id,handle:n.username,name:n.display_name,avatar:n.avatar_url||"/default-avatar.webp",cover:n.cover_url||"/welcome-banner.webp",verified:n.is_verified,bio:n.bio,location:n.location,website:n.website,follower_count:n.follower_count||0,following_count:n.following_count||0,lastSeen:n.last_seen_at}:null,Nt=n=>{if(!n)return null;const e=n.reposter_id||n.reposter_data?.id||n.reposted_by?.id,t=Math.random().toString(36).substring(2,9),s=`${n.feed_id||(e?`${n.id}-${e}`:`${n.id}-orig`)}-${t}`,r=Ct(n.author_data||n.user);return r?{...n,feed_id:s,stats:{comments:n.comments_count||0,likes:n.likes_count||0,reposts:n.mirrors_count||0,shares:n.shares_count||0},user:r,community:n.community_data||n.communities?{...n.community_data||n.communities,avatar:(n.community_data||n.communities).avatar_url||(n.community_data||n.communities).avatar}:null,repostedBy:n.reposter_data?{handle:n.reposter_data.username,name:n.reposter_data.display_name,id:n.reposter_data.id}:n.reposted_by?{handle:n.reposted_by.username,name:n.reposted_by.display_name,id:n.reposted_by.id}:null,timeAgo:Js(n.created_at)}:null},$s=n=>{if(!n)return null;const e=Ct(n.user);return e?{...n,stats:{likes:n.likes_count||0},user:e,timeAgo:Js(n.created_at)}:null},Wi=n=>n?{...n,user:n.actor?.username,avatar:n.actor?.avatar_url||"/default-avatar.webp"}:null,ea=n=>{if(!n)return null;const e=Ct(n.user);return e?{...n,media:n.media_url,user:e}:null},Gt=n=>n?{id:n.id,handle:n.handle,name:n.name,description:n.description,avatar:n.avatar_url||"/default-avatar.webp",cover:n.cover_url||"/welcome-banner.webp",membersCount:n.members_count||0,postsCount:n.posts_count||0,isPrivate:n.is_private,createdAt:n.created_at,type:"community",creatorId:n.creator_id}:null,ta=n=>n?{id:n.id,conversation_id:n.conversation_id,sender_id:n.sender_id,content:n.content,type:n.type||"text",media:n.media||[],reply_to_id:n.reply_to_id,is_read:n.is_read,created_at:n.created_at}:null,Vi=(n,e)=>{if(!n||!n.conversation)return null;const t=n.conversation,s=t.participants.find(a=>a.user?.id!==e)||t.participants[0],r=t.messages?.filter(a=>!a.is_read&&a.sender_id!==e).length||0;return{id:t.id,user:Ct(s?.user),lastMessage:t.last_message_content||"No messages yet",lastMessageAt:t.last_message_at,time:t.last_message_at?new Date(t.last_message_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"",unread:r}},Ym=async(n,e=10)=>{const{data:t,error:s}=await Y.from("users").select("*").or(`username.ilike.%${n}%,display_name.ilike.%${n}%`).limit(e);if(s)throw s;return(t||[]).map(Ct).filter(r=>r!==null)},na=async(n,e="id")=>{let t=Y.from("users").select("*");e==="id"?t=t.eq("id",n):t=t.ilike("username",n);const{data:s,error:r}=await t.maybeSingle();if(r)throw r;return s?Ct(s):null},Yi=n=>na(n,"username"),zt=async n=>{if(!n)return;const{error:e}=await Y.from("users").update({last_seen_at:new Date().toISOString()}).eq("id",n);if(e)throw e},Xi=async(n,e)=>{const t={display_name:e.name,username:e.handle,avatar_url:e.avatar,bio:e.bio,cover_url:e.cover,website:e.website,location:e.location};Object.keys(t).forEach(r=>t[r]===void 0&&delete t[r]);const{error:s}=await Y.from("users").update(t).eq("id",n);if(s)throw s},Ki=async(n,e)=>{const{data:t}=await Y.from("follows").select("*").eq("follower_id",n).eq("following_id",e).maybeSingle();return t?(await Y.from("follows").delete().eq("follower_id",n).eq("following_id",e),!1):(await Y.from("follows").insert([{follower_id:n,following_id:e}]),!0)},Qi=async(n,e)=>{if(!n)return!1;const{data:t}=await Y.from("follows").select("*").eq("follower_id",n).eq("following_id",e).maybeSingle();return!!t},Xm=async(n,e=null,t=10)=>{let s=Y.from("follows").select(`
      created_at,
      user:users!follower_id (
        id,
        username,
        display_name,
        avatar_url,
        is_verified,
        bio
      )
    `).eq("following_id",n).order("created_at",{ascending:!1}).limit(t);e&&(s=s.lt("created_at",e));const{data:r,error:a}=await s;if(a)throw a;return(r||[]).map(o=>({...Ct(o.user),followed_at:o.created_at}))},Km=async(n,e=null,t=10)=>{let s=Y.from("follows").select(`
      created_at,
      user:users!following_id (
        id,
        username,
        display_name,
        avatar_url,
        is_verified,
        bio
      )
    `).eq("follower_id",n).order("created_at",{ascending:!1}).limit(t);e&&(s=s.lt("created_at",e));const{data:r,error:a}=await s;if(a)throw a;return(r||[]).map(o=>({...Ct(o.user),followed_at:o.created_at}))},Zi=async n=>{const{data:e,error:t}=await Y.from("users").select("follower_count, following_count").eq("id",n).maybeSingle();return t||!e?{followers:0,following:0}:{followers:e.follower_count||0,following:e.following_count||0}},Gi=async(n=null,e=10)=>{let t=Y.from("unified_posts").select("*").order("sort_timestamp",{ascending:!1}).limit(e);n&&(t=t.lt("sort_timestamp",n));const{data:s,error:r}=await t;if(r)throw r;return(s||[]).map(Nt).filter(a=>a!==null)},Qm=async n=>{const{data:e,error:t}=await Y.from("posts").select(`
            *,
            user:users!user_id (
                id,
                username,
                display_name,
                avatar_url,
                is_verified,
                bio,
                location,
                website,
                follower_count,
                following_count
            ),
            communities (
                id,
                handle,
                name,
                avatar_url
            ),
            quoted_post:posts!quoted_post_id (
                *,
                user:users!user_id (
                    id,
                    username,
                    display_name,
                    avatar_url,
                    is_verified
                )
            )
        `).eq("id",n).single();if(t)throw t;return Nt(e)},Zm=async(n,e=null,t=10)=>{let s=Y.from("unified_posts").select("*").or(`user_id.eq.${n},reposter_id.eq.${n}`).order("sort_timestamp",{ascending:!1}).limit(t);e&&(s=s.lt("sort_timestamp",e));const{data:r,error:a}=await s;if(a)throw a;return(r||[]).map(Nt).filter(o=>o!==null)},Ji=async({content:n,media:e=[],type:t="text",userId:s,poll:r=null,parentId:a=null,communityId:o=null})=>{const{data:i,error:d}=await Y.from("posts").insert([{user_id:s,content:n,media:e,type:t,poll:r,parent_id:a,community_id:o}]).select(`
            *,
            user:users!user_id (
                id,
                username,
                display_name,
                avatar_url,
                is_verified
            ),
            communities:community_id (
                id,
                handle,
                name,
                avatar_url
            )
        `);if(d)throw d;return Nt(i?.[0])},$i=async n=>{const{error:e}=await Y.from("posts").delete().eq("id",n);if(e)throw e},el=async(n,e)=>{const{error:t}=await Y.from("posts").update(e).eq("id",n);if(t)throw t},Gm=async(n,e=null,t=10)=>{let s=Y.from("comments").select(`
            *,
            user:users!user_id (
                id,
                username,
                display_name,
                avatar_url,
                is_verified
            )
        `).eq("post_id",n).order("created_at",{ascending:!0}).limit(t);e&&(s=s.gt("created_at",e));const{data:r,error:a}=await s;if(a)throw a;return(r||[]).map($s).filter(o=>o!==null)},Jm=async(n,e,t,s=[])=>{const{data:r,error:a}=await Y.from("comments").insert([{post_id:n,user_id:e,content:t,media:s}]).select(`
            *,
            user:users!user_id (
                id,
                username,
                display_name,
                avatar_url,
                is_verified
            )
        `);if(a)throw a;return $s(r?.[0])},$m=async(n,e)=>{const{data:t}=await Y.from("likes").select("*").eq("post_id",n).eq("user_id",e).maybeSingle();return t?(await Y.from("likes").delete().eq("post_id",n).eq("user_id",e),!1):(await Y.from("likes").insert([{post_id:n,user_id:e}]),!0)},eh=async(n,e)=>{if(!e)return!1;const{data:t}=await Y.from("likes").select("*").eq("post_id",n).eq("user_id",e).maybeSingle();return!!t},th=async(n,e)=>{const{data:t}=await Y.from("reposts").select("*").eq("post_id",n).eq("user_id",e).maybeSingle();return t?(await Y.from("reposts").delete().eq("post_id",n).eq("user_id",e),!1):(await Y.from("reposts").insert([{post_id:n,user_id:e}]),!0)},nh=async(n,e)=>{if(!e)return!1;const{data:t}=await Y.from("reposts").select("*").eq("post_id",n).eq("user_id",e).maybeSingle();return!!t},rh=async(n,e=null,t=10,s=!1)=>{let r=Y.from("unified_posts").select("*").ilike("content",`%${n}%`);s&&(r=r.not("community_id","is",null).is("reposter_id",null)),r=r.order("sort_timestamp",{ascending:!1}).limit(t),e&&(r=r.lt("sort_timestamp",e));const{data:a,error:o}=await r;if(o)throw o;return(a||[]).map(Nt).filter(i=>i!==null)},sh=async(n=null,e=10)=>{let t=Y.from("unified_posts").select("*").not("community_id","is",null).is("reposter_id",null).order("sort_timestamp",{ascending:!1}).limit(e);n&&(t=t.lt("sort_timestamp",n));const{data:s,error:r}=await t;if(r)throw r;return(s||[]).map(Nt).filter(a=>a!==null)},ah=async(n=null,e=10)=>{let t=Y.from("unified_posts").select("*").eq("type","video").order("sort_timestamp",{ascending:!1}).limit(e);n&&(t=t.lt("sort_timestamp",n));const{data:s,error:r}=await t;if(r)throw r;return(s||[]).map(Nt).filter(a=>a!==null)},oh=async(n,e)=>{const{data:t}=await Y.from("conversation_participants").select("conversation_id").eq("user_id",n),s=(t||[]).map(i=>i.conversation_id),{data:r}=await Y.from("conversation_participants").select("conversation_id").eq("user_id",e).in("conversation_id",s).maybeSingle();if(r)return r.conversation_id;const{data:a,error:o}=await Y.from("conversations").insert({}).select().single();if(o)throw o;return await Y.from("conversation_participants").insert([{conversation_id:a.id,user_id:n},{conversation_id:a.id,user_id:e}]),a.id},tl=async n=>{if(!n)return 0;const{data:e}=await Y.from("conversation_participants").select("conversation_id").eq("user_id",n),t=e?.map(a=>a.conversation_id)||[];if(t.length===0)return 0;const{count:s,error:r}=await Y.from("messages").select("*",{count:"exact",head:!0}).eq("is_read",!1).neq("sender_id",n).in("conversation_id",t);if(r)throw r;return s||0},nl=async(n,e)=>{if(!n||!e)return;const{error:t}=await Y.from("messages").update({is_read:!0}).eq("conversation_id",n).neq("sender_id",e).eq("is_read",!1);if(t)throw t},rl=async n=>{if(!n)return[];const{data:e,error:t}=await Y.from("conversation_participants").select(`
            conversation:conversations (
                id,
                last_message_at,
                last_message_content,
                participants:conversation_participants (
                    user:users (
                        id,
                        username,
                        display_name,
                        avatar_url,
                        last_seen_at
                    )
                ),
                messages (
                    id,
                    is_read,
                    sender_id
                )
            )
        `).eq("user_id",n);if(t)throw t;return(e||[]).map(s=>Vi(s,n)).filter(s=>s!==null).sort((s,r)=>s.lastMessageAt?r.lastMessageAt?new Date(r.lastMessageAt).getTime()-new Date(s.lastMessageAt).getTime():-1:1)},ih=async n=>{const{data:e,error:t}=await Y.from("messages").select("*").eq("conversation_id",n).order("created_at",{ascending:!0});if(t)throw t;return(e||[]).map(ta).filter(s=>s!==null)},sl=async()=>{const{data:n,error:e}=await Y.from("message_reactions").select("*");if(e)throw e;return n||[]},al=async(n,e,t)=>{const{data:s}=await Y.from("message_reactions").select("*").eq("message_id",n).eq("user_id",e).maybeSingle();return s?s.emoji===t?(await Y.from("message_reactions").delete().eq("id",s.id),{action:"removed",emoji:t}):(await Y.from("message_reactions").update({emoji:t}).eq("id",s.id),{action:"updated",emoji:t}):(await Y.from("message_reactions").insert([{message_id:n,user_id:e,emoji:t}]),{action:"added",emoji:t})},ol=async(n,e,t,s="text",r=[],a=null)=>{const{data:o,error:i}=await Y.from("messages").insert([{conversation_id:n,sender_id:e,content:t,type:s,media:r,reply_to_id:a}]).select();if(i)throw i;return await Y.from("conversations").update({last_message_at:new Date().toISOString(),last_message_content:s==="image"||r&&r.length>0?"Sent an image":t}).eq("id",n),ta(o?.[0])},il=async n=>{const{error:e}=await Y.from("messages").delete().eq("id",n);if(e)throw e},lh=async(n,e=null,t=10)=>{if(!n)return[];let s=Y.from("notifications").select(`
            *,
            actor:users!actor_id (
                username,
                avatar_url
            )
        `).eq("recipient_id",n).order("created_at",{ascending:!1}).limit(t);e&&(s=s.lt("created_at",e));const{data:r,error:a}=await s;if(a)throw a;return(r||[]).map(Wi).filter(o=>o!==null)},ch=async n=>{const{error:e}=await Y.from("notifications").update({is_read:!0}).eq("recipient_id",n).eq("is_read",!1);if(e)throw e},ll=async n=>{if(!n)return 0;const{count:e,error:t}=await Y.from("notifications").select("*",{count:"exact",head:!0}).eq("recipient_id",n).eq("is_read",!1);if(t)throw t;return e||0},dh=async()=>{const{data:n,error:e}=await Y.from("stories").select(`
            *,
            user:users!user_id (
                id,
                username,
                display_name,
                avatar_url,
                is_verified
            )
        `).gt("expires_at",new Date().toISOString()).order("created_at",{ascending:!1});if(e)throw e;return(n||[]).map(ea).filter(t=>t!==null)},cl=async(n,e,t="image")=>{const{data:s,error:r}=await Y.from("stories").insert([{user_id:n,media_url:e,type:t}]).select(`
            *,
            user:users!user_id (
                id,
                username,
                display_name,
                avatar_url,
                is_verified
            )
        `);if(r)throw r;return ea(s?.[0])},uh=async(n=null,e=10)=>{let t=Y.from("communities").select("*").order("created_at",{ascending:!1}).limit(e);n&&(t=t.lt("created_at",n));const{data:s,error:r}=await t;if(r)throw r;return(s||[]).map(Gt).filter(a=>a!==null)},fh=async n=>{const{data:e,error:t}=await Y.from("communities").select("*").eq("handle",n).single();if(t)throw t;return Gt(e)},mh=async(n,e=null,t=10)=>{let s=Y.from("unified_posts").select("*").eq("community_id",n).is("reposter_id",null).order("sort_timestamp",{ascending:!1}).limit(t);e&&(s=s.lt("sort_timestamp",e));const{data:r,error:a}=await s;if(a)throw a;return(r||[]).map(Nt).filter(o=>o!==null)},dl=async(n,e)=>{const{data:t}=await Y.from("community_members").select("*").eq("community_id",n).eq("user_id",e).maybeSingle();if(t){const{error:s}=await Y.from("community_members").delete().eq("community_id",n).eq("user_id",e);if(s)throw s;return!1}else{const{error:s}=await Y.from("community_members").insert([{community_id:n,user_id:e}]);if(s)throw s;return!0}},ul=async(n,e)=>{if(!e)return null;const{data:t}=await Y.from("community_members").select("*").eq("community_id",n).eq("user_id",e).maybeSingle();return t},fl=async n=>{if(!n)return[];const{data:e,error:t}=await Y.from("community_members").select(`
      role,
      communities (*)
    `).eq("user_id",n);if(t)throw t;return(e||[]).map(s=>({...Gt(s.communities),myRole:s.role}))},ml=async n=>{const{data:e,error:t}=await Y.from("communities").insert([n]).select().single();if(t)throw t;return Gt(e)},hl=async(n,e)=>{const{data:t,error:s}=await Y.from("communities").update(e).eq("id",n).select().single();if(s)throw s;return Gt(t)},pl=async(n,e="")=>{let t=Y.from("community_members").select(`
      role,
      user_id,
      users:user_id!inner (
        id,
        username,
        display_name,
        avatar_url,
        is_verified
      )
    `).eq("community_id",n);e&&(t=t.or(`username.ilike.%${e}%,display_name.ilike.%${e}%`,{foreignTable:"users"}));const{data:s,error:r}=await t.limit(20);if(r)throw r;return(s||[]).map(a=>({role:a.role,userId:a.user_id,user:a.users}))},gl=async(n,e,t)=>{const{data:s,error:r}=await Y.from("community_members").update({role:t}).eq("community_id",n).eq("user_id",e).select().single();if(r)throw r;return s},vl=async(n=5)=>{const{data:e,error:t}=await Y.from("hashtags").select("*").order("usage_count",{ascending:!1}).limit(n);if(t)throw t;return e||[]},bl=async n=>{try{const e=`https://api.allorigins.win/raw?url=${encodeURIComponent(n)}`,t=await fetch(e);if(!t.ok)throw new Error("Failed to fetch preview");const s=await t.text(),r=new DOMParser().parseFromString(s,"text/html"),a=o=>r.querySelector(`meta[property="${o}"]`)?.getAttribute("content")||r.querySelector(`meta[name="${o}"]`)?.getAttribute("content");return{title:a("og:title")||r.title||n,description:a("og:description")||a("description")||"",image:a("og:image")||a("twitter:image")||"",siteName:a("og:site_name")||new URL(n).hostname,url:n}}catch(e){return console.error("Link preview error:",e),null}},hh=async n=>{if(!n)return null;try{const{data:e}=await Y.from("link_previews").select("*").eq("url",n).maybeSingle();if(e)return Y.from("link_previews").update({last_used_at:new Date().toISOString()}).eq("url",n).then(()=>{}),{title:e.title,description:e.description,image:e.image,siteName:e.site_name,url:e.url};const t=await bl(n);return t?(Y.from("link_previews").insert([{url:t.url,title:t.title,description:t.description,image:t.image,site_name:t.siteName}]).then(({error:s})=>{s&&console.error("Cache save error:",s)}),t):null}catch(e){return console.error("Link preview cache error:",e),null}};function xl(n,e){return e.forEach((function(t){t&&typeof t!="string"&&!Array.isArray(t)&&Object.keys(t).forEach((function(s){if(s!=="default"&&!(s in n)){var r=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,r.get?r:{enumerable:!0,get:function(){return t[s]}})}}))})),Object.freeze(n)}function ra(n,e){return new Promise((function(t,s){let r;return yl(n).then((function(a){try{return r=a,t(new Blob([e.slice(0,2),r,e.slice(2)],{type:"image/jpeg"}))}catch(o){return s(o)}}),s)}))}var yl=n=>new Promise(((e,t)=>{const s=new FileReader;s.addEventListener("load",(({target:{result:r}})=>{const a=new DataView(r);let o=0;if(a.getUint16(o)!==65496)return t("not a valid JPEG");for(o+=2;;){const i=a.getUint16(o);if(i===65498)break;const d=a.getUint16(o+2);if(i===65505&&a.getUint32(o+4)===1165519206){const m=o+10;let u;switch(a.getUint16(m)){case 18761:u=!0;break;case 19789:u=!1;break;default:return t("TIFF header contains invalid endian")}if(a.getUint16(m+2,u)!==42)return t("TIFF header contains invalid version");const c=a.getUint32(m+4,u),f=m+c+2+12*a.getUint16(m+c,u);for(let h=m+c+2;h<f;h+=12)if(a.getUint16(h,u)==274){if(a.getUint16(h+2,u)!==3)return t("Orientation data type is invalid");if(a.getUint32(h+4,u)!==1)return t("Orientation data count is invalid");a.setUint16(h+8,1,u);break}return e(r.slice(o,o+2+d))}o+=2+d}return e(new Blob)})),s.readAsArrayBuffer(n)})),ln={},wl={get exports(){return ln},set exports(n){ln=n}};(function(n){var e,t,s={};wl.exports=s,s.parse=function(r,a){for(var o=s.bin.readUshort,i=s.bin.readUint,d=0,m={},u=new Uint8Array(r),c=u.length-4;i(u,c)!=101010256;)c--;d=c,d+=4;var f=o(u,d+=4);o(u,d+=2);var h=i(u,d+=2),p=i(u,d+=4);d+=4,d=p;for(var b=0;b<f;b++){i(u,d),d+=4,d+=4,d+=4,i(u,d+=4),h=i(u,d+=4);var x=i(u,d+=4),v=o(u,d+=4),N=o(u,d+2),S=o(u,d+4);d+=6;var _=i(u,d+=8);d+=4,d+=v+N+S,s._readLocal(u,_,m,h,x,a)}return m},s._readLocal=function(r,a,o,i,d,m){var u=s.bin.readUshort,c=s.bin.readUint;c(r,a),u(r,a+=4),u(r,a+=2);var f=u(r,a+=2);c(r,a+=2),c(r,a+=4),a+=4;var h=u(r,a+=8),p=u(r,a+=2);a+=2;var b=s.bin.readUTF8(r,a,h);if(a+=h,a+=p,m)o[b]={size:d,csize:i};else{var x=new Uint8Array(r.buffer,a);if(f==0)o[b]=new Uint8Array(x.buffer.slice(a,a+i));else{if(f!=8)throw"unknown compression method: "+f;var v=new Uint8Array(d);s.inflateRaw(x,v),o[b]=v}}},s.inflateRaw=function(r,a){return s.F.inflate(r,a)},s.inflate=function(r,a){return r[0],r[1],s.inflateRaw(new Uint8Array(r.buffer,r.byteOffset+2,r.length-6),a)},s.deflate=function(r,a){a??={level:6};var o=0,i=new Uint8Array(50+Math.floor(1.1*r.length));i[o]=120,i[o+1]=156,o+=2,o=s.F.deflateRaw(r,i,o,a.level);var d=s.adler(r,0,r.length);return i[o+0]=d>>>24&255,i[o+1]=d>>>16&255,i[o+2]=d>>>8&255,i[o+3]=d>>>0&255,new Uint8Array(i.buffer,0,o+4)},s.deflateRaw=function(r,a){a??={level:6};var o=new Uint8Array(50+Math.floor(1.1*r.length)),i=s.F.deflateRaw(r,o,i,a.level);return new Uint8Array(o.buffer,0,i)},s.encode=function(r,a){a??=!1;var o=0,i=s.bin.writeUint,d=s.bin.writeUshort,m={};for(var u in r){var c=!s._noNeed(u)&&!a,f=r[u],h=s.crc.crc(f,0,f.length);m[u]={cpr:c,usize:f.length,crc:h,file:c?s.deflateRaw(f):f}}for(var u in m)o+=m[u].file.length+30+46+2*s.bin.sizeUTF8(u);o+=22;var p=new Uint8Array(o),b=0,x=[];for(var u in m){var v=m[u];x.push(b),b=s._writeHeader(p,b,u,v,0)}var N=0,S=b;for(var u in m)v=m[u],x.push(b),b=s._writeHeader(p,b,u,v,1,x[N++]);var _=b-S;return i(p,b,101010256),b+=4,d(p,b+=4,N),d(p,b+=2,N),i(p,b+=2,_),i(p,b+=4,S),b+=4,b+=2,p.buffer},s._noNeed=function(r){var a=r.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(a)!=-1},s._writeHeader=function(r,a,o,i,d,m){var u=s.bin.writeUint,c=s.bin.writeUshort,f=i.file;return u(r,a,d==0?67324752:33639248),a+=4,d==1&&(a+=2),c(r,a,20),c(r,a+=2,0),c(r,a+=2,i.cpr?8:0),u(r,a+=2,0),u(r,a+=4,i.crc),u(r,a+=4,f.length),u(r,a+=4,i.usize),c(r,a+=4,s.bin.sizeUTF8(o)),c(r,a+=2,0),a+=2,d==1&&(a+=2,a+=2,u(r,a+=6,m),a+=4),a+=s.bin.writeUTF8(r,a,o),d==0&&(r.set(f,a),a+=f.length),a},s.crc={table:(function(){for(var r=new Uint32Array(256),a=0;a<256;a++){for(var o=a,i=0;i<8;i++)1&o?o=3988292384^o>>>1:o>>>=1;r[a]=o}return r})(),update:function(r,a,o,i){for(var d=0;d<i;d++)r=s.crc.table[255&(r^a[o+d])]^r>>>8;return r},crc:function(r,a,o){return 4294967295^s.crc.update(4294967295,r,a,o)}},s.adler=function(r,a,o){for(var i=1,d=0,m=a,u=a+o;m<u;){for(var c=Math.min(m+5552,u);m<c;)d+=i+=r[m++];i%=65521,d%=65521}return d<<16|i},s.bin={readUshort:function(r,a){return r[a]|r[a+1]<<8},writeUshort:function(r,a,o){r[a]=255&o,r[a+1]=o>>8&255},readUint:function(r,a){return 16777216*r[a+3]+(r[a+2]<<16|r[a+1]<<8|r[a])},writeUint:function(r,a,o){r[a]=255&o,r[a+1]=o>>8&255,r[a+2]=o>>16&255,r[a+3]=o>>24&255},readASCII:function(r,a,o){for(var i="",d=0;d<o;d++)i+=String.fromCharCode(r[a+d]);return i},writeASCII:function(r,a,o){for(var i=0;i<o.length;i++)r[a+i]=o.charCodeAt(i)},pad:function(r){return r.length<2?"0"+r:r},readUTF8:function(r,a,o){for(var i,d="",m=0;m<o;m++)d+="%"+s.bin.pad(r[a+m].toString(16));try{i=decodeURIComponent(d)}catch{return s.bin.readASCII(r,a,o)}return i},writeUTF8:function(r,a,o){for(var i=o.length,d=0,m=0;m<i;m++){var u=o.charCodeAt(m);if((4294967168&u)==0)r[a+d]=u,d++;else if((4294965248&u)==0)r[a+d]=192|u>>6,r[a+d+1]=128|u>>0&63,d+=2;else if((4294901760&u)==0)r[a+d]=224|u>>12,r[a+d+1]=128|u>>6&63,r[a+d+2]=128|u>>0&63,d+=3;else{if((4292870144&u)!=0)throw"e";r[a+d]=240|u>>18,r[a+d+1]=128|u>>12&63,r[a+d+2]=128|u>>6&63,r[a+d+3]=128|u>>0&63,d+=4}}return d},sizeUTF8:function(r){for(var a=r.length,o=0,i=0;i<a;i++){var d=r.charCodeAt(i);if((4294967168&d)==0)o++;else if((4294965248&d)==0)o+=2;else if((4294901760&d)==0)o+=3;else{if((4292870144&d)!=0)throw"e";o+=4}}return o}},s.F={},s.F.deflateRaw=function(r,a,o,i){var d=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][i],m=s.F.U,u=s.F._goodIndex;s.F._hash;var c=s.F._putsE,f=0,h=o<<3,p=0,b=r.length;if(i==0){for(;f<b;)c(a,h,f+(R=Math.min(65535,b-f))==b?1:0),h=s.F._copyExact(r,f,R,a,h+8),f+=R;return h>>>3}var x=m.lits,v=m.strt,N=m.prev,S=0,_=0,M=0,C=0,D=0,y=0;for(b>2&&(v[y=s.F._hash(r,0)]=0),f=0;f<b;f++){if(D=y,f+1<b-2){y=s.F._hash(r,f+1);var w=f+1&32767;N[w]=v[y],v[y]=w}if(p<=f){(S>14e3||_>26697)&&b-f>100&&(p<f&&(x[S]=f-p,S+=2,p=f),h=s.F._writeBlock(f==b-1||p==b?1:0,x,S,C,r,M,f-M,a,h),S=_=C=0,M=f);var A=0;f<b-2&&(A=s.F._bestMatch(r,f,N,D,Math.min(d[2],b-f),d[3]));var R=A>>>16,E=65535&A;if(A!=0){E=65535&A;var I=u(R=A>>>16,m.of0);m.lhst[257+I]++;var z=u(E,m.df0);m.dhst[z]++,C+=m.exb[I]+m.dxb[z],x[S]=R<<23|f-p,x[S+1]=E<<16|I<<8|z,S+=2,p=f+R}else m.lhst[r[f]]++;_++}}for(M==f&&r.length!=0||(p<f&&(x[S]=f-p,S+=2,p=f),h=s.F._writeBlock(1,x,S,C,r,M,f-M,a,h),S=0,_=0,S=_=C=0,M=f);(7&h)!=0;)h++;return h>>>3},s.F._bestMatch=function(r,a,o,i,d,m){var u=32767&a,c=o[u],f=u-c+32768&32767;if(c==u||i!=s.F._hash(r,a-f))return 0;for(var h=0,p=0,b=Math.min(32767,a);f<=b&&--m!=0&&c!=u;){if(h==0||r[a+h]==r[a+h-f]){var x=s.F._howLong(r,a,f);if(x>h){if(p=f,(h=x)>=d)break;f+2<x&&(x=f+2);for(var v=0,N=0;N<x-2;N++){var S=a-f+N+32768&32767,_=S-o[S]+32768&32767;_>v&&(v=_,c=S)}}}f+=(u=c)-(c=o[u])+32768&32767}return h<<16|p},s.F._howLong=function(r,a,o){if(r[a]!=r[a-o]||r[a+1]!=r[a+1-o]||r[a+2]!=r[a+2-o])return 0;var i=a,d=Math.min(r.length,a+258);for(a+=3;a<d&&r[a]==r[a-o];)a++;return a-i},s.F._hash=function(r,a){return(r[a]<<8|r[a+1])+(r[a+2]<<4)&65535},s.saved=0,s.F._writeBlock=function(r,a,o,i,d,m,u,c,f){var h,p,b,x,v,N,S,_,M,C=s.F.U,D=s.F._putsF,y=s.F._putsE;C.lhst[256]++,p=(h=s.F.getTrees())[0],b=h[1],x=h[2],v=h[3],N=h[4],S=h[5],_=h[6],M=h[7];var w=32+((f+3&7)==0?0:8-(f+3&7))+(u<<3),A=i+s.F.contSize(C.fltree,C.lhst)+s.F.contSize(C.fdtree,C.dhst),R=i+s.F.contSize(C.ltree,C.lhst)+s.F.contSize(C.dtree,C.dhst);R+=14+3*S+s.F.contSize(C.itree,C.ihst)+(2*C.ihst[16]+3*C.ihst[17]+7*C.ihst[18]);for(var E=0;E<286;E++)C.lhst[E]=0;for(E=0;E<30;E++)C.dhst[E]=0;for(E=0;E<19;E++)C.ihst[E]=0;var I=w<A&&w<R?0:A<R?1:2;if(D(c,f,r),D(c,f+1,I),f+=3,I==0){for(;(7&f)!=0;)f++;f=s.F._copyExact(d,m,u,c,f)}else{var z,L;if(I==1&&(z=C.fltree,L=C.fdtree),I==2){s.F.makeCodes(C.ltree,p),s.F.revCodes(C.ltree,p),s.F.makeCodes(C.dtree,b),s.F.revCodes(C.dtree,b),s.F.makeCodes(C.itree,x),s.F.revCodes(C.itree,x),z=C.ltree,L=C.dtree,y(c,f,v-257),y(c,f+=5,N-1),y(c,f+=5,S-4),f+=4;for(var j=0;j<S;j++)y(c,f+3*j,C.itree[1+(C.ordr[j]<<1)]);f+=3*S,f=s.F._codeTiny(_,C.itree,c,f),f=s.F._codeTiny(M,C.itree,c,f)}for(var k=m,P=0;P<o;P+=2){for(var T=a[P],F=T>>>23,q=k+(8388607&T);k<q;)f=s.F._writeLit(d[k++],z,c,f);if(F!=0){var H=a[P+1],B=H>>16,U=H>>8&255,O=255&H;y(c,f=s.F._writeLit(257+U,z,c,f),F-C.of0[U]),f+=C.exb[U],D(c,f=s.F._writeLit(O,L,c,f),B-C.df0[O]),f+=C.dxb[O],k+=F}}f=s.F._writeLit(256,z,c,f)}return f},s.F._copyExact=function(r,a,o,i,d){var m=d>>>3;return i[m]=o,i[m+1]=o>>>8,i[m+2]=255-i[m],i[m+3]=255-i[m+1],m+=4,i.set(new Uint8Array(r.buffer,a,o),m),d+(o+4<<3)},s.F.getTrees=function(){for(var r=s.F.U,a=s.F._hufTree(r.lhst,r.ltree,15),o=s.F._hufTree(r.dhst,r.dtree,15),i=[],d=s.F._lenCodes(r.ltree,i),m=[],u=s.F._lenCodes(r.dtree,m),c=0;c<i.length;c+=2)r.ihst[i[c]]++;for(c=0;c<m.length;c+=2)r.ihst[m[c]]++;for(var f=s.F._hufTree(r.ihst,r.itree,7),h=19;h>4&&r.itree[1+(r.ordr[h-1]<<1)]==0;)h--;return[a,o,f,d,u,h,i,m]},s.F.getSecond=function(r){for(var a=[],o=0;o<r.length;o+=2)a.push(r[o+1]);return a},s.F.nonZero=function(r){for(var a="",o=0;o<r.length;o+=2)r[o+1]!=0&&(a+=(o>>1)+",");return a},s.F.contSize=function(r,a){for(var o=0,i=0;i<a.length;i++)o+=a[i]*r[1+(i<<1)];return o},s.F._codeTiny=function(r,a,o,i){for(var d=0;d<r.length;d+=2){var m=r[d],u=r[d+1];i=s.F._writeLit(m,a,o,i);var c=m==16?2:m==17?3:7;m>15&&(s.F._putsE(o,i,u,c),i+=c)}return i},s.F._lenCodes=function(r,a){for(var o=r.length;o!=2&&r[o-1]==0;)o-=2;for(var i=0;i<o;i+=2){var d=r[i+1],m=i+3<o?r[i+3]:-1,u=i+5<o?r[i+5]:-1,c=i==0?-1:r[i-1];if(d==0&&m==d&&u==d){for(var f=i+5;f+2<o&&r[f+2]==d;)f+=2;(h=Math.min(f+1-i>>>1,138))<11?a.push(17,h-3):a.push(18,h-11),i+=2*h-2}else if(d==c&&m==d&&u==d){for(f=i+5;f+2<o&&r[f+2]==d;)f+=2;var h=Math.min(f+1-i>>>1,6);a.push(16,h-3),i+=2*h-2}else a.push(d,0)}return o>>>1},s.F._hufTree=function(r,a,o){var i=[],d=r.length,m=a.length,u=0;for(u=0;u<m;u+=2)a[u]=0,a[u+1]=0;for(u=0;u<d;u++)r[u]!=0&&i.push({lit:u,f:r[u]});var c=i.length,f=i.slice(0);if(c==0)return 0;if(c==1){var h=i[0].lit;return f=h==0?1:0,a[1+(h<<1)]=1,a[1+(f<<1)]=1,1}i.sort((function(_,M){return _.f-M.f}));var p=i[0],b=i[1],x=0,v=1,N=2;for(i[0]={lit:-1,f:p.f+b.f,l:p,r:b,d:0};v!=c-1;)p=x!=v&&(N==c||i[x].f<i[N].f)?i[x++]:i[N++],b=x!=v&&(N==c||i[x].f<i[N].f)?i[x++]:i[N++],i[v++]={lit:-1,f:p.f+b.f,l:p,r:b};var S=s.F.setDepth(i[v-1],0);for(S>o&&(s.F.restrictDepth(f,o,S),S=o),u=0;u<c;u++)a[1+(f[u].lit<<1)]=f[u].d;return S},s.F.setDepth=function(r,a){return r.lit!=-1?(r.d=a,a):Math.max(s.F.setDepth(r.l,a+1),s.F.setDepth(r.r,a+1))},s.F.restrictDepth=function(r,a,o){var i=0,d=1<<o-a,m=0;for(r.sort((function(c,f){return f.d==c.d?c.f-f.f:f.d-c.d})),i=0;i<r.length&&r[i].d>a;i++){var u=r[i].d;r[i].d=a,m+=d-(1<<o-u)}for(m>>>=o-a;m>0;)(u=r[i].d)<a?(r[i].d++,m-=1<<a-u-1):i++;for(;i>=0;i--)r[i].d==a&&m<0&&(r[i].d--,m++);m!=0&&console.log("debt left")},s.F._goodIndex=function(r,a){var o=0;return a[16|o]<=r&&(o|=16),a[8|o]<=r&&(o|=8),a[4|o]<=r&&(o|=4),a[2|o]<=r&&(o|=2),a[1|o]<=r&&(o|=1),o},s.F._writeLit=function(r,a,o,i){return s.F._putsF(o,i,a[r<<1]),i+a[1+(r<<1)]},s.F.inflate=function(r,a){var o=Uint8Array;if(r[0]==3&&r[1]==0)return a||new o(0);var i=s.F,d=i._bitsF,m=i._bitsE,u=i._decodeTiny,c=i.makeCodes,f=i.codes2map,h=i._get17,p=i.U,b=a==null;b&&(a=new o(r.length>>>2<<3));for(var x,v,N=0,S=0,_=0,M=0,C=0,D=0,y=0,w=0,A=0;N==0;)if(N=d(r,A,1),S=d(r,A+1,2),A+=3,S!=0){if(b&&(a=s.F._check(a,w+(1<<17))),S==1&&(x=p.flmap,v=p.fdmap,D=511,y=31),S==2){_=m(r,A,5)+257,M=m(r,A+5,5)+1,C=m(r,A+10,4)+4,A+=14;for(var R=0;R<38;R+=2)p.itree[R]=0,p.itree[R+1]=0;var E=1;for(R=0;R<C;R++){var I=m(r,A+3*R,3);p.itree[1+(p.ordr[R]<<1)]=I,I>E&&(E=I)}A+=3*C,c(p.itree,E),f(p.itree,E,p.imap),x=p.lmap,v=p.dmap,A=u(p.imap,(1<<E)-1,_+M,r,A,p.ttree);var z=i._copyOut(p.ttree,0,_,p.ltree);D=(1<<z)-1;var L=i._copyOut(p.ttree,_,M,p.dtree);y=(1<<L)-1,c(p.ltree,z),f(p.ltree,z,x),c(p.dtree,L),f(p.dtree,L,v)}for(;;){var j=x[h(r,A)&D];A+=15&j;var k=j>>>4;if(!(k>>>8))a[w++]=k;else{if(k==256)break;var P=w+k-254;if(k>264){var T=p.ldef[k-257];P=w+(T>>>3)+m(r,A,7&T),A+=7&T}var F=v[h(r,A)&y];A+=15&F;var q=F>>>4,H=p.ddef[q],B=(H>>>4)+d(r,A,15&H);for(A+=15&H,b&&(a=s.F._check(a,w+(1<<17)));w<P;)a[w]=a[w++-B],a[w]=a[w++-B],a[w]=a[w++-B],a[w]=a[w++-B];w=P}}}else{(7&A)!=0&&(A+=8-(7&A));var U=4+(A>>>3),O=r[U-4]|r[U-3]<<8;b&&(a=s.F._check(a,w+O)),a.set(new o(r.buffer,r.byteOffset+U,O),w),A=U+O<<3,w+=O}return a.length==w?a:a.slice(0,w)},s.F._check=function(r,a){var o=r.length;if(a<=o)return r;var i=new Uint8Array(Math.max(o<<1,a));return i.set(r,0),i},s.F._decodeTiny=function(r,a,o,i,d,m){for(var u=s.F._bitsE,c=s.F._get17,f=0;f<o;){var h=r[c(i,d)&a];d+=15&h;var p=h>>>4;if(p<=15)m[f]=p,f++;else{var b=0,x=0;p==16?(x=3+u(i,d,2),d+=2,b=m[f-1]):p==17?(x=3+u(i,d,3),d+=3):p==18&&(x=11+u(i,d,7),d+=7);for(var v=f+x;f<v;)m[f]=b,f++}}return d},s.F._copyOut=function(r,a,o,i){for(var d=0,m=0,u=i.length>>>1;m<o;){var c=r[m+a];i[m<<1]=0,i[1+(m<<1)]=c,c>d&&(d=c),m++}for(;m<u;)i[m<<1]=0,i[1+(m<<1)]=0,m++;return d},s.F.makeCodes=function(r,a){for(var o,i,d,m,u=s.F.U,c=r.length,f=u.bl_count,h=0;h<=a;h++)f[h]=0;for(h=1;h<c;h+=2)f[r[h]]++;var p=u.next_code;for(o=0,f[0]=0,i=1;i<=a;i++)o=o+f[i-1]<<1,p[i]=o;for(d=0;d<c;d+=2)(m=r[d+1])!=0&&(r[d]=p[m],p[m]++)},s.F.codes2map=function(r,a,o){for(var i=r.length,d=s.F.U.rev15,m=0;m<i;m+=2)if(r[m+1]!=0)for(var u=m>>1,c=r[m+1],f=u<<4|c,h=a-c,p=r[m]<<h,b=p+(1<<h);p!=b;)o[d[p]>>>15-a]=f,p++},s.F.revCodes=function(r,a){for(var o=s.F.U.rev15,i=15-a,d=0;d<r.length;d+=2)r[d]=o[r[d]<<a-r[d+1]]>>>i},s.F._putsE=function(r,a,o){o<<=7&a;var i=a>>>3;r[i]|=o,r[i+1]|=o>>>8},s.F._putsF=function(r,a,o){o<<=7&a;var i=a>>>3;r[i]|=o,r[i+1]|=o>>>8,r[i+2]|=o>>>16},s.F._bitsE=function(r,a,o){return(r[a>>>3]|r[1+(a>>>3)]<<8)>>>(7&a)&(1<<o)-1},s.F._bitsF=function(r,a,o){return(r[a>>>3]|r[1+(a>>>3)]<<8|r[2+(a>>>3)]<<16)>>>(7&a)&(1<<o)-1},s.F._get17=function(r,a){return(r[a>>>3]|r[1+(a>>>3)]<<8|r[2+(a>>>3)]<<16)>>>(7&a)},s.F._get25=function(r,a){return(r[a>>>3]|r[1+(a>>>3)]<<8|r[2+(a>>>3)]<<16|r[3+(a>>>3)]<<24)>>>(7&a)},s.F.U=(e=Uint16Array,t=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new t(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new t(286),dhst:new t(30),ihst:new t(19),lits:new t(15e3),strt:new e(65536),prev:new e(32768)}),(function(){for(var r=s.F.U,a=0;a<32768;a++){var o=a;o=(4278255360&(o=(4042322160&(o=(3435973836&(o=(2863311530&o)>>>1|(1431655765&o)<<1))>>>2|(858993459&o)<<2))>>>4|(252645135&o)<<4))>>>8|(16711935&o)<<8,r.rev15[a]=(o>>>16|o<<16)>>>17}function i(d,m,u){for(;m--!=0;)d.push(0,u)}for(a=0;a<32;a++)r.ldef[a]=r.of0[a]<<3|r.exb[a],r.ddef[a]=r.df0[a]<<4|r.dxb[a];i(r.fltree,144,8),i(r.fltree,112,9),i(r.fltree,24,7),i(r.fltree,8,8),s.F.makeCodes(r.fltree,9),s.F.codes2map(r.fltree,9,r.flmap),s.F.revCodes(r.fltree,9),i(r.fdtree,32,5),s.F.makeCodes(r.fdtree,5),s.F.codes2map(r.fdtree,5,r.fdmap),s.F.revCodes(r.fdtree,5),i(r.itree,19,0),i(r.ltree,286,0),i(r.dtree,30,0),i(r.ttree,320,0)})()})();var jl=xl({__proto__:null,default:ln},[ln]),at=(function(){var n={nextZero(u,c){for(;u[c]!=0;)c++;return c},readUshort:(u,c)=>u[c]<<8|u[c+1],writeUshort(u,c,f){u[c]=f>>8&255,u[c+1]=255&f},readUint:(u,c)=>16777216*u[c]+(u[c+1]<<16|u[c+2]<<8|u[c+3]),writeUint(u,c,f){u[c]=f>>24&255,u[c+1]=f>>16&255,u[c+2]=f>>8&255,u[c+3]=255&f},readASCII(u,c,f){let h="";for(let p=0;p<f;p++)h+=String.fromCharCode(u[c+p]);return h},writeASCII(u,c,f){for(let h=0;h<f.length;h++)u[c+h]=f.charCodeAt(h)},readBytes(u,c,f){const h=[];for(let p=0;p<f;p++)h.push(u[c+p]);return h},pad:u=>u.length<2?`0${u}`:u,readUTF8(u,c,f){let h,p="";for(let b=0;b<f;b++)p+=`%${n.pad(u[c+b].toString(16))}`;try{h=decodeURIComponent(p)}catch{return n.readASCII(u,c,f)}return h}};function e(u,c,f,h){const p=c*f,b=a(h),x=Math.ceil(c*b/8),v=new Uint8Array(4*p),N=new Uint32Array(v.buffer),{ctype:S}=h,{depth:_}=h,M=n.readUshort;if(S==6){const T=p<<2;if(_==8)for(var C=0;C<T;C+=4)v[C]=u[C],v[C+1]=u[C+1],v[C+2]=u[C+2],v[C+3]=u[C+3];if(_==16)for(C=0;C<T;C++)v[C]=u[C<<1]}else if(S==2){const T=h.tabs.tRNS;if(T==null){if(_==8)for(C=0;C<p;C++){var D=3*C;N[C]=255<<24|u[D+2]<<16|u[D+1]<<8|u[D]}if(_==16)for(C=0;C<p;C++)D=6*C,N[C]=255<<24|u[D+4]<<16|u[D+2]<<8|u[D]}else{var y=T[0];const F=T[1],q=T[2];if(_==8)for(C=0;C<p;C++){var w=C<<2;D=3*C,N[C]=255<<24|u[D+2]<<16|u[D+1]<<8|u[D],u[D]==y&&u[D+1]==F&&u[D+2]==q&&(v[w+3]=0)}if(_==16)for(C=0;C<p;C++)w=C<<2,D=6*C,N[C]=255<<24|u[D+4]<<16|u[D+2]<<8|u[D],M(u,D)==y&&M(u,D+2)==F&&M(u,D+4)==q&&(v[w+3]=0)}}else if(S==3){const T=h.tabs.PLTE,F=h.tabs.tRNS,q=F?F.length:0;if(_==1)for(var A=0;A<f;A++){var R=A*x,E=A*c;for(C=0;C<c;C++){w=E+C<<2;var I=3*(z=u[R+(C>>3)]>>7-((7&C)<<0)&1);v[w]=T[I],v[w+1]=T[I+1],v[w+2]=T[I+2],v[w+3]=z<q?F[z]:255}}if(_==2)for(A=0;A<f;A++)for(R=A*x,E=A*c,C=0;C<c;C++)w=E+C<<2,I=3*(z=u[R+(C>>2)]>>6-((3&C)<<1)&3),v[w]=T[I],v[w+1]=T[I+1],v[w+2]=T[I+2],v[w+3]=z<q?F[z]:255;if(_==4)for(A=0;A<f;A++)for(R=A*x,E=A*c,C=0;C<c;C++)w=E+C<<2,I=3*(z=u[R+(C>>1)]>>4-((1&C)<<2)&15),v[w]=T[I],v[w+1]=T[I+1],v[w+2]=T[I+2],v[w+3]=z<q?F[z]:255;if(_==8)for(C=0;C<p;C++){var z;w=C<<2,I=3*(z=u[C]),v[w]=T[I],v[w+1]=T[I+1],v[w+2]=T[I+2],v[w+3]=z<q?F[z]:255}}else if(S==4){if(_==8)for(C=0;C<p;C++){w=C<<2;var L=u[j=C<<1];v[w]=L,v[w+1]=L,v[w+2]=L,v[w+3]=u[j+1]}if(_==16)for(C=0;C<p;C++){var j;w=C<<2,L=u[j=C<<2],v[w]=L,v[w+1]=L,v[w+2]=L,v[w+3]=u[j+2]}}else if(S==0)for(y=h.tabs.tRNS?h.tabs.tRNS:-1,A=0;A<f;A++){const T=A*x,F=A*c;if(_==1)for(var k=0;k<c;k++){var P=(L=255*(u[T+(k>>>3)]>>>7-(7&k)&1))==255*y?0:255;N[F+k]=P<<24|L<<16|L<<8|L}else if(_==2)for(k=0;k<c;k++)P=(L=85*(u[T+(k>>>2)]>>>6-((3&k)<<1)&3))==85*y?0:255,N[F+k]=P<<24|L<<16|L<<8|L;else if(_==4)for(k=0;k<c;k++)P=(L=17*(u[T+(k>>>1)]>>>4-((1&k)<<2)&15))==17*y?0:255,N[F+k]=P<<24|L<<16|L<<8|L;else if(_==8)for(k=0;k<c;k++)P=(L=u[T+k])==y?0:255,N[F+k]=P<<24|L<<16|L<<8|L;else if(_==16)for(k=0;k<c;k++)L=u[T+(k<<1)],P=M(u,T+(k<<1))==y?0:255,N[F+k]=P<<24|L<<16|L<<8|L}return v}function t(u,c,f,h){const p=a(u),b=Math.ceil(f*p/8),x=new Uint8Array((b+1+u.interlace)*h);return c=u.tabs.CgBI?r(c,x):s(c,x),u.interlace==0?c=o(c,u,0,f,h):u.interlace==1&&(c=(function(N,S){const _=S.width,M=S.height,C=a(S),D=C>>3,y=Math.ceil(_*C/8),w=new Uint8Array(M*y);let A=0;const R=[0,0,4,0,2,0,1],E=[0,4,0,2,0,1,0],I=[8,8,8,4,4,2,2],z=[8,8,4,4,2,2,1];let L=0;for(;L<7;){const k=I[L],P=z[L];let T=0,F=0,q=R[L];for(;q<M;)q+=k,F++;let H=E[L];for(;H<_;)H+=P,T++;const B=Math.ceil(T*C/8);o(N,S,A,T,F);let U=0,O=R[L];for(;O<M;){let V=E[L],Z=A+U*B<<3;for(;V<_;){var j;if(C==1&&(j=(j=N[Z>>3])>>7-(7&Z)&1,w[O*y+(V>>3)]|=j<<7-((7&V)<<0)),C==2&&(j=(j=N[Z>>3])>>6-(7&Z)&3,w[O*y+(V>>2)]|=j<<6-((3&V)<<1)),C==4&&(j=(j=N[Z>>3])>>4-(7&Z)&15,w[O*y+(V>>1)]|=j<<4-((1&V)<<2)),C>=8){const X=O*y+V*D;for(let W=0;W<D;W++)w[X+W]=N[(Z>>3)+W]}Z+=C,V+=P}U++,O+=k}T*F!=0&&(A+=F*(1+B)),L+=1}return w})(c,u)),c}function s(u,c){return r(new Uint8Array(u.buffer,2,u.length-6),c)}var r=(function(){const u={H:{}};return u.H.N=function(c,f){const h=Uint8Array;let p,b,x=0,v=0,N=0,S=0,_=0,M=0,C=0,D=0,y=0;if(c[0]==3&&c[1]==0)return f||new h(0);const w=u.H,A=w.b,R=w.e,E=w.R,I=w.n,z=w.A,L=w.Z,j=w.m,k=f==null;for(k&&(f=new h(c.length>>>2<<5));x==0;)if(x=A(c,y,1),v=A(c,y+1,2),y+=3,v!=0){if(k&&(f=u.H.W(f,D+(1<<17))),v==1&&(p=j.J,b=j.h,M=511,C=31),v==2){N=R(c,y,5)+257,S=R(c,y+5,5)+1,_=R(c,y+10,4)+4,y+=14;let T=1;for(var P=0;P<38;P+=2)j.Q[P]=0,j.Q[P+1]=0;for(P=0;P<_;P++){const H=R(c,y+3*P,3);j.Q[1+(j.X[P]<<1)]=H,H>T&&(T=H)}y+=3*_,I(j.Q,T),z(j.Q,T,j.u),p=j.w,b=j.d,y=E(j.u,(1<<T)-1,N+S,c,y,j.v);const F=w.V(j.v,0,N,j.C);M=(1<<F)-1;const q=w.V(j.v,N,S,j.D);C=(1<<q)-1,I(j.C,F),z(j.C,F,p),I(j.D,q),z(j.D,q,b)}for(;;){const T=p[L(c,y)&M];y+=15&T;const F=T>>>4;if(!(F>>>8))f[D++]=F;else{if(F==256)break;{let q=D+F-254;if(F>264){const V=j.q[F-257];q=D+(V>>>3)+R(c,y,7&V),y+=7&V}const H=b[L(c,y)&C];y+=15&H;const B=H>>>4,U=j.c[B],O=(U>>>4)+A(c,y,15&U);for(y+=15&U;D<q;)f[D]=f[D++-O],f[D]=f[D++-O],f[D]=f[D++-O],f[D]=f[D++-O];D=q}}}}else{(7&y)!=0&&(y+=8-(7&y));const T=4+(y>>>3),F=c[T-4]|c[T-3]<<8;k&&(f=u.H.W(f,D+F)),f.set(new h(c.buffer,c.byteOffset+T,F),D),y=T+F<<3,D+=F}return f.length==D?f:f.slice(0,D)},u.H.W=function(c,f){const h=c.length;if(f<=h)return c;const p=new Uint8Array(h<<1);return p.set(c,0),p},u.H.R=function(c,f,h,p,b,x){const v=u.H.e,N=u.H.Z;let S=0;for(;S<h;){const _=c[N(p,b)&f];b+=15&_;const M=_>>>4;if(M<=15)x[S]=M,S++;else{let C=0,D=0;M==16?(D=3+v(p,b,2),b+=2,C=x[S-1]):M==17?(D=3+v(p,b,3),b+=3):M==18&&(D=11+v(p,b,7),b+=7);const y=S+D;for(;S<y;)x[S]=C,S++}}return b},u.H.V=function(c,f,h,p){let b=0,x=0;const v=p.length>>>1;for(;x<h;){const N=c[x+f];p[x<<1]=0,p[1+(x<<1)]=N,N>b&&(b=N),x++}for(;x<v;)p[x<<1]=0,p[1+(x<<1)]=0,x++;return b},u.H.n=function(c,f){const h=u.H.m,p=c.length;let b,x,v,N;const S=h.j;for(var _=0;_<=f;_++)S[_]=0;for(_=1;_<p;_+=2)S[c[_]]++;const M=h.K;for(b=0,S[0]=0,x=1;x<=f;x++)b=b+S[x-1]<<1,M[x]=b;for(v=0;v<p;v+=2)N=c[v+1],N!=0&&(c[v]=M[N],M[N]++)},u.H.A=function(c,f,h){const p=c.length,b=u.H.m.r;for(let x=0;x<p;x+=2)if(c[x+1]!=0){const v=x>>1,N=c[x+1],S=v<<4|N,_=f-N;let M=c[x]<<_;const C=M+(1<<_);for(;M!=C;)h[b[M]>>>15-f]=S,M++}},u.H.l=function(c,f){const h=u.H.m.r,p=15-f;for(let b=0;b<c.length;b+=2)c[b]=h[c[b]<<f-c[b+1]]>>>p},u.H.M=function(c,f,h){h<<=7&f;const p=f>>>3;c[p]|=h,c[p+1]|=h>>>8},u.H.I=function(c,f,h){h<<=7&f;const p=f>>>3;c[p]|=h,c[p+1]|=h>>>8,c[p+2]|=h>>>16},u.H.e=function(c,f,h){return(c[f>>>3]|c[1+(f>>>3)]<<8)>>>(7&f)&(1<<h)-1},u.H.b=function(c,f,h){return(c[f>>>3]|c[1+(f>>>3)]<<8|c[2+(f>>>3)]<<16)>>>(7&f)&(1<<h)-1},u.H.Z=function(c,f){return(c[f>>>3]|c[1+(f>>>3)]<<8|c[2+(f>>>3)]<<16)>>>(7&f)},u.H.i=function(c,f){return(c[f>>>3]|c[1+(f>>>3)]<<8|c[2+(f>>>3)]<<16|c[3+(f>>>3)]<<24)>>>(7&f)},u.H.m=(function(){const c=Uint16Array,f=Uint32Array;return{K:new c(16),j:new c(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new c(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new f(32),J:new c(512),_:[],h:new c(32),$:[],w:new c(32768),C:[],v:[],d:new c(32768),D:[],u:new c(512),Q:[],r:new c(32768),s:new f(286),Y:new f(30),a:new f(19),t:new f(15e3),k:new c(65536),g:new c(32768)}})(),(function(){const c=u.H.m;for(var f=0;f<32768;f++){let p=f;p=(2863311530&p)>>>1|(1431655765&p)<<1,p=(3435973836&p)>>>2|(858993459&p)<<2,p=(4042322160&p)>>>4|(252645135&p)<<4,p=(4278255360&p)>>>8|(16711935&p)<<8,c.r[f]=(p>>>16|p<<16)>>>17}function h(p,b,x){for(;b--!=0;)p.push(0,x)}for(f=0;f<32;f++)c.q[f]=c.S[f]<<3|c.T[f],c.c[f]=c.p[f]<<4|c.z[f];h(c._,144,8),h(c._,112,9),h(c._,24,7),h(c._,8,8),u.H.n(c._,9),u.H.A(c._,9,c.J),u.H.l(c._,9),h(c.$,32,5),u.H.n(c.$,5),u.H.A(c.$,5,c.h),u.H.l(c.$,5),h(c.Q,19,0),h(c.C,286,0),h(c.D,30,0),h(c.v,320,0)})(),u.H.N})();function a(u){return[1,null,3,1,2,null,4][u.ctype]*u.depth}function o(u,c,f,h,p){let b=a(c);const x=Math.ceil(h*b/8);let v,N;b=Math.ceil(b/8);let S=u[f],_=0;if(S>1&&(u[f]=[0,0,1][S-2]),S==3)for(_=b;_<x;_++)u[_+1]=u[_+1]+(u[_+1-b]>>>1)&255;for(let M=0;M<p;M++)if(v=f+M*x,N=v+M+1,S=u[N-1],_=0,S==0)for(;_<x;_++)u[v+_]=u[N+_];else if(S==1){for(;_<b;_++)u[v+_]=u[N+_];for(;_<x;_++)u[v+_]=u[N+_]+u[v+_-b]}else if(S==2)for(;_<x;_++)u[v+_]=u[N+_]+u[v+_-x];else if(S==3){for(;_<b;_++)u[v+_]=u[N+_]+(u[v+_-x]>>>1);for(;_<x;_++)u[v+_]=u[N+_]+(u[v+_-x]+u[v+_-b]>>>1)}else{for(;_<b;_++)u[v+_]=u[N+_]+i(0,u[v+_-x],0);for(;_<x;_++)u[v+_]=u[N+_]+i(u[v+_-b],u[v+_-x],u[v+_-b-x])}return u}function i(u,c,f){const h=u+c-f,p=h-u,b=h-c,x=h-f;return p*p<=b*b&&p*p<=x*x?u:b*b<=x*x?c:f}function d(u,c,f){f.width=n.readUint(u,c),c+=4,f.height=n.readUint(u,c),c+=4,f.depth=u[c],c++,f.ctype=u[c],c++,f.compress=u[c],c++,f.filter=u[c],c++,f.interlace=u[c],c++}function m(u,c,f,h,p,b,x,v,N){const S=Math.min(c,p),_=Math.min(f,b);let M=0,C=0;for(let L=0;L<_;L++)for(let j=0;j<S;j++)if(x>=0&&v>=0?(M=L*c+j<<2,C=(v+L)*p+x+j<<2):(M=(-v+L)*c-x+j<<2,C=L*p+j<<2),N==0)h[C]=u[M],h[C+1]=u[M+1],h[C+2]=u[M+2],h[C+3]=u[M+3];else if(N==1){var D=u[M+3]*.00392156862745098,y=u[M]*D,w=u[M+1]*D,A=u[M+2]*D,R=h[C+3]*(1/255),E=h[C]*R,I=h[C+1]*R,z=h[C+2]*R;const k=1-D,P=D+R*k,T=P==0?0:1/P;h[C+3]=255*P,h[C+0]=(y+E*k)*T,h[C+1]=(w+I*k)*T,h[C+2]=(A+z*k)*T}else if(N==2)D=u[M+3],y=u[M],w=u[M+1],A=u[M+2],R=h[C+3],E=h[C],I=h[C+1],z=h[C+2],D==R&&y==E&&w==I&&A==z?(h[C]=0,h[C+1]=0,h[C+2]=0,h[C+3]=0):(h[C]=y,h[C+1]=w,h[C+2]=A,h[C+3]=D);else if(N==3){if(D=u[M+3],y=u[M],w=u[M+1],A=u[M+2],R=h[C+3],E=h[C],I=h[C+1],z=h[C+2],D==R&&y==E&&w==I&&A==z)continue;if(D<220&&R>20)return!1}return!0}return{decode:function(c){const f=new Uint8Array(c);let h=8;const p=n,b=p.readUshort,x=p.readUint,v={tabs:{},frames:[]},N=new Uint8Array(f.length);let S,_=0,M=0;const C=[137,80,78,71,13,10,26,10];for(var D=0;D<8;D++)if(f[D]!=C[D])throw"The input is not a PNG file!";for(;h<f.length;){const L=p.readUint(f,h);h+=4;const j=p.readASCII(f,h,4);if(h+=4,j=="IHDR")d(f,h,v);else if(j=="iCCP"){for(var y=h;f[y]!=0;)y++;p.readASCII(f,h,y-h),f[y+1];const k=f.slice(y+2,h+L);let P=null;try{P=s(k)}catch{P=r(k)}v.tabs[j]=P}else if(j=="CgBI")v.tabs[j]=f.slice(h,h+4);else if(j=="IDAT"){for(D=0;D<L;D++)N[_+D]=f[h+D];_+=L}else if(j=="acTL")v.tabs[j]={num_frames:x(f,h),num_plays:x(f,h+4)},S=new Uint8Array(f.length);else if(j=="fcTL"){M!=0&&((z=v.frames[v.frames.length-1]).data=t(v,S.slice(0,M),z.rect.width,z.rect.height),M=0);const k={x:x(f,h+12),y:x(f,h+16),width:x(f,h+4),height:x(f,h+8)};let P=b(f,h+22);P=b(f,h+20)/(P==0?100:P);const T={rect:k,delay:Math.round(1e3*P),dispose:f[h+24],blend:f[h+25]};v.frames.push(T)}else if(j=="fdAT"){for(D=0;D<L-4;D++)S[M+D]=f[h+D+4];M+=L-4}else if(j=="pHYs")v.tabs[j]=[p.readUint(f,h),p.readUint(f,h+4),f[h+8]];else if(j=="cHRM")for(v.tabs[j]=[],D=0;D<8;D++)v.tabs[j].push(p.readUint(f,h+4*D));else if(j=="tEXt"||j=="zTXt"){v.tabs[j]??(v.tabs[j]={});var w=p.nextZero(f,h),A=p.readASCII(f,h,w-h),R=h+L-w-1;if(j=="tEXt")I=p.readASCII(f,w+1,R);else{var E=s(f.slice(w+2,w+2+R));I=p.readUTF8(E,0,E.length)}v.tabs[j][A]=I}else if(j=="iTXt"){v.tabs[j]??(v.tabs[j]={}),w=0,y=h,w=p.nextZero(f,y),A=p.readASCII(f,y,w-y);const k=f[y=w+1];var I;f[y+1],y+=2,w=p.nextZero(f,y),p.readASCII(f,y,w-y),y=w+1,w=p.nextZero(f,y),p.readUTF8(f,y,w-y),R=L-((y=w+1)-h),k==0?I=p.readUTF8(f,y,R):(E=s(f.slice(y,y+R)),I=p.readUTF8(E,0,E.length)),v.tabs[j][A]=I}else if(j=="PLTE")v.tabs[j]=p.readBytes(f,h,L);else if(j=="hIST"){const k=v.tabs.PLTE.length/3;for(v.tabs[j]=[],D=0;D<k;D++)v.tabs[j].push(b(f,h+2*D))}else if(j=="tRNS")v.ctype==3?v.tabs[j]=p.readBytes(f,h,L):v.ctype==0?v.tabs[j]=b(f,h):v.ctype==2&&(v.tabs[j]=[b(f,h),b(f,h+2),b(f,h+4)]);else if(j=="gAMA")v.tabs[j]=p.readUint(f,h)/1e5;else if(j=="sRGB")v.tabs[j]=f[h];else if(j=="bKGD")v.ctype==0||v.ctype==4?v.tabs[j]=[b(f,h)]:v.ctype==2||v.ctype==6?v.tabs[j]=[b(f,h),b(f,h+2),b(f,h+4)]:v.ctype==3&&(v.tabs[j]=f[h]);else if(j=="IEND")break;h+=L,p.readUint(f,h),h+=4}var z;return M!=0&&((z=v.frames[v.frames.length-1]).data=t(v,S.slice(0,M),z.rect.width,z.rect.height)),v.data=t(v,N,v.width,v.height),delete v.compress,delete v.interlace,delete v.filter,v},toRGBA8:function(c){const f=c.width,h=c.height;if(c.tabs.acTL==null)return[e(c.data,f,h,c).buffer];const p=[];c.frames[0].data??(c.frames[0].data=c.data);const b=f*h*4,x=new Uint8Array(b),v=new Uint8Array(b),N=new Uint8Array(b);for(let _=0;_<c.frames.length;_++){const M=c.frames[_],C=M.rect.x,D=M.rect.y,y=M.rect.width,w=M.rect.height,A=e(M.data,y,w,c);if(_!=0)for(var S=0;S<b;S++)N[S]=x[S];if(M.blend==0?m(A,y,w,x,f,h,C,D,0):M.blend==1&&m(A,y,w,x,f,h,C,D,1),p.push(x.buffer.slice(0)),M.dispose!=0){if(M.dispose==1)m(v,y,w,x,f,h,C,D,0);else if(M.dispose==2)for(S=0;S<b;S++)x[S]=N[S]}}return p},_paeth:i,_copyTile:m,_bin:n}})();(function(){const{_copyTile:n}=at,{_bin:e}=at,t=at._paeth;var s={table:(function(){const y=new Uint32Array(256);for(let w=0;w<256;w++){let A=w;for(let R=0;R<8;R++)1&A?A=3988292384^A>>>1:A>>>=1;y[w]=A}return y})(),update(y,w,A,R){for(let E=0;E<R;E++)y=s.table[255&(y^w[A+E])]^y>>>8;return y},crc:(y,w,A)=>4294967295^s.update(4294967295,y,w,A)};function r(y,w,A,R){w[A]+=y[0]*R>>4,w[A+1]+=y[1]*R>>4,w[A+2]+=y[2]*R>>4,w[A+3]+=y[3]*R>>4}function a(y){return Math.max(0,Math.min(255,y))}function o(y,w){const A=y[0]-w[0],R=y[1]-w[1],E=y[2]-w[2],I=y[3]-w[3];return A*A+R*R+E*E+I*I}function i(y,w,A,R,E,I,z){z??=1;const L=R.length,j=[];for(var k=0;k<L;k++){const O=R[k];j.push([O>>>0&255,O>>>8&255,O>>>16&255,O>>>24&255])}for(k=0;k<L;k++){let O=4294967295;for(var P=0,T=0;T<L;T++){var F=o(j[k],j[T]);T!=k&&F<O&&(O=F,P=T)}}const q=new Uint32Array(E.buffer),H=new Int16Array(w*A*4),B=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(k=0;k<B.length;k++)B[k]=255*((B[k]+.5)/16-.5);for(let O=0;O<A;O++)for(let V=0;V<w;V++){var U;k=4*(O*w+V),z!=2?U=[a(y[k]+H[k]),a(y[k+1]+H[k+1]),a(y[k+2]+H[k+2]),a(y[k+3]+H[k+3])]:(F=B[4*(3&O)+(3&V)],U=[a(y[k]+F),a(y[k+1]+F),a(y[k+2]+F),a(y[k+3]+F)]),P=0;let Z=16777215;for(T=0;T<L;T++){const te=o(U,j[T]);te<Z&&(Z=te,P=T)}const X=j[P],W=[U[0]-X[0],U[1]-X[1],U[2]-X[2],U[3]-X[3]];z==1&&(V!=w-1&&r(W,H,k+4,7),O!=A-1&&(V!=0&&r(W,H,k+4*w-4,3),r(W,H,k+4*w,5),V!=w-1&&r(W,H,k+4*w+4,1))),I[k>>2]=P,q[k>>2]=R[P]}}function d(y,w,A,R,E){E??={};const{crc:I}=s,z=e.writeUint,L=e.writeUshort,j=e.writeASCII;let k=8;const P=y.frames.length>1;let T,F=!1,q=33+(P?20:0);if(E.sRGB!=null&&(q+=13),E.pHYs!=null&&(q+=21),E.iCCP!=null&&(T=pako.deflate(E.iCCP),q+=21+T.length+4),y.ctype==3){for(var H=y.plte.length,B=0;B<H;B++)y.plte[B]>>>24!=255&&(F=!0);q+=8+3*H+4+(F?8+1*H+4:0)}for(var U=0;U<y.frames.length;U++)P&&(q+=38),q+=(X=y.frames[U]).cimg.length+12,U!=0&&(q+=4);q+=12;const O=new Uint8Array(q),V=[137,80,78,71,13,10,26,10];for(B=0;B<8;B++)O[B]=V[B];if(z(O,k,13),k+=4,j(O,k,"IHDR"),k+=4,z(O,k,w),k+=4,z(O,k,A),k+=4,O[k]=y.depth,k++,O[k]=y.ctype,k++,O[k]=0,k++,O[k]=0,k++,O[k]=0,k++,z(O,k,I(O,k-17,17)),k+=4,E.sRGB!=null&&(z(O,k,1),k+=4,j(O,k,"sRGB"),k+=4,O[k]=E.sRGB,k++,z(O,k,I(O,k-5,5)),k+=4),E.iCCP!=null){const W=13+T.length;z(O,k,W),k+=4,j(O,k,"iCCP"),k+=4,j(O,k,"ICC profile"),k+=11,k+=2,O.set(T,k),k+=T.length,z(O,k,I(O,k-(W+4),W+4)),k+=4}if(E.pHYs!=null&&(z(O,k,9),k+=4,j(O,k,"pHYs"),k+=4,z(O,k,E.pHYs[0]),k+=4,z(O,k,E.pHYs[1]),k+=4,O[k]=E.pHYs[2],k++,z(O,k,I(O,k-13,13)),k+=4),P&&(z(O,k,8),k+=4,j(O,k,"acTL"),k+=4,z(O,k,y.frames.length),k+=4,z(O,k,E.loop!=null?E.loop:0),k+=4,z(O,k,I(O,k-12,12)),k+=4),y.ctype==3){for(z(O,k,3*(H=y.plte.length)),k+=4,j(O,k,"PLTE"),k+=4,B=0;B<H;B++){const W=3*B,te=y.plte[B],Q=255&te,K=te>>>8&255,ne=te>>>16&255;O[k+W+0]=Q,O[k+W+1]=K,O[k+W+2]=ne}if(k+=3*H,z(O,k,I(O,k-3*H-4,3*H+4)),k+=4,F){for(z(O,k,H),k+=4,j(O,k,"tRNS"),k+=4,B=0;B<H;B++)O[k+B]=y.plte[B]>>>24&255;k+=H,z(O,k,I(O,k-H-4,H+4)),k+=4}}let Z=0;for(U=0;U<y.frames.length;U++){var X=y.frames[U];P&&(z(O,k,26),k+=4,j(O,k,"fcTL"),k+=4,z(O,k,Z++),k+=4,z(O,k,X.rect.width),k+=4,z(O,k,X.rect.height),k+=4,z(O,k,X.rect.x),k+=4,z(O,k,X.rect.y),k+=4,L(O,k,R[U]),k+=2,L(O,k,1e3),k+=2,O[k]=X.dispose,k++,O[k]=X.blend,k++,z(O,k,I(O,k-30,30)),k+=4);const W=X.cimg;z(O,k,(H=W.length)+(U==0?0:4)),k+=4;const te=k;j(O,k,U==0?"IDAT":"fdAT"),k+=4,U!=0&&(z(O,k,Z++),k+=4),O.set(W,k),k+=H,z(O,k,I(O,te,k-te)),k+=4}return z(O,k,0),k+=4,j(O,k,"IEND"),k+=4,z(O,k,I(O,k-4,4)),k+=4,O.buffer}function m(y,w,A){for(let R=0;R<y.frames.length;R++){const E=y.frames[R];E.rect.width;const I=E.rect.height,z=new Uint8Array(I*E.bpl+I);E.cimg=h(E.img,I,E.bpp,E.bpl,z,w,A)}}function u(y,w,A,R,E){const I=E[0],z=E[1],L=E[2],j=E[3],k=E[4],P=E[5];let T=6,F=8,q=255;for(var H=0;H<y.length;H++){const ee=new Uint8Array(y[H]);for(var B=ee.length,U=0;U<B;U+=4)q&=ee[U+3]}const O=q!=255,V=(function(se,le,oe,be,ye,ce){const ve=[];for(var me=0;me<se.length;me++){const de=new Uint8Array(se[me]),_e=new Uint32Array(de.buffer);var Ce;let ke=0,Ae=0,Ee=le,Ie=oe,Ze=be?1:0;if(me!=0){const ae=ce||be||me==1||ve[me-2].dispose!=0?1:2;let xe=0,je=1e9;for(let ze=0;ze<ae;ze++){var Ne=new Uint8Array(se[me-1-ze]);const Te=new Uint32Array(se[me-1-ze]);let De=le,Se=oe,$=-1,he=-1;for(let ge=0;ge<oe;ge++)for(let fe=0;fe<le;fe++)_e[Re=ge*le+fe]!=Te[Re]&&(fe<De&&(De=fe),fe>$&&($=fe),ge<Se&&(Se=ge),ge>he&&(he=ge));$==-1&&(De=Se=$=he=0),ye&&((1&De)==1&&De--,(1&Se)==1&&Se--);const ue=($-De+1)*(he-Se+1);ue<je&&(je=ue,xe=ze,ke=De,Ae=Se,Ee=$-De+1,Ie=he-Se+1)}Ne=new Uint8Array(se[me-1-xe]),xe==1&&(ve[me-1].dispose=2),Ce=new Uint8Array(Ee*Ie*4),n(Ne,le,oe,Ce,Ee,Ie,-ke,-Ae,0),Ze=n(de,le,oe,Ce,Ee,Ie,-ke,-Ae,3)?1:0,Ze==1?f(de,le,oe,Ce,{x:ke,y:Ae,width:Ee,height:Ie}):n(de,le,oe,Ce,Ee,Ie,-ke,-Ae,0)}else Ce=de.slice(0);ve.push({rect:{x:ke,y:Ae,width:Ee,height:Ie},img:Ce,blend:Ze,dispose:0})}if(be)for(me=0;me<ve.length;me++){if((Me=ve[me]).blend==1)continue;const de=Me.rect,_e=ve[me-1].rect,ke=Math.min(de.x,_e.x),Ae=Math.min(de.y,_e.y),Ee={x:ke,y:Ae,width:Math.max(de.x+de.width,_e.x+_e.width)-ke,height:Math.max(de.y+de.height,_e.y+_e.height)-Ae};ve[me-1].dispose=1,me-1!=0&&c(se,le,oe,ve,me-1,Ee,ye),c(se,le,oe,ve,me,Ee,ye)}let we=0;if(se.length!=1)for(var Re=0;Re<ve.length;Re++){var Me;we+=(Me=ve[Re]).rect.width*Me.rect.height}return ve})(y,w,A,I,z,L),Z={},X=[],W=[];if(R!=0){const ee=[];for(U=0;U<V.length;U++)ee.push(V[U].img.buffer);const se=b((function(be){let ye=0;for(var ce=0;ce<be.length;ce++)ye+=be[ce].byteLength;const ve=new Uint8Array(ye);let me=0;for(ce=0;ce<be.length;ce++){const Ce=new Uint8Array(be[ce]),Ne=Ce.length;for(let we=0;we<Ne;we+=4){let Re=Ce[we],Me=Ce[we+1],de=Ce[we+2];const _e=Ce[we+3];_e==0&&(Re=Me=de=0),ve[me+we]=Re,ve[me+we+1]=Me,ve[me+we+2]=de,ve[me+we+3]=_e}me+=Ne}return ve.buffer})(ee),R);for(U=0;U<se.plte.length;U++)X.push(se.plte[U].est.rgba);let le=0;for(U=0;U<V.length;U++){const oe=(Q=V[U]).img.length;var te=new Uint8Array(se.inds.buffer,le>>2,oe>>2);W.push(te);const be=new Uint8Array(se.abuf,le,oe);P&&i(Q.img,Q.rect.width,Q.rect.height,X,be,te),Q.img.set(be),le+=oe}}else for(H=0;H<V.length;H++){var Q=V[H];const ee=new Uint32Array(Q.img.buffer);var K=Q.rect.width;for(B=ee.length,te=new Uint8Array(B),W.push(te),U=0;U<B;U++){const se=ee[U];if(U!=0&&se==ee[U-1])te[U]=te[U-1];else if(U>K&&se==ee[U-K])te[U]=te[U-K];else{let le=Z[se];if(le==null&&(Z[se]=le=X.length,X.push(se),X.length>=300))break;te[U]=le}}}const ne=X.length;for(ne<=256&&k==0&&(F=ne<=2?1:ne<=4?2:ne<=16?4:8,F=Math.max(F,j)),H=0;H<V.length;H++){(Q=V[H]).rect.x,Q.rect.y,K=Q.rect.width;const ee=Q.rect.height;let se=Q.img;new Uint32Array(se.buffer);let le=4*K,oe=4;if(ne<=256&&k==0){le=Math.ceil(F*K/8);var G=new Uint8Array(le*ee);const be=W[H];for(let ye=0;ye<ee;ye++){U=ye*le;const ce=ye*K;if(F==8)for(var J=0;J<K;J++)G[U+J]=be[ce+J];else if(F==4)for(J=0;J<K;J++)G[U+(J>>1)]|=be[ce+J]<<4-4*(1&J);else if(F==2)for(J=0;J<K;J++)G[U+(J>>2)]|=be[ce+J]<<6-2*(3&J);else if(F==1)for(J=0;J<K;J++)G[U+(J>>3)]|=be[ce+J]<<7-1*(7&J)}se=G,T=3,oe=1}else if(O==0&&V.length==1){G=new Uint8Array(K*ee*3);const be=K*ee;for(U=0;U<be;U++){const ye=3*U,ce=4*U;G[ye]=se[ce],G[ye+1]=se[ce+1],G[ye+2]=se[ce+2]}se=G,T=2,oe=3,le=3*K}Q.img=se,Q.bpl=le,Q.bpp=oe}return{ctype:T,depth:F,plte:X,frames:V}}function c(y,w,A,R,E,I,z){const L=Uint8Array,j=Uint32Array,k=new L(y[E-1]),P=new j(y[E-1]),T=E+1<y.length?new L(y[E+1]):null,F=new L(y[E]),q=new j(F.buffer);let H=w,B=A,U=-1,O=-1;for(let Z=0;Z<I.height;Z++)for(let X=0;X<I.width;X++){const W=I.x+X,te=I.y+Z,Q=te*w+W,K=q[Q];K==0||R[E-1].dispose==0&&P[Q]==K&&(T==null||T[4*Q+3]!=0)||(W<H&&(H=W),W>U&&(U=W),te<B&&(B=te),te>O&&(O=te))}U==-1&&(H=B=U=O=0),z&&((1&H)==1&&H--,(1&B)==1&&B--),I={x:H,y:B,width:U-H+1,height:O-B+1};const V=R[E];V.rect=I,V.blend=1,V.img=new Uint8Array(I.width*I.height*4),R[E-1].dispose==0?(n(k,w,A,V.img,I.width,I.height,-I.x,-I.y,0),f(F,w,A,V.img,I)):n(F,w,A,V.img,I.width,I.height,-I.x,-I.y,0)}function f(y,w,A,R,E){n(y,w,A,R,E.width,E.height,-E.x,-E.y,2)}function h(y,w,A,R,E,I,z){const L=[];let j,k=[0,1,2,3,4];I!=-1?k=[I]:(w*R>5e5||A==1)&&(k=[0]),z&&(j={level:0});const P=jl;for(var T=0;T<k.length;T++){for(let H=0;H<w;H++)p(E,y,H,R,A,k[T]);L.push(P.deflate(E,j))}let F,q=1e9;for(T=0;T<L.length;T++)L[T].length<q&&(F=T,q=L[T].length);return L[F]}function p(y,w,A,R,E,I){const z=A*R;let L=z+A;if(y[L]=I,L++,I==0)if(R<500)for(var j=0;j<R;j++)y[L+j]=w[z+j];else y.set(new Uint8Array(w.buffer,z,R),L);else if(I==1){for(j=0;j<E;j++)y[L+j]=w[z+j];for(j=E;j<R;j++)y[L+j]=w[z+j]-w[z+j-E]+256&255}else if(A==0){for(j=0;j<E;j++)y[L+j]=w[z+j];if(I==2)for(j=E;j<R;j++)y[L+j]=w[z+j];if(I==3)for(j=E;j<R;j++)y[L+j]=w[z+j]-(w[z+j-E]>>1)+256&255;if(I==4)for(j=E;j<R;j++)y[L+j]=w[z+j]-t(w[z+j-E],0,0)+256&255}else{if(I==2)for(j=0;j<R;j++)y[L+j]=w[z+j]+256-w[z+j-R]&255;if(I==3){for(j=0;j<E;j++)y[L+j]=w[z+j]+256-(w[z+j-R]>>1)&255;for(j=E;j<R;j++)y[L+j]=w[z+j]+256-(w[z+j-R]+w[z+j-E]>>1)&255}if(I==4){for(j=0;j<E;j++)y[L+j]=w[z+j]+256-t(0,w[z+j-R],0)&255;for(j=E;j<R;j++)y[L+j]=w[z+j]+256-t(w[z+j-E],w[z+j-R],w[z+j-E-R])&255}}}function b(y,w){const A=new Uint8Array(y),R=A.slice(0),E=new Uint32Array(R.buffer),I=x(R,w),z=I[0],L=I[1],j=A.length,k=new Uint8Array(j>>2);let P;if(A.length<2e7)for(var T=0;T<j;T+=4)P=v(z,F=A[T]*(1/255),q=A[T+1]*(1/255),H=A[T+2]*(1/255),B=A[T+3]*(1/255)),k[T>>2]=P.ind,E[T>>2]=P.est.rgba;else for(T=0;T<j;T+=4){var F=A[T]*.00392156862745098,q=A[T+1]*(1/255),H=A[T+2]*(1/255),B=A[T+3]*(1/255);for(P=z;P.left;)P=N(P.est,F,q,H,B)<=0?P.left:P.right;k[T>>2]=P.ind,E[T>>2]=P.est.rgba}return{abuf:R.buffer,inds:k,plte:L}}function x(y,w,A){A??=1e-4;const R=new Uint32Array(y.buffer),E={i0:0,i1:y.length,bst:null,est:null,tdst:0,left:null,right:null};E.bst=M(y,E.i0,E.i1),E.est=C(E.bst);const I=[E];for(;I.length<w;){let L=0,j=0;for(var z=0;z<I.length;z++)I[z].est.L>L&&(L=I[z].est.L,j=z);if(L<A)break;const k=I[j],P=S(y,R,k.i0,k.i1,k.est.e,k.est.eMq255);if(k.i0>=P||k.i1<=P){k.est.L=0;continue}const T={i0:k.i0,i1:P,bst:null,est:null,tdst:0,left:null,right:null};T.bst=M(y,T.i0,T.i1),T.est=C(T.bst);const F={i0:P,i1:k.i1,bst:null,est:null,tdst:0,left:null,right:null};for(F.bst={R:[],m:[],N:k.bst.N-T.bst.N},z=0;z<16;z++)F.bst.R[z]=k.bst.R[z]-T.bst.R[z];for(z=0;z<4;z++)F.bst.m[z]=k.bst.m[z]-T.bst.m[z];F.est=C(F.bst),k.left=T,k.right=F,I[j]=T,I.push(F)}for(I.sort(((L,j)=>j.bst.N-L.bst.N)),z=0;z<I.length;z++)I[z].ind=z;return[E,I]}function v(y,w,A,R,E){if(y.left==null)return y.tdst=(function(T,F,q,H,B){const U=F-T[0],O=q-T[1],V=H-T[2],Z=B-T[3];return U*U+O*O+V*V+Z*Z})(y.est.q,w,A,R,E),y;const I=N(y.est,w,A,R,E);let z=y.left,L=y.right;I>0&&(z=y.right,L=y.left);const j=v(z,w,A,R,E);if(j.tdst<=I*I)return j;const k=v(L,w,A,R,E);return k.tdst<j.tdst?k:j}function N(y,w,A,R,E){const{e:I}=y;return I[0]*w+I[1]*A+I[2]*R+I[3]*E-y.eMq}function S(y,w,A,R,E,I){for(R-=4;A<R;){for(;_(y,A,E)<=I;)A+=4;for(;_(y,R,E)>I;)R-=4;if(A>=R)break;const z=w[A>>2];w[A>>2]=w[R>>2],w[R>>2]=z,A+=4,R-=4}for(;_(y,A,E)>I;)A-=4;return A+4}function _(y,w,A){return y[w]*A[0]+y[w+1]*A[1]+y[w+2]*A[2]+y[w+3]*A[3]}function M(y,w,A){const R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],E=[0,0,0,0],I=A-w>>2;for(let z=w;z<A;z+=4){const L=y[z]*.00392156862745098,j=y[z+1]*(1/255),k=y[z+2]*(1/255),P=y[z+3]*(1/255);E[0]+=L,E[1]+=j,E[2]+=k,E[3]+=P,R[0]+=L*L,R[1]+=L*j,R[2]+=L*k,R[3]+=L*P,R[5]+=j*j,R[6]+=j*k,R[7]+=j*P,R[10]+=k*k,R[11]+=k*P,R[15]+=P*P}return R[4]=R[1],R[8]=R[2],R[9]=R[6],R[12]=R[3],R[13]=R[7],R[14]=R[11],{R,m:E,N:I}}function C(y){const{R:w}=y,{m:A}=y,{N:R}=y,E=A[0],I=A[1],z=A[2],L=A[3],j=R==0?0:1/R,k=[w[0]-E*E*j,w[1]-E*I*j,w[2]-E*z*j,w[3]-E*L*j,w[4]-I*E*j,w[5]-I*I*j,w[6]-I*z*j,w[7]-I*L*j,w[8]-z*E*j,w[9]-z*I*j,w[10]-z*z*j,w[11]-z*L*j,w[12]-L*E*j,w[13]-L*I*j,w[14]-L*z*j,w[15]-L*L*j],P=k,T=D;let F=[Math.random(),Math.random(),Math.random(),Math.random()],q=0,H=0;if(R!=0)for(let U=0;U<16&&(F=T.multVec(P,F),H=Math.sqrt(T.dot(F,F)),F=T.sml(1/H,F),!(U!=0&&Math.abs(H-q)<1e-9));U++)q=H;const B=[E*j,I*j,z*j,L*j];return{Cov:k,q:B,e:F,L:q,eMq255:T.dot(T.sml(255,B),F),eMq:T.dot(F,B),rgba:(Math.round(255*B[3])<<24|Math.round(255*B[2])<<16|Math.round(255*B[1])<<8|Math.round(255*B[0])<<0)>>>0}}var D={multVec:(y,w)=>[y[0]*w[0]+y[1]*w[1]+y[2]*w[2]+y[3]*w[3],y[4]*w[0]+y[5]*w[1]+y[6]*w[2]+y[7]*w[3],y[8]*w[0]+y[9]*w[1]+y[10]*w[2]+y[11]*w[3],y[12]*w[0]+y[13]*w[1]+y[14]*w[2]+y[15]*w[3]],dot:(y,w)=>y[0]*w[0]+y[1]*w[1]+y[2]*w[2]+y[3]*w[3],sml:(y,w)=>[y*w[0],y*w[1],y*w[2],y*w[3]]};at.encode=function(w,A,R,E,I,z,L){E??=0,L??=!1;const j=u(w,A,R,E,[!1,!1,!1,0,L,!1]);return m(j,-1),d(j,A,R,I,z)},at.encodeLL=function(w,A,R,E,I,z,L,j){const k={ctype:0+(E==1?0:2)+(I==0?0:4),depth:z,frames:[]},P=(E+I)*z,T=P*A;for(let F=0;F<w.length;F++)k.frames.push({rect:{x:0,y:0,width:A,height:R},img:new Uint8Array(w[F]),blend:0,dispose:1,bpp:Math.ceil(P/8),bpl:Math.ceil(T/8)});return m(k,0,!0),d(k,A,R,L,j)},at.encode.compress=u,at.encode.dither=i,at.quantize=b,at.quantize.getKDtree=x,at.quantize.getNearest=v})();var sa={toArrayBuffer(n,e){const t=n.width,s=n.height,r=t<<2,a=n.getContext("2d").getImageData(0,0,t,s),o=new Uint32Array(a.data.buffer),i=(32*t+31)/32<<2,d=i*s,m=122+d,u=new ArrayBuffer(m),c=new DataView(u),f=1<<20;let h,p,b,x,v=f,N=0,S=0,_=0;function M(y){c.setUint16(S,y,!0),S+=2}function C(y){c.setUint32(S,y,!0),S+=4}function D(y){S+=y}M(19778),C(m),D(4),C(122),C(108),C(t),C(-s>>>0),M(1),M(32),C(3),C(d),C(2835),C(2835),D(8),C(16711680),C(65280),C(255),C(4278190080),C(1466527264),(function y(){for(;N<s&&v>0;){for(x=122+N*i,h=0;h<r;)v--,p=o[_++],b=p>>>24,c.setUint32(x+h,p<<8|b),h+=4;N++}_<o.length?(v=f,setTimeout(y,sa._dly)):e(u)})()},toBlob(n,e){this.toArrayBuffer(n,(t=>{e(new Blob([t],{type:"image/bmp"}))}))},_dly:9},Ye={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},kl={[Ye.CHROME]:16384,[Ye.FIREFOX]:11180,[Ye.DESKTOP_SAFARI]:16384,[Ye.IE]:8192,[Ye.IOS]:4096,[Ye.ETC]:8192},Vn=typeof window<"u",aa=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,cn=Vn&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Cl=(Vn||aa)&&(cn&&cn.getOriginalSymbol(window,"File")||typeof File<"u"&&File),oa=(Vn||aa)&&(cn&&cn.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Yn(n,e,t=Date.now()){return new Promise((s=>{const r=n.split(","),a=r[0].match(/:(.*?);/)[1],o=globalThis.atob(r[1]);let i=o.length;const d=new Uint8Array(i);for(;i--;)d[i]=o.charCodeAt(i);const m=new Blob([d],{type:a});m.name=e,m.lastModified=t,s(m)}))}function ia(n){return new Promise(((e,t)=>{const s=new oa;s.onload=()=>e(s.result),s.onerror=r=>t(r),s.readAsDataURL(n)}))}function la(n){return new Promise(((e,t)=>{const s=new Image;s.onload=()=>e(s),s.onerror=r=>t(r),s.src=n}))}function At(){if(At.cachedResult!==void 0)return At.cachedResult;let n=Ye.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?n=Ye.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?n=Ye.IOS:/Safari/i.test(e)?n=Ye.DESKTOP_SAFARI:/Firefox/i.test(e)?n=Ye.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(n=Ye.IE),At.cachedResult=n,At.cachedResult}function ca(n,e){const t=kl[At()];let s=n,r=e,a=s*r;const o=s>r?r/s:s/r;for(;a>t*t;){const i=(t+s)/2,d=(t+r)/2;i<d?(r=d,s=d*o):(r=i*o,s=i),a=s*r}return{width:s,height:r}}function xn(n,e){let t,s;try{if(t=new OffscreenCanvas(n,e),s=t.getContext("2d"),s===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{t=document.createElement("canvas"),s=t.getContext("2d")}return t.width=n,t.height=e,[t,s]}function da(n,e){const{width:t,height:s}=ca(n.width,n.height),[r,a]=xn(t,s);return e&&/jpe?g/.test(e)&&(a.fillStyle="white",a.fillRect(0,0,r.width,r.height)),a.drawImage(n,0,0,r.width,r.height),r}function sn(){return sn.cachedResult!==void 0||(sn.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),sn.cachedResult}function dn(n,e={}){return new Promise((function(t,s){let r,a;var o=function(){try{return a=da(r,e.fileType||n.type),t([r,a])}catch(d){return s(d)}},i=function(d){try{var m=function(u){try{throw u}catch(c){return s(c)}};try{let u;return ia(n).then((function(c){try{return u=c,la(u).then((function(f){try{return r=f,(function(){try{return o()}catch(h){return s(h)}})()}catch(h){return m(h)}}),m)}catch(f){return m(f)}}),m)}catch(u){m(u)}}catch(u){return s(u)}};try{if(sn()||[Ye.DESKTOP_SAFARI,Ye.MOBILE_SAFARI].includes(At()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(n).then((function(d){try{return r=d,o()}catch{return i()}}),i)}catch{i()}}))}function un(n,e,t,s,r=1){return new Promise((function(a,o){let i;if(e==="image/png"){let m,u,c;return m=n.getContext("2d"),{data:u}=m.getImageData(0,0,n.width,n.height),c=at.encode([u.buffer],n.width,n.height,4096*r),i=new Blob([c],{type:e}),i.name=t,i.lastModified=s,d.call(this)}{let m=function(){return d.call(this)};if(e==="image/bmp")return new Promise((u=>sa.toBlob(n,u))).then(function(u){try{return i=u,i.name=t,i.lastModified=s,m.call(this)}catch(c){return o(c)}}.bind(this),o);{let u=function(){return m.call(this)};if(typeof OffscreenCanvas=="function"&&n instanceof OffscreenCanvas)return n.convertToBlob({type:e,quality:r}).then(function(c){try{return i=c,i.name=t,i.lastModified=s,u.call(this)}catch(f){return o(f)}}.bind(this),o);{let c;return c=n.toDataURL(e,r),Yn(c,t,s).then(function(f){try{return i=f,u.call(this)}catch(h){return o(h)}}.bind(this),o)}}}function d(){return a(i)}}))}function ct(n){n.width=0,n.height=0}function It(){return new Promise((function(n,e){let t,s,r,a;return It.cachedResult!==void 0?n(It.cachedResult):Yn("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then((function(o){try{return t=o,dn(t).then((function(i){try{return s=i[1],un(s,t.type,t.name,t.lastModified).then((function(d){try{return r=d,ct(s),dn(r).then((function(m){try{return a=m[0],It.cachedResult=a.width===1&&a.height===2,n(It.cachedResult)}catch(u){return e(u)}}),e)}catch(m){return e(m)}}),e)}catch(d){return e(d)}}),e)}catch(i){return e(i)}}),e)}))}function ua(n){return new Promise(((e,t)=>{const s=new oa;s.onload=r=>{const a=new DataView(r.target.result);if(a.getUint16(0,!1)!=65496)return e(-2);const o=a.byteLength;let i=2;for(;i<o;){if(a.getUint16(i+2,!1)<=8)return e(-1);const d=a.getUint16(i,!1);if(i+=2,d==65505){if(a.getUint32(i+=2,!1)!=1165519206)return e(-1);const m=a.getUint16(i+=6,!1)==18761;i+=a.getUint32(i+4,m);const u=a.getUint16(i,m);i+=2;for(let c=0;c<u;c++)if(a.getUint16(i+12*c,m)==274)return e(a.getUint16(i+12*c+8,m))}else{if((65280&d)!=65280)break;i+=a.getUint16(i,!1)}}return e(-1)},s.onerror=r=>t(r),s.readAsArrayBuffer(n)}))}function fa(n,e){const{width:t}=n,{height:s}=n,{maxWidthOrHeight:r}=e;let a,o=n;return isFinite(r)&&(t>r||s>r)&&([o,a]=xn(t,s),t>s?(o.width=r,o.height=s/t*r):(o.width=t/s*r,o.height=r),a.drawImage(n,0,0,o.width,o.height),ct(n)),o}function ma(n,e){const{width:t}=n,{height:s}=n,[r,a]=xn(t,s);switch(e>4&&e<9?(r.width=s,r.height=t):(r.width=t,r.height=s),e){case 2:a.transform(-1,0,0,1,t,0);break;case 3:a.transform(-1,0,0,-1,t,s);break;case 4:a.transform(1,0,0,-1,0,s);break;case 5:a.transform(0,1,1,0,0,0);break;case 6:a.transform(0,1,-1,0,s,0);break;case 7:a.transform(0,-1,-1,0,s,t);break;case 8:a.transform(0,-1,1,0,0,t)}return a.drawImage(n,0,0,t,s),ct(n),r}function gr(n,e,t=0){return new Promise((function(s,r){let a,o,i,d,m,u,c,f,h,p,b,x,v,N,S,_,M,C,D,y;function w(R=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;a+=R,e.onProgress(Math.min(a,100))}function A(R){if(e.signal&&e.signal.aborted)throw e.signal.reason;a=Math.min(Math.max(R,a),100),e.onProgress(a)}return a=t,o=e.maxIteration||10,i=1024*e.maxSizeMB*1024,w(),dn(n,e).then(function(R){try{return[,d]=R,w(),m=fa(d,e),w(),new Promise((function(E,I){var z;if(!(z=e.exifOrientation))return ua(n).then(function(j){try{return z=j,L.call(this)}catch(k){return I(k)}}.bind(this),I);function L(){return E(z)}return L.call(this)})).then(function(E){try{return u=E,w(),It().then(function(I){try{return c=I?m:ma(m,u),w(),f=e.initialQuality||1,h=e.fileType||n.type,un(c,h,n.name,n.lastModified,f).then(function(z){try{{let j=function(){if(o--&&(S>i||S>v)){let P,T;return P=y?.95*D.width:D.width,T=y?.95*D.height:D.height,[M,C]=xn(P,T),C.drawImage(D,0,0,P,T),f*=h==="image/png"?.85:.95,un(M,h,n.name,n.lastModified,f).then((function(F){try{return _=F,ct(D),D=M,S=_.size,A(Math.min(99,Math.floor((N-S)/(N-i)*100))),j}catch(q){return r(q)}}),r)}return[1]},k=function(){return ct(D),ct(M),ct(m),ct(c),ct(d),A(100),s(_)};if(p=z,w(),b=p.size>i,x=p.size>n.size,!b&&!x)return A(100),s(p);var L;return v=n.size,N=p.size,S=N,D=c,y=!e.alwaysKeepResolution&&b,(L=function(P){for(;P;){if(P.then)return void P.then(L,r);try{if(P.pop){if(P.length)return P.pop()?k.call(this):P;P=j}else P=P.call(this)}catch(T){return r(T)}}}.bind(this))(j)}}catch(j){return r(j)}}.bind(this),r)}catch(z){return r(z)}}.bind(this),r)}catch(I){return r(I)}}.bind(this),r)}catch(E){return r(E)}}.bind(this),r)}))}var Nl=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`,Cn;function _l(n,e){return new Promise(((t,s)=>{Cn||(Cn=(function(o){const i=[];return typeof o=="function"?i.push(`(${o})()`):i.push(o),URL.createObjectURL(new Blob(i))})(Nl));const r=new Worker(Cn);r.addEventListener("message",(function(o){if(e.signal&&e.signal.aborted)r.terminate();else if(o.data.progress===void 0){if(o.data.error)return s(new Error(o.data.error)),void r.terminate();t(o.data.file),r.terminate()}else e.onProgress(o.data.progress)})),r.addEventListener("error",s),e.signal&&e.signal.addEventListener("abort",(()=>{s(e.signal.reason),r.terminate()})),r.postMessage({file:n,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})}))}function qe(n,e){return new Promise((function(t,s){let r,a,o,i,d,m;if(r={...e},o=0,{onProgress:i}=r,r.maxSizeMB=r.maxSizeMB||Number.POSITIVE_INFINITY,d=typeof r.useWebWorker!="boolean"||r.useWebWorker,delete r.useWebWorker,r.onProgress=h=>{o=h,typeof i=="function"&&i(o)},!(n instanceof Blob||n instanceof Cl))return s(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(n.type))return s(new Error("The file given is not an image"));if(m=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!d||typeof Worker!="function"||m)return gr(n,r).then(function(h){try{return a=h,f.call(this)}catch(p){return s(p)}}.bind(this),s);var u=function(){try{return f.call(this)}catch(h){return s(h)}}.bind(this),c=function(h){try{return gr(n,r).then((function(p){try{return a=p,u()}catch(b){return s(b)}}),s)}catch(p){return s(p)}};try{return r.libURL=r.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",_l(n,r).then((function(h){try{return a=h,u()}catch{return c()}}),c)}catch{c()}function f(){try{a.name=n.name,a.lastModified=n.lastModified}catch{}try{r.preserveExif&&n.type==="image/jpeg"&&(!r.fileType||r.fileType&&r.fileType===n.type)&&(a=ra(n,a))}catch{}return t(a)}}))}qe.getDataUrlFromFile=ia,qe.getFilefromDataUrl=Yn,qe.loadImage=la,qe.drawImageInCanvas=da,qe.drawFileInCanvas=dn,qe.canvasToFile=un,qe.getExifOrientation=ua,qe.handleMaxWidthOrHeight=fa,qe.followExifOrientation=ma,qe.cleanupCanvasMemory=ct,qe.isAutoOrientationInBrowser=It,qe.approximateBelowMaximumCanvasSizeOfBrowser=ca,qe.copyExifWithoutOrientation=ra,qe.getBrowserName=At,qe.version="2.0.2";const Sl=async(n,e={})=>{if(!n.type.startsWith("image/"))return n;const t={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0,initialQuality:.8,fileType:"image/webp",...e};try{const s=await qe(n,t);return console.log(`Original size: ${(n.size/1024/1024).toFixed(2)} MB`),console.log(`Compressed size: ${(s.size/1024/1024).toFixed(2)} MB`),s}catch(s){return console.error("Image compression failed:",s),n}},zl=(n,e=1)=>new Promise((t,s)=>{const r=document.createElement("video");r.preload="metadata",r.src=URL.createObjectURL(n),r.muted=!0,r.playsInline=!0,r.onloadedmetadata=()=>{r.currentTime=e},r.onseeked=()=>{const a=document.createElement("canvas");a.width=r.videoWidth,a.height=r.videoHeight;const o=a.getContext("2d");if(!o){URL.revokeObjectURL(r.src),s(new Error("Could not get canvas context"));return}o.drawImage(r,0,0,a.width,a.height),a.toBlob(i=>{if(!i){URL.revokeObjectURL(r.src),s(new Error("Could not create blob"));return}const d=new File([i],"thumbnail.webp",{type:"image/webp"});URL.revokeObjectURL(r.src),t(d)},"image/webp",.7)},r.onerror=a=>s(a)}),Et=async(n,e="media",t=null)=>{let s=n,r=n.name.split(".").pop(),a=null;if(n.type.startsWith("image/"))try{s=await Sl(n),r="webp"}catch(u){console.error("Image compression failed, uploading original:",u)}if(n.type.startsWith("video/"))try{t?a=(await Et(t,e)).url:a=(await Et(await zl(n),e)).url}catch(u){console.error("Failed to handle video poster:",u)}const o=`${`${crypto.randomUUID()}.${r}`}`,{data:i,error:d}=await Y.storage.from(e).upload(o,s);if(d)throw d;const{data:{publicUrl:m}}=Y.storage.from(e).getPublicUrl(i.path);return{url:m,poster:a,name:n.name,type:n.type.startsWith("image/")?"image":n.type.startsWith("video/")?"video":"file",size:s.size}};var l=Bn(Uo(),1),ha=(0,g.createContext)(void 0);const Al=({children:n})=>{const[e,t]=(0,g.useState)(null),[s,r]=(0,g.useState)(null),[a,o]=(0,g.useState)({}),[i,d]=(0,g.useState)(!0),m=async b=>{try{const x=await na(b.id);x?(t(x),o(v=>({...v,[x.handle.toLowerCase()]:x}))):t({id:b.id,name:b.email?.split("@")[0]||"User",handle:b.email?.split("@")[0]||"user",avatar:"/default-avatar.webp",verified:!1,cover:"/welcome-banner.webp",bio:null,location:null,website:null,follower_count:0,following_count:0,lastSeen:new Date().toISOString()})}catch(x){console.error("Error fetching user profile:",x)}finally{d(!1)}};(0,g.useEffect)(()=>{if(!e?.id)return;zt(e.id);const b=setInterval(()=>zt(e.id),3e4),x=()=>{document.visibilityState==="visible"&&zt(e.id)};return window.addEventListener("visibilitychange",x),window.addEventListener("beforeunload",()=>zt(e.id)),()=>{clearInterval(b),window.removeEventListener("visibilitychange",x),window.removeEventListener("beforeunload",()=>zt(e.id))}},[e?.id]),(0,g.useEffect)(()=>{Y.auth.getSession().then(({data:{session:x}})=>{x?m(x.user):d(!1)});const{data:{subscription:b}}=Y.auth.onAuthStateChange((x,v)=>{v?m(v.user):(t(null),d(!1))});return()=>b.unsubscribe()},[]);const u=async({email:b,password:x})=>{const{data:v,error:N}=await Y.auth.signInWithPassword({email:b,password:x});if(N)throw N;return r(null),v},c=async({email:b,password:x,username:v,name:N})=>{const{data:{user:S},error:_}=await Y.auth.signUp({email:b,password:x,options:{data:{username:v.toLowerCase(),name:N}}});if(_)throw _;return r(null),S},f=async()=>{await Y.auth.signOut(),t(null),r(null)},h=async b=>{e&&(await Xi(e.id,b),await m(e))},p=async b=>{const x=b.toLowerCase();if(a[x])return a[x];const v=await Yi(b);return v?(o(N=>({...N,[x]:v})),v):null};return(0,l.jsx)(ha.Provider,{value:{currentUser:e,authMode:s,setAuthMode:r,profiles:a,login:u,signup:c,logout:f,updateProfile:h,getProfileByHandle:p,loading:i},children:!i&&n})},$e=()=>{const n=(0,g.useContext)(ha);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n};var El=ie(),pa=(0,g.createContext)(void 0);const Rl=n=>{const e=(0,El.c)(10),{children:t}=n,{currentUser:s}=$e();let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=new Set,e[0]=r):r=e[0];const[a,o]=(0,g.useState)(r);let i;e[1]!==s?(i=()=>{if(!s?.id)return;const f=Y.channel("global_presence",{config:{presence:{key:s.id}}});return f.on("presence",{event:"sync"},()=>{const h=f.presenceState(),p=new Set;Object.keys(h).forEach(b=>p.add(b)),o(p)}).subscribe(async h=>{h==="SUBSCRIBED"&&(await f.track({userId:s.id,online_at:new Date().toISOString()}),zt(s.id))}),()=>{s?.id&&zt(s.id),Y.removeChannel(f),o(new Set)}},e[1]=s,e[2]=i):i=e[2];const d=s?.id;let m;e[3]!==d?(m=[d],e[3]=d,e[4]=m):m=e[4],(0,g.useEffect)(i,m);let u;e[5]!==a?(u={onlineUsers:a},e[5]=a,e[6]=u):u=e[6];let c;return e[7]!==t||e[8]!==u?(c=(0,l.jsx)(pa.Provider,{value:u,children:t}),e[7]=t,e[8]=u,e[9]=c):c=e[9],c},Ml=()=>{const n=(0,g.useContext)(pa);if(!n)throw new Error("usePresence must be used within a PresenceProvider");return n};var Il=ie(),ga=(0,g.createContext)(void 0);const Dl=n=>{const e=(0,Il.c)(19),{children:t}=n,[s,r]=(0,g.useState)(Tl),[a,o]=(0,g.useState)(Pl),[i,d]=(0,g.useState)(Ll);let m,u;e[0]!==s?(m=()=>{localStorage.setItem("theme",s?"dark":"light"),s?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},u=[s],e[0]=s,e[1]=m,e[2]=u):(m=e[1],u=e[2]),(0,g.useEffect)(m,u);let c,f;e[3]!==a?(c=()=>{localStorage.setItem("font-size",a),document.documentElement.style.setProperty("--app-font-size",{small:"14px",base:"16px",large:"18px"}[a])},f=[a],e[3]=a,e[4]=c,e[5]=f):(c=e[4],f=e[5]),(0,g.useEffect)(c,f);let h,p;e[6]!==i?(h=()=>{localStorage.setItem("data-saver",String(i))},p=[i],e[6]=i,e[7]=h,e[8]=p):(h=e[7],p=e[8]),(0,g.useEffect)(h,p);let b;e[9]!==s?(b=()=>r(!s),e[9]=s,e[10]=b):b=e[10];const x=b;let v;e[11]!==s||e[12]!==i||e[13]!==a||e[14]!==x?(v={darkMode:s,setDarkMode:r,toggleDarkMode:x,fontSize:a,setFontSize:o,dataSaver:i,setDataSaver:d},e[11]=s,e[12]=i,e[13]=a,e[14]=x,e[15]=v):v=e[15];let N;return e[16]!==t||e[17]!==v?(N=(0,l.jsx)(ga.Provider,{value:v,children:t}),e[16]=t,e[17]=v,e[18]=N):N=e[18],N},Xn=()=>{const n=(0,g.useContext)(ga);if(!n)throw new Error("useTheme must be used within a ThemeProvider");return n};function Tl(){const n=localStorage.getItem("theme");return n==="dark"||!n&&window.matchMedia("(prefers-color-scheme: dark)").matches}function Pl(){return localStorage.getItem("font-size")||"base"}function Ll(){return localStorage.getItem("data-saver")==="true"}var Fl=Bn($r(),1);function Ol(n){if(!n||typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}var Ul=n=>{switch(n){case"success":return ql;case"info":return Vl;case"warning":return Wl;case"error":return Yl;default:return null}},Hl=Array(12).fill(0),Bl=({visible:n,className:e})=>g.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},g.createElement("div",{className:"sonner-spinner"},Hl.map((t,s)=>g.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),ql=g.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},g.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Wl=g.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},g.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Vl=g.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},g.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Yl=g.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},g.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Xl=g.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},g.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),g.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Kl=()=>{const[n,e]=g.useState(document.hidden);return g.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n},In=1,Ql=class{constructor(){this.subscribe=n=>(this.subscribers.push(n),()=>{const e=this.subscribers.indexOf(n);this.subscribers.splice(e,1)}),this.publish=n=>{this.subscribers.forEach(e=>e(n))},this.addToast=n=>{this.publish(n),this.toasts=[...this.toasts,n]},this.create=n=>{var e;const{message:t,...s}=n,r=typeof n?.id=="number"||((e=n.id)==null?void 0:e.length)>0?n.id:In++,a=this.toasts.find(i=>i.id===r),o=n.dismissible===void 0?!0:n.dismissible;return this.dismissedToasts.has(r)&&this.dismissedToasts.delete(r),a?this.toasts=this.toasts.map(i=>i.id===r?(this.publish({...i,...n,id:r,title:t}),{...i,...n,id:r,dismissible:o,title:t}):i):this.addToast({title:t,...s,dismissible:o,id:r}),r},this.dismiss=n=>(n?(this.dismissedToasts.add(n),requestAnimationFrame(()=>this.subscribers.forEach(e=>e({id:n,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),n),this.message=(n,e)=>this.create({...e,message:n}),this.error=(n,e)=>this.create({...e,message:n,type:"error"}),this.success=(n,e)=>this.create({...e,type:"success",message:n}),this.info=(n,e)=>this.create({...e,type:"info",message:n}),this.warning=(n,e)=>this.create({...e,type:"warning",message:n}),this.loading=(n,e)=>this.create({...e,type:"loading",message:n}),this.promise=(n,e)=>{if(!e)return;let t;e.loading!==void 0&&(t=this.create({...e,promise:n,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));const s=Promise.resolve(n instanceof Function?n():n);let r=t!==void 0,a;const o=s.then(async d=>{if(a=["resolve",d],g.isValidElement(d))r=!1,this.create({id:t,type:"default",message:d});else if(Gl(d)&&!d.ok){r=!1;const m=typeof e.error=="function"?await e.error(`HTTP error! status: ${d.status}`):e.error,u=typeof e.description=="function"?await e.description(`HTTP error! status: ${d.status}`):e.description,c=typeof m=="object"&&!g.isValidElement(m)?m:{message:m};this.create({id:t,type:"error",description:u,...c})}else if(d instanceof Error){r=!1;const m=typeof e.error=="function"?await e.error(d):e.error,u=typeof e.description=="function"?await e.description(d):e.description,c=typeof m=="object"&&!g.isValidElement(m)?m:{message:m};this.create({id:t,type:"error",description:u,...c})}else if(e.success!==void 0){r=!1;const m=typeof e.success=="function"?await e.success(d):e.success,u=typeof e.description=="function"?await e.description(d):e.description,c=typeof m=="object"&&!g.isValidElement(m)?m:{message:m};this.create({id:t,type:"success",description:u,...c})}}).catch(async d=>{if(a=["reject",d],e.error!==void 0){r=!1;const m=typeof e.error=="function"?await e.error(d):e.error,u=typeof e.description=="function"?await e.description(d):e.description,c=typeof m=="object"&&!g.isValidElement(m)?m:{message:m};this.create({id:t,type:"error",description:u,...c})}}).finally(()=>{r&&(this.dismiss(t),t=void 0),e.finally==null||e.finally.call(e)}),i=()=>new Promise((d,m)=>o.then(()=>a[0]==="reject"?m(a[1]):d(a[1])).catch(m));return typeof t!="string"&&typeof t!="number"?{unwrap:i}:Object.assign(t,{unwrap:i})},this.custom=(n,e)=>{const t=e?.id||In++;return this.create({jsx:n(t),id:t,...e}),t},this.getActiveToasts=()=>this.toasts.filter(n=>!this.dismissedToasts.has(n.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ve=new Ql,Zl=(n,e)=>{const t=e?.id||In++;return Ve.addToast({title:n,...e,id:t}),t},Gl=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",Jl=Zl,$l=()=>Ve.toasts,ec=()=>Ve.getActiveToasts(),Nn=Object.assign(Jl,{success:Ve.success,info:Ve.info,warning:Ve.warning,error:Ve.error,custom:Ve.custom,message:Ve.message,promise:Ve.promise,dismiss:Ve.dismiss,loading:Ve.loading},{getHistory:$l,getToasts:ec});Ol("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function nn(n){return n.label!==void 0}var tc=3,nc="24px",rc="16px",vr=4e3,sc=356,ac=14,oc=45,ic=200;function lt(...n){return n.filter(Boolean).join(" ")}function lc(n){const[e,t]=n.split("-"),s=[];return e&&s.push(e),t&&s.push(t),s}var cc=n=>{var e,t,s,r,a,o,i,d,m;const{invert:u,toast:c,unstyled:f,interacting:h,setHeights:p,visibleToasts:b,heights:x,index:v,toasts:N,expanded:S,removeToast:_,defaultRichColors:M,closeButton:C,style:D,cancelButtonStyle:y,actionButtonStyle:w,className:A="",descriptionClassName:R="",duration:E,position:I,gap:z,expandByDefault:L,classNames:j,icons:k,closeButtonAriaLabel:P="Close toast"}=n,[T,F]=g.useState(null),[q,H]=g.useState(null),[B,U]=g.useState(!1),[O,V]=g.useState(!1),[Z,X]=g.useState(!1),[W,te]=g.useState(!1),[Q,K]=g.useState(!1),[ne,G]=g.useState(0),[J,ee]=g.useState(0),se=g.useRef(c.duration||E||vr),le=g.useRef(null),oe=g.useRef(null),be=v===0,ye=v+1<=b,ce=c.type,ve=c.dismissible!==!1,me=c.className||"",Ce=c.descriptionClassName||"",Ne=g.useMemo(()=>x.findIndex($=>$.toastId===c.id)||0,[x,c.id]),we=g.useMemo(()=>{var $;return($=c.closeButton)!=null?$:C},[c.closeButton,C]),Re=g.useMemo(()=>c.duration||E||vr,[c.duration,E]),Me=g.useRef(0),de=g.useRef(0),_e=g.useRef(0),ke=g.useRef(null),[Ae,Ee]=I.split("-"),Ie=g.useMemo(()=>x.reduce(($,he,ue)=>ue>=Ne?$:$+he.height,0),[x,Ne]),Ze=Kl(),ae=c.invert||u,xe=ce==="loading";de.current=g.useMemo(()=>Ne*z+Ie,[Ne,Ie]),g.useEffect(()=>{se.current=Re},[Re]),g.useEffect(()=>{U(!0)},[]),g.useEffect(()=>{const $=oe.current;if($){const he=$.getBoundingClientRect().height;return ee(he),p(ue=>[{toastId:c.id,height:he,position:c.position},...ue]),()=>p(ue=>ue.filter(ge=>ge.toastId!==c.id))}},[p,c.id]),g.useLayoutEffect(()=>{if(!B)return;const $=oe.current,he=$.style.height;$.style.height="auto";const ue=$.getBoundingClientRect().height;$.style.height=he,ee(ue),p(ge=>ge.find(fe=>fe.toastId===c.id)?ge.map(fe=>fe.toastId===c.id?{...fe,height:ue}:fe):[{toastId:c.id,height:ue,position:c.position},...ge])},[B,c.title,c.description,p,c.id,c.jsx,c.action,c.cancel]);const je=g.useCallback(()=>{V(!0),G(de.current),p($=>$.filter(he=>he.toastId!==c.id)),setTimeout(()=>{_(c)},ic)},[c,_,p,de]);g.useEffect(()=>{if(c.promise&&ce==="loading"||c.duration===1/0||c.type==="loading")return;let $;return S||h||Ze?(()=>{if(_e.current<Me.current){const ge=new Date().getTime()-Me.current;se.current=se.current-ge}_e.current=new Date().getTime()})():se.current!==1/0&&(Me.current=new Date().getTime(),$=setTimeout(()=>{c.onAutoClose==null||c.onAutoClose.call(c,c),je()},se.current)),()=>clearTimeout($)},[S,h,c,ce,Ze,je]),g.useEffect(()=>{c.delete&&(je(),c.onDismiss==null||c.onDismiss.call(c,c))},[je,c.delete]);function ze(){var $;if(k?.loading){var he;return g.createElement("div",{className:lt(j?.loader,c==null||(he=c.classNames)==null?void 0:he.loader,"sonner-loader"),"data-visible":ce==="loading"},k.loading)}return g.createElement(Bl,{className:lt(j?.loader,c==null||($=c.classNames)==null?void 0:$.loader),visible:ce==="loading"})}const Te=c.icon||k?.[ce]||Ul(ce);var De,Se;return g.createElement("li",{tabIndex:0,ref:oe,className:lt(A,me,j?.toast,c==null||(e=c.classNames)==null?void 0:e.toast,j?.default,j?.[ce],c==null||(t=c.classNames)==null?void 0:t[ce]),"data-sonner-toast":"","data-rich-colors":(De=c.richColors)!=null?De:M,"data-styled":!(c.jsx||c.unstyled||f),"data-mounted":B,"data-promise":!!c.promise,"data-swiped":Q,"data-removed":O,"data-visible":ye,"data-y-position":Ae,"data-x-position":Ee,"data-index":v,"data-front":be,"data-swiping":Z,"data-dismissible":ve,"data-type":ce,"data-invert":ae,"data-swipe-out":W,"data-swipe-direction":q,"data-expanded":!!(S||L&&B),"data-testid":c.testId,style:{"--index":v,"--toasts-before":v,"--z-index":N.length-v,"--offset":`${O?ne:de.current}px`,"--initial-height":L?"auto":`${J}px`,...D,...c.style},onDragEnd:()=>{X(!1),F(null),ke.current=null},onPointerDown:$=>{$.button!==2&&(xe||!ve||(le.current=new Date,G(de.current),$.target.setPointerCapture($.pointerId),$.target.tagName!=="BUTTON"&&(X(!0),ke.current={x:$.clientX,y:$.clientY})))},onPointerUp:()=>{var $,he,ue;if(W||!ve)return;ke.current=null;const ge=Number((($=oe.current)==null?void 0:$.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),fe=Number(((he=oe.current)==null?void 0:he.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Fe=new Date().getTime()-((ue=le.current)==null?void 0:ue.getTime()),et=T==="x"?ge:fe,He=Math.abs(et)/Fe;if(Math.abs(et)>=oc||He>.11){G(de.current),c.onDismiss==null||c.onDismiss.call(c,c),H(T==="x"?ge>0?"right":"left":fe>0?"down":"up"),je(),te(!0);return}else{var Oe,rt;(Oe=oe.current)==null||Oe.style.setProperty("--swipe-amount-x","0px"),(rt=oe.current)==null||rt.style.setProperty("--swipe-amount-y","0px")}K(!1),X(!1),F(null)},onPointerMove:$=>{var he,ue,ge;if(!ke.current||!ve||((he=window.getSelection())==null?void 0:he.toString().length)>0)return;const fe=$.clientY-ke.current.y,Fe=$.clientX-ke.current.x;var et;const He=(et=n.swipeDirections)!=null?et:lc(I);!T&&(Math.abs(Fe)>1||Math.abs(fe)>1)&&F(Math.abs(Fe)>Math.abs(fe)?"x":"y");let Oe={x:0,y:0};const rt=ht=>1/(1.5+Math.abs(ht)/20);if(T==="y"){if(He.includes("top")||He.includes("bottom"))if(He.includes("top")&&fe<0||He.includes("bottom")&&fe>0)Oe.y=fe;else{const ht=fe*rt(fe);Oe.y=Math.abs(ht)<Math.abs(fe)?ht:fe}}else if(T==="x"&&(He.includes("left")||He.includes("right")))if(He.includes("left")&&Fe<0||He.includes("right")&&Fe>0)Oe.x=Fe;else{const ht=Fe*rt(Fe);Oe.x=Math.abs(ht)<Math.abs(Fe)?ht:Fe}(Math.abs(Oe.x)>0||Math.abs(Oe.y)>0)&&K(!0),(ue=oe.current)==null||ue.style.setProperty("--swipe-amount-x",`${Oe.x}px`),(ge=oe.current)==null||ge.style.setProperty("--swipe-amount-y",`${Oe.y}px`)}},we&&!c.jsx&&ce!=="loading"?g.createElement("button",{"aria-label":P,"data-disabled":xe,"data-close-button":!0,onClick:xe||!ve?()=>{}:()=>{je(),c.onDismiss==null||c.onDismiss.call(c,c)},className:lt(j?.closeButton,c==null||(s=c.classNames)==null?void 0:s.closeButton)},(Se=k?.close)!=null?Se:Xl):null,(ce||c.icon||c.promise)&&c.icon!==null&&(k?.[ce]!==null||c.icon)?g.createElement("div",{"data-icon":"",className:lt(j?.icon,c==null||(r=c.classNames)==null?void 0:r.icon)},c.promise||c.type==="loading"&&!c.icon?c.icon||ze():null,c.type!=="loading"?Te:null):null,g.createElement("div",{"data-content":"",className:lt(j?.content,c==null||(a=c.classNames)==null?void 0:a.content)},g.createElement("div",{"data-title":"",className:lt(j?.title,c==null||(o=c.classNames)==null?void 0:o.title)},c.jsx?c.jsx:typeof c.title=="function"?c.title():c.title),c.description?g.createElement("div",{"data-description":"",className:lt(R,Ce,j?.description,c==null||(i=c.classNames)==null?void 0:i.description)},typeof c.description=="function"?c.description():c.description):null),g.isValidElement(c.cancel)?c.cancel:c.cancel&&nn(c.cancel)?g.createElement("button",{"data-button":!0,"data-cancel":!0,style:c.cancelButtonStyle||y,onClick:$=>{nn(c.cancel)&&ve&&(c.cancel.onClick==null||c.cancel.onClick.call(c.cancel,$),je())},className:lt(j?.cancelButton,c==null||(d=c.classNames)==null?void 0:d.cancelButton)},c.cancel.label):null,g.isValidElement(c.action)?c.action:c.action&&nn(c.action)?g.createElement("button",{"data-button":!0,"data-action":!0,style:c.actionButtonStyle||w,onClick:$=>{nn(c.action)&&(c.action.onClick==null||c.action.onClick.call(c.action,$),!$.defaultPrevented&&je())},className:lt(j?.actionButton,c==null||(m=c.classNames)==null?void 0:m.actionButton)},c.action.label):null)};function br(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function dc(n,e){const t={};return[n,e].forEach((s,r)=>{const a=r===1,o=a?"--mobile-offset":"--offset",i=a?rc:nc;function d(m){["top","right","bottom","left"].forEach(u=>{t[`${o}-${u}`]=typeof m=="number"?`${m}px`:m})}typeof s=="number"||typeof s=="string"?d(s):typeof s=="object"?["top","right","bottom","left"].forEach(m=>{s[m]===void 0?t[`${o}-${m}`]=i:t[`${o}-${m}`]=typeof s[m]=="number"?`${s[m]}px`:s[m]}):d(i)}),t}var uc=g.forwardRef(function(e,t){const{id:s,invert:r,position:a="bottom-right",hotkey:o=["altKey","KeyT"],expand:i,closeButton:d,className:m,offset:u,mobileOffset:c,theme:f="light",richColors:h,duration:p,style:b,visibleToasts:x=tc,toastOptions:v,dir:N=br(),gap:S=ac,icons:_,containerAriaLabel:M="Notifications"}=e,[C,D]=g.useState([]),y=g.useMemo(()=>s?C.filter(B=>B.toasterId===s):C.filter(B=>!B.toasterId),[C,s]),w=g.useMemo(()=>Array.from(new Set([a].concat(y.filter(B=>B.position).map(B=>B.position)))),[y,a]),[A,R]=g.useState([]),[E,I]=g.useState(!1),[z,L]=g.useState(!1),[j,k]=g.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),P=g.useRef(null),T=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=g.useRef(null),q=g.useRef(!1),H=g.useCallback(B=>{D(U=>{var O;return(O=U.find(V=>V.id===B.id))!=null&&O.delete||Ve.dismiss(B.id),U.filter(({id:V})=>V!==B.id)})},[]);return g.useEffect(()=>Ve.subscribe(B=>{if(B.dismiss){requestAnimationFrame(()=>{D(U=>U.map(O=>O.id===B.id?{...O,delete:!0}:O))});return}setTimeout(()=>{Fl.flushSync(()=>{D(U=>{const O=U.findIndex(V=>V.id===B.id);return O!==-1?[...U.slice(0,O),{...U[O],...B},...U.slice(O+1)]:[B,...U]})})})}),[C]),g.useEffect(()=>{if(f!=="system"){k(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?k("dark"):k("light")),typeof window>"u")return;const B=window.matchMedia("(prefers-color-scheme: dark)");try{B.addEventListener("change",({matches:U})=>{k(U?"dark":"light")})}catch{B.addListener(({matches:O})=>{try{k(O?"dark":"light")}catch(V){console.error(V)}})}},[f]),g.useEffect(()=>{C.length<=1&&I(!1)},[C]),g.useEffect(()=>{const B=U=>{var O;if(o.every(Z=>U[Z]||U.code===Z)){var V;I(!0),(V=P.current)==null||V.focus()}U.code==="Escape"&&(document.activeElement===P.current||(O=P.current)!=null&&O.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)},[o]),g.useEffect(()=>{if(P.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,q.current=!1)}},[P.current]),g.createElement("section",{ref:t,"aria-label":`${M} ${T}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},w.map((B,U)=>{var O;const[V,Z]=B.split("-");return y.length?g.createElement("ol",{key:B,dir:N==="auto"?br():N,tabIndex:-1,ref:P,className:m,"data-sonner-toaster":!0,"data-sonner-theme":j,"data-y-position":V,"data-x-position":Z,style:{"--front-toast-height":`${((O=A[0])==null?void 0:O.height)||0}px`,"--width":`${sc}px`,"--gap":`${S}px`,...b,...dc(u,c)},onBlur:X=>{q.current&&!X.currentTarget.contains(X.relatedTarget)&&(q.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:X=>{X.target instanceof HTMLElement&&X.target.dataset.dismissible==="false"||q.current||(q.current=!0,F.current=X.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{z||I(!1)},onDragEnd:()=>I(!1),onPointerDown:X=>{X.target instanceof HTMLElement&&X.target.dataset.dismissible==="false"||L(!0)},onPointerUp:()=>L(!1)},y.filter(X=>!X.position&&U===0||X.position===B).map((X,W)=>{var te,Q;return g.createElement(cc,{key:X.id,icons:_,index:W,toast:X,defaultRichColors:h,duration:(te=v?.duration)!=null?te:p,className:v?.className,descriptionClassName:v?.descriptionClassName,invert:r,visibleToasts:x,closeButton:(Q=v?.closeButton)!=null?Q:d,interacting:z,position:B,style:v?.style,unstyled:v?.unstyled,classNames:v?.classNames,cancelButtonStyle:v?.cancelButtonStyle,actionButtonStyle:v?.actionButtonStyle,closeButtonAriaLabel:v?.closeButtonAriaLabel,removeToast:H,toasts:y.filter(K=>K.position==X.position),heights:A.filter(K=>K.position==X.position),setHeights:R,expandByDefault:i,gap:S,expanded:E,swipeDirections:e.swipeDirections})})):null}))}),fc=(n,e,t,s,r,a,o,i)=>{let d=document.documentElement,m=["light","dark"];function u(h){(Array.isArray(n)?n:[n]).forEach(p=>{let b=p==="class",x=b&&a?r.map(v=>a[v]||v):r;b?(d.classList.remove(...x),d.classList.add(a&&a[h]?a[h]:h)):d.setAttribute(p,h)}),c(h)}function c(h){i&&m.includes(h)&&(d.style.colorScheme=h)}function f(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(s)u(s);else try{let h=localStorage.getItem(e)||t;u(o&&h==="system"?f():h)}catch{}};var mc=g.createContext(void 0),hc={setTheme:n=>{},themes:[]},pc=()=>{var n;return(n=g.useContext(mc))!=null?n:hc};var ph=g.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:s,enableColorScheme:r,defaultTheme:a,value:o,themes:i,nonce:d,scriptProps:m})=>{let u=JSON.stringify([t,e,a,n,i,o,s,r]).slice(1,-1);return g.createElement("script",{...m,suppressHydrationWarning:!0,nonce:typeof window>"u"?d:"",dangerouslySetInnerHTML:{__html:`(${fc.toString()})(${u})`}})});var gc=ie(),vc=n=>{const e=(0,gc.c)(8);let t;e[0]!==n?({...t}=n,e[0]=n,e[1]=t):t=e[1];const{theme:s}=pc(),r=s===void 0?"system":s;let a,o,i;e[2]===Symbol.for("react.memo_cache_sentinel")?(a={classNames:{toast:"group toast group-[.toaster]:bg-white group-[.toaster]:text-zinc-950 group-[.toaster]:border-zinc-200 group-[.toaster]:shadow-lg dark:group-[.toaster]:bg-zinc-950 dark:group-[.toaster]:text-zinc-50 dark:group-[.toaster]:border-zinc-800",description:"group-[.toast]:text-zinc-500 dark:group-[.toast]:text-zinc-400",actionButton:"group-[.toast]:bg-zinc-900 group-[.toast]:text-zinc-50 dark:group-[.toast]:bg-zinc-50 dark:group-[.toast]:text-zinc-900",cancelButton:"group-[.toast]:bg-zinc-100 group-[.toast]:text-zinc-500 dark:group-[.toast]:bg-zinc-800 dark:group-[.toast]:text-zinc-400"}},o={success:(0,l.jsx)(yi,{className:"size-4"}),info:(0,l.jsx)(hi,{className:"size-4"}),warning:(0,l.jsx)(Pi,{className:"size-4"}),error:(0,l.jsx)(Si,{className:"size-4"}),loading:(0,l.jsx)(mt,{className:"size-4 animate-spin"})},i={"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)","--border-radius":"var(--radius)"},e[2]=a,e[3]=o,e[4]=i):(a=e[2],o=e[3],i=e[4]);let d;return e[5]!==t||e[6]!==r?(d=(0,l.jsx)(uc,{theme:r,className:"toaster group",toastOptions:a,icons:o,style:i,...t}),e[5]=t,e[6]=r,e[7]=d):d=e[7],d},bc=ie(),va=(0,g.createContext)(void 0);const xc=n=>{const e=(0,bc.c)(4),{children:t}=n,s=yc;let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r={addToast:s},e[0]=r):r=e[0];let a;e[1]===Symbol.for("react.memo_cache_sentinel")?(a=(0,l.jsx)(vc,{position:"bottom-center",toastOptions:{className:"rounded-full font-bold"}}),e[1]=a):a=e[1];let o;return e[2]!==t?(o=(0,l.jsxs)(va.Provider,{value:r,children:[t,a]}),e[2]=t,e[3]=o):o=e[3],o},_t=()=>{const n=(0,g.useContext)(va);if(!n)throw new Error("useToast must be used within a ToastProvider");return n};function yc(n,e){const t=e===void 0?"success":e;t==="error"?Nn.error(n):t==="info"?Nn.info(n):Nn.success(n)}var ba=(0,g.createContext)(void 0);const wc=({children:n})=>{const[e,t]=(0,g.useState)([]),[s,r]=(0,g.useState)(!0),[a,o]=(0,g.useState)(!0),[i,d]=(0,g.useState)(!1),m=(0,g.useRef)(e);(0,g.useEffect)(()=>{m.current=e},[e]);const u=(0,g.useCallback)(async(v=!1)=>{v?d(!0):r(!0);try{const N=m.current,S=await Gi(v&&N.length>0?N[N.length-1].created_at:null,10);S.length<10?o(!1):o(!0),t(v?_=>[..._,...S]:S)}catch(N){console.error("Failed to load posts:",N)}finally{r(!1),d(!1)}},[]),c=()=>{!a||i||u(!0)};(0,g.useEffect)(()=>{u()},[u]);const f=async v=>{const N=await Ji(v);return u(),N},h=async v=>{await $i(v),t(N=>N.filter(S=>S.id!==v))},p=async(v,N)=>{await el(v,N),t(S=>S.map(_=>_.id===v?{..._,...N}:_))},b=v=>e.find(N=>N.id===v),x=(v,N="feed")=>{let S=e.filter(_=>!!(_.user?.handle===v||_.repostedBy&&_.repostedBy.handle===v));return N==="feed"?S.filter(_=>_.parent_id===null):N==="media"?S.filter(_=>_.parent_id===null&&(_.type==="video"||_.type==="image"||(_.media?.length||0)>0)):S};return(0,l.jsx)(ba.Provider,{value:{posts:e,setPosts:t,addPost:f,deletePost:h,updatePost:p,getPostById:b,getUserPosts:x,loading:s,hasMore:a,isFetchingNextPage:i,fetchNextPage:c,refreshPosts:()=>u(!1)},children:n})},jc=()=>{const n=(0,g.useContext)(ba);if(!n)throw new Error("usePosts must be used within a PostProvider");return n};var kc=ie(),xa=(0,g.createContext)(void 0);const Cc=n=>{const e=(0,kc.c)(9),{children:t}=n;let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s={isOpen:!1,images:[],currentIndex:0},e[0]=s):s=e[0];const[r,a]=(0,g.useState)(s);let o;e[1]===Symbol.for("react.memo_cache_sentinel")?(o=(p,b)=>{const x=b===void 0?0:b;a({isOpen:!0,images:Array.isArray(p)?p:[p],currentIndex:x})},e[1]=o):o=e[1];const i=o;let d;e[2]===Symbol.for("react.memo_cache_sentinel")?(d=()=>{a(_c)},e[2]=d):d=e[2];const m=d;let u;e[3]===Symbol.for("react.memo_cache_sentinel")?(u=p=>{a(b=>({...b,currentIndex:p}))},e[3]=u):u=e[3];const c=u;let f;e[4]!==r?(f={...r,openLightbox:i,closeLightbox:m,setIndex:c},e[4]=r,e[5]=f):f=e[5];let h;return e[6]!==t||e[7]!==f?(h=(0,l.jsx)(xa.Provider,{value:f,children:t}),e[6]=t,e[7]=f,e[8]=h):h=e[8],h},Nc=()=>{const n=(0,g.useContext)(xa);if(!n)throw new Error("useLightbox must be used within a LightboxProvider");return n};function _c(n){return{...n,isOpen:!1}}var Sc=ie(),ya=(0,g.createContext)(void 0);const zc=n=>{const e=(0,Sc.c)(15),{children:t}=n,[s,r]=(0,g.useState)(null);let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=new Map,e[0]=a):a=e[0];const o=(0,g.useRef)(a);let i;e[1]!==s?(i=(b,x,v)=>{x===0?o.current.has(b)&&o.current.delete(b):o.current.set(b,{ratio:x,...v});let N=null,S=.5;for(const[_,M]of o.current.entries())M.ratio>S&&(S=M.ratio,N=_);N!==s&&r(N)},e[1]=s,e[2]=i):i=e[2];const d=i;let m,u;e[3]!==s?(m=()=>{o.current.forEach((b,x)=>{x===s?b.play():b.pause()})},u=[s],e[3]=s,e[4]=m,e[5]=u):(m=e[4],u=e[5]),(0,g.useEffect)(m,u);let c;e[6]!==s?(c=b=>{o.current.delete(b),s===b&&r(null)},e[6]=s,e[7]=c):c=e[7];const f=c;let h;e[8]!==s||e[9]!==d||e[10]!==f?(h={reportVisibility:d,unregister:f,activeVideoId:s},e[8]=s,e[9]=d,e[10]=f,e[11]=h):h=e[11];let p;return e[12]!==t||e[13]!==h?(p=(0,l.jsx)(ya.Provider,{value:h,children:t}),e[12]=t,e[13]=h,e[14]=p):p=e[14],p},gh=()=>{const n=(0,g.useContext)(ya);if(!n)throw new Error("useVideoPlayback must be used within a VideoPlaybackProvider");return n};var St=ie(),vh=pi;var Ac=gi,wa=g.forwardRef((n,e)=>{const t=(0,St.c)(9);let s,r;t[0]!==n?({className:s,...r}=n,t[0]=n,t[1]=s,t[2]=r):(s=t[1],r=t[2]);let a;t[3]!==s?(a=re("fixed inset-0 z-50 bg-black/50 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),t[3]=s,t[4]=a):a=t[4];let o;return t[5]!==r||t[6]!==e||t[7]!==a?(o=(0,l.jsx)(Os,{className:a,...r,ref:e}),t[5]=r,t[6]=e,t[7]=a,t[8]=o):o=t[8],o});wa.displayName=Os.displayName;var Ec=g.forwardRef((n,e)=>{const t=(0,St.c)(10);let s,r;t[0]!==n?({className:s,...r}=n,t[0]=n,t[1]=s,t[2]=r):(s=t[1],r=t[2]);let a;t[3]===Symbol.for("react.memo_cache_sentinel")?(a=(0,l.jsx)(wa,{}),t[3]=a):a=t[3];let o;t[4]!==s?(o=re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-zinc-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg dark:border-zinc-800 dark:bg-zinc-950",s),t[4]=s,t[5]=o):o=t[5];let i;return t[6]!==r||t[7]!==e||t[8]!==o?(i=(0,l.jsxs)(Ac,{children:[a,(0,l.jsx)(Ms,{ref:e,className:o,...r})]}),t[6]=r,t[7]=e,t[8]=o,t[9]=i):i=t[9],i});Ec.displayName=Ms.displayName;var Rc=n=>{const e=(0,St.c)(8);let t,s;e[0]!==n?({className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let r;e[3]!==t?(r=re("flex flex-col space-y-2 text-center sm:text-left",t),e[3]=t,e[4]=r):r=e[4];let a;return e[5]!==s||e[6]!==r?(a=(0,l.jsx)("div",{className:r,...s}),e[5]=s,e[6]=r,e[7]=a):a=e[7],a};Rc.displayName="AlertDialogHeader";var Mc=n=>{const e=(0,St.c)(8);let t,s;e[0]!==n?({className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let r;e[3]!==t?(r=re("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),e[3]=t,e[4]=r):r=e[4];let a;return e[5]!==s||e[6]!==r?(a=(0,l.jsx)("div",{className:r,...s}),e[5]=s,e[6]=r,e[7]=a):a=e[7],a};Mc.displayName="AlertDialogFooter";var Ic=g.forwardRef((n,e)=>{const t=(0,St.c)(9);let s,r;t[0]!==n?({className:s,...r}=n,t[0]=n,t[1]=s,t[2]=r):(s=t[1],r=t[2]);let a;t[3]!==s?(a=re("text-lg font-semibold",s),t[3]=s,t[4]=a):a=t[4];let o;return t[5]!==r||t[6]!==e||t[7]!==a?(o=(0,l.jsx)(Cs,{ref:e,className:a,...r}),t[5]=r,t[6]=e,t[7]=a,t[8]=o):o=t[8],o});Ic.displayName=Cs.displayName;var Dc=g.forwardRef((n,e)=>{const t=(0,St.c)(9);let s,r;t[0]!==n?({className:s,...r}=n,t[0]=n,t[1]=s,t[2]=r):(s=t[1],r=t[2]);let a;t[3]!==s?(a=re("text-sm text-zinc-500 dark:text-zinc-400",s),t[3]=s,t[4]=a):a=t[4];let o;return t[5]!==r||t[6]!==e||t[7]!==a?(o=(0,l.jsx)(qs,{ref:e,className:a,...r}),t[5]=r,t[6]=e,t[7]=a,t[8]=o):o=t[8],o});Dc.displayName=qs.displayName;var Tc=g.forwardRef((n,e)=>{const t=(0,St.c)(9);let s,r;t[0]!==n?({className:s,...r}=n,t[0]=n,t[1]=s,t[2]=r):(s=t[1],r=t[2]);let a;t[3]!==s?(a=re("inline-flex items-center justify-center rounded-md bg-zinc-900 px-4 py-2 text-sm font-medium text-zinc-50 shadow transition-colors hover:bg-zinc-900/90 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:pointer-events-none disabled:opacity-50 dark:bg-zinc-50 dark:text-zinc-900 dark:hover:bg-zinc-50/90 dark:focus-visible:ring-zinc-300",s),t[3]=s,t[4]=a):a=t[4];let o;return t[5]!==r||t[6]!==e||t[7]!==a?(o=(0,l.jsx)(Ks,{ref:e,className:a,...r}),t[5]=r,t[6]=e,t[7]=a,t[8]=o):o=t[8],o});Tc.displayName=Ks.displayName;var Pc=g.forwardRef((n,e)=>{const t=(0,St.c)(9);let s,r;t[0]!==n?({className:s,...r}=n,t[0]=n,t[1]=s,t[2]=r):(s=t[1],r=t[2]);let a;t[3]!==s?(a=re("inline-flex items-center justify-center rounded-md border border-zinc-200 bg-white px-4 py-2 text-sm font-medium shadow-sm transition-colors hover:bg-zinc-100 hover:text-zinc-900 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:pointer-events-none disabled:opacity-50 dark:border-zinc-800 dark:bg-zinc-950 dark:hover:bg-zinc-800 dark:hover:text-zinc-50 dark:focus-visible:ring-zinc-300",s),t[3]=s,t[4]=a):a=t[4];let o;return t[5]!==r||t[6]!==e||t[7]!==a?(o=(0,l.jsx)(As,{ref:e,className:a,...r}),t[5]=r,t[6]=e,t[7]=a,t[8]=o):o=t[8],o});Pc.displayName=As.displayName;var Kn=ie(),wt=g.forwardRef((n,e)=>{const t=(0,Kn.c)(9);let s,r;t[0]!==n?({className:s,...r}=n,t[0]=n,t[1]=s,t[2]=r):(s=t[1],r=t[2]);let a;t[3]!==s?(a=re("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),t[3]=s,t[4]=a):a=t[4];let o;return t[5]!==r||t[6]!==e||t[7]!==a?(o=(0,l.jsx)(Fs,{ref:e,className:a,...r}),t[5]=r,t[6]=e,t[7]=a,t[8]=o):o=t[8],o});wt.displayName=Fs.displayName;var jt=g.forwardRef((n,e)=>{const t=(0,Kn.c)(9);let s,r;t[0]!==n?({className:s,...r}=n,t[0]=n,t[1]=s,t[2]=r):(s=t[1],r=t[2]);let a;t[3]!==s?(a=re("aspect-square h-full w-full",s),t[3]=s,t[4]=a):a=t[4];let o;return t[5]!==r||t[6]!==e||t[7]!==a?(o=(0,l.jsx)(zs,{ref:e,className:a,...r}),t[5]=r,t[6]=e,t[7]=a,t[8]=o):o=t[8],o});jt.displayName=zs.displayName;var kt=g.forwardRef((n,e)=>{const t=(0,Kn.c)(9);let s,r;t[0]!==n?({className:s,...r}=n,t[0]=n,t[1]=s,t[2]=r):(s=t[1],r=t[2]);let a;t[3]!==s?(a=re("flex h-full w-full items-center justify-center rounded-full bg-zinc-100 dark:bg-zinc-800",s),t[3]=s,t[4]=a):a=t[4];let o;return t[5]!==r||t[6]!==e||t[7]!==a?(o=(0,l.jsx)(Xs,{ref:e,className:a,...r}),t[5]=r,t[6]=e,t[7]=a,t[8]=o):o=t[8],o});kt.displayName=Xs.displayName;var Lc=ie(),Fc=n=>{const e=(0,Lc.c)(12);let t,s,r,a;e[0]!==n?({children:t,variant:r,className:a,...s}=n,e[0]=n,e[1]=t,e[2]=s,e[3]=r,e[4]=a):(t=e[1],s=e[2],r=e[3],a=e[4]);const o=r===void 0?"primary":r,i=a===void 0?"":a;let d;e[5]===Symbol.for("react.memo_cache_sentinel")?(d={primary:"text-white hover:text-white bg-zinc-900 hover:bg-zinc-800 border border-zinc-900 dark:bg-white dark:text-black dark:border-white dark:hover:bg-zinc-200",secondary:"text-zinc-900 border border-zinc-300 hover:border-zinc-400 bg-transparent hover:bg-zinc-50 dark:text-white dark:border-zinc-700 dark:hover:border-zinc-600 dark:hover:bg-zinc-900",outline:"text-zinc-900 border border-zinc-300 hover:border-zinc-400 bg-white dark:bg-transparent dark:text-white dark:border-zinc-700 dark:hover:bg-zinc-900",danger:"text-white bg-red-500 hover:bg-red-600 border border-red-500",ghost:"text-zinc-500 hover:bg-zinc-100 dark:text-zinc-400 dark:hover:bg-zinc-800 border-transparent"},e[5]=d):d=e[5];const m=`rounded-full font-bold inline-flex items-center justify-center relative overflow-hidden px-4 py-1.5 transition-all duration-200 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed disabled:active:scale-100 touch-manipulation ${d[o]} ${i}`;let u;e[6]!==t?(u=(0,l.jsx)("div",{className:"flex items-center gap-x-1.5",children:t}),e[6]=t,e[7]=u):u=e[7];let c;return e[8]!==s||e[9]!==m||e[10]!==u?(c=(0,l.jsx)("button",{className:m,...s,children:u}),e[8]=s,e[9]=m,e[10]=u,e[11]=c):c=e[11],c},Ge=Fc,pt=ie(),bh=zi,xh=ki;var Oc=g.forwardRef((n,e)=>{const t=(0,pt.c)(14);let s,r,a,o;t[0]!==n?({className:r,inset:a,children:s,...o}=n,t[0]=n,t[1]=s,t[2]=r,t[3]=a,t[4]=o):(s=t[1],r=t[2],a=t[3],o=t[4]);const i=a&&"pl-8";let d;t[5]!==r||t[6]!==i?(d=re("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-zinc-100 focus:text-zinc-900 data-[state=open]:bg-zinc-100 data-[state=open]:text-zinc-900 dark:focus:bg-zinc-800 dark:focus:text-zinc-50 dark:data-[state=open]:bg-zinc-800 dark:data-[state=open]:text-zinc-50",i,r),t[5]=r,t[6]=i,t[7]=d):d=t[7];let m;t[8]===Symbol.for("react.memo_cache_sentinel")?(m=(0,l.jsx)(bn,{className:"ml-auto h-4 w-4"}),t[8]=m):m=t[8];let u;return t[9]!==s||t[10]!==o||t[11]!==e||t[12]!==d?(u=(0,l.jsxs)(_s,{ref:e,className:d,...o,children:[s,m]}),t[9]=s,t[10]=o,t[11]=e,t[12]=d,t[13]=u):u=t[13],u});Oc.displayName=_s.displayName;var Uc=g.forwardRef((n,e)=>{const t=(0,pt.c)(9);let s,r;t[0]!==n?({className:s,...r}=n,t[0]=n,t[1]=s,t[2]=r):(s=t[1],r=t[2]);let a;t[3]!==s?(a=re("z-50 min-w-[8rem] overflow-hidden rounded-md border border-zinc-200 bg-white p-1 text-zinc-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50",s),t[3]=s,t[4]=a):a=t[4];let o;return t[5]!==r||t[6]!==e||t[7]!==a?(o=(0,l.jsx)(Ts,{ref:e,className:a,...r}),t[5]=r,t[6]=e,t[7]=a,t[8]=o):o=t[8],o});Uc.displayName=Ts.displayName;var Hc=g.forwardRef((n,e)=>{const t=(0,pt.c)(9);let s,r;t[0]!==n?({className:s,...r}=n,t[0]=n,t[1]=s,t[2]=r):(s=t[1],r=t[2]);let a;t[3]!==s?(a=re("z-50 min-w-[8rem] overflow-hidden rounded-md border border-zinc-200 bg-white p-1 text-zinc-950 shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50",s),t[3]=s,t[4]=a):a=t[4];let o;return t[5]!==r||t[6]!==e||t[7]!==a?(o=(0,l.jsx)(oi,{children:(0,l.jsx)(Ws,{ref:e,className:a,...r})}),t[5]=r,t[6]=e,t[7]=a,t[8]=o):o=t[8],o});Hc.displayName=Ws.displayName;var Bc=g.forwardRef((n,e)=>{const t=(0,pt.c)(11);let s,r,a;t[0]!==n?({className:s,inset:r,...a}=n,t[0]=n,t[1]=s,t[2]=r,t[3]=a):(s=t[1],r=t[2],a=t[3]);const o=r&&"pl-8";let i;t[4]!==s||t[5]!==o?(i=re("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-zinc-100 focus:text-zinc-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-zinc-800 dark:focus:text-zinc-50",o,s),t[4]=s,t[5]=o,t[6]=i):i=t[6];let d;return t[7]!==a||t[8]!==e||t[9]!==i?(d=(0,l.jsx)(ws,{ref:e,className:i,...a}),t[7]=a,t[8]=e,t[9]=i,t[10]=d):d=t[10],d});Bc.displayName=ws.displayName;var qc=g.forwardRef((n,e)=>{const t=(0,pt.c)(14);let s,r,a,o;t[0]!==n?({className:a,children:r,checked:s,...o}=n,t[0]=n,t[1]=s,t[2]=r,t[3]=a,t[4]=o):(s=t[1],r=t[2],a=t[3],o=t[4]);let i;t[5]!==a?(i=re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-zinc-100 focus:text-zinc-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-zinc-800 dark:focus:text-zinc-50",a),t[5]=a,t[6]=i):i=t[6];let d;t[7]===Symbol.for("react.memo_cache_sentinel")?(d=(0,l.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,l.jsx)(ys,{children:(0,l.jsx)(Wn,{className:"h-4 w-4"})})}),t[7]=d):d=t[7];let m;return t[8]!==s||t[9]!==r||t[10]!==o||t[11]!==e||t[12]!==i?(m=(0,l.jsxs)(is,{ref:e,className:i,checked:s,...o,children:[d,r]}),t[8]=s,t[9]=r,t[10]=o,t[11]=e,t[12]=i,t[13]=m):m=t[13],m});qc.displayName=is.displayName;var Wc=g.forwardRef((n,e)=>{const t=(0,pt.c)(12);let s,r,a;t[0]!==n?({className:r,children:s,...a}=n,t[0]=n,t[1]=s,t[2]=r,t[3]=a):(s=t[1],r=t[2],a=t[3]);let o;t[4]!==r?(o=re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-zinc-100 focus:text-zinc-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-zinc-800 dark:focus:text-zinc-50",r),t[4]=r,t[5]=o):o=t[5];let i;t[6]===Symbol.for("react.memo_cache_sentinel")?(i=(0,l.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,l.jsx)(ys,{children:(0,l.jsx)(us,{className:"h-2 w-2 fill-current"})})}),t[6]=i):i=t[6];let d;return t[7]!==s||t[8]!==a||t[9]!==e||t[10]!==o?(d=(0,l.jsxs)(Es,{ref:e,className:o,...a,children:[i,s]}),t[7]=s,t[8]=a,t[9]=e,t[10]=o,t[11]=d):d=t[11],d});Wc.displayName=Es.displayName;var Vc=g.forwardRef((n,e)=>{const t=(0,pt.c)(11);let s,r,a;t[0]!==n?({className:s,inset:r,...a}=n,t[0]=n,t[1]=s,t[2]=r,t[3]=a):(s=t[1],r=t[2],a=t[3]);const o=r&&"pl-8";let i;t[4]!==s||t[5]!==o?(i=re("px-2 py-1.5 text-sm font-semibold text-zinc-950 dark:text-zinc-50",o,s),t[4]=s,t[5]=o,t[6]=i):i=t[6];let d;return t[7]!==a||t[8]!==e||t[9]!==i?(d=(0,l.jsx)(js,{ref:e,className:i,...a}),t[7]=a,t[8]=e,t[9]=i,t[10]=d):d=t[10],d});Vc.displayName=js.displayName;var Yc=g.forwardRef((n,e)=>{const t=(0,pt.c)(9);let s,r;t[0]!==n?({className:s,...r}=n,t[0]=n,t[1]=s,t[2]=r):(s=t[1],r=t[2]);let a;t[3]!==s?(a=re("-mx-1 my-1 h-px bg-zinc-200 dark:bg-zinc-800",s),t[3]=s,t[4]=a):a=t[4];let o;return t[5]!==r||t[6]!==e||t[7]!==a?(o=(0,l.jsx)(Hs,{ref:e,className:a,...r}),t[5]=r,t[6]=e,t[7]=a,t[8]=o):o=t[8],o});Yc.displayName=Hs.displayName;var Xc=n=>{const e=(0,pt.c)(8);let t,s;e[0]!==n?({className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let r;e[3]!==t?(r=re("ml-auto text-xs tracking-widest text-zinc-500 dark:text-zinc-400",t),e[3]=t,e[4]=r):r=e[4];let a;return e[5]!==s||e[6]!==r?(a=(0,l.jsx)("span",{className:r,...s}),e[5]=s,e[6]=r,e[7]=a):a=e[7],a};Xc.displayName="ContextMenuShortcut";var Pt=ie(),ja=Ri;var Kc=Ko;var ka=g.forwardRef((n,e)=>{const t=(0,Pt.c)(9);let s,r;t[0]!==n?({className:s,...r}=n,t[0]=n,t[1]=s,t[2]=r):(s=t[1],r=t[2]);let a;t[3]!==s?(a=re("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),t[3]=s,t[4]=a):a=t[4];let o;return t[5]!==r||t[6]!==e||t[7]!==a?(o=(0,l.jsx)(ps,{ref:e,className:a,...r}),t[5]=r,t[6]=e,t[7]=a,t[8]=o):o=t[8],o});ka.displayName=ps.displayName;var Qn=g.forwardRef((n,e)=>{const t=(0,Pt.c)(13);let s,r,a;t[0]!==n?({className:r,children:s,...a}=n,t[0]=n,t[1]=s,t[2]=r,t[3]=a):(s=t[1],r=t[2],a=t[3]);let o;t[4]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsx)(ka,{}),t[4]=o):o=t[4];let i;t[5]!==r?(i=re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-zinc-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg dark:border-zinc-800 dark:bg-zinc-950",r),t[5]=r,t[6]=i):i=t[6];let d;t[7]===Symbol.for("react.memo_cache_sentinel")?(d=(0,l.jsxs)(Ti,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-zinc-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-zinc-100 data-[state=open]:text-zinc-500 dark:ring-offset-zinc-950 dark:focus:ring-zinc-300 dark:data-[state=open]:bg-zinc-800 dark:data-[state=open]:text-zinc-400",children:[(0,l.jsx)(Rt,{className:"h-4 w-4"}),(0,l.jsx)("span",{className:"sr-only",children:"Close"})]}),t[7]=d):d=t[7];let m;return t[8]!==s||t[9]!==a||t[10]!==e||t[11]!==i?(m=(0,l.jsxs)(Kc,{children:[o,(0,l.jsxs)(Ss,{ref:e,className:i,...a,children:[s,d]})]}),t[8]=s,t[9]=a,t[10]=e,t[11]=i,t[12]=m):m=t[12],m});Qn.displayName=Ss.displayName;var Zn=n=>{const e=(0,Pt.c)(8);let t,s;e[0]!==n?({className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let r;e[3]!==t?(r=re("flex flex-col space-y-1.5 text-center sm:text-left",t),e[3]=t,e[4]=r):r=e[4];let a;return e[5]!==s||e[6]!==r?(a=(0,l.jsx)("div",{className:r,...s}),e[5]=s,e[6]=r,e[7]=a):a=e[7],a};Zn.displayName="DialogHeader";var Gn=n=>{const e=(0,Pt.c)(8);let t,s;e[0]!==n?({className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let r;e[3]!==t?(r=re("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),e[3]=t,e[4]=r):r=e[4];let a;return e[5]!==s||e[6]!==r?(a=(0,l.jsx)("div",{className:r,...s}),e[5]=s,e[6]=r,e[7]=a):a=e[7],a};Gn.displayName="DialogFooter";var Jn=g.forwardRef((n,e)=>{const t=(0,Pt.c)(9);let s,r;t[0]!==n?({className:s,...r}=n,t[0]=n,t[1]=s,t[2]=r):(s=t[1],r=t[2]);let a;t[3]!==s?(a=re("text-lg font-semibold leading-none tracking-tight",s),t[3]=s,t[4]=a):a=t[4];let o;return t[5]!==r||t[6]!==e||t[7]!==a?(o=(0,l.jsx)(gs,{ref:e,className:a,...r}),t[5]=r,t[6]=e,t[7]=a,t[8]=o):o=t[8],o});Jn.displayName=gs.displayName;var Ca=g.forwardRef((n,e)=>{const t=(0,Pt.c)(9);let s,r;t[0]!==n?({className:s,...r}=n,t[0]=n,t[1]=s,t[2]=r):(s=t[1],r=t[2]);let a;t[3]!==s?(a=re("text-sm text-zinc-500 dark:text-zinc-400",s),t[3]=s,t[4]=a):a=t[4];let o;return t[5]!==r||t[6]!==e||t[7]!==a?(o=(0,l.jsx)(Zs,{ref:e,className:a,...r}),t[5]=r,t[6]=e,t[7]=a,t[8]=o):o=t[8],o});Ca.displayName=Zs.displayName;var gt=ie(),Qc=Xo,Zc=Go;var Gc=g.forwardRef((n,e)=>{const t=(0,gt.c)(14);let s,r,a,o;t[0]!==n?({className:r,inset:a,children:s,...o}=n,t[0]=n,t[1]=s,t[2]=r,t[3]=a,t[4]=o):(s=t[1],r=t[2],a=t[3],o=t[4]);const i=a&&"pl-8";let d;t[5]!==r||t[6]!==i?(d=re("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-zinc-100 data-[state=open]:bg-zinc-100 dark:focus:bg-zinc-800 dark:data-[state=open]:bg-zinc-800",i,r),t[5]=r,t[6]=i,t[7]=d):d=t[7];let m;t[8]===Symbol.for("react.memo_cache_sentinel")?(m=(0,l.jsx)(bn,{className:"ml-auto h-4 w-4"}),t[8]=m):m=t[8];let u;return t[9]!==s||t[10]!==o||t[11]!==e||t[12]!==d?(u=(0,l.jsxs)(xs,{ref:e,className:d,...o,children:[s,m]}),t[9]=s,t[10]=o,t[11]=e,t[12]=d,t[13]=u):u=t[13],u});Gc.displayName=xs.displayName;var Jc=g.forwardRef((n,e)=>{const t=(0,gt.c)(9);let s,r;t[0]!==n?({className:s,...r}=n,t[0]=n,t[1]=s,t[2]=r):(s=t[1],r=t[2]);let a;t[3]!==s?(a=re("z-50 min-w-[8rem] overflow-hidden rounded-md border border-zinc-200 bg-white p-1 text-zinc-950 shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50",s),t[3]=s,t[4]=a):a=t[4];let o;return t[5]!==r||t[6]!==e||t[7]!==a?(o=(0,l.jsx)(vs,{ref:e,className:a,...r}),t[5]=r,t[6]=e,t[7]=a,t[8]=o):o=t[8],o});Jc.displayName=vs.displayName;var Na=g.forwardRef((n,e)=>{const t=(0,gt.c)(11);let s,r,a;t[0]!==n?({className:s,sideOffset:a,...r}=n,t[0]=n,t[1]=s,t[2]=r,t[3]=a):(s=t[1],r=t[2],a=t[3]);const o=a===void 0?4:a;let i;t[4]!==s?(i=re("z-50 min-w-[8rem] overflow-hidden rounded-md border border-zinc-200 bg-white p-1 text-zinc-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50",s),t[4]=s,t[5]=i):i=t[5];let d;return t[6]!==r||t[7]!==e||t[8]!==o||t[9]!==i?(d=(0,l.jsx)(ni,{children:(0,l.jsx)(ls,{ref:e,sideOffset:o,className:i,...r})}),t[6]=r,t[7]=e,t[8]=o,t[9]=i,t[10]=d):d=t[10],d});Na.displayName=ls.displayName;var Dn=g.forwardRef((n,e)=>{const t=(0,gt.c)(11);let s,r,a;t[0]!==n?({className:s,inset:r,...a}=n,t[0]=n,t[1]=s,t[2]=r,t[3]=a):(s=t[1],r=t[2],a=t[3]);const o=r&&"pl-8";let i;t[4]!==s||t[5]!==o?(i=re("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-zinc-100 focus:text-zinc-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-zinc-800 dark:focus:text-zinc-50",o,s),t[4]=s,t[5]=o,t[6]=i):i=t[6];let d;return t[7]!==a||t[8]!==e||t[9]!==i?(d=(0,l.jsx)(fs,{ref:e,className:i,...a}),t[7]=a,t[8]=e,t[9]=i,t[10]=d):d=t[10],d});Dn.displayName=fs.displayName;var $c=g.forwardRef((n,e)=>{const t=(0,gt.c)(14);let s,r,a,o;t[0]!==n?({className:a,children:r,checked:s,...o}=n,t[0]=n,t[1]=s,t[2]=r,t[3]=a,t[4]=o):(s=t[1],r=t[2],a=t[3],o=t[4]);let i;t[5]!==a?(i=re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-zinc-100 focus:text-zinc-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-zinc-800 dark:focus:text-zinc-50",a),t[5]=a,t[6]=i):i=t[6];let d;t[7]===Symbol.for("react.memo_cache_sentinel")?(d=(0,l.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,l.jsx)(as,{children:(0,l.jsx)(Wn,{className:"h-4 w-4"})})}),t[7]=d):d=t[7];let m;return t[8]!==s||t[9]!==r||t[10]!==o||t[11]!==e||t[12]!==i?(m=(0,l.jsxs)(Ps,{ref:e,className:i,checked:s,...o,children:[d,r]}),t[8]=s,t[9]=r,t[10]=o,t[11]=e,t[12]=i,t[13]=m):m=t[13],m});$c.displayName=Ps.displayName;var ed=g.forwardRef((n,e)=>{const t=(0,gt.c)(12);let s,r,a;t[0]!==n?({className:r,children:s,...a}=n,t[0]=n,t[1]=s,t[2]=r,t[3]=a):(s=t[1],r=t[2],a=t[3]);let o;t[4]!==r?(o=re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-zinc-100 focus:text-zinc-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-zinc-800 dark:focus:text-zinc-50",r),t[4]=r,t[5]=o):o=t[5];let i;t[6]===Symbol.for("react.memo_cache_sentinel")?(i=(0,l.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,l.jsx)(as,{children:(0,l.jsx)(us,{className:"h-2 w-2 fill-current"})})}),t[6]=i):i=t[6];let d;return t[7]!==s||t[8]!==a||t[9]!==e||t[10]!==o?(d=(0,l.jsxs)(Gs,{ref:e,className:o,...a,children:[i,s]}),t[7]=s,t[8]=a,t[9]=e,t[10]=o,t[11]=d):d=t[11],d});ed.displayName=Gs.displayName;var td=g.forwardRef((n,e)=>{const t=(0,gt.c)(11);let s,r,a;t[0]!==n?({className:s,inset:r,...a}=n,t[0]=n,t[1]=s,t[2]=r,t[3]=a):(s=t[1],r=t[2],a=t[3]);const o=r&&"pl-8";let i;t[4]!==s||t[5]!==o?(i=re("px-2 py-1.5 text-sm font-semibold",o,s),t[4]=s,t[5]=o,t[6]=i):i=t[6];let d;return t[7]!==a||t[8]!==e||t[9]!==i?(d=(0,l.jsx)(os,{ref:e,className:i,...a}),t[7]=a,t[8]=e,t[9]=i,t[10]=d):d=t[10],d});td.displayName=os.displayName;var nd=g.forwardRef((n,e)=>{const t=(0,gt.c)(9);let s,r;t[0]!==n?({className:s,...r}=n,t[0]=n,t[1]=s,t[2]=r):(s=t[1],r=t[2]);let a;t[3]!==s?(a=re("-mx-1 my-1 h-px bg-zinc-100 dark:bg-zinc-800",s),t[3]=s,t[4]=a):a=t[4];let o;return t[5]!==r||t[6]!==e||t[7]!==a?(o=(0,l.jsx)(bs,{ref:e,className:a,...r}),t[5]=r,t[6]=e,t[7]=a,t[8]=o):o=t[8],o});nd.displayName=bs.displayName;var rd=n=>{const e=(0,gt.c)(8);let t,s;e[0]!==n?({className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let r;e[3]!==t?(r=re("ml-auto text-xs tracking-widest opacity-60",t),e[3]=t,e[4]=r):r=e[4];let a;return e[5]!==s||e[6]!==r?(a=(0,l.jsx)("span",{className:r,...s}),e[5]=s,e[6]=r,e[7]=a):a=e[7],a};rd.displayName="DropdownMenuShortcut";var sd=Object.defineProperty,ad=(n,e)=>{for(var t in e)sd(n,t,{get:e[t],enumerable:!0})},vt={};ad(vt,{ActiveEmoji:()=>Xa,Empty:()=>Ya,List:()=>qa,Loading:()=>Va,Root:()=>Pa,Search:()=>La,SkinTone:()=>Ka,SkinToneSelector:()=>Wa,Viewport:()=>Fa});var _a="'Apple Color Emoji', 'Noto Color Emoji', 'Twemoji Mozilla', 'Android Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', EmojiSymbols, sans-serif",$n=["none","light","medium-light","medium","medium-dark","dark"];function _n(n){return n.charAt(0).toUpperCase()+n.slice(1)}var st=2,Be=null;function xr(n){try{Be??=document.createElement("canvas").getContext("2d",{willReadFrequently:!0})}catch{}if(!Be||(queueMicrotask(()=>{Be&&(Be=null)}),Be.canvas.width=st,Be.canvas.height=st,Be.font=`2px ${_a}`,Be.textBaseline="middle",Be.measureText(n).width>=st*2))return!1;Be.fillStyle="#00f",Be.fillText(n,0,0);let e=Be.getImageData(0,0,st,st).data;Be.clearRect(0,0,st,st),Be.fillStyle="#f00",Be.fillText(n,0,0);let t=Be.getImageData(0,0,st,st).data;for(let s=0;s<st*st*4;s+=4)if(e[s]!==t[s]||e[s+1]!==t[s+1]||e[s+2]!==t[s+2])return!1;return!0}function yr(n,e,t){try{let s=n.getItem(e);if(!s)throw new Error(`No value found for "${e}".`);return t(JSON.parse(s))}catch{return null}}function Sa(n,e,t){n.setItem(e,JSON.stringify(t))}function wr(n){return e=>e===void 0?void 0:n(e)}function jr(n){return e=>e===null?null:n(e)}function Ue(n){if(typeof n!="string")throw new Error;return n}function an(n){if(typeof n!="number")throw new Error;return n}function za(n){if(typeof n!="boolean")throw new Error;return n}function bt(n){return e=>{if(typeof e!="object"||e===null)throw new Error;let t={};for(let s in n){let r=e[s];r===void 0&&n[s](void 0),t[s]=n[s](r)}return t}}function Sn(n){return e=>{if(!Array.isArray(e))throw new Error;return e.length>0&&n(e[0]),e}}var Aa=(n,e)=>`${n}/${e}/data.json`,Ea=(n,e)=>`${n}/${e}/messages.json`,od=["bn","da","de","en-gb","en","es-mx","es","et","fi","fr","hi","hu","it","ja","ko","lt","ms","nb","nl","pl","pt","ru","sv","th","uk","vi","zh-hant","zh"],kr="en",Ra=n=>`frimousse/data/${n}`,Cr="frimousse/metadata";async function Nr(n,e){try{return(await fetch(n,{method:"HEAD",signal:e})).headers.get("etag")}catch{return null}}async function id(n,e,t){let[{emojis:s,emojisEtag:r},{messages:a,messagesEtag:o}]=await Promise.all([fetch(Aa(n,e),{signal:t}).then(async i=>({emojis:await i.json(),emojisEtag:i.headers.get("etag")})),fetch(Ea(n,e),{signal:t}).then(async i=>({messages:await i.json(),messagesEtag:i.headers.get("etag")}))]);return{emojis:s,messages:a,emojisEtag:r,messagesEtag:o}}async function ld(n,e,t){let[s,r]=await Promise.all([Nr(Aa(n,e),t),Nr(Ea(n,e),t)]);return{emojisEtag:s,messagesEtag:r}}function cd(n){return n.skins?n.skins.filter(e=>typeof e.tone=="number").reduce((e,t)=>{let s=$n[t.tone];return e[s]=t.emoji,e},{}):void 0}async function _r(n,e,t){let{emojis:s,emojisEtag:r,messages:a,messagesEtag:o}=await id(n,e,t),i=a.subgroups.find(h=>h.key==="country-flag"||h.key==="subdivision-flag"),d=a.groups.filter(h=>h.key!=="component"),m=s.filter(h=>"group"in h),u=d.map(h=>({index:h.order,label:_n(h.message)})),c=a.skinTones.reduce((h,p)=>(h[p.key]=_n(p.message),h),{}),f={locale:e,emojis:m.map(h=>({emoji:h.emoji,category:h.group,version:h.version,label:_n(h.label),tags:h.tags??[],countryFlag:i&&h.subgroup===i.order||void 0,skins:cd(h)})),categories:u,skinTones:c};return Sa(localStorage,Ra(e),{data:f,metadata:{emojisEtag:r,messagesEtag:o}}),f}function dd(n,e){let t=new Map;for(let o of n)t.has(o.version)||t.set(o.version,o.emoji);let s=[...t.keys()].sort((o,i)=>i-o),r=s[0]??0,a=xr("");if(typeof e=="number")return{emojiVersion:e,countryFlags:a};for(let o of s)if(xr(t.get(o)))return{emojiVersion:o,countryFlags:a};return{emojiVersion:r,countryFlags:a}}var ud=bt({emojiVersion:an,countryFlags:za}),fd=bt({data:bt({locale:Ue,emojis:Sn(bt({emoji:Ue,category:an,label:Ue,version:an,tags:Sn(Ue),countryFlag:wr(za),skins:wr(bt({light:Ue,"medium-light":Ue,medium:Ue,"medium-dark":Ue,dark:Ue}))})),categories:Sn(bt({index:an,label:Ue})),skinTones:bt({light:Ue,"medium-light":Ue,medium:Ue,"medium-dark":Ue,dark:Ue})}),metadata:bt({emojisEtag:jr(Ue),messagesEtag:jr(Ue)})});async function md({locale:n,emojiVersion:e,emojibaseUrl:t,signal:s}){let r=typeof t=="string"?t:`https://cdn.jsdelivr.net/npm/emojibase-data@${typeof e=="number"?Math.floor(e):"latest"}`,a=yr(sessionStorage,Cr,ud),o=yr(localStorage,Ra(n),fd),i;if(!o)i=await _r(r,n,s);else if(a)i=o.data;else try{let{emojisEtag:d,messagesEtag:m}=await ld(r,n,s);i=!d||!m||d!==o.metadata.emojisEtag||m!==o.metadata.messagesEtag?await _r(r,n,s):o.data}catch{i=o.data}return a??=dd(i.emojis,e),Sa(sessionStorage,Cr,a),{locale:n,emojis:i.emojis.filter(d=>{let m=d.version<=a.emojiVersion;return d.countryFlag?m&&a.countryFlags:m}),categories:i.categories,skinTones:i.skinTones}}function Sr(n){return od.includes(n)?n:(console.warn(`Locale "${n}" is not supported, using "${kr}" instead.`),kr)}function zr(n){return $n.includes(n)?n:(console.warn(`Skin tone "${n}" is not valid, using "none" instead.`),"none")}function hd(n,e){let t=[];if(e<=0)return t;for(let s=0,r=n.length;s<r;s+=e)t.push(n.slice(s,s+e));return t}function pd(n,e){if(!e)return n;let t=e.toLowerCase().trim(),s=new WeakMap;return n.filter(r=>{let a=0;r.label.toLowerCase().includes(t)&&(a+=10);for(let o of r.tags)o.toLowerCase().includes(t)&&(a+=1);return a>0?(s.set(r,a),!0):!1}).sort((r,a)=>(s.get(a)??0)-(s.get(r)??0))}function gd(n,e,t,s){let r=pd(n.emojis,s),a=[],o=[],i=[],d={},m=0,u=0;for(let c of r)d[c.category]||(d[c.category]=[]),d[c.category].push({emoji:t&&t!=="none"&&c.skins?c.skins[t]:c.emoji,label:c.label});for(let c of n.categories){let f=d[c.index];if(!f||f.length===0)continue;let h=hd(Array.from(f),e).map(p=>({categoryIndex:m,emojis:p}));a.push(...h),o.push({label:c.label,rowsCount:h.length,startRowIndex:u}),i.push(u),m++,u+=h.length}return{count:r.length,categories:o,categoriesStartRowIndices:i,rows:a,skinTones:n.skinTones}}function vd(n){let e={},t=null,s=null,r=new Set,a=()=>{if(t){e=t,t=null;for(let m of r)m(e)}s=null},o=()=>t??e,i=m=>{t??=e,Object.assign(t,typeof m=="function"?m(o()):m),s||(s=requestAnimationFrame(a))},d=m=>(r.add(m),()=>r.delete(m));return e=n(i,o),{get:o,set:i,subscribe:d}}function bd(n){let[e]=(0,g.useState)(n);return e}function xd(n){let e=(0,g.createContext)(null);return{useStore:()=>{let t=(0,g.useContext)(e);if(!t)throw new Error(n);return t},Provider:({store:t,children:s})=>(0,l.jsx)(e.Provider,{value:t,children:s})}}function Je(n,e,t=Object.is){let[s,r]=(0,g.useState)(()=>e(n.get()));return(0,g.useEffect)(()=>n.subscribe(()=>{let a=e(n.get());r(o=>t(o,a)?o:a)}),[n,e,t]),(0,g.useDebugValue)(s),s}function dt(n,e,t){return Je(n,(0,g.useCallback)(s=>s[e],[e]),t)}var Ar=2;function yd(n,e,t,s,r){let a=0;return vd((o,i)=>({locale:e,columns:t,sticky:s,skinTone:r,onEmojiSelect:n,data:null,search:"",interaction:"none",activeColumnIndex:0,activeRowIndex:0,rowHeight:null,categoryHeaderHeight:null,viewportWidth:null,viewportHeight:null,viewportCurrentCategoryIndex:null,viewportStartCategoryIndex:0,viewportStartRowIndex:0,viewportEndRowIndex:0,rootRef:null,searchRef:null,viewportRef:null,listRef:null,updateViewportState:d=>{let m=i(),u=d?.data??m.data,c=d?.categoryHeaderHeight??m.categoryHeaderHeight,f=d?.rowHeight??m.rowHeight,h=d?.viewportHeight??m.viewportHeight;if(!u||u.rows.length===0||!c||!f||!h)return o({...d,viewportStartCategoryIndex:0,viewportStartRowIndex:0,viewportEndRowIndex:0});let p=0,b=0;for(let y of u.categories)if(b++*c+y.startRowIndex*f<a)p+=c;else break;let x=u.categories.length*c+u.rows.length*f,v=Math.floor(Ar*f/2),N=Math.ceil(Ar*f/2),S=Math.min(a-p-v,x-h),_=S+h+N,M=Math.max(0,Math.floor(S/f)),C=Math.min(u.rows.length-1,Math.ceil(_/f)),D=u.rows[M]?.categoryIndex;return o(D===void 0&&d?d:{...d,viewportStartCategoryIndex:D,viewportStartRowIndex:M,viewportEndRowIndex:C})},onDataChange:d=>{i().updateViewportState({data:d,activeColumnIndex:0,activeRowIndex:0})},onSearchChange:d=>{o({search:d,interaction:d?"keyboard":"none"})},onActiveEmojiChange:(d,m,u)=>{if(o({interaction:d,activeColumnIndex:m,activeRowIndex:u}),d!=="keyboard")return;let{listRef:c,viewportRef:f,sticky:h,rowHeight:p,viewportHeight:b,categoryHeaderHeight:x}=i(),v=c?.current,N=f?.current;if(!v||!N||!p||!x||!b)return;let S=u;S===0&&N.scrollTo({top:0,behavior:"instant"});let _=v.querySelector(`[aria-rowindex="${S}"]`);if(!(_ instanceof HTMLElement))return;let M=_.offsetTop,C=getComputedStyle(_),D=Number.parseFloat(C.scrollMarginTop),y=Number.parseFloat(C.scrollMarginBottom),w=a+D;h&&M<a+b/2&&(w+=x);let A=w+b-y;(M<w||M+p>A)&&N.scrollTo({top:Math.max(M<w+x?M-Math.max(h?x:0,D):M-b+p+y,0),behavior:"instant"})},onActiveEmojiReset:()=>{o({interaction:"none",activeColumnIndex:0,activeRowIndex:0})},onRowHeightChange:d=>{i().updateViewportState({rowHeight:d})},onCategoryHeaderHeightChange:d=>{i().updateViewportState({categoryHeaderHeight:d})},onViewportSizeChange:(d,m)=>{i().updateViewportState({viewportWidth:d,viewportHeight:m})},onViewportScroll:d=>{a=d,i().updateViewportState()}}))}var{useStore:Xe,Provider:wd}=xd("EmojiPicker.Root is missing.");function jd(n){return n.search}function er(n){return n.interaction==="none"?void 0:n.data?.rows[n.activeRowIndex]?.emojis[n.activeColumnIndex]}function kd(n){return n.data===void 0||typeof n.data?.count=="number"&&n.data.count===0}function Cd(n){return n.data===null||n.viewportHeight===null||n.rowHeight===null||n.categoryHeaderHeight===null}function Ma(n){return n.data?.rows.length}function Nd(n){return n.data?.categories.length}function _d(n){return n.data?.categoriesStartRowIndices}function Sd(n){return n.data?.skinTones}function Ia(n,e){return n?.emoji===e?.emoji}function zd(n,e){return n?.categoryIndex!==e?.categoryIndex||n?.emojis.length!==e?.emojis.length?!1:!!n?.emojis.every((t,s)=>Ia(t,e?.emojis[s]))}var Ht="",Er=/\p{Emoji_Modifier_Base}/u,Ad=/\uFE0F$/,Ed=/\u{1F3FB}|\u{1F3FC}|\u{1F3FD}|\u{1F3FE}|\u{1F3FF}/gu,Rd={light:"","medium-light":"",medium:"","medium-dark":"",dark:""};function Md(n,e){if(!n.split(Ht).some(s=>Er.test(s)))return n;let t=n.split(Ht).map(s=>s.replace(Ed,"")).join(Ht);return e==="none"?t:t.split(Ht).map((s,r,a)=>{let o=a.length>1;return!Er.test(s)||o&&s===""?s:s.replace(Ad,"")+Rd[e]}).join(Ht)}function Id(n){return $n.map(e=>({skinTone:e,emoji:Md(n,e)}))}function Da(){return(0,g.useDeferredValue)(Je(Xe(),er,Ia))}function Ta(n=""){let e=Xe(),t=dt(e,"skinTone"),s=(0,g.useMemo)(()=>Id(n),[n]);return[t,(0,g.useCallback)(r=>{e.set({skinTone:r})},[]),s]}function tr(n,e){if(Object.is(n,e))return!0;if(typeof n!="object"||typeof e!="object"||n===null||e===null||Array.isArray(n)!==Array.isArray(e))return!1;let t=Object.keys(n),s=Object.keys(e);return t.length!==s.length?!1:t.every(r=>r in e&&n[r]===e[r])}function Dd(...n){}function Td(n,e){let t=null;if(typeof window.requestIdleCallback=="function")t=window.requestIdleCallback(n,e);else{let s=Date.now();t=window.setTimeout(()=>{n({didTimeout:!1,timeRemaining:()=>Math.max(0,(e?.timeout??50)-(Date.now()-s))})},10)}return()=>{typeof window.cancelIdleCallback=="function"?window.cancelIdleCallback(t):window.clearTimeout(t)}}var ot=typeof window<"u"?g.useLayoutEffect:g.useEffect;function Pd(n){let e=(0,g.useRef)(n);return ot(()=>{e.current=n}),(0,g.useCallback)((...t)=>e.current(...t),[])}function Ld({emojiVersion:n,emojibaseUrl:e}){let[t,s]=(0,g.useState)(void 0),r=Xe(),a=dt(r,"locale"),o=dt(r,"columns"),i=dt(r,"skinTone"),d=dt(r,"search");return(0,g.useEffect)(()=>{let m=new AbortController,u=m.signal;return md({locale:a,emojiVersion:n,emojibaseUrl:e,signal:u}).then(c=>{s(c)}).catch(c=>{u.aborted||console.error(c)}),()=>{m.abort()}},[n,e,a]),(0,g.useEffect)(()=>{if(t)return Td(()=>{r.get().onDataChange(gd(t,o,i,d))},{timeout:100})},[t,o,i,d]),null}var Pa=(0,g.forwardRef)(({locale:n="en",columns:e=9,skinTone:t="none",onEmojiSelect:s=Dd,emojiVersion:r,emojibaseUrl:a,onFocusCapture:o,onBlurCapture:i,children:d,style:m,sticky:u=!0,...c},f)=>{let h=Pd(s),p=bd(()=>yd(h,Sr(n),e,u,zr(t))),[b,x]=(0,g.useState)(!1),v=(0,g.useRef)(null),N=(0,g.useCallback)(M=>{M&&(v.current=M,p.set({rootRef:v}))},[]);ot(()=>{p.set({locale:Sr(n)})},[n]),ot(()=>{p.set({columns:e})},[e]),ot(()=>{p.set({sticky:u})},[u]),ot(()=>{p.set({skinTone:zr(t)})},[t]);let S=(0,g.useCallback)(M=>{o?.(M);let{searchRef:C,viewportRef:D}=p.get(),y=M.target===C?.current||M.target.hasAttribute("frimousse-search"),w=M.target===D?.current||M.target.hasAttribute("frimousse-viewport");M.isDefaultPrevented()||(x(y||w),M.isDefaultPrevented()||(x(y||w),w?p.get().onActiveEmojiChange("keyboard",0,0):y&&p.get().search===""&&p.set({interaction:"none"})))},[o]),_=(0,g.useCallback)(M=>{i?.(M),!M.isDefaultPrevented()&&!M.currentTarget.contains(M.relatedTarget)&&x(!1)},[i]);return ot(()=>{b||p.get().onActiveEmojiReset()},[b]),(0,g.useImperativeHandle)(f,()=>v.current),(0,g.useEffect)(()=>{if(!b)return;function M(C){if(C.defaultPrevented||!C.key.startsWith("Arrow")&&C.key!=="Enter")return;let{data:D,onEmojiSelect:y,onActiveEmojiChange:w,interaction:A,activeColumnIndex:R,activeRowIndex:E}=p.get();if(C.key==="Enter"){let I=er(p.get());I&&(C.preventDefault(),y(I))}if(C.key.startsWith("Arrow")){let I=R,z=E;if(C.preventDefault(),A!=="none"){if(D?.rows&&D.rows.length>0)switch(C.key){case"ArrowLeft":if(I===0){let L=z-1,j=D.rows[L];j&&(z=L,I=j.emojis.length-1)}else I-=1;break;case"ArrowRight":if(I===D.rows[z].emojis.length-1){let L=z+1;D.rows[L]&&(z=L,I=0)}else I+=1;break;case"ArrowUp":{let L=D.rows[z-1];L&&(z-=1,L.emojis[I]||(I=L.emojis.length-1));break}case"ArrowDown":{let L=D.rows[z+1];L&&(z+=1,L.emojis[I]||(I=L.emojis.length-1));break}}w("keyboard",I,z)}else w("keyboard",0,0)}}return document.addEventListener("keydown",M),()=>{document.removeEventListener("keydown",M)}},[b]),ot(()=>{let M=null,C=null,D=null,y=null,w=p.subscribe(z=>{v.current&&(M!==z.viewportWidth&&(M=z.viewportWidth,v.current.style.setProperty("--frimousse-viewport-width",`${z.viewportWidth}px`)),C!==z.viewportHeight&&(C=z.viewportHeight,v.current.style.setProperty("--frimousse-viewport-height",`${z.viewportHeight}px`)),D!==z.rowHeight&&(D=z.rowHeight,v.current.style.setProperty("--frimousse-row-height",`${z.rowHeight}px`)),y!==z.categoryHeaderHeight&&(y=z.categoryHeaderHeight,v.current.style.setProperty("--frimousse-category-header-height",`${z.categoryHeaderHeight}px`)))}),{viewportWidth:A,viewportHeight:R,rowHeight:E,categoryHeaderHeight:I}=p.get();return A&&v.current.style.setProperty("--frimousse-viewport-width",`${A}px`),R&&v.current.style.setProperty("--frimousse-viewport-height",`${R}px`),E&&v.current.style.setProperty("--frimousse-row-height",`${E}px`),I&&v.current.style.setProperty("--frimousse-category-header-height",`${I}px`),w},[]),(0,l.jsx)("div",{"data-focused":b?"":void 0,"frimousse-root":"",onBlurCapture:_,onFocusCapture:S,...c,ref:N,style:{"--frimousse-emoji-font":_a,...m},children:(0,l.jsxs)(wd,{store:p,children:[(0,l.jsx)(Ld,{emojiVersion:r,emojibaseUrl:a}),d]})})}),La=(0,g.forwardRef)(({value:n,defaultValue:e,onChange:t,...s},r)=>{let a=Xe(),o=(0,g.useRef)(null),i=(0,g.useCallback)(c=>{c&&(o.current=c,a.set({searchRef:o}))},[]),d=typeof n=="string",m=(0,g.useRef)(d);(0,g.useEffect)(()=>{m.current=d},[d]),ot(()=>{a.set({search:typeof n=="string"?n:typeof e=="string"?e:""})},[]),ot(()=>{typeof n=="string"&&a.get().onSearchChange(n)},[n]);let u=(0,g.useCallback)(c=>{t?.(c),c.isDefaultPrevented()||a.get().onSearchChange(c.target.value)},[t]);return(0,g.useImperativeHandle)(r,()=>o.current),(0,l.jsx)("input",{autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",enterKeyHint:"done","frimousse-search":"",placeholder:"Search",spellCheck:!1,type:"search",...s,defaultValue:e,onChange:u,ref:i,value:n})}),Fd=(0,g.memo)(()=>{let n=Da();return n?(0,l.jsx)("div",{"aria-live":"polite",style:{border:0,clip:"rect(0, 0, 0, 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:1,wordWrap:"normal"},children:n.label}):null}),Fa=(0,g.forwardRef)(({children:n,onScroll:e,onKeyDown:t,style:s,...r},a)=>{let o=Xe(),i=(0,g.useRef)(null),d=(0,g.useCallback)(f=>{f&&(i.current=f,o.set({viewportRef:i}))},[]),m=Je(o,Ma),u=Je(o,Nd),c=(0,g.useCallback)(f=>{e?.(f),o.get().onViewportScroll(f.currentTarget.scrollTop)},[e]);return ot(()=>{if(!i.current)return;let f=new ResizeObserver(([h])=>{let p=h?.borderBoxSize[0]?.inlineSize??0,b=h?.borderBoxSize[0]?.blockSize??0,{onViewportSizeChange:x,viewportHeight:v,viewportWidth:N}=o.get();(v!==b||N!==p)&&x(p,b)});return f.observe(i.current),o.get().onViewportSizeChange(i.current.offsetWidth,i.current.clientHeight),()=>{f.disconnect()}},[]),(0,g.useImperativeHandle)(a,()=>i.current),(0,l.jsxs)("div",{"frimousse-viewport":"",...r,onScroll:c,ref:d,style:{position:"relative",boxSizing:"border-box",contain:"layout paint",containIntrinsicSize:typeof m=="number"&&typeof u=="number"?`var(--frimousse-viewport-width, auto) calc(${m} * var(--frimousse-row-height) + ${u} * var(--frimousse-category-header-height))`:void 0,overflowY:"auto",overscrollBehavior:"contain",scrollbarGutter:"stable",willChange:"scroll-position",...s},children:[(0,l.jsx)(Fd,{}),n]})});function Oa(n,e,t){return{emoji:{...n,isActive:t},role:"gridcell","aria-colindex":e,"aria-selected":t||void 0,"aria-label":n.label,"data-active":t?"":void 0,"frimousse-emoji":"",style:{fontFamily:"var(--frimousse-emoji-font)"},tabIndex:-1}}function Ua(n,e=!1){return{role:e?void 0:"row","aria-rowindex":e?void 0:n,"frimousse-row":"",style:{contain:e?void 0:"content",height:e?void 0:"var(--frimousse-row-height)",display:"flex"}}}function Ha(n,e){return{"frimousse-category":"",style:{contain:"content",top:e?`calc(${n} * var(--frimousse-category-header-height) + ${e.startRowIndex} * var(--frimousse-row-height))`:void 0,height:e?`calc(var(--frimousse-category-header-height) + ${e.rowsCount} * var(--frimousse-row-height))`:void 0,width:"100%",pointerEvents:"none",position:"absolute"}}}function Ba(n,e=!1,t=!0){return{category:n,"frimousse-category-header":"",style:{contain:e?void 0:"layout paint",height:e?void 0:"var(--frimousse-category-header-height)",pointerEvents:"auto",position:t?"sticky":void 0,top:0}}}function Rr(n,e,t,s){return{"frimousse-list-sizer":"",style:{position:"relative",boxSizing:"border-box",height:`calc(${n} * var(--frimousse-row-height) + ${e} * var(--frimousse-category-header-height))`,paddingTop:`calc(${t} * var(--frimousse-row-height) + ${s} * var(--frimousse-category-header-height))`}}}function Mr(n,e,t){return{"aria-colcount":n,"aria-rowcount":e,"frimousse-list":"",style:{"--frimousse-list-columns":n,...t},role:"grid"}}function Od(n){n.preventDefault()}var Ud=(0,g.memo)(({Emoji:n,emoji:e,columnIndex:t,rowIndex:s})=>{let r=Xe(),a=Je(r,m=>er(m)?.emoji===e.emoji),o=(0,g.useCallback)(()=>{r.get().onEmojiSelect(e)},[e]),i=(0,g.useCallback)(()=>{r.get().onActiveEmojiChange("pointer",t,s)},[t,s]),d=(0,g.useCallback)(()=>{r.get().onActiveEmojiReset()},[]);return(0,l.jsx)(n,{...Oa(e,t,a),onClick:o,onPointerDown:Od,onPointerEnter:i,onPointerLeave:d})}),Hd=(0,g.memo)(({Row:n,Emoji:e,rowIndex:t})=>{let s=Je(Xe(),r=>r.data?.rows[t],zd);return s?(0,l.jsx)(n,{...Ua(t),children:s.emojis.map((r,a)=>(0,l.jsx)(Ud,{Emoji:e,columnIndex:a,emoji:r,rowIndex:t},r.label))}):null}),Bd=(0,g.memo)(({CategoryHeader:n,categoryIndex:e})=>{let t=Xe(),s=Je(t,a=>a.data?.categories[e],tr),r=dt(t,"sticky");return s?(0,l.jsx)("div",{...Ha(e,s),children:(0,l.jsx)(n,{...Ba({label:s.label},!1,r)})}):null}),Ir=(0,g.memo)(({CategoryHeader:n,Row:e,Emoji:t})=>{let s=(0,g.useRef)(null),r=Xe(),a=dt(r,"columns"),o=(0,g.useMemo)(()=>Array(a).fill({emoji:"",label:""}),[a]),i=(0,g.useMemo)(()=>({label:"Category"}),[]),d=(0,g.useRef)(null),m=(0,g.useRef)(null);return ot(()=>{let u=s.current?.parentElement?.parentElement;if(!u||!d.current||!m.current)return;let c=new ResizeObserver(p=>{for(let b of p){let x=b.contentRect.height,{onRowHeightChange:v,onCategoryHeaderHeightChange:N,rowHeight:S,categoryHeaderHeight:_}=r.get();b.target===d.current&&S!==x&&v(x),b.target===m.current&&_!==x&&N(x)}});c.observe(u),c.observe(d.current),c.observe(m.current);let{onRowHeightChange:f,onCategoryHeaderHeightChange:h}=r.get();return f(d.current.clientHeight),h(m.current.clientHeight),()=>{c.disconnect()}},[]),(0,l.jsxs)("div",{"aria-hidden":!0,ref:s,style:{height:0,visibility:"hidden"},children:[(0,l.jsx)("div",{"frimousse-row-sizer":"",ref:d,children:(0,l.jsx)(e,{...Ua(-1,!0),children:o.map((u,c)=>(0,l.jsx)(t,{...Oa(u,c,!1)},c))})}),(0,l.jsx)("div",{...Ha(-1),children:(0,l.jsx)("div",{"frimousse-category-header-sizer":"",ref:m,children:(0,l.jsx)(n,{...Ba(i,!0)})})})]})});function qd({category:n,...e}){return(0,l.jsx)("div",{...e,children:n.label})}function Wd({emoji:n,...e}){return(0,l.jsx)("button",{type:"button",...e,children:n.emoji})}function Vd({...n}){return(0,l.jsx)("div",{...n})}var qa=(0,g.forwardRef)(({style:n,components:e,...t},s)=>{let r=Xe(),a=(0,g.useRef)(null),o=(0,g.useCallback)(v=>{v&&(a.current=v,r.set({listRef:a}))},[]),i=e?.CategoryHeader??qd,d=e?.Emoji??Wd,m=e?.Row??Vd,u=dt(r,"columns"),c=dt(r,"viewportStartRowIndex"),f=dt(r,"viewportEndRowIndex"),h=Je(r,Ma),p=Je(r,_d,tr),b=(0,g.useMemo)(()=>p?.filter(v=>v<c).length??0,[p,c]),x=p?.length??0;return(0,g.useImperativeHandle)(s,()=>a.current),!h||!p||x===0?(0,l.jsx)("div",{...Mr(u,0,n),...t,children:(0,l.jsx)("div",{...Rr(0,0,0,0),children:(0,l.jsx)(Ir,{CategoryHeader:i,Emoji:d,Row:m})})}):(0,l.jsx)("div",{...Mr(u,h,n),...t,ref:o,children:(0,l.jsxs)("div",{...Rr(h,x,c,b),children:[(0,l.jsx)(Ir,{CategoryHeader:i,Emoji:d,Row:m}),Array.from({length:f-c+1},(v,N)=>{let S=c+N;return(0,l.jsxs)(g.Fragment,{children:[p.indexOf(S)>=0&&(0,l.jsx)("div",{style:{height:"var(--frimousse-category-header-height)"}}),(0,l.jsx)(Hd,{Emoji:d,Row:m,rowIndex:S})]},S)}),Array.from({length:x},(v,N)=>(0,l.jsx)(Bd,{CategoryHeader:i,categoryIndex:N},N))]})})}),Wa=(0,g.forwardRef)(({emoji:n,onClick:e,"aria-label":t="Change skin tone",...s},r)=>{let a=Je(Xe(),Sd,tr),[o,i,d]=Ta(n),m=(0,g.useMemo)(()=>Math.max(0,d.findIndex(b=>b.skinTone===o)),[o,d]),u=d[m],c=d[(m+1)%d.length].skinTone,f=o==="none"?void 0:a?.[o],h=c==="none"?void 0:a?.[c],p=(0,g.useCallback)(b=>{e?.(b),b.isDefaultPrevented()||i(c)},[e,i,c]);return(0,l.jsx)("button",{type:"button",...s,"aria-label":t+(h?` (${h})`:""),"aria-live":"polite","aria-valuetext":f,"frimousse-skin-tone-selector":"",onClick:p,ref:r,children:u.emoji})});function Va({children:n,...e}){return Je(Xe(),Cd)?(0,l.jsx)("span",{"frimousse-loading":"",...e,children:n}):null}function Yd({children:n}){return n({search:Je(Xe(),jd)})}function Ya({children:n,...e}){return Je(Xe(),kd)?(0,l.jsx)("span",{"frimousse-empty":"",...e,children:typeof n=="function"?(0,l.jsx)(Yd,{children:n}):n}):null}function Xa({children:n}){return n({emoji:Da()})}function Ka({children:n,emoji:e}){let[t,s,r]=Ta(e);return n({skinTone:t,setSkinTone:s,skinToneVariations:r})}Pa.displayName="EmojiPicker.Root";La.displayName="EmojiPicker.Search";Fa.displayName="EmojiPicker.Viewport";qa.displayName="EmojiPicker.List";Va.displayName="EmojiPicker.Loading";Ya.displayName="EmojiPicker.Empty";Wa.displayName="EmojiPicker.SkinToneSelector";Xa.displayName="EmojiPicker.ActiveEmoji";Ka.displayName="EmojiPicker.SkinTone";var Xd=ie(),Kd=n=>{const e=(0,Xd.c)(10),{onEmojiSelect:t,className:s}=n;let r;e[0]!==s?(r=re("isolate flex h-[350px] w-[320px] flex-col overflow-hidden rounded-xl border border-zinc-200 bg-white shadow-xl dark:border-zinc-800 dark:bg-zinc-950",s),e[0]=s,e[1]=r):r=e[1];let a;e[2]===Symbol.for("react.memo_cache_sentinel")?(a=(0,l.jsx)(vt.Search,{className:"z-10 mx-3 mt-3 appearance-none rounded-lg border-none bg-zinc-100 px-3 py-2 text-sm outline-none placeholder:text-zinc-500 focus:ring-1 focus:ring-violet-500 dark:bg-zinc-900 dark:text-white",placeholder:"Search emojis..."}),e[2]=a):a=e[2];let o,i;e[3]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsx)(vt.Loading,{className:"absolute inset-0 flex items-center justify-center text-sm text-zinc-400 dark:text-zinc-500",children:"Loading"}),i=(0,l.jsx)(vt.Empty,{className:"absolute inset-0 flex items-center justify-center text-sm text-zinc-400 dark:text-zinc-500",children:"No emoji found."}),e[3]=o,e[4]=i):(o=e[3],i=e[4]);let d,m;e[5]===Symbol.for("react.memo_cache_sentinel")?(d=(0,l.jsxs)(vt.Viewport,{className:"relative flex-1 outline-none no-scrollbar",children:[o,i,(0,l.jsx)(vt.List,{className:"select-none pb-2",components:{CategoryHeader:Qd,Row:Zd,Emoji:Gd}})]}),m=(0,l.jsx)(vt.ActiveEmoji,{children:Jd}),e[5]=d,e[6]=m):(d=e[5],m=e[6]);let u;return e[7]!==t||e[8]!==r?(u=(0,l.jsxs)(vt.Root,{onEmojiSelect:t,className:r,children:[a,d,m]}),e[7]=t,e[8]=r,e[9]=u):u=e[9],u},yh=Kd;function Qd(n){const{category:e,...t}=n;return(0,l.jsx)("div",{className:"bg-white/80 px-4 pb-1.5 pt-4 text-[11px] font-bold uppercase tracking-wider text-zinc-500 backdrop-blur-sm dark:bg-zinc-950/80 dark:text-zinc-400",...t,children:e.label})}function Zd(n){const{children:e,...t}=n;return(0,l.jsx)("div",{className:"scroll-my-1 px-2",...t,children:e})}function Gd(n){const{emoji:e,...t}=n;return(0,l.jsx)("button",{className:"flex aspect-square size-9 items-center justify-center rounded-lg text-xl transition-colors hover:bg-zinc-100 data-[active]:bg-violet-500/10 data-[active]:text-violet-500 dark:hover:bg-zinc-900 dark:data-[active]:bg-violet-500/20",...t,children:e.emoji})}function Jd(n){const{emoji:e}=n;return(0,l.jsx)("div",{className:"flex items-center gap-3 border-t border-zinc-100 p-3 dark:border-zinc-800",children:e?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"text-2xl",children:e.emoji}),(0,l.jsx)("span",{className:"truncate text-xs font-bold text-zinc-600 dark:text-zinc-400",children:e.label.replace(/:/g,"").replace(/_/g," ")})]}):(0,l.jsx)("span",{className:"text-xs font-medium text-zinc-400",children:"Select an emoji..."})})}var $d=ie(),eu=n=>{const e=(0,$d.c)(33),{src:t,isOpen:s,onClose:r,onCropComplete:a,aspect:o,circular:i}=n,[d,m]=(0,g.useState)(),[u,c]=(0,g.useState)(null),f=(0,g.useRef)(null);let h;e[0]!==o?(h=E=>{const{width:I,height:z}=E.currentTarget;m(o?Fo(Oo({unit:"%",width:100},o,I,z),I,z):{unit:"%",width:100,height:100,x:0,y:0})},e[0]=o,e[1]=h):h=e[1];const p=h;let b;e[2]!==u||e[3]!==r||e[4]!==a?(b=async()=>{if(u&&f.current)try{a(await Bi(f.current,u)),r()}catch(E){console.error("Error cropping image:",E)}},e[2]=u,e[3]=r,e[4]=a,e[5]=b):b=e[5];const x=b;let v;e[6]!==r?(v=E=>!E&&r(),e[6]=r,e[7]=v):v=e[7];let N;e[8]===Symbol.for("react.memo_cache_sentinel")?(N=(0,l.jsx)(Zn,{className:"shrink-0 p-4",children:(0,l.jsx)(Jn,{children:"Crop Image"})}),e[8]=N):N=e[8];let S,_;e[9]===Symbol.for("react.memo_cache_sentinel")?(S=E=>m(E),_=E=>c(E),e[9]=S,e[10]=_):(S=e[9],_=e[10]);let M;e[11]!==p||e[12]!==t?(M=(0,l.jsx)("img",{ref:f,src:t,alt:"Crop preview",onLoad:p,className:"block max-h-[60vh] w-auto"}),e[11]=p,e[12]=t,e[13]=M):M=e[13];let C;e[14]!==o||e[15]!==i||e[16]!==d||e[17]!==M?(C=(0,l.jsx)("div",{className:"flex max-h-[65vh] min-h-[300px] items-center justify-center overflow-auto bg-zinc-100/50 p-6 dark:bg-zinc-950/50",children:(0,l.jsx)(To,{crop:d,onChange:S,onComplete:_,aspect:o,circularCrop:i,className:"max-w-full shadow-2xl",children:M})}),e[14]=o,e[15]=i,e[16]=d,e[17]=M,e[18]=C):C=e[18];let D;e[19]!==r?(D=(0,l.jsx)(Ge,{variant:"outline",onClick:r,className:"!w-auto px-6",children:"Cancel"}),e[19]=r,e[20]=D):D=e[20];let y;e[21]!==x?(y=(0,l.jsx)(Ge,{onClick:x,className:"!w-auto px-6",children:"Apply Crop"}),e[21]=x,e[22]=y):y=e[22];let w;e[23]!==y||e[24]!==D?(w=(0,l.jsxs)(Gn,{className:"flex shrink-0 flex-row justify-end gap-2 bg-white p-4 dark:bg-zinc-900",children:[D,y]}),e[23]=y,e[24]=D,e[25]=w):w=e[25];let A;e[26]!==w||e[27]!==C?(A=(0,l.jsxs)(Qn,{className:"overflow-hidden bg-white p-0 sm:max-w-2xl dark:bg-zinc-900",children:[N,C,w]}),e[26]=w,e[27]=C,e[28]=A):A=e[28];let R;return e[29]!==s||e[30]!==A||e[31]!==v?(R=(0,l.jsx)(ja,{open:s,onOpenChange:v,children:A}),e[29]=s,e[30]=A,e[31]=v,e[32]=R):R=e[32],R},tu=eu,nu=ie(),ru=n=>{const e=(0,nu.c)(105),{images:t,currentIndex:s,onClose:r,onNavigate:a}=n,o=s===void 0?0:s,[i,d]=(0,g.useState)(1);let m;e[0]===Symbol.for("react.memo_cache_sentinel")?(m={x:0,y:0},e[0]=m):m=e[0];const[u,c]=(0,g.useState)(m),[f,h]=(0,g.useState)(!1);let p;e[1]===Symbol.for("react.memo_cache_sentinel")?(p={x:0,y:0},e[1]=p):p=e[1];const[b,x]=(0,g.useState)(p),[v,N]=(0,g.useState)(null),[S,_]=(0,g.useState)(null),M=(0,g.useRef)(null),C=(0,g.useRef)(null);let D;e[2]===Symbol.for("react.memo_cache_sentinel")?(D=()=>d(au),e[2]=D):D=e[2];const y=D;let w;e[3]===Symbol.for("react.memo_cache_sentinel")?(w=()=>{d(ae=>{const xe=Math.max(ae-.5,1);return xe===1&&c({x:0,y:0}),xe})},e[3]=w):w=e[3];const A=w;let R;e[4]===Symbol.for("react.memo_cache_sentinel")?(R=()=>{d(1),c({x:0,y:0})},e[4]=R):R=e[4];const E=R;let I;e[5]!==o||e[6]!==a?(I=()=>{o>0&&(E(),a(o-1))},e[5]=o,e[6]=a,e[7]=I):I=e[7];const z=I;let L;e[8]!==o||e[9]!==t?.length||e[10]!==a?(L=()=>{o<(t?.length||0)-1&&(E(),a(o+1))},e[8]=o,e[9]=t?.length,e[10]=a,e[11]=L):L=e[11],t?.length;const j=L;let k;e[12]!==j||e[13]!==z||e[14]!==r?(k=()=>{const ae=xe=>{xe.key==="Escape"&&r(),xe.key==="ArrowLeft"&&z(),xe.key==="ArrowRight"&&j()};return window.addEventListener("keydown",ae),()=>window.removeEventListener("keydown",ae)},e[12]=j,e[13]=z,e[14]=r,e[15]=k):k=e[15];let P;if(e[16]!==o||e[17]!==j||e[18]!==z||e[19]!==r?(P=[o,r,z,j],e[16]=o,e[17]=j,e[18]=z,e[19]=r,e[20]=P):P=e[20],(0,g.useEffect)(k,P),!t||t.length===0)return null;const T=t[o],F=t.length>1;let q;e[21]!==u.x||e[22]!==u.y||e[23]!==i?(q=ae=>{i>1&&(h(!0),x({x:ae.clientX-u.x,y:ae.clientY-u.y}))},e[21]=u.x,e[22]=u.y,e[23]=i,e[24]=q):q=e[24];const H=q;let B;e[25]!==b||e[26]!==f||e[27]!==i?(B=ae=>{f&&i>1&&c({x:ae.clientX-b.x,y:ae.clientY-b.y})},e[25]=b,e[26]=f,e[27]=i,e[28]=B):B=e[28];const U=B;let O;e[29]===Symbol.for("react.memo_cache_sentinel")?(O=()=>h(!1),e[29]=O):O=e[29];const V=O;let Z;e[30]!==u.x||e[31]!==u.y||e[32]!==i?(Z=ae=>{ae.touches.length===1?(N({x:ae.touches[0].clientX,y:ae.touches[0].clientY,time:Date.now()}),i>1&&(h(!0),x({x:ae.touches[0].clientX-u.x,y:ae.touches[0].clientY-u.y}))):ae.touches.length===2&&_(Math.hypot(ae.touches[0].clientX-ae.touches[1].clientX,ae.touches[0].clientY-ae.touches[1].clientY))},e[30]=u.x,e[31]=u.y,e[32]=i,e[33]=Z):Z=e[33];const X=Z;let W;e[34]!==b||e[35]!==S||e[36]!==f||e[37]!==i?(W=ae=>{if(ae.touches.length===1)f&&i>1&&c({x:ae.touches[0].clientX-b.x,y:ae.touches[0].clientY-b.y});else if(ae.touches.length===2&&S){const xe=Math.hypot(ae.touches[0].clientX-ae.touches[1].clientX,ae.touches[0].clientY-ae.touches[1].clientY);d(Math.min(Math.max(i*(xe/S),1),4)),_(xe)}},e[34]=b,e[35]=S,e[36]=f,e[37]=i,e[38]=W):W=e[38];const te=W;let Q;e[39]!==j||e[40]!==z||e[41]!==i||e[42]!==v?(Q=ae=>{if(ae.touches.length<2&&_(null),h(!1),v&&i===1){const xe={x:ae.changedTouches[0].clientX,y:ae.changedTouches[0].clientY},je=xe.x-v.x,ze=xe.y-v.y,Te=Date.now()-v.time;Math.abs(je)>50&&Math.abs(ze)<50&&Te<300&&(je>0?z():j())}N(null)},e[39]=j,e[40]=z,e[41]=i,e[42]=v,e[43]=Q):Q=e[43];const K=Q;let ne;e[44]!==T?(ne=ae=>{ae.stopPropagation();const xe=document.createElement("a");xe.href=T,xe.download=`sysm-${Date.now()}.jpg`,document.body.appendChild(xe),xe.click(),document.body.removeChild(xe)},e[44]=T,e[45]=ne):ne=e[45];const G=ne,J=F?`${o+1} / ${t.length}`:"Image View";let ee;e[46]!==J?(ee=(0,l.jsx)("div",{className:"flex flex-col",children:(0,l.jsx)("span",{className:"text-lg font-bold text-white drop-shadow-md",children:J})}),e[46]=J,e[47]=ee):ee=e[47];let se;e[48]===Symbol.for("react.memo_cache_sentinel")?(se=(0,l.jsx)("button",{onClick:A,className:"hidden rounded-full p-2 text-white transition-colors hover:bg-white/10 sm:block",children:(0,l.jsx)(Qo,{size:20})}),e[48]=se):se=e[48];let le;e[49]===Symbol.for("react.memo_cache_sentinel")?(le=(0,l.jsx)("button",{onClick:y,className:"hidden rounded-full p-2 text-white transition-colors hover:bg-white/10 sm:block",children:(0,l.jsx)(ai,{size:20})}),e[49]=le):le=e[49];let oe;e[50]===Symbol.for("react.memo_cache_sentinel")?(oe=(0,l.jsx)("button",{onClick:E,className:"rounded-full p-2 text-white transition-colors hover:bg-white/10",children:(0,l.jsx)(ti,{size:20})}),e[50]=oe):oe=e[50];let be;e[51]===Symbol.for("react.memo_cache_sentinel")?(be=(0,l.jsx)(Zo,{size:20}),e[51]=be):be=e[51];let ye;e[52]!==G?(ye=(0,l.jsx)("button",{onClick:G,className:"rounded-full p-2 text-white transition-colors hover:bg-white/10",children:be}),e[52]=G,e[53]=ye):ye=e[53];let ce;e[54]===Symbol.for("react.memo_cache_sentinel")?(ce=(0,l.jsx)("div",{className:"mx-1 hidden h-6 w-px bg-white/20 sm:block"}),e[54]=ce):ce=e[54];let ve;e[55]===Symbol.for("react.memo_cache_sentinel")?(ve=(0,l.jsx)(Rt,{size:24}),e[55]=ve):ve=e[55];let me;e[56]!==r?(me=(0,l.jsx)("button",{onClick:r,className:"rounded-full bg-white/10 p-2 text-white transition-all hover:bg-white/20",children:ve}),e[56]=r,e[57]=me):me=e[57];let Ce;e[58]!==ye||e[59]!==me?(Ce=(0,l.jsxs)("div",{className:"flex items-center gap-1 sm:gap-3",onClick:ou,children:[se,le,oe,ye,ce,me]}),e[58]=ye,e[59]=me,e[60]=Ce):Ce=e[60];let Ne;e[61]!==ee||e[62]!==Ce?(Ne=(0,l.jsxs)("div",{className:"absolute left-0 right-0 top-0 z-20 flex items-center justify-between bg-gradient-to-b from-black/60 to-transparent p-4",children:[ee,Ce]}),e[61]=ee,e[62]=Ce,e[63]=Ne):Ne=e[63];let we;e[64]!==o||e[65]!==z||e[66]!==F||e[67]!==i?(we=F&&o>0&&i===1&&(0,l.jsx)("button",{onClick:ae=>{ae.stopPropagation(),z()},className:"absolute left-6 z-10 hidden rounded-full bg-white/5 p-4 text-white backdrop-blur-sm transition-all hover:bg-white/10 active:scale-90 md:flex",children:(0,l.jsx)(cs,{size:32})}),e[64]=o,e[65]=z,e[66]=F,e[67]=i,e[68]=we):we=e[68];const Re=`translate(${u.x}px, ${u.y}px) scale(${i})`;let Me;e[69]!==Re?(Me={transform:Re},e[69]=Re,e[70]=Me):Me=e[70];let de;e[71]!==T?(de=(0,l.jsx)("img",{ref:C,src:T,className:"max-h-[85vh] max-w-[95vw] select-none rounded-sm object-contain shadow-2xl",alt:"",draggable:!1}),e[71]=T,e[72]=de):de=e[72];let _e;e[73]!==H||e[74]!==Me||e[75]!==de?(_e=(0,l.jsx)("div",{className:"relative cursor-grab transition-transform duration-200 ease-out active:cursor-grabbing",style:Me,onMouseDown:H,onClick:iu,children:de}),e[73]=H,e[74]=Me,e[75]=de,e[76]=_e):_e=e[76];let ke;e[77]!==o||e[78]!==j||e[79]!==F||e[80]!==t.length||e[81]!==i?(ke=F&&o<t.length-1&&i===1&&(0,l.jsx)("button",{onClick:ae=>{ae.stopPropagation(),j()},className:"absolute right-6 z-10 hidden rounded-full bg-white/5 p-4 text-white backdrop-blur-sm transition-all hover:bg-white/10 active:scale-90 md:flex",children:(0,l.jsx)(bn,{size:32})}),e[77]=o,e[78]=j,e[79]=F,e[80]=t.length,e[81]=i,e[82]=ke):ke=e[82];let Ae;e[83]!==we||e[84]!==_e||e[85]!==ke?(Ae=(0,l.jsxs)("div",{className:"relative flex h-full w-full items-center justify-center",children:[we,_e,ke]}),e[83]=we,e[84]=_e,e[85]=ke,e[86]=Ae):Ae=e[86];let Ee;e[87]!==o||e[88]!==F||e[89]!==t||e[90]!==a?(Ee=F&&(0,l.jsx)("div",{className:"hide-scrollbar absolute bottom-8 flex max-w-[90%] gap-3 overflow-x-auto rounded-2xl border border-white/10 bg-black/40 p-3 backdrop-blur-xl",onClick:lu,children:t.map((ae,xe)=>(0,l.jsx)("button",{onClick:()=>{E(),a(xe)},className:`size-14 shrink-0 overflow-hidden rounded-xl border-2 transition-all ${xe===o?"scale-110 border-violet-500 shadow-lg shadow-violet-500/20":"border-transparent opacity-40 hover:opacity-100"}`,children:(0,l.jsx)("img",{src:ae,className:"size-full object-cover",alt:""})},xe))}),e[87]=o,e[88]=F,e[89]=t,e[90]=a,e[91]=Ee):Ee=e[91];let Ie;e[92]!==F||e[93]!==i?(Ie=i===1&&F&&(0,l.jsx)("div",{className:"absolute bottom-4 text-[10px] font-bold uppercase tracking-widest text-white/30 md:hidden",children:"Swipe to navigate"}),e[92]=F,e[93]=i,e[94]=Ie):Ie=e[94];let Ze;return e[95]!==U||e[96]!==K||e[97]!==te||e[98]!==X||e[99]!==r||e[100]!==Ne||e[101]!==Ae||e[102]!==Ee||e[103]!==Ie?(Ze=(0,l.jsxs)("div",{ref:M,className:"fixed inset-0 z-[100] flex touch-none flex-col items-center justify-center overflow-hidden bg-black/95 backdrop-blur-md",onMouseMove:U,onMouseUp:V,onMouseLeave:V,onTouchStart:X,onTouchMove:te,onTouchEnd:K,onClick:r,children:[Ne,Ae,Ee,Ie]}),e[95]=U,e[96]=K,e[97]=te,e[98]=X,e[99]=r,e[100]=Ne,e[101]=Ae,e[102]=Ee,e[103]=Ie,e[104]=Ze):Ze=e[104],Ze},su=ru;function au(n){return Math.min(n+.5,4)}function ou(n){return n.stopPropagation()}function iu(n){return n.stopPropagation()}function lu(n){return n.stopPropagation()}var cu=ie(),Qa=g.forwardRef((n,e)=>{const t=(0,cu.c)(20);let s,r,a,o,i;t[0]!==n?({className:s,label:r,type:i,textarea:o,...a}=n,t[0]=n,t[1]=s,t[2]=r,t[3]=a,t[4]=o,t[5]=i):(s=t[1],r=t[2],a=t[3],o=t[4],i=t[5]);const d=o?"textarea":"input";let m;t[6]!==r?(m=r&&(0,l.jsx)("label",{className:"text-sm font-bold text-zinc-500 dark:text-zinc-400 ml-1",children:r}),t[6]=r,t[7]=m):m=t[7];const u=o&&"min-h-[100px] resize-none";let c;t[8]!==s||t[9]!==u?(c=re("flex w-full rounded-xl border border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900 px-4 py-2.5 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-violet-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:ring-offset-zinc-950 dark:text-white transition-all",u,s),t[8]=s,t[9]=u,t[10]=c):c=t[10];const f=e;let h;t[11]!==d||t[12]!==a||t[13]!==c||t[14]!==f||t[15]!==i?(h=(0,l.jsx)(d,{type:i,className:c,ref:f,...a}),t[11]=d,t[12]=a,t[13]=c,t[14]=f,t[15]=i,t[16]=h):h=t[16];let p;return t[17]!==m||t[18]!==h?(p=(0,l.jsxs)("div",{className:"w-full space-y-1.5",children:[m,h]}),t[17]=m,t[18]=h,t[19]=p):p=t[19],p});Qa.displayName="Input";var yt=Qa,du=ie(),uu=n=>{const e=(0,du.c)(27),{isOpen:t,onClose:s,title:r,children:a,footer:o,description:i,className:d}=n;let m;e[0]!==s?(m=M=>{M||s()},e[0]=s,e[1]=m):m=e[1];const u=m;let c;e[2]!==d?(c=re("flex max-h-[calc(100dvh-2rem)] flex-col gap-0 overflow-hidden bg-white p-0 sm:max-w-md dark:bg-zinc-900",d),e[2]=d,e[3]=c):c=e[3];const f=!r&&"sr-only";let h;e[4]!==f?(h=re("shrink-0 border-b border-zinc-100 px-5 py-4 dark:border-zinc-800",f),e[4]=f,e[5]=h):h=e[5];let p;e[6]!==r?(p=(0,l.jsx)(Jn,{className:"text-center text-lg font-bold",children:r}),e[6]=r,e[7]=p):p=e[7];let b;e[8]!==i?(b=i&&(0,l.jsx)(Ca,{className:"text-center",children:i}),e[8]=i,e[9]=b):b=e[9];let x;e[10]!==h||e[11]!==p||e[12]!==b?(x=(0,l.jsxs)(Zn,{className:h,children:[p,b]}),e[10]=h,e[11]=p,e[12]=b,e[13]=x):x=e[13];let v;e[14]!==a?(v=(0,l.jsx)("div",{className:"flex min-h-0 flex-1 flex-col overflow-hidden",children:a}),e[14]=a,e[15]=v):v=e[15];let N;e[16]!==o?(N=o&&(0,l.jsx)(Gn,{className:"shrink-0 border-t border-zinc-100 bg-white px-5 py-4 dark:border-zinc-800 dark:bg-zinc-900",children:o}),e[16]=o,e[17]=N):N=e[17];let S;e[18]!==c||e[19]!==x||e[20]!==v||e[21]!==N?(S=(0,l.jsxs)(Qn,{className:c,children:[x,v,N]}),e[18]=c,e[19]=x,e[20]=v,e[21]=N,e[22]=S):S=e[22];let _;return e[23]!==u||e[24]!==t||e[25]!==S?(_=(0,l.jsx)(ja,{open:t,onOpenChange:u,children:S}),e[23]=u,e[24]=t,e[25]=S,e[26]=_):_=e[26],_},Lt=uu,fu=ie(),mu=n=>{const e=(0,fu.c)(20),{title:t,message:s,icon:r,showHome:a,showBack:o}=n,i=t===void 0?"Not Found":t,d=s===void 0?"The content you are looking for doesn't exist or has been removed.":s,m=r===void 0?ns:r,u=a===void 0?!0:a,c=o===void 0?!0:o,f=vn();let h;e[0]!==m?(h=(0,l.jsx)("div",{className:"mb-6 rounded-full bg-zinc-100 p-6 dark:bg-zinc-900",children:(0,l.jsx)(m,{size:48,className:"text-zinc-400 dark:text-zinc-600"})}),e[0]=m,e[1]=h):h=e[1];let p;e[2]!==i?(p=(0,l.jsx)("h2",{className:"mb-2 text-2xl font-black dark:text-white",children:i}),e[2]=i,e[3]=p):p=e[3];let b;e[4]!==d?(b=(0,l.jsx)("p",{className:"mb-8 max-w-xs leading-relaxed text-zinc-500 dark:text-zinc-400",children:d}),e[4]=d,e[5]=b):b=e[5];let x;e[6]!==f||e[7]!==c?(x=c&&(0,l.jsxs)(Ge,{variant:"secondary",onClick:()=>f(-1),className:"rounded-full px-6",children:[(0,l.jsx)(ci,{size:18,className:"mr-2"}),"Go Back"]}),e[6]=f,e[7]=c,e[8]=x):x=e[8];let v;e[9]!==f||e[10]!==u?(v=u&&(0,l.jsxs)(Ge,{onClick:()=>f("/"),className:"rounded-full bg-zinc-900 px-6 text-white dark:bg-white dark:text-zinc-900",children:[(0,l.jsx)(ji,{size:18,className:"mr-2"}),"Home"]}),e[9]=f,e[10]=u,e[11]=v):v=e[11];let N;e[12]!==v||e[13]!==x?(N=(0,l.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-3",children:[x,v]}),e[12]=v,e[13]=x,e[14]=N):N=e[14];let S;return e[15]!==N||e[16]!==h||e[17]!==p||e[18]!==b?(S=(0,l.jsxs)("div",{className:"animate-in fade-in zoom-in-95 flex min-h-[400px] flex-col items-center justify-center p-8 text-center duration-300",children:[h,p,b,N]}),e[15]=N,e[16]=h,e[17]=p,e[18]=b,e[19]=S):S=e[19],S},wh=mu,hu=ie(),jh=xi,kh=Yo;var pu=g.forwardRef((n,e)=>{const t=(0,hu.c)(13);let s,r,a,o;t[0]!==n?({className:s,align:a,sideOffset:o,...r}=n,t[0]=n,t[1]=s,t[2]=r,t[3]=a,t[4]=o):(s=t[1],r=t[2],a=t[3],o=t[4]);const i=a===void 0?"center":a,d=o===void 0?4:o;let m;t[5]!==s?(m=re("z-50 w-72 rounded-md border border-zinc-200 bg-white p-4 text-zinc-950 shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50",s),t[5]=s,t[6]=m):m=t[6];let u;return t[7]!==i||t[8]!==r||t[9]!==e||t[10]!==d||t[11]!==m?(u=(0,l.jsx)(si,{children:(0,l.jsx)(ss,{ref:e,align:i,sideOffset:d,className:m,...r})}),t[7]=i,t[8]=r,t[9]=e,t[10]=d,t[11]=m,t[12]=u):u=t[12],u});pu.displayName=ss.displayName;const gu=(n,e,t)=>{const s=n?.id,[r,a]=(0,g.useState)(!1),[o,i]=(0,g.useState)({followers:n?.follower_count||0,following:n?.following_count||0}),[d,m]=(0,g.useState)(!1);return(0,g.useEffect)(()=>{n&&(i({followers:n.follower_count||0,following:n.following_count||0}),s&&tn(s)&&(Zi(s).then(c=>{c&&i({followers:c.followers,following:c.following})}).catch(()=>{}),e&&tn(e)?Qi(e,s).then(a).catch(()=>a(!1)):a(!1)))},[n,s,e]),{isFollowing:r,stats:o,loading:d,handleFollow:async()=>{if(!e)return t("Please login to follow!","error");if(e===s)return t("You cannot follow yourself!","error");if(!s||!tn(s)||!tn(e)){const c=!r;a(c),i(f=>{const h=f.followers;return{...f,followers:c?h+1:Math.max(0,h-1)}}),t(c?"Followed":"Unfollowed");return}m(!0);try{const c=await Ki(e,s);a(c),i(f=>({...f,followers:c?(f.followers||0)+1:Math.max(0,(f.followers||0)-1)})),t(c?"Followed":"Unfollowed")}catch(c){console.error("Failed to toggle follow:",c),t("Failed to update follow status","error")}finally{m(!1)}},setStats:i}};var vu=({profile:n,onUserClick:e,isCommunity:t=!1})=>{const{onlineUsers:s}=Ml(),{currentUser:r}=$e(),{addToast:a}=_t(),o=s.has(n.id),[i,d]=(0,g.useState)(!1),[m,u]=(0,g.useState)(t),{isFollowing:c,loading:f,handleFollow:h}=gu(t?null:n,r?.id,a);(0,g.useEffect)(()=>{t&&r&&n.id?ul(n.id,r.id).then(d).finally(()=>u(!1)):u(!1)},[t,r,n.id]);const p=async D=>{if(D.stopPropagation(),!r)return a("Please login to join communities","error");u(!0);try{const y=await dl(n.id,r.id);d(y),a(y?`Joined ${"name"in n?n.name:""}`:`Left ${"name"in n?n.name:""}`)}catch{a("Failed to update membership","error")}finally{u(!1)}},b=r?.id===n.id,x=t?m:f,v=n.handle,N=n.avatar,S=n.name,_="follower_count"in n?n.follower_count:0,M="membersCount"in n?n.membersCount:0,C="verified"in n?n.verified:!1;return(0,l.jsxs)("div",{className:"group flex cursor-pointer items-center justify-between border-b border-zinc-100 p-4 transition-colors hover:bg-zinc-50 dark:border-zinc-800 dark:hover:bg-zinc-900/40",onClick:()=>e(v),children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)(wt,{className:`size-12 border border-zinc-200 shadow-sm dark:border-zinc-800 ${t?"rounded-2xl":""}`,children:[(0,l.jsx)(jt,{src:N||void 0,alt:v,className:"object-cover"}),(0,l.jsx)(kt,{className:t?"rounded-2xl":"",children:v?.[0]?.toUpperCase()})]}),o&&!t&&(0,l.jsx)("span",{className:"absolute bottom-0 right-0 size-3 rounded-full border-2 border-white bg-emerald-500 shadow-sm dark:border-black"})]}),(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsxs)("span",{className:"flex items-center gap-1 truncate font-extrabold text-zinc-900 dark:text-zinc-100",children:[S,C&&(0,l.jsx)(to,{size:16,className:"shrink-0 text-blue-500"})]}),(0,l.jsxs)("span",{className:"mt-0.5 text-sm text-zinc-500",children:["@",v]}),t&&(0,l.jsxs)("span",{className:"mt-1 text-xs text-zinc-400",children:[M||0," members"]}),!t&&_!==void 0&&(0,l.jsxs)("span",{className:"mt-1 text-xs text-zinc-400",children:[_," followers"]})]})]}),!b&&(0,l.jsx)(Ge,{variant:t?i?"secondary":"outline":c?"secondary":"outline",className:"flex !w-auto items-center gap-1.5 rounded-full border-zinc-200 !px-4 !py-1.5 text-sm font-bold hover:bg-zinc-100 dark:border-zinc-700 dark:hover:bg-zinc-800",onClick:t?p:D=>{D.stopPropagation(),h()},disabled:x,children:x?(0,l.jsx)(mt,{className:"size-4 animate-spin"}):t?i?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Pr,{size:16}),(0,l.jsx)("span",{className:"hidden sm:inline",children:"Joined"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Tr,{size:16}),(0,l.jsx)("span",{className:"hidden sm:inline",children:"Join"})]}):c?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Pr,{size:16}),(0,l.jsx)("span",{className:"hidden sm:inline",children:"Following"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Tr,{size:16}),(0,l.jsx)("span",{className:"hidden sm:inline",children:"Follow"})]})})]})},Ch=vu,Za=ie(),bu=g.forwardRef((n,e)=>{const t=(0,Za.c)(15);let s,r,a;t[0]!==n?({className:r,children:s,...a}=n,t[0]=n,t[1]=s,t[2]=r,t[3]=a):(s=t[1],r=t[2],a=t[3]);let o;t[4]!==r?(o=re("relative overflow-hidden",r),t[4]=r,t[5]=o):o=t[5];let i;t[6]!==s?(i=(0,l.jsx)(ii,{className:"h-full w-full rounded-[inherit]",children:s}),t[6]=s,t[7]=i):i=t[7];let d,m;t[8]===Symbol.for("react.memo_cache_sentinel")?(d=(0,l.jsx)(Ga,{}),m=(0,l.jsx)(Mi,{}),t[8]=d,t[9]=m):(d=t[8],m=t[9]);let u;return t[10]!==a||t[11]!==e||t[12]!==o||t[13]!==i?(u=(0,l.jsxs)(hs,{ref:e,className:o,...a,children:[i,d,m]}),t[10]=a,t[11]=e,t[12]=o,t[13]=i,t[14]=u):u=t[14],u});bu.displayName=hs.displayName;var Ga=g.forwardRef((n,e)=>{const t=(0,Za.c)(14);let s,r,a;t[0]!==n?({className:s,orientation:a,...r}=n,t[0]=n,t[1]=s,t[2]=r,t[3]=a):(s=t[1],r=t[2],a=t[3]);const o=a===void 0?"vertical":a,i=o==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",d=o==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]";let m;t[4]!==s||t[5]!==i||t[6]!==d?(m=re("flex touch-none select-none transition-colors",i,d,s),t[4]=s,t[5]=i,t[6]=d,t[7]=m):m=t[7];let u;t[8]===Symbol.for("react.memo_cache_sentinel")?(u=(0,l.jsx)(Ei,{className:"relative flex-1 rounded-full bg-zinc-200 dark:bg-zinc-800"}),t[8]=u):u=t[8];let c;return t[9]!==o||t[10]!==r||t[11]!==e||t[12]!==m?(c=(0,l.jsx)(rs,{ref:e,orientation:o,className:m,...r,children:u}),t[9]=o,t[10]=r,t[11]=e,t[12]=m,t[13]=c):c=t[13],c});Ga.displayName=rs.displayName;var xu=ie(),yu=n=>{const e=(0,xu.c)(14),{value:t,onChange:s,onClear:r,placeholder:a,className:o}=n,i=a===void 0?"Search...":a,d=`relative group w-full ${o===void 0?"":o}`;let m;e[0]===Symbol.for("react.memo_cache_sentinel")?(m=(0,l.jsx)(Vs,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-zinc-400 group-focus-within:text-violet-500 transition-colors"}),e[0]=m):m=e[0];let u;e[1]!==s?(u=p=>s(p.target.value),e[1]=s,e[2]=u):u=e[2];let c;e[3]!==i||e[4]!==u||e[5]!==t?(c=(0,l.jsx)("input",{className:"w-full rounded-full border border-zinc-100 dark:border-zinc-800 bg-zinc-50 dark:bg-zinc-900/50 text-zinc-900 dark:text-white px-11 py-2.5 text-sm outline-none focus:border-violet-500 focus:ring-1 focus:ring-violet-500 transition-all",placeholder:i,value:t,onChange:u}),e[3]=i,e[4]=u,e[5]=t,e[6]=c):c=e[6];let f;e[7]!==r||e[8]!==t?(f=t&&(0,l.jsx)("button",{onClick:r,className:"absolute right-4 top-1/2 -translate-y-1/2 text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-200 transition-colors",children:(0,l.jsx)(Rt,{size:16})}),e[7]=r,e[8]=t,e[9]=f):f=e[9];let h;return e[10]!==d||e[11]!==c||e[12]!==f?(h=(0,l.jsxs)("div",{className:d,children:[m,c,f]}),e[10]=d,e[11]=c,e[12]=f,e[13]=h):h=e[13],h},Dr=yu,Mt=ie(),Nh=wi;var _h=Di,wu=g.forwardRef((n,e)=>{const t=(0,Mt.c)(12);let s,r,a;t[0]!==n?({className:r,children:s,...a}=n,t[0]=n,t[1]=s,t[2]=r,t[3]=a):(s=t[1],r=t[2],a=t[3]);let o;t[4]!==r?(o=re("flex h-9 w-full items-center justify-between rounded-md border border-zinc-200 bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-white placeholder:text-zinc-500 focus:outline-none focus:ring-1 focus:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 dark:border-zinc-800 dark:ring-offset-zinc-950 dark:focus:ring-zinc-300 [&>span]:line-clamp-1",r),t[4]=r,t[5]=o):o=t[5];let i;t[6]===Symbol.for("react.memo_cache_sentinel")?(i=(0,l.jsx)(fi,{asChild:!0,children:(0,l.jsx)(ms,{className:"h-4 w-4 opacity-50"})}),t[6]=i):i=t[6];let d;return t[7]!==s||t[8]!==a||t[9]!==e||t[10]!==o?(d=(0,l.jsxs)(Qs,{ref:e,className:o,...a,children:[s,i]}),t[7]=s,t[8]=a,t[9]=e,t[10]=o,t[11]=d):d=t[11],d});wu.displayName=Qs.displayName;var Ja=g.forwardRef((n,e)=>{const t=(0,Mt.c)(10);let s,r;t[0]!==n?({className:s,...r}=n,t[0]=n,t[1]=s,t[2]=r):(s=t[1],r=t[2]);let a;t[3]!==s?(a=re("flex cursor-default items-center justify-center py-1",s),t[3]=s,t[4]=a):a=t[4];let o;t[5]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsx)(bi,{className:"h-4 w-4"}),t[5]=o):o=t[5];let i;return t[6]!==r||t[7]!==e||t[8]!==a?(i=(0,l.jsx)(Is,{ref:e,className:a,...r,children:o}),t[6]=r,t[7]=e,t[8]=a,t[9]=i):i=t[9],i});Ja.displayName=Is.displayName;var $a=g.forwardRef((n,e)=>{const t=(0,Mt.c)(10);let s,r;t[0]!==n?({className:s,...r}=n,t[0]=n,t[1]=s,t[2]=r):(s=t[1],r=t[2]);let a;t[3]!==s?(a=re("flex cursor-default items-center justify-center py-1",s),t[3]=s,t[4]=a):a=t[4];let o;t[5]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsx)(ms,{className:"h-4 w-4"}),t[5]=o):o=t[5];let i;return t[6]!==r||t[7]!==e||t[8]!==a?(i=(0,l.jsx)(Ds,{ref:e,className:a,...r,children:o}),t[6]=r,t[7]=e,t[8]=a,t[9]=i):i=t[9],i});$a.displayName=Ds.displayName;var ju=g.forwardRef((n,e)=>{const t=(0,Mt.c)(21);let s,r,a,o;t[0]!==n?({className:r,children:s,position:o,...a}=n,t[0]=n,t[1]=s,t[2]=r,t[3]=a,t[4]=o):(s=t[1],r=t[2],a=t[3],o=t[4]);const i=o===void 0?"popper":o,d=i==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1";let m;t[5]!==r||t[6]!==d?(m=re("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-zinc-200 bg-white text-zinc-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50",d,r),t[5]=r,t[6]=d,t[7]=m):m=t[7];let u;t[8]===Symbol.for("react.memo_cache_sentinel")?(u=(0,l.jsx)(Ja,{}),t[8]=u):u=t[8];const c=i==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]";let f;t[9]!==c?(f=re("p-1",c),t[9]=c,t[10]=f):f=t[10];let h;t[11]!==s||t[12]!==f?(h=(0,l.jsx)(ui,{className:f,children:s}),t[11]=s,t[12]=f,t[13]=h):h=t[13];let p;t[14]===Symbol.for("react.memo_cache_sentinel")?(p=(0,l.jsx)($a,{}),t[14]=p):p=t[14];let b;return t[15]!==i||t[16]!==a||t[17]!==e||t[18]!==m||t[19]!==h?(b=(0,l.jsx)(Ci,{children:(0,l.jsxs)(Bs,{ref:e,className:m,position:i,...a,children:[u,h,p]})}),t[15]=i,t[16]=a,t[17]=e,t[18]=m,t[19]=h,t[20]=b):b=t[20],b});ju.displayName=Bs.displayName;var ku=g.forwardRef((n,e)=>{const t=(0,Mt.c)(9);let s,r;t[0]!==n?({className:s,...r}=n,t[0]=n,t[1]=s,t[2]=r):(s=t[1],r=t[2]);let a;t[3]!==s?(a=re("px-2 py-1.5 text-sm font-semibold",s),t[3]=s,t[4]=a):a=t[4];let o;return t[5]!==r||t[6]!==e||t[7]!==a?(o=(0,l.jsx)(Rs,{ref:e,className:a,...r}),t[5]=r,t[6]=e,t[7]=a,t[8]=o):o=t[8],o});ku.displayName=Rs.displayName;var Cu=g.forwardRef((n,e)=>{const t=(0,Mt.c)(14);let s,r,a;t[0]!==n?({className:r,children:s,...a}=n,t[0]=n,t[1]=s,t[2]=r,t[3]=a):(s=t[1],r=t[2],a=t[3]);let o;t[4]!==r?(o=re("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-zinc-100 focus:text-zinc-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-zinc-800 dark:focus:text-zinc-50",r),t[4]=r,t[5]=o):o=t[5];let i;t[6]===Symbol.for("react.memo_cache_sentinel")?(i=(0,l.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,l.jsx)(Ai,{children:(0,l.jsx)(Wn,{className:"h-4 w-4"})})}),t[6]=i):i=t[6];let d;t[7]!==s?(d=(0,l.jsx)(mi,{children:s}),t[7]=s,t[8]=d):d=t[8];let m;return t[9]!==a||t[10]!==e||t[11]!==o||t[12]!==d?(m=(0,l.jsxs)(Ls,{ref:e,className:o,...a,children:[i,d]}),t[9]=a,t[10]=e,t[11]=o,t[12]=d,t[13]=m):m=t[13],m});Cu.displayName=Ls.displayName;var Nu=g.forwardRef((n,e)=>{const t=(0,Mt.c)(9);let s,r;t[0]!==n?({className:s,...r}=n,t[0]=n,t[1]=s,t[2]=r):(s=t[1],r=t[2]);let a;t[3]!==s?(a=re("-mx-1 my-1 h-px bg-zinc-100 dark:bg-zinc-800",s),t[3]=s,t[4]=a):a=t[4];let o;return t[5]!==r||t[6]!==e||t[7]!==a?(o=(0,l.jsx)(ks,{ref:e,className:a,...r}),t[5]=r,t[6]=e,t[7]=a,t[8]=o):o=t[8],o});Nu.displayName=ks.displayName;var _u=ie(),Su=n=>{const e=(0,_u.c)(9),{className:t}=n,{setAuthMode:s}=$e();let r;e[0]!==t?(r=re("bg-[--card] border border-[--border] rounded-2xl p-8 flex flex-col items-center text-center gap-4 shadow-sm",t),e[0]=t,e[1]=r):r=e[1];let a,o;e[2]===Symbol.for("react.memo_cache_sentinel")?(a=(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("div",{className:"size-16 animate-spin rounded-full border-4 border-t-transparent border-amber-400 duration-[3000ms]"}),(0,l.jsx)("span",{className:"absolute inset-0 flex items-center justify-center text-2xl",children:""})]}),o=(0,l.jsx)("h2",{className:"mt-2 text-lg font-extrabold leading-tight text-[--foreground]",children:"Get your Sysm account now!"}),e[2]=a,e[3]=o):(a=e[2],o=e[3]);let i;e[4]!==s?(i=(0,l.jsx)("button",{onClick:()=>s("signup"),className:"w-full cursor-pointer rounded-full bg-zinc-950 py-2.5 text-sm font-black uppercase tracking-wider text-white shadow-lg transition-all hover:opacity-90 active:scale-95 dark:bg-white dark:text-zinc-950",children:"Signup now"}),e[4]=s,e[5]=i):i=e[5];let d;return e[6]!==r||e[7]!==i?(d=(0,l.jsxs)("div",{className:r,children:[a,o,i]}),e[6]=r,e[7]=i,e[8]=d):d=e[8],d},zu=Su,Au=ie(),Eu=()=>{const n=(0,Au.c)(3);let e;n[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,l.jsx)("div",{className:"size-11 rounded-full bg-zinc-200 dark:bg-zinc-800 shrink-0"}),n[0]=e):e=n[0];let t;n[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,l.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,l.jsx)("div",{className:"h-4 bg-zinc-200 dark:bg-zinc-800 rounded w-1/3"}),(0,l.jsx)("div",{className:"h-4 bg-zinc-200 dark:bg-zinc-800 rounded w-16"})]}),n[1]=t):t=n[1];let s;return n[2]===Symbol.for("react.memo_cache_sentinel")?(s=(0,l.jsx)("div",{className:"px-5 pt-4 pb-3 border-b border-zinc-100 dark:border-zinc-800 animate-pulse",children:(0,l.jsxs)("div",{className:"flex items-start gap-x-3",children:[e,(0,l.jsxs)("div",{className:"flex-1 min-w-0",children:[t,(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("div",{className:"h-3 bg-zinc-200 dark:bg-zinc-800 rounded w-full"}),(0,l.jsx)("div",{className:"h-3 bg-zinc-200 dark:bg-zinc-800 rounded w-5/6"})]}),(0,l.jsx)("div",{className:"h-48 bg-zinc-200 dark:bg-zinc-800 rounded-xl w-full mt-3"})]})]})}),n[2]=s):s=n[2],s},Sh=Eu,nr=ie(),Ru=vi,eo=g.forwardRef((n,e)=>{const t=(0,nr.c)(9);let s,r;t[0]!==n?({className:s,...r}=n,t[0]=n,t[1]=s,t[2]=r):(s=t[1],r=t[2]);let a;t[3]!==s?(a=re("inline-flex h-10 items-center justify-center rounded-md bg-zinc-100 p-1 text-zinc-500 dark:bg-zinc-800 dark:text-zinc-400",s),t[3]=s,t[4]=a):a=t[4];let o;return t[5]!==r||t[6]!==e||t[7]!==a?(o=(0,l.jsx)(Ys,{ref:e,className:a,...r}),t[5]=r,t[6]=e,t[7]=a,t[8]=o):o=t[8],o});eo.displayName=Ys.displayName;var Tn=g.forwardRef((n,e)=>{const t=(0,nr.c)(9);let s,r;t[0]!==n?({className:s,...r}=n,t[0]=n,t[1]=s,t[2]=r):(s=t[1],r=t[2]);let a;t[3]!==s?(a=re("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white data-[state=active]:text-zinc-950 data-[state=active]:shadow-sm dark:ring-offset-zinc-950 dark:focus-visible:ring-zinc-300 dark:data-[state=active]:bg-zinc-950 dark:data-[state=active]:text-zinc-50",s),t[3]=s,t[4]=a):a=t[4];let o;return t[5]!==r||t[6]!==e||t[7]!==a?(o=(0,l.jsx)(Ns,{ref:e,className:a,...r}),t[5]=r,t[6]=e,t[7]=a,t[8]=o):o=t[8],o});Tn.displayName=Ns.displayName;var Pn=g.forwardRef((n,e)=>{const t=(0,nr.c)(9);let s,r;t[0]!==n?({className:s,...r}=n,t[0]=n,t[1]=s,t[2]=r):(s=t[1],r=t[2]);let a;t[3]!==s?(a=re("mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 dark:ring-offset-zinc-950 dark:focus-visible:ring-zinc-300",s),t[3]=s,t[4]=a):a=t[4];let o;return t[5]!==r||t[6]!==e||t[7]!==a?(o=(0,l.jsx)(Us,{ref:e,className:a,...r}),t[5]=r,t[6]=e,t[7]=a,t[8]=o):o=t[8],o});Pn.displayName=Us.displayName;var Mu=ie(),Iu=n=>{const e=(0,Mu.c)(18),{name:t,number:s}=n,r=t===void 0?"BRUCE WAYNE":t,a=s===void 0?"9759 2484 5269 6576":s;let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsx)("style",{children:`
        .credit-card-container {
          perspective: 1000px;
          width: 240px;
          height: 154px;
        }
        .credit-card-inner {
          position: relative;
          width: 100%;
          height: 100%;
          text-align: center;
          transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
          transform-style: preserve-3d;
          cursor: pointer;
        }
        .credit-card-container:hover .credit-card-inner {
          transform: rotateY(180deg);
        }
        .credit-card-front, .credit-card-back {
          position: absolute;
          width: 100%;
          height: 100%;
          -webkit-backface-visibility: hidden;
          backface-visibility: hidden;
          border-radius: 1rem;
          display: flex;
          flex-direction: column;
          justify-content: center;
          background-color: #171717;
          box-shadow: 0 2px 2px rgba(0,0,0,0.4), 0 7px 13px -3px rgba(0,0,0,0.3), inset 0 -1px 0 rgba(0,0,0,0.2);
          color: white;
          overflow: hidden;
        }
        .credit-card-back {
          transform: rotateY(180deg);
        }
      `}),e[0]=o):o=e[0];let i;e[1]===Symbol.for("react.memo_cache_sentinel")?(i=(0,l.jsx)("p",{className:"absolute left-[18.6em] top-[2em] text-[0.5em] font-bold tracking-[.2em]",children:"VICTIMCARD"}),e[1]=i):i=e[1];let d;e[2]===Symbol.for("react.memo_cache_sentinel")?(d=(0,l.jsxs)("svg",{className:"absolute left-[11.7em] top-[6.8em]",xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36",viewBox:"0 0 48 48",children:[(0,l.jsx)("path",{fill:"#ff9800",d:"M32 10A14 14 0 1 0 32 38A14 14 0 1 0 32 10Z"}),(0,l.jsx)("path",{fill:"#d50000",d:"M16 10A14 14 0 1 0 16 38A14 14 0 1 0 16 10Z"}),(0,l.jsx)("path",{fill:"#ff3d00",d:"M18,24c0,4.755,2.376,8.95,6,11.48c3.624-2.53,6-6.725,6-11.48s-2.376-8.95-6-11.48 C20.376,15.05,18,19.245,18,24z"})]}),e[2]=d):d=e[2];let m;e[3]===Symbol.for("react.memo_cache_sentinel")?(m=(0,l.jsx)("svg",{version:"1.1",className:"absolute left-[1.5em] top-[2.3em]",width:"30px",height:"30px",viewBox:"0 0 50 50",children:(0,l.jsx)("image",{width:"50",height:"50",x:"0",y:"0",href:`data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAABGdBTUEAALGPC/xhBQAAACBjSFJN\r
                AAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAB6VBMVEUAAACNcTiVeUKVeUOY\r
                fEaafEeUeUSYfEWZfEaykleyklaXe0SWekSZZjOYfEWYe0WXfUWXe0WcgEicfkiXe0SVekSXekSW\r
                ekKYe0a9nF67m12ZfUWUeEaXfESVekOdgEmVeUWWekSniU+VeUKVeUOrjFKYfEWliE6WeESZe0GS\r
                e0WYfES7ml2Xe0WXeESUeEOWfEWcf0eWfESXe0SXfEWYekSVeUKXfEWxklawkVaZfEWWekOUekOW\r
                ekSYfESZe0eXekWYfEWZe0WZe0eVeUSWeETAnmDCoWLJpmbxy4P1zoXwyoLIpWbjvXjivnjgu3bf\r
                u3beunWvkFWxkle/nmDivXiWekTnwXvkwHrCoWOuj1SXe0TEo2TDo2PlwHratnKZfEbQrWvPrWua\r
                fUfbt3PJp2agg0v0zYX0zYSfgkvKp2frxX7mwHrlv3rsxn/yzIPgvHfduXWXe0XuyIDzzISsjVO1\r
                lVm0lFitjVPzzIPqxX7duna0lVncuHTLqGjvyIHeuXXxyYGZfUayk1iyk1e2lln1zYTEomO2llrb\r
                tnOafkjFpGSbfkfZtXLhvHfkv3nqxH3mwXujhU3KqWizlFilh06khk2fgkqsjlPHpWXJp2erjVOh\r
                g0yWe0SliE+XekShhEvAn2D///+gx8TWAAAARnRSTlMACVCTtsRl7Pv7+vxkBab7pZv5+ZlL/UnU\r
                /f3SJCVe+Fx39naA9/75XSMh0/3SSkia+pil/KRj7Pr662JPkrbP7OLQ0JFOijI1MwAAAAFiS0dE\r
                orDd34wAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfnAg0IDx2lsiuJAAACLElEQVRIx2Ng\r
                GAXkAUYmZhZWPICFmYkRVQcbOwenmzse4MbFzc6DpIGXj8PD04sA8PbhF+CFaxEU8iWkAQT8hEVg\r
                OkTF/InR4eUVICYO1SIhCRMLDAoKDvFDVhUaEhwUFAjjSUlDdMiEhcOEItzdI6OiYxA6YqODIt3d\r
                I2DcuDBZsBY5eVTr4xMSYcyk5BRUOXkFsBZFJTQnp6alQxgZmVloUkrKYC0qqmji2WE5EEZuWB6a\r
                lKoKdi35YQUQRkFYPpFaCouKIYzi6EDitJSUlsGY5RWVRGjJLyxNy4ZxqtIqqvOxaVELQwZFZdkI\r
                JVU1RSiSalAt6rUwUBdWG1CP6pT6gNqwOrgCdQyHNYR5YQFhDXj8MiK1IAeyN6aORiyBjByVTc0F\r
                qBoKWpqwRCVSgilOaY2OaUPw29qjOzqLvTAchpos47u6EZyYnngUSRwpuTe6D+6qaFQdOPNLRzOM\r
                1dzhRZyW+CZouHk3dWLXglFcFIflQhj9YWjJGlZcaKAVSvjyPrRQ0oQVKDAQHlYFYUwIm4gqExGm\r
                BSkutaVQJeomwViTJqPK6OhCy2Q9sQBk8cY0DxjTJw0lAQWK6cOKfgNhpKK7ZMpUeF3jPa28BCET\r
                amiEqJKM+X1gxvWXpoUjVIVPnwErw71nmpgiqiQGBjNzbgs3j1nus+fMndc+Cwm0T52/oNR9lsdC\r
                S24ra7Tq1cbWjpXV3sHRCb1idXZ0sGdltXNxRateRwHRAACYHutzk/2I5QAAACV0RVh0ZGF0ZTpj\r
                cmVhdGUAMjAyMy0wMi0xM1QwODoxNToyOSswMDowMEUnN7UAAAAldEVYdGRhdGU6bW9kaWZ5ADIw\r
                MjMtMDItMTNUMDg6MTU6MjkrMDA6MDA0eo8JAAAAKHRFWHRkYXRlOnRpbWVzdGFtcAAyMDIzLTAy\r
                LTEzVDA4OjE1OjI5KzAwOjAwY2+u1gAAAABJRU5ErkJggg==`})}),e[3]=m):m=e[3];let u;e[4]===Symbol.for("react.memo_cache_sentinel")?(u=(0,l.jsx)("svg",{version:"1.1",className:"absolute left-[12.4em] top-[3.5em]",width:"20px",height:"20px",viewBox:"0 0 50 50",children:(0,l.jsx)("image",{width:"50",height:"50",x:"0",y:"0",href:`data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAQAAAC0NkA6AAAABGdBTUEAALGPC/xhBQAAACBjSFJN\r
                AAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAJcEhZ\r
                cwAACxMAAAsTAQCanBgAAAAHdElNRQfnAg0IEzgIwaKTAAADDklEQVRYw+1XS0iUURQ+f5qPyjQf\r
                lGRFEEFK76koKGxRbWyVVLSOgsCgwjZBJJYuKogSIoOonUK4q3U0WVBWFPZYiIE6kuArG3VGzK/F\r
                fPeMM/MLt99/NuHdfPd888/57jn3nvsQWWj/VcMlvMMd5KRTogqx9iCdIjUUmcGR9ImUYowyP3xN\r
                GQJoRLVaZ2DaZf8kyjEJALhI28ELioyiwC+Rc3QZwRYyO/DH51hQgWm6DMIh10KmD4u9O16K49it\r
                VoPOAmcGAWWOepXIRScAoJZ2Frro8oN+EyTT6lWkkg6msZfMSR35QTJmjU0g15tIGSJ08ZZMJkJk\r
                HpNZgSkyXosS13TkJpZ62mPIJvOSzC1bp8vRhhCakEk7G9/o4gmZdbpsTcKu0m63FbnBP9Qrc15z\r
                bkbemfgNDtEOI8NO5L5O9VYyRYgmJayZ9nPaxZrSjW4+F6Uw9yQqIiIZwhp2huQTf6OIvCZyGM6g\r
                DJBZbyXifJXr7FZjGXsdxADxI7HUJFB6iWvsIhFpkoiIiGTJfjJfiCuJg2ZEspq9EHGVpYgzKqwJ\r
                qSAOEwuJQ/pxPvE3cYltJCLdxBLiSKKIE5HxJKcTRNeadxfhDiuYw44zVs1dxKwRk/uCxIiQkxKB\r
                sSctRVAge9g1E15EHE6yRUaJecRxcWlukdRIbGFOSZCMWQA/iWauIP3slREHXPyliqBcrrD71Amz\r
                Z+rD1Mt2Yr8TZc/UR4/YtFnbijnHi3UrN9vKQ9rPaJf867ZiaqDB+czeKYmd3pNa6fuI75MiC0uX\r
                XSR5aEMf7s7a6r/PudVXkjFb/SsrCRfROk0Fx6+H1i9kkTGn/E1vEmt1m089fh+RKdQ5O+xNJPUi\r
                cUIjO0Dm7HwvErEr0YxeibL1StSh37STafE4I7zcBdRq1DiOkdmlTJVnkQTBTS7X1FYyvfO4piaI\r
                nKbDCDaT2anLudYXCRFsQBgAcIF2/Okwgvz5+Z4tsw118dzruvIvjhTB+HOuWy8UvovEH6beitBK\r
                xDyxm9MmISKCWrzB7bSlaqGlsf0FC0gMjzTg6GgAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDIt\r
                MTNUMDg6MTk6NTYrMDA6MDCjlq7LAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTAyLTEzVDA4OjE5\r
                OjU2KzAwOjAw0ssWdwAAACh0RVh0ZGF0ZTp0aW1lc3RhbXAAMjAyMy0wMi0xM1QwODoxOTo1Nisw\r
                MDowMIXeN6gAAAAASUVORK5CYII=`})}),e[4]=u):u=e[4];let c;e[5]!==a?(c=(0,l.jsx)("p",{className:"absolute left-[1.6em] top-[8.3em] text-[.6em] font-bold uppercase tracking-wider",children:a}),e[5]=a,e[6]=c):c=e[6];let f;e[7]===Symbol.for("react.memo_cache_sentinel")?(f=(0,l.jsx)("p",{className:"absolute left-[3.2em] top-[13.6em] text-[0.5em] font-bold",children:"1 2 / 2 4"}),e[7]=f):f=e[7];let h;e[8]!==r?(h=(0,l.jsx)("p",{className:"absolute left-[2em] top-[16.1em] w-[160px] truncate text-left text-[0.5em] font-bold uppercase tracking-tighter",children:r}),e[8]=r,e[9]=h):h=e[9];let p;e[10]!==h||e[11]!==c?(p=(0,l.jsxs)("div",{className:"credit-card-front",children:[i,d,m,u,c,f,h]}),e[10]=h,e[11]=c,e[12]=p):p=e[12];let b,x;e[13]===Symbol.for("react.memo_cache_sentinel")?(b=(0,l.jsx)("div",{className:"absolute left-0 top-[2.4em] h-[1.5em] w-full bg-black bg-[repeating-linear-gradient(45deg,#303030,#303030_10px,#202020_10px,#202020_20px)]"}),x=(0,l.jsx)("div",{className:"absolute left-[0.8em] top-[5em] h-[0.8em] w-[8em] rounded-[2.5px] bg-white"}),e[13]=b,e[14]=x):(b=e[13],x=e[14]);let v;e[15]===Symbol.for("react.memo_cache_sentinel")?(v=(0,l.jsxs)("div",{className:"credit-card-back",children:[b,x,(0,l.jsx)("div",{className:"absolute left-[10em] top-[5em] h-[0.8em] w-[4.1em] rounded-[2.5px] bg-white",children:(0,l.jsx)("p",{className:"m-[.2em] text-center text-[0.5em] font-bold text-black",children:"***"})})]}),e[15]=v):v=e[15];let N;return e[16]!==p?(N=(0,l.jsxs)(l.Fragment,{children:[o,(0,l.jsx)("div",{className:"flex items-center justify-center p-8",children:(0,l.jsx)("div",{className:"credit-card-container",children:(0,l.jsxs)("div",{className:"credit-card-inner",children:[p,v]})})})]}),e[16]=p,e[17]=N):N=e[17],N},zh=Iu,Du=ie(),Tu=g.forwardRef((n,e)=>{const t=(0,Du.c)(9);let s,r;t[0]!==n?({className:s,...r}=n,t[0]=n,t[1]=s,t[2]=r):(s=t[1],r=t[2]);let a;t[3]!==s?(a=re("flex min-h-[80px] w-full rounded-md border border-zinc-200 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-zinc-800 dark:bg-zinc-950 dark:ring-offset-zinc-950 dark:placeholder:text-zinc-400 dark:focus-visible:ring-zinc-300",s),t[3]=s,t[4]=a):a=t[4];let o;return t[5]!==r||t[6]!==e||t[7]!==a?(o=(0,l.jsx)("textarea",{className:a,ref:e,...r}),t[5]=r,t[6]=e,t[7]=a,t[8]=o):o=t[8],o});Tu.displayName="Textarea";var Pu=ie(),Lu=n=>{const e=(0,Pu.c)(7),{className:t}=n;let s;e[0]!==t?(s=re("flex items-center gap-1 px-1 py-1.5",t),e[0]=t,e[1]=s):s=e[1];let r,a,o;e[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,l.jsx)("div",{className:"size-1.5 rounded-full bg-zinc-400 dark:bg-zinc-500 animate-dot-pulse"}),a=(0,l.jsx)("div",{className:"size-1.5 rounded-full bg-zinc-400 dark:bg-zinc-500 animate-dot-pulse [animation-delay:0.2s]"}),o=(0,l.jsx)("div",{className:"size-1.5 rounded-full bg-zinc-400 dark:bg-zinc-500 animate-dot-pulse [animation-delay:0.4s]"}),e[2]=r,e[3]=a,e[4]=o):(r=e[2],a=e[3],o=e[4]);let i;return e[5]!==s?(i=(0,l.jsxs)("div",{className:s,children:[r,a,o]}),e[5]=s,e[6]=i):i=e[6],i},Ah=Lu,Ke=ie();const Eh=n=>{const e=(0,Ke.c)(10);let t,s,r;e[0]!==n?({size:s,className:r,...t}=n,e[0]=n,e[1]=t,e[2]=s,e[3]=r):(t=e[1],s=e[2],r=e[3]);const a=s===void 0?24:s,o=r===void 0?"":r;let i,d;e[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,l.jsx)("path",{d:"M13.6006 21.0761L19.0608 17.9236C19.6437 17.5871 19.9346 17.4188 20.1465 17.1834C20.3341 16.9751 20.4759 16.7297 20.5625 16.4632C20.6602 16.1626 20.6602 15.8267 20.6602 15.1568V8.84268C20.6602 8.17277 20.6602 7.83694 20.5625 7.53638C20.4759 7.26982 20.3341 7.02428 20.1465 6.816C19.9355 6.58161 19.6453 6.41405 19.0674 6.08043L13.5996 2.92359C13.0167 2.58706 12.7259 2.41913 12.416 2.35328C12.1419 2.295 11.8584 2.295 11.5843 2.35328C11.2744 2.41914 10.9826 2.58706 10.3997 2.92359L4.93843 6.07666C4.35623 6.41279 4.06535 6.58073 3.85352 6.816C3.66597 7.02428 3.52434 7.26982 3.43773 7.53638C3.33984 7.83765 3.33984 8.17436 3.33984 8.84742V15.1524C3.33984 15.8254 3.33984 16.1619 3.43773 16.4632C3.52434 16.7297 3.66597 16.9751 3.85352 17.1834C4.06548 17.4188 4.35657 17.5871 4.93945 17.9236L10.3997 21.0761C10.9826 21.4126 11.2744 21.5806 11.5843 21.6465C11.8584 21.7047 12.1419 21.7047 12.416 21.6465C12.7259 21.5806 13.0177 21.4126 13.6006 21.0761Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),d=(0,l.jsx)("path",{d:"M9 11.9998C9 13.6566 10.3431 14.9998 12 14.9998C13.6569 14.9998 15 13.6566 15 11.9998C15 10.3429 13.6569 8.99976 12 8.99976C10.3431 8.99976 9 10.3429 9 11.9998Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e[4]=i,e[5]=d):(i=e[4],d=e[5]);let m;return e[6]!==o||e[7]!==t||e[8]!==a?(m=(0,l.jsxs)("svg",{width:a,height:a,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o,...t,children:[i,d]}),e[6]=o,e[7]=t,e[8]=a,e[9]=m):m=e[9],m},to=n=>{const e=(0,Ke.c)(10);let t,s,r;e[0]!==n?({size:s,className:r,...t}=n,e[0]=n,e[1]=t,e[2]=s,e[3]=r):(t=e[1],s=e[2],r=e[3]);const a=s===void 0?24:s,o=r===void 0?"":r;let i,d;e[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,l.jsx)("path",{d:"M12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21Z",fill:"currentColor"}),d=(0,l.jsx)("path",{d:"M15 10L11 14L9 12",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e[4]=i,e[5]=d):(i=e[4],d=e[5]);let m;return e[6]!==o||e[7]!==t||e[8]!==a?(m=(0,l.jsxs)("svg",{width:a,height:a,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o,...t,children:[i,d]}),e[6]=o,e[7]=t,e[8]=a,e[9]=m):m=e[9],m},Fu=n=>{const e=(0,Ke.c)(9);let t,s,r;e[0]!==n?({size:s,className:r,...t}=n,e[0]=n,e[1]=t,e[2]=s,e[3]=r):(t=e[1],s=e[2],r=e[3]);const a=s===void 0?24:s,o=r===void 0?"":r;let i;e[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,l.jsx)("path",{d:"M12 8.00012L4 16.0001V20.0001L8 20.0001L16 12.0001M12 8.00012L14.8686 5.13146L14.8704 5.12976C15.2652 4.73488 15.463 4.53709 15.691 4.46301C15.8919 4.39775 16.1082 4.39775 16.3091 4.46301C16.5369 4.53704 16.7345 4.7346 17.1288 5.12892L18.8686 6.86872C19.2646 7.26474 19.4627 7.46284 19.5369 7.69117C19.6022 7.89201 19.6021 8.10835 19.5369 8.3092C19.4628 8.53736 19.265 8.73516 18.8695 9.13061L18.8686 9.13146L16 12.0001M12 8.00012L16 12.0001",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e[4]=i):i=e[4];let d;return e[5]!==o||e[6]!==t||e[7]!==a?(d=(0,l.jsx)("svg",{width:a,height:a,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o,...t,children:i}),e[5]=o,e[6]=t,e[7]=a,e[8]=d):d=e[8],d},Tr=n=>{const e=(0,Ke.c)(9);let t,s,r;e[0]!==n?({size:s,className:r,...t}=n,e[0]=n,e[1]=t,e[2]=s,e[3]=r):(t=e[1],s=e[2],r=e[3]);const a=s===void 0?24:s,o=r===void 0?"":r;let i;e[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,l.jsx)("path",{d:"M15 19C15 16.7909 12.3137 15 9 15C5.68629 15 3 16.7909 3 19M19 16V13M19 13V10M19 13H16M19 13H22M9 12C6.79086 12 5 10.2091 5 8C5 5.79086 6.79086 4 9 4C11.2091 4 13 5.79086 13 8C13 10.2091 11.2091 12 9 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e[4]=i):i=e[4];let d;return e[5]!==o||e[6]!==t||e[7]!==a?(d=(0,l.jsx)("svg",{width:a,height:a,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o,...t,children:i}),e[5]=o,e[6]=t,e[7]=a,e[8]=d):d=e[8],d},Pr=n=>{const e=(0,Ke.c)(9);let t,s,r;e[0]!==n?({size:s,className:r,...t}=n,e[0]=n,e[1]=t,e[2]=s,e[3]=r):(t=e[1],s=e[2],r=e[3]);const a=s===void 0?24:s,o=r===void 0?"":r;let i;e[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,l.jsx)("path",{d:"M15 19C15 16.7909 12.3137 15 9 15C5.68629 15 3 16.7909 3 19M21 10L17 14L15 12M9 12C6.79086 12 5 10.2091 5 8C5 5.79086 6.79086 4 9 4C11.2091 4 13 5.79086 13 8C13 10.2091 11.2091 12 9 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e[4]=i):i=e[4];let d;return e[5]!==o||e[6]!==t||e[7]!==a?(d=(0,l.jsx)("svg",{width:a,height:a,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o,...t,children:i}),e[5]=o,e[6]=t,e[7]=a,e[8]=d):d=e[8],d},Rh=n=>{const e=(0,Ke.c)(10);let t,s,r;e[0]!==n?({size:s,className:r,...t}=n,e[0]=n,e[1]=t,e[2]=s,e[3]=r):(t=e[1],s=e[2],r=e[3]);const a=s===void 0?24:s,o=r===void 0?"":r;let i,d;e[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,l.jsx)("path",{d:"M5 9.92285C5 14.7747 9.24448 18.7869 11.1232 20.3252C11.3921 20.5454 11.5281 20.6568 11.7287 20.7132C11.8849 20.7572 12.1148 20.7572 12.271 20.7132C12.472 20.6567 12.6071 20.5463 12.877 20.3254C14.7557 18.7871 18.9999 14.7751 18.9999 9.9233C18.9999 8.08718 18.2625 6.32605 16.9497 5.02772C15.637 3.72939 13.8566 3 12.0001 3C10.1436 3 8.36301 3.7295 7.05025 5.02783C5.7375 6.32616 5 8.08674 5 9.92285Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),d=(0,l.jsx)("path",{d:"M10 9C10 10.1046 10.8954 11 12 11C13.1046 11 14 10.1046 14 9C14 7.89543 13.1046 7 12 7C10.8954 7 10 7.89543 10 9Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e[4]=i,e[5]=d):(i=e[4],d=e[5]);let m;return e[6]!==o||e[7]!==t||e[8]!==a?(m=(0,l.jsxs)("svg",{width:a,height:a,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o,...t,children:[i,d]}),e[6]=o,e[7]=t,e[8]=a,e[9]=m):m=e[9],m},Mh=n=>{const e=(0,Ke.c)(9);let t,s,r;e[0]!==n?({size:s,className:r,...t}=n,e[0]=n,e[1]=t,e[2]=s,e[3]=r):(t=e[1],s=e[2],r=e[3]);const a=s===void 0?24:s,o=r===void 0?"":r;let i;e[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,l.jsx)("path",{d:"M10.0002 5H8.2002C7.08009 5 6.51962 5 6.0918 5.21799C5.71547 5.40973 5.40973 5.71547 5.21799 6.0918C5 6.51962 5 7.08009 5 8.2002V15.8002C5 16.9203 5 17.4801 5.21799 17.9079C5.40973 18.2842 5.71547 18.5905 6.0918 18.7822C6.5192 19 7.07899 19 8.19691 19H15.8031C16.921 19 17.48 19 17.9074 18.7822C18.2837 18.5905 18.5905 18.2839 18.7822 17.9076C19 17.4802 19 16.921 19 15.8031V14M20 9V4M20 4H15M20 4L13 11",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e[4]=i):i=e[4];let d;return e[5]!==o||e[6]!==t||e[7]!==a?(d=(0,l.jsx)("svg",{width:a,height:a,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o,...t,children:i}),e[5]=o,e[6]=t,e[7]=a,e[8]=d):d=e[8],d},Ih=n=>{const e=(0,Ke.c)(9);let t,s,r;e[0]!==n?({size:s,className:r,...t}=n,e[0]=n,e[1]=t,e[2]=s,e[3]=r):(t=e[1],s=e[2],r=e[3]);const a=s===void 0?24:s,o=r===void 0?"":r;let i;e[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,l.jsx)("path",{d:"M10.3078 13.6923L15.1539 8.84619M20.1113 5.88867L16.0207 19.1833C15.6541 20.3747 15.4706 20.9707 15.1544 21.1683C14.8802 21.3396 14.5406 21.3683 14.2419 21.2443C13.8975 21.1014 13.618 20.5433 13.0603 19.428L10.4694 14.2461C10.3809 14.0691 10.3366 13.981 10.2775 13.9043C10.225 13.8363 10.1645 13.7749 10.0965 13.7225C10.0215 13.6647 9.93486 13.6214 9.76577 13.5369L4.57192 10.9399C3.45662 10.3823 2.89892 10.1032 2.75601 9.75879C2.63207 9.4601 2.66033 9.12023 2.83169 8.84597C3.02928 8.52974 3.62523 8.34603 4.81704 7.97932L18.1116 3.88867C19.0486 3.60038 19.5173 3.45635 19.8337 3.57253C20.1094 3.67373 20.3267 3.89084 20.4279 4.16651C20.544 4.48283 20.3999 4.95126 20.1119 5.88729L20.1113 5.88867Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e[4]=i):i=e[4];let d;return e[5]!==o||e[6]!==t||e[7]!==a?(d=(0,l.jsx)("svg",{width:a,height:a,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o,...t,children:i}),e[5]=o,e[6]=t,e[7]=a,e[8]=d):d=e[8],d},no=n=>{const e=(0,Ke.c)(9);let t,s,r;e[0]!==n?({size:s,className:r,...t}=n,e[0]=n,e[1]=t,e[2]=s,e[3]=r):(t=e[1],s=e[2],r=e[3]);const a=s===void 0?24:s,o=r===void 0?"":r;let i;e[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,l.jsx)("path",{d:"M4 11.4522V16.8002C4 17.9203 4 18.4807 4.21799 18.9086C4.40973 19.2849 4.71547 19.5906 5.0918 19.7823C5.5192 20.0001 6.07899 20.0001 7.19691 20.0001H16.8031C17.921 20.0001 18.48 20.0001 18.9074 19.7823C19.2837 19.5906 19.5905 19.2849 19.7822 18.9086C20 18.4811 20 17.9216 20 16.8037V11.4522C20 10.9179 19.9995 10.6506 19.9346 10.4019C19.877 10.1816 19.7825 9.97307 19.6546 9.78464C19.5102 9.57201 19.3096 9.39569 18.9074 9.04383L14.1074 4.84383C13.3608 4.19054 12.9875 3.86406 12.5674 3.73982C12.1972 3.63035 11.8026 3.63035 11.4324 3.73982C11.0126 3.86397 10.6398 4.19014 9.89436 4.84244L5.09277 9.04383C4.69064 9.39569 4.49004 9.57201 4.3457 9.78464C4.21779 9.97307 4.12255 10.1816 4.06497 10.4019C4 10.6506 4 10.9179 4 11.4522Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e[4]=i):i=e[4];let d;return e[5]!==o||e[6]!==t||e[7]!==a?(d=(0,l.jsx)("svg",{width:a,height:a,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o,...t,children:i}),e[5]=o,e[6]=t,e[7]=a,e[8]=d):d=e[8],d},ro=n=>{const e=(0,Ke.c)(9);let t,s,r;e[0]!==n?({size:s,className:r,...t}=n,e[0]=n,e[1]=t,e[2]=s,e[3]=r):(t=e[1],s=e[2],r=e[3]);const a=s===void 0?24:s,o=r===void 0?"":r;let i;e[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,l.jsx)("path",{d:"M5.59961 19.9203L7.12357 18.7012L7.13478 18.6926C7.45249 18.4384 7.61281 18.3101 7.79168 18.2188C7.95216 18.1368 8.12328 18.0771 8.2998 18.0408C8.49877 18 8.70603 18 9.12207 18H17.8031C18.921 18 19.4806 18 19.908 17.7822C20.2843 17.5905 20.5905 17.2842 20.7822 16.9079C21 16.4805 21 15.9215 21 14.8036V7.19691C21 6.07899 21 5.5192 20.7822 5.0918C20.5905 4.71547 20.2837 4.40973 19.9074 4.21799C19.4796 4 18.9203 4 17.8002 4H6.2002C5.08009 4 4.51962 4 4.0918 4.21799C3.71547 4.40973 3.40973 4.71547 3.21799 5.0918C3 5.51962 3 6.08009 3 7.2002V18.6712C3 19.7369 3 20.2696 3.21846 20.5433C3.40845 20.7813 3.69644 20.9198 4.00098 20.9195C4.35115 20.9191 4.76744 20.5861 5.59961 19.9203Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e[4]=i):i=e[4];let d;return e[5]!==o||e[6]!==t||e[7]!==a?(d=(0,l.jsx)("svg",{width:a,height:a,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o,...t,children:i}),e[5]=o,e[6]=t,e[7]=a,e[8]=d):d=e[8],d},so=n=>{const e=(0,Ke.c)(9);let t,s,r;e[0]!==n?({size:s,className:r,...t}=n,e[0]=n,e[1]=t,e[2]=s,e[3]=r):(t=e[1],s=e[2],r=e[3]);const a=s===void 0?24:s,o=r===void 0?"":r;let i;e[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,l.jsx)("path",{d:"M6.89761 18.1618C8.28247 19.3099 10.0607 20 12.0001 20C16.4184 20 20.0001 16.4183 20.0001 12C20.0001 11.431 19.9407 10.8758 19.8278 10.3404M6.89761 18.1618C5.12756 16.6944 4.00014 14.4789 4.00014 12C4.00014 7.58172 7.58186 4 12.0001 4C15.8494 4 19.0637 6.71853 19.8278 10.3404M6.89761 18.1618C8.85314 17.7147 11.1796 16.7828 13.526 15.4281C16.2564 13.8517 18.4773 12.0125 19.8278 10.3404M6.89761 18.1618C4.46844 18.7171 2.61159 18.5243 1.99965 17.4644C1.36934 16.3726 2.19631 14.5969 3.99999 12.709M19.8278 10.3404C21.0796 8.79041 21.5836 7.38405 21.0522 6.46374C20.5134 5.53051 19.0095 5.26939 16.9997 5.59929",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e[4]=i):i=e[4];let d;return e[5]!==o||e[6]!==t||e[7]!==a?(d=(0,l.jsx)("svg",{width:a,height:a,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o,...t,children:i}),e[5]=o,e[6]=t,e[7]=a,e[8]=d):d=e[8],d},ao=n=>{const e=(0,Ke.c)(10);let t,s,r;e[0]!==n?({size:s,className:r,...t}=n,e[0]=n,e[1]=t,e[2]=s,e[3]=r):(t=e[1],s=e[2],r=e[3]);const a=s===void 0?24:s,o=r===void 0?"":r;let i,d;e[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,l.jsx)("path",{d:"M3 12C3 16.9706 7.02944 21 12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),d=(0,l.jsx)("path",{d:"M10 15V9L15 12L10 15Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e[4]=i,e[5]=d):(i=e[4],d=e[5]);let m;return e[6]!==o||e[7]!==t||e[8]!==a?(m=(0,l.jsxs)("svg",{width:a,height:a,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o,...t,children:[i,d]}),e[6]=o,e[7]=t,e[8]=a,e[9]=m):m=e[9],m},oo=n=>{const e=(0,Ke.c)(9);let t,s,r;e[0]!==n?({size:s,className:r,...t}=n,e[0]=n,e[1]=t,e[2]=s,e[3]=r):(t=e[1],s=e[2],r=e[3]);const a=s===void 0?24:s,o=r===void 0?"":r;let i;e[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,l.jsx)("path",{d:"M15 17V18C15 19.6569 13.6569 21 12 21C10.3431 21 9 19.6569 9 18V17M15 17H9M15 17H18.5905C18.973 17 19.1652 17 19.3201 16.9478C19.616 16.848 19.8475 16.6156 19.9473 16.3198C19.9997 16.1643 19.9997 15.9715 19.9997 15.5859C19.9997 15.4172 19.9995 15.3329 19.9863 15.2524C19.9614 15.1004 19.9024 14.9563 19.8126 14.8312C19.7651 14.7651 19.7047 14.7048 19.5858 14.5858L19.1963 14.1963C19.0706 14.0706 19 13.9001 19 13.7224V10C19 6.134 15.866 2.99999 12 3C8.13401 3.00001 5 6.13401 5 10V13.7224C5 13.9002 4.92924 14.0706 4.80357 14.1963L4.41406 14.5858C4.29477 14.7051 4.23504 14.765 4.1875 14.8312C4.09766 14.9564 4.03815 15.1004 4.0132 15.2524C4 15.3329 4 15.4172 4 15.586C4 15.9715 4 16.1642 4.05245 16.3197C4.15225 16.6156 4.3848 16.848 4.68066 16.9478C4.83556 17 5.02701 17 5.40956 17H9M18.0186 2.01367C19.3978 3.05299 20.4843 4.43177 21.1724 6.01574M5.98197 2.01367C4.60275 3.05299 3.5162 4.43177 2.82812 6.01574",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e[4]=i):i=e[4];let d;return e[5]!==o||e[6]!==t||e[7]!==a?(d=(0,l.jsx)("svg",{width:a,height:a,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o,...t,children:i}),e[5]=o,e[6]=t,e[7]=a,e[8]=d):d=e[8],d},Dh=n=>{const e=(0,Ke.c)(9);let t,s,r;e[0]!==n?({size:s,className:r,...t}=n,e[0]=n,e[1]=t,e[2]=s,e[3]=r):(t=e[1],s=e[2],r=e[3]);const a=s===void 0?24:s,o=r===void 0?"":r;let i;e[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,l.jsx)("path",{d:"M19.2933 9.95137L16.96 7.15137C16.6073 6.72814 16.43 6.51639 16.2139 6.36426C16.0223 6.22946 15.8084 6.12953 15.5822 6.06868C15.327 6 15.0523 6 14.5014 6H7.2002C6.08009 6 5.51962 6 5.0918 6.21799C4.71547 6.40973 4.40973 6.71547 4.21799 7.0918C4 7.51962 4 8.08009 4 9.2002V14.8002C4 15.9203 4 16.4801 4.21799 16.9079C4.40973 17.2842 4.71547 17.5905 5.0918 17.7822C5.5192 18 6.07899 18 7.19691 18H14.5014C15.0523 18 15.327 17.9998 15.5822 17.9312C15.8084 17.8703 16.0223 17.7702 16.2139 17.6354C16.43 17.4833 16.6073 17.2721 16.96 16.8488L19.2933 14.0488C19.9006 13.32 20.2036 12.9556 20.3197 12.5488C20.422 12.1902 20.422 11.8095 20.3197 11.4509C20.2036 11.0441 19.9006 10.6801 19.2933 9.95137Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e[4]=i):i=e[4];let d;return e[5]!==o||e[6]!==t||e[7]!==a?(d=(0,l.jsx)("svg",{width:a,height:a,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o,...t,children:i}),e[5]=o,e[6]=t,e[7]=a,e[8]=d):d=e[8],d};var Ou=ie();const io=n=>{const e=(0,Ou.c)(16),t=qn(),s=n?.id;let r;e[0]!==s?(r=["unread_notifications_count",s],e[0]=s,e[1]=r):r=e[1];let a;e[2]!==n?.id?(a=()=>ll(n?.id||""),e[2]=n?.id,e[3]=a):a=e[3];const o=!!n?.id;let i;e[4]!==r||e[5]!==a||e[6]!==o?(i={queryKey:r,queryFn:a,enabled:o},e[4]=r,e[5]=a,e[6]=o,e[7]=i):i=e[7];const{data:d}=Dt(i),m=d===void 0?0:d;let u;e[8]!==n||e[9]!==t?(u=()=>{if(!n?.id)return;const p=Y.channel(`unread_count:${n.id}`).on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`recipient_id=eq.${n.id}`},()=>{t.invalidateQueries({queryKey:["unread_notifications_count",n.id]}),t.invalidateQueries({queryKey:["notifications",n.id]})}).subscribe();return()=>{Y.removeChannel(p)}},e[8]=n,e[9]=t,e[10]=u):u=e[10];const c=n?.id;let f;e[11]!==t||e[12]!==c?(f=[c,t],e[11]=t,e[12]=c,e[13]=f):f=e[13],(0,g.useEffect)(u,f);let h;return e[14]!==m?(h={unreadCount:m},e[14]=m,e[15]=h):h=e[15],h};var Uu=ie();const lo=n=>{const e=(0,Uu.c)(65),t=qn();let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s={},e[0]=s):s=e[0];const[r,a]=(0,g.useState)(s),o=(0,g.useRef)(null),i=n?.id;let d;e[1]!==i?(d=["conversations",i],e[1]=i,e[2]=d):d=e[2];let m;e[3]!==n?.id?(m=()=>rl(n?.id||""),e[3]=n?.id,e[4]=m):m=e[4];const u=!!n?.id;let c;e[5]!==d||e[6]!==m||e[7]!==u?(c={queryKey:d,queryFn:m,enabled:u},e[5]=d,e[6]=m,e[7]=u,e[8]=c):c=e[8];const{data:f,isLoading:h}=Dt(c);let p;e[9]!==f?(p=f===void 0?[]:f,e[9]=f,e[10]=p):p=e[10];const b=p,x=n?.id;let v;e[11]!==x?(v=["unread_messages_count",x],e[11]=x,e[12]=v):v=e[12];let N;e[13]!==n?.id?(N=()=>tl(n?.id||""),e[13]=n?.id,e[14]=N):N=e[14];const S=!!n?.id;let _;e[15]!==N||e[16]!==S||e[17]!==v?(_={queryKey:v,queryFn:N,enabled:S},e[15]=N,e[16]=S,e[17]=v,e[18]=_):_=e[18];const{data:M}=Dt(_),C=M===void 0?0:M;let D;e[19]===Symbol.for("react.memo_cache_sentinel")?(D=["reactions"],e[19]=D):D=e[19];const y=!!n?.id;let w;e[20]!==y?(w={queryKey:D,queryFn:sl,enabled:y},e[20]=y,e[21]=w):w=e[21];const{data:A}=Dt(w);let R;e[22]!==A?(R=A===void 0?[]:A,e[22]=A,e[23]=R):R=e[23];const E=R;let I;e[24]!==n||e[25]!==t?(I=()=>{if(!n?.id)return;const K=Y.channel(`user_messages:${n.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},G=>{const J=G.new;t.setQueryData(["messages",J.conversation_id],ee=>ee?ee.find(se=>se.id===J.id)?ee:[...ee,J]:[J]),J.sender_id!==n.id&&t.invalidateQueries({queryKey:["unread_messages_count",n.id]}),t.invalidateQueries({queryKey:["conversations",n.id]}),a(ee=>({...ee,[J.conversation_id]:!1}))}).on("postgres_changes",{event:"DELETE",schema:"public",table:"messages"},G=>{t.invalidateQueries({queryKey:["messages"]}),t.invalidateQueries({queryKey:["conversations",n.id]})}).on("postgres_changes",{event:"*",schema:"public",table:"message_reactions"},()=>{t.invalidateQueries({queryKey:["reactions"]})}).subscribe(),ne=Y.channel("chat_typing_shared").on("broadcast",{event:"typing"},G=>{const{payload:J}=G,{conversationId:ee,isTyping:se,userId:le}=J;le!==n.id&&a(oe=>({...oe,[ee]:se}))}).subscribe();return o.current=ne,()=>{Y.removeChannel(K),Y.removeChannel(ne)}},e[24]=n,e[25]=t,e[26]=I):I=e[26];const z=n?.id;let L;e[27]!==t||e[28]!==z?(L=[z,t],e[27]=t,e[28]=z,e[29]=L):L=e[29],(0,g.useEffect)(I,L);let j;e[30]!==n?(j=K=>{const{convId:ne,text:G,type:J,media:ee,replyToId:se}=K,le=J===void 0?"text":J,oe=ee===void 0?[]:ee,be=se===void 0?null:se;return ol(ne,n.id,G,le,oe,be)},e[30]=n,e[31]=j):j=e[31];let k;e[32]!==n||e[33]!==t?(k=K=>{K&&(t.setQueryData(["messages",K.conversation_id],ne=>ne?ne.find(G=>G.id===K.id)?ne:[...ne,K]:[K]),t.invalidateQueries({queryKey:["conversations",n.id]}))},e[32]=n,e[33]=t,e[34]=k):k=e[34];let P;e[35]!==j||e[36]!==k?(P={mutationFn:j,onSuccess:k},e[35]=j,e[36]=k,e[37]=P):P=e[37];const T=Wo(P);let F;e[38]!==n?(F=(K,ne)=>{o.current&&n&&o.current.send({type:"broadcast",event:"typing",payload:{conversationId:K,isTyping:ne,userId:n.id}})},e[38]=n,e[39]=F):F=e[39];const q=F;let H;e[40]!==n||e[41]!==t?(H=async K=>{!n?.id||!K||(await nl(K,n.id),t.invalidateQueries({queryKey:["unread_messages_count",n.id]}),t.invalidateQueries({queryKey:["conversations",n.id]}))},e[40]=n,e[41]=t,e[42]=H):H=e[42];const B=H;let U;e[43]!==n||e[44]!==t?(U=async(K,ne)=>{if(n?.id)try{await al(K,n.id,ne),t.invalidateQueries({queryKey:["reactions"]})}catch(G){console.error("Failed to toggle reaction:",G)}},e[43]=n,e[44]=t,e[45]=U):U=e[45];const O=U;let V;e[46]!==t?(V=async K=>{try{await il(K),t.invalidateQueries({queryKey:["messages"]})}catch(ne){console.error("Failed to delete message:",ne)}},e[46]=t,e[47]=V):V=e[47];const Z=V;let X;e[48]!==n?.id?(X=(K,ne)=>{const G=K===void 0?[]:K,J=ne===void 0?[]:ne;return G.map(ee=>({id:ee.id,sender:ee.sender_id===n?.id?"me":"them",text:ee.content,type:ee.type||"text",media:ee.media?Array.isArray(ee.media)?ee.media:[ee.media]:[],isRead:ee.is_read,replyToId:ee.reply_to_id,reactions:J.filter(se=>se.message_id===ee.id),time:new Date(ee.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}))},e[48]=n?.id,e[49]=X):X=e[49];const W=X;let te;e[50]!==T?(te=(K,ne,G,J,ee)=>T.mutate({convId:K,text:ne,type:G,media:J,replyToId:ee}),e[50]=T,e[51]=te):te=e[51];let Q;return e[52]!==E||e[53]!==b||e[54]!==W||e[55]!==h||e[56]!==B||e[57]!==Z||e[58]!==O||e[59]!==T.isPending||e[60]!==q||e[61]!==te||e[62]!==r||e[63]!==C?(Q={conversations:b,unreadCount:C,isConvLoading:h,sendMessage:te,sendTypingStatus:q,typingStatus:r,markAsRead:B,formatMessages:W,onToggleReaction:O,onDeleteMessage:Z,allReactions:E,isSending:T.isPending},e[52]=E,e[53]=b,e[54]=W,e[55]=h,e[56]=B,e[57]=Z,e[58]=O,e[59]=T.isPending,e[60]=q,e[61]=te,e[62]=r,e[63]=C,e[64]=Q):Q=e[64],Q};var Hu=ie(),Bu=n=>{const e=(0,Hu.c)(23),{handleProfileClick:t}=n,{currentUser:s}=$e(),{unreadCount:r}=io(s),{unreadCount:a}=lo(s),o=gn();let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=[{id:"home",icon:no,path:"/"},{id:"community",icon:so,path:"/community"},{id:"reels",icon:ao,path:"/reels"},{id:"messages",icon:ro,path:"/messages"},{id:"notifications",icon:oo,path:"/notifications"}],e[0]=i):i=e[0];const d=i;let m;e[1]!==a||e[2]!==r?(m=d.map(S=>(0,l.jsx)(ts,{to:S.path,"aria-label":S.id,className:Wu,children:_=>{const{isActive:M}=_;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(S.icon,{size:26,strokeWidth:M?2.5:2}),S.id==="notifications"&&r>0&&(0,l.jsx)("span",{className:"absolute right-[30%] top-3 size-2 rounded-full bg-rose-500 ring-2 ring-white dark:ring-black"}),S.id==="messages"&&a>0&&(0,l.jsx)("span",{className:"absolute right-[30%] top-3 size-2 rounded-full bg-rose-500 ring-2 ring-white dark:ring-black"})]})}},S.id)),e[1]=a,e[2]=r,e[3]=m):m=e[3];let u;e[4]!==s||e[5]!==t?(u=()=>{s&&t(s.handle)},e[4]=s,e[5]=t,e[6]=u):u=e[6];const c=`size-7 border-2 ${o.pathname.startsWith("/u/")?"border-black dark:border-white":"border-transparent opacity-70"}`,f=s?.avatar||"/default-avatar.webp";let h;e[7]!==f?(h=(0,l.jsx)(jt,{src:f,alt:"Profile",className:"object-cover"}),e[7]=f,e[8]=h):h=e[8];let p;e[9]!==s?.handle?.[0]?(p=s?.handle?.[0]?.toUpperCase(),e[9]=s?.handle?.[0],e[10]=p):p=e[10];let b;e[11]!==p?(b=(0,l.jsx)(kt,{children:p}),e[11]=p,e[12]=b):b=e[12];let x;e[13]!==c||e[14]!==h||e[15]!==b?(x=(0,l.jsxs)(wt,{className:c,children:[h,b]}),e[13]=c,e[14]=h,e[15]=b,e[16]=x):x=e[16];let v;e[17]!==u||e[18]!==x?(v=(0,l.jsx)("button",{onClick:u,"aria-label":"My Profile",className:"flex h-full flex-1 flex-col items-center justify-center",children:x}),e[17]=u,e[18]=x,e[19]=v):v=e[19];let N;return e[20]!==v||e[21]!==m?(N=(0,l.jsxs)("nav",{className:"pb-safe fixed bottom-0 left-0 right-0 z-[40] flex h-16 items-center border-t border-zinc-100 bg-white/90 backdrop-blur-md dark:border-zinc-800 dark:bg-black/90 md:hidden",children:[m,v]}),e[20]=v,e[21]=m,e[22]=N):N=e[22],N},qu=Bu;function Wu(n){const{isActive:e}=n;return`relative flex h-full flex-1 flex-col items-center justify-center transition-all duration-200 ${e?"text-black dark:text-white":"text-zinc-400 opacity-70"}`}var Vu=ie(),Yu=()=>{const n=(0,Vu.c)(5);let e,t;n[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,l.jsx)("img",{src:"/welcome-banner.webp",alt:"Welcome Banner",fetchPriority:"high",loading:"eager",decoding:"async",className:"h-full w-full object-cover duration-700 group-hover:scale-105"}),t=(0,l.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"}),n[0]=e,n[1]=t):(e=n[0],t=n[1]);let s;n[2]===Symbol.for("react.memo_cache_sentinel")?(s=(0,l.jsx)("h1",{className:"mb-1 text-3xl font-black drop-shadow-lg sm:text-4xl",children:"Welcome to Sysm"}),n[2]=s):s=n[2];let r;n[3]===Symbol.for("react.memo_cache_sentinel")?(r=(0,l.jsxs)("div",{className:"absolute bottom-6 left-8 text-white",children:[s,(0,l.jsxs)("p",{className:"tracking-wide text-sm font-medium opacity-90 drop-shadow-md sm:text-base",children:["a social network built by"," ",(0,l.jsx)("a",{href:"https://t.me/systemadminbd",target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:"@Systemadminbd"})]})]}),n[3]=r):r=n[3];let a;return n[4]===Symbol.for("react.memo_cache_sentinel")?(a=(0,l.jsxs)("div",{className:"group relative mb-6 aspect-[21/9] w-full cursor-pointer overflow-hidden rounded-3xl sm:aspect-[2.5/1]",children:[e,t,r,(0,l.jsx)("div",{className:"absolute bottom-4 right-8",children:(0,l.jsx)("img",{src:"/logo.webp",className:"size-12 animate-pulse rounded-xl opacity-80",alt:"",loading:"lazy",decoding:"async"})})]}),n[4]=a):a=n[4],a},Xu=Yu,Ku=ie(),Qu=n=>{const e=(0,Ku.c)(26),{onPostClick:t}=n,s=gn(),r=vn(),{darkMode:a}=Xn(),o=s.pathname==="/";let i;e[0]!==s.pathname?(i=s.pathname.startsWith("/reels")||s.pathname.startsWith("/messages")&&s.pathname.split("/").length>2,e[0]=s.pathname,e[1]=i):i=e[1];const d=i;let m;e[2]!==r?(m=M=>{r(`/u/${M}`)},e[2]=r,e[3]=m):m=e[3];const u=m,c=`min-h-screen bg-[--background] text-[--foreground] font-sans selection:bg-violet-500 selection:text-white transition-colors duration-200 ${a?"dark":""}`;let f;e[4]!==t?(f=(0,l.jsx)(t0,{onPostClick:t}),e[4]=t,e[5]=f):f=e[5];let h;e[6]!==o?(h=o&&(0,l.jsx)("div",{className:"w-full max-w-full overflow-hidden",children:(0,l.jsx)(Xu,{})}),e[6]=o,e[7]=h):h=e[7];let p;e[8]===Symbol.for("react.memo_cache_sentinel")?(p=(0,l.jsx)("div",{className:"w-full",children:(0,l.jsx)(Lo,{})}),e[8]=p):p=e[8];let b;e[9]!==h?(b=(0,l.jsxs)("div",{className:"flex w-0 flex-1 flex-col overflow-x-hidden",children:[h,p]}),e[9]=h,e[10]=b):b=e[10];let x;e[11]!==s.pathname?(x=!s.pathname.startsWith("/messages")&&(0,l.jsx)(a0,{}),e[11]=s.pathname,e[12]=x):x=e[12];let v;e[13]!==b||e[14]!==x?(v=(0,l.jsxs)("main",{className:"flex flex-1 justify-center gap-x-2 px-0 md:gap-x-8 md:px-4 md:py-5",children:[b,x]}),e[13]=b,e[14]=x,e[15]=v):v=e[15];let N;e[16]!==f||e[17]!==v?(N=(0,l.jsxs)("div",{className:"mx-auto flex min-h-screen w-full max-w-[1300px] justify-center px-0 sm:px-0",children:[f,v]}),e[16]=f,e[17]=v,e[18]=N):N=e[18];let S;e[19]!==u||e[20]!==d?(S=!d&&(0,l.jsx)(qu,{handleProfileClick:u}),e[19]=u,e[20]=d,e[21]=S):S=e[21];let _;return e[22]!==N||e[23]!==S||e[24]!==c?(_=(0,l.jsxs)("div",{className:c,children:[N,S]}),e[22]=N,e[23]=S,e[24]=c,e[25]=_):_=e[25],_},Zu=Qu,Gu=ie(),Ju=n=>{const e=(0,Gu.c)(2),{children:t}=n;let s;return e[0]!==t?(s=(0,l.jsx)("div",{className:"duration-300 w-full animate-in fade-in slide-in-from-bottom-2 ease-out",children:t}),e[0]=t,e[1]=s):s=e[1],s},tt=Ju,$u=ie(),e0=n=>{const e=(0,$u.c)(18),{onPostClick:t}=n,{currentUser:s}=$e(),{unreadCount:r}=io(s),{unreadCount:a}=lo(s);let o,i,d,m,u;e[0]===Symbol.for("react.memo_cache_sentinel")?(o={id:"home",icon:no,path:"/"},i={id:"community",icon:so,path:"/community"},d={id:"reels",icon:ao,path:"/reels"},m={id:"messages",icon:ro,path:"/messages"},u={id:"notifications",icon:oo,path:"/notifications"},e[0]=o,e[1]=i,e[2]=d,e[3]=m,e[4]=u):(o=e[0],i=e[1],d=e[2],m=e[3],u=e[4]);const c=s?`/u/${s.handle}`:"/community";let f;e[5]!==c?(f=[o,i,d,m,u,{id:"profile",icon:Mn,path:c}],e[5]=c,e[6]=f):f=e[6];const h=f;let p;e[7]===Symbol.for("react.memo_cache_sentinel")?(p=(0,l.jsx)(es,{to:"/",className:"mb-8 transition-transform hover:scale-110",children:(0,l.jsx)("img",{src:"/logo.webp",alt:"Logo",className:"size-8 rounded-lg"})}),e[7]=p):p=e[7];let b;e[8]!==a||e[9]!==h||e[10]!==r?(b=h.map(N=>(0,l.jsxs)(ts,{to:N.path,"aria-label":N.id,className:n0,children:[(0,l.jsx)(N.icon,{size:26,strokeWidth:2.5}),N.id==="notifications"&&r>0&&(0,l.jsx)("span",{className:"absolute right-2 top-2 size-2 rounded-full bg-rose-500 ring-2 ring-white dark:ring-black"}),N.id==="messages"&&a>0&&(0,l.jsx)("span",{className:"absolute right-2 top-2 size-2 rounded-full bg-rose-500 ring-2 ring-white dark:ring-black"})]},N.id)),e[8]=a,e[9]=h,e[10]=r,e[11]=b):b=e[11];let x;e[12]!==s||e[13]!==t?(x=s&&(0,l.jsx)("button",{onClick:t,"aria-label":"Create Post",className:"mt-2 cursor-pointer rounded-xl bg-zinc-950 p-2.5 text-white shadow-lg transition-all duration-200 hover:scale-110 active:scale-95 dark:bg-white dark:text-zinc-950",title:"Create Post",children:(0,l.jsx)(Yt,{size:26,strokeWidth:2.5})}),e[12]=s,e[13]=t,e[14]=x):x=e[14];let v;return e[15]!==x||e[16]!==b?(v=(0,l.jsxs)("aside",{className:"sticky top-0 hidden h-screen w-[68px] shrink-0 flex-col items-center border-r border-zinc-100 bg-white py-5 transition-colors duration-200 dark:border-zinc-800 dark:bg-black md:flex",children:[p,(0,l.jsxs)("nav",{className:"flex w-full flex-col items-center gap-y-4",children:[b,x]})]}),e[15]=x,e[16]=b,e[17]=v):v=e[17],v},t0=e0;function n0(n){const{isActive:e}=n;return`relative rounded-xl border border-transparent p-2.5 transition-all duration-200 ${e?"border-zinc-200 bg-zinc-100 text-black dark:border-zinc-800 dark:bg-zinc-900 dark:text-white":"text-zinc-500 hover:bg-zinc-50 dark:hover:bg-zinc-900"}`}var r0=ie(),s0=()=>{const n=(0,r0.c)(48),{currentUser:e,setAuthMode:t}=$e(),{darkMode:s,toggleDarkMode:r}=Xn(),[a,o]=(0,g.useState)(""),i=vn();let d;n[0]===Symbol.for("react.memo_cache_sentinel")?(d={queryKey:["trending-hashtags"],queryFn:o0,staleTime:3e5,refetchInterval:6e4},n[0]=d):d=n[0];const{data:m}=Dt(d);let u;n[1]!==m?(u=m===void 0?[]:m,n[1]=m,n[2]=u):u=n[2];const c=u;let f;n[3]===Symbol.for("react.memo_cache_sentinel")?(f=[" 2026 Sysm","Terms","Privacy","Guidelines","Discord","Sysm","GitHub","Support","Status"],n[3]=f):f=n[3];const h=f;let p;n[4]!==s?(p=s?(0,l.jsx)(ei,{size:20}):(0,l.jsx)(_i,{size:20}),n[4]=s,n[5]=p):p=n[5];let b;n[6]!==p||n[7]!==r?(b=(0,l.jsx)("button",{onClick:r,className:"cursor-pointer rounded-full border border-zinc-100 bg-zinc-50 p-3 text-zinc-500 transition-all hover:bg-zinc-100 dark:border-zinc-800 dark:bg-zinc-900 dark:text-zinc-400 dark:hover:bg-zinc-800",title:"Toggle Theme",children:p}),n[6]=p,n[7]=r,n[8]=b):b=n[8];const x=b;if(e){let R;n[9]===Symbol.for("react.memo_cache_sentinel")?(R=()=>o(""),n[9]=R):R=n[9];let E;n[10]!==a?(E=(0,l.jsx)("div",{className:"flex-1",children:(0,l.jsx)(Dr,{value:a,onChange:o,onClear:R})}),n[10]=a,n[11]=E):E=n[11];let I;n[12]!==E||n[13]!==x?(I=(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[E,x]}),n[12]=E,n[13]=x,n[14]=I):I=n[14];let z;n[15]===Symbol.for("react.memo_cache_sentinel")?(z=(0,l.jsx)("h3",{className:"mb-4 px-2 text-xl font-extrabold text-[--foreground]",children:"What's happening"}),n[15]=z):z=n[15];let L;if(n[16]!==i||n[17]!==c){let F;n[19]!==i?(F=q=>(0,l.jsxs)("div",{onClick:()=>i(`/tags/${q.name.replace(/^#/,"")}`),className:"group cursor-pointer rounded-xl px-3 py-3 transition-colors hover:bg-zinc-100 dark:hover:bg-zinc-800",children:[(0,l.jsx)("div",{className:"text-xs font-medium text-zinc-500 dark:text-zinc-400",children:"Trending"}),(0,l.jsxs)("div",{className:"font-bold text-[--foreground]",children:["#",q.name.replace(/^#/,"")]}),(0,l.jsxs)("div",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:[q.usage_count," posts"]})]},q.id),n[19]=i,n[20]=F):F=n[20],L=c.map(F),n[16]=i,n[17]=c,n[18]=L}else L=n[18];let j;n[21]!==c.length?(j=c.length===0&&(0,l.jsx)("p",{className:"px-2 text-sm text-zinc-500",children:"No trends yet"}),n[21]=c.length,n[22]=j):j=n[22];let k;n[23]!==L||n[24]!==j?(k=(0,l.jsxs)("div",{className:"rounded-2xl border border-[--border] bg-zinc-50 p-4 dark:bg-zinc-900",children:[z,(0,l.jsxs)("div",{className:"flex flex-col gap-1",children:[L,j]})]}),n[23]=L,n[24]=j,n[25]=k):k=n[25];let P;n[26]===Symbol.for("react.memo_cache_sentinel")?(P=(0,l.jsx)("div",{className:"flex flex-wrap gap-x-4 gap-y-2 px-2 pb-5 text-[13px] font-medium text-zinc-500",children:h.map(i0)}),n[26]=P):P=n[26];let T;return n[27]!==k||n[28]!==I?(T=(0,l.jsxs)("aside",{className:"sticky top-5 hidden max-h-screen w-[320px] shrink-0 flex-col gap-y-6 overflow-y-auto lg:flex",children:[I,k,P]}),n[27]=k,n[28]=I,n[29]=T):T=n[29],T}let v,N;n[30]!==t?(v=(0,l.jsx)("button",{onClick:()=>t("signup"),className:"cursor-pointer flex-1 rounded-full border border-[--border] bg-[--card] py-2.5 font-bold text-[--foreground] shadow-sm transition-colors hover:bg-zinc-50 dark:hover:bg-zinc-900",children:"Signup"}),N=()=>t("login"),n[30]=t,n[31]=v,n[32]=N):(v=n[31],N=n[32]);let S;n[33]===Symbol.for("react.memo_cache_sentinel")?(S=(0,l.jsx)("img",{src:"/logo.webp",alt:"",className:"size-4 rounded-sm"}),n[33]=S):S=n[33];let _;n[34]!==N?(_=(0,l.jsxs)("button",{onClick:N,className:"cursor-pointer flex flex-1 items-center justify-center gap-2 rounded-full bg-zinc-950 py-2.5 font-bold text-white transition-opacity hover:opacity-90 dark:bg-white dark:text-zinc-950",children:[S,"Login"]}),n[34]=N,n[35]=_):_=n[35];let M;n[36]!==v||n[37]!==_||n[38]!==x?(M=(0,l.jsxs)("div",{className:"flex gap-3",children:[v,_,x]}),n[36]=v,n[37]=_,n[38]=x,n[39]=M):M=n[39];let C;n[40]===Symbol.for("react.memo_cache_sentinel")?(C=()=>o(""),n[40]=C):C=n[40];let D;n[41]!==a?(D=(0,l.jsx)(Dr,{value:a,onChange:o,onClear:C}),n[41]=a,n[42]=D):D=n[42];let y;n[43]===Symbol.for("react.memo_cache_sentinel")?(y=(0,l.jsx)(zu,{}),n[43]=y):y=n[43];let w;n[44]===Symbol.for("react.memo_cache_sentinel")?(w=(0,l.jsx)("div",{className:"flex flex-wrap gap-x-4 gap-y-2 px-2 pb-5 text-[13px] font-medium text-zinc-500",children:h.map(l0)}),n[44]=w):w=n[44];let A;return n[45]!==M||n[46]!==D?(A=(0,l.jsxs)("aside",{className:"sticky top-5 hidden w-[350px] shrink-0 flex-col gap-y-6 pr-4 lg:flex",children:[M,D,y,w]}),n[45]=M,n[46]=D,n[47]=A):A=n[47],A},a0=s0;function o0(){return vl(5)}function i0(n){return(0,l.jsx)("a",{href:"#",className:"hover:underline",children:n},n)}function l0(n){return(0,l.jsx)("a",{href:"#",className:"hover:underline",children:n},n)}var Th=ie(),c0=({isOpen:n,onClose:e})=>{const{currentUser:t}=$e(),{addToast:s}=_t(),r=vn(),[a,o]=(0,g.useState)({name:"",handle:"",description:"",isPrivate:!1}),[i,d]=(0,g.useState)(!1),m=async u=>{if(u.preventDefault(),!(!a.name||!a.handle||!t)){d(!0);try{const c=await ml({name:a.name,handle:a.handle.toLowerCase().replace(/[^a-z0-9_]/g,""),description:a.description,is_private:a.isPrivate,creator_id:t.id});if(!c)throw new Error("Failed to create community");const{error:f}=await Y.from("community_members").insert([{community_id:c.id,user_id:t.id,role:"admin"}]);if(f)throw f;s(`Community "${c.name}" created!`),e(),r(`/c/${c.handle}`)}catch(c){console.error(c),s(c.message||"Failed to create community","error")}finally{d(!1)}}};return(0,l.jsx)(Lt,{isOpen:n,onClose:()=>!i&&e(),title:"Create Community",className:"sm:max-w-md",children:(0,l.jsxs)("form",{onSubmit:m,className:"space-y-5",children:[(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center rounded-2xl border-2 border-dashed border-zinc-200 bg-zinc-50 p-6 dark:border-zinc-800 dark:bg-zinc-900",children:[(0,l.jsx)("div",{className:"mb-3 flex size-20 items-center justify-center rounded-2xl bg-white shadow-sm dark:bg-black",children:(0,l.jsx)(ds,{size:32,className:"text-violet-600"})}),(0,l.jsx)("p",{className:"max-w-[200px] text-center text-xs font-medium text-zinc-500",children:"Communities are where people with shared interests connect."})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"space-y-1.5",children:[(0,l.jsx)("label",{className:"ml-1 text-sm font-bold",children:"Community Name"}),(0,l.jsx)("input",{type:"text",required:!0,className:"w-full rounded-xl border border-zinc-200 bg-zinc-50 px-4 py-2.5 outline-none transition-all focus:border-violet-500 focus:ring-2 focus:ring-violet-500/20 dark:border-zinc-800 dark:bg-zinc-900",placeholder:"e.g. Photography Enthusiasts",value:a.name,onChange:u=>o({...a,name:u.target.value})})]}),(0,l.jsxs)("div",{className:"space-y-1.5",children:[(0,l.jsx)("label",{className:"ml-1 text-sm font-bold",children:"Handle"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 font-medium text-zinc-500",children:"c/"}),(0,l.jsx)("input",{type:"text",required:!0,className:"w-full rounded-xl border border-zinc-200 bg-zinc-50 pl-8 pr-4 py-2.5 outline-none transition-all focus:border-violet-500 focus:ring-2 focus:ring-violet-500/20 dark:border-zinc-800 dark:bg-zinc-900",placeholder:"photography",value:a.handle,onChange:u=>o({...a,handle:u.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"")})})]})]}),(0,l.jsxs)("div",{className:"space-y-1.5",children:[(0,l.jsx)("label",{className:"ml-1 text-sm font-bold",children:"Description (Optional)"}),(0,l.jsx)("textarea",{className:"min-h-[100px] w-full resize-none rounded-xl border border-zinc-200 bg-zinc-50 px-4 py-2.5 outline-none transition-all focus:border-violet-500 focus:ring-2 focus:ring-violet-500/20 dark:border-zinc-800 dark:bg-zinc-900",placeholder:"What is this community about?",value:a.description,onChange:u=>o({...a,description:u.target.value})})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between rounded-xl border border-zinc-200 bg-zinc-50 p-4 dark:border-zinc-800 dark:bg-zinc-900",children:[(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("span",{className:"text-sm font-bold",children:"Private Community"}),(0,l.jsx)("span",{className:"text-[10px] text-zinc-500",children:"Only Admins can post in private communities"})]}),(0,l.jsx)("input",{type:"checkbox",className:"size-5 cursor-pointer rounded-md accent-violet-600",checked:a.isPrivate,onChange:u=>o({...a,isPrivate:u.target.checked})})]})]}),(0,l.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,l.jsx)(Ge,{type:"button",variant:"outline",className:"flex-1",onClick:e,disabled:i,children:"Cancel"}),(0,l.jsx)(Ge,{type:"submit",className:"flex-1",disabled:i||!a.name||!a.handle,children:i?(0,l.jsx)(mt,{size:18,className:"animate-spin"}):"Create"})]})]})})},Ph=c0;function d0(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return(0,g.useMemo)(()=>s=>{e.forEach(r=>r(s))},e)}var yn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ft(n){const e=Object.prototype.toString.call(n);return e==="[object Window]"||e==="[object global]"}function rr(n){return"nodeType"in n}function Qe(n){var e,t;return n?Ft(n)?n:rr(n)&&(e=(t=n.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function sr(n){const{Document:e}=Qe(n);return n instanceof e}function Jt(n){return Ft(n)?!1:n instanceof Qe(n).HTMLElement}function co(n){return n instanceof Qe(n).SVGElement}function Ot(n){return n?Ft(n)?n.document:rr(n)?sr(n)?n:Jt(n)||co(n)?n.ownerDocument:document:document:document}var ut=yn?g.useLayoutEffect:g.useEffect;function ar(n){const e=(0,g.useRef)(n);return ut(()=>{e.current=n}),(0,g.useCallback)(function(){for(var t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return e.current==null?void 0:e.current(...s)},[])}function u0(){const n=(0,g.useRef)(null);return[(0,g.useCallback)((e,t)=>{n.current=setInterval(e,t)},[]),(0,g.useCallback)(()=>{n.current!==null&&(clearInterval(n.current),n.current=null)},[])]}function Xt(n,e){e===void 0&&(e=[n]);const t=(0,g.useRef)(n);return ut(()=>{t.current!==n&&(t.current=n)},e),t}function $t(n,e){const t=(0,g.useRef)();return(0,g.useMemo)(()=>{const s=n(t.current);return t.current=s,s},[...e])}function fn(n){const e=ar(n),t=(0,g.useRef)(null);return[t,(0,g.useCallback)(s=>{s!==t.current&&e?.(s,t.current),t.current=s},[])]}function Ln(n){const e=(0,g.useRef)();return(0,g.useEffect)(()=>{e.current=n},[n]),e.current}var zn={};function en(n,e){return(0,g.useMemo)(()=>{if(e)return e;const t=zn[n]==null?0:zn[n]+1;return zn[n]=t,n+"-"+t},[n,e])}function uo(n){return function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),r=1;r<t;r++)s[r-1]=arguments[r];return s.reduce((a,o)=>{const i=Object.entries(o);for(const[d,m]of i){const u=a[d];u!=null&&(a[d]=u+n*m)}return a},{...e})}}var Tt=uo(1),Kt=uo(-1);function f0(n){return"clientX"in n&&"clientY"in n}function or(n){if(!n)return!1;const{KeyboardEvent:e}=Qe(n.target);return e&&n instanceof e}function m0(n){if(!n)return!1;const{TouchEvent:e}=Qe(n.target);return e&&n instanceof e}function Fn(n){if(m0(n)){if(n.touches&&n.touches.length){const{clientX:e,clientY:t}=n.touches[0];return{x:e,y:t}}else if(n.changedTouches&&n.changedTouches.length){const{clientX:e,clientY:t}=n.changedTouches[0];return{x:e,y:t}}}return f0(n)?{x:n.clientX,y:n.clientY}:null}var Qt=Object.freeze({Translate:{toString(n){if(!n)return;const{x:e,y:t}=n;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(n){if(!n)return;const{scaleX:e,scaleY:t}=n;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(n){if(n)return[Qt.Translate.toString(n),Qt.Scale.toString(n)].join(" ")}},Transition:{toString(n){let{property:e,duration:t,easing:s}=n;return e+" "+t+"ms "+s}}}),Lr="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function h0(n){return n.matches(Lr)?n:n.querySelector(Lr)}var p0={display:"none"};function g0(n){let{id:e,value:t}=n;return g.createElement("div",{id:e,style:p0},t)}function v0(n){let{id:e,announcement:t,ariaLiveType:s="assertive"}=n;return g.createElement("div",{id:e,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":s,"aria-atomic":!0},t)}function b0(){const[n,e]=(0,g.useState)("");return{announce:(0,g.useCallback)(t=>{t!=null&&e(t)},[]),announcement:n}}var Bt=$r(),fo=(0,g.createContext)(null);function x0(n){const e=(0,g.useContext)(fo);(0,g.useEffect)(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(n)},[n,e])}function y0(){const[n]=(0,g.useState)(()=>new Set),e=(0,g.useCallback)(t=>(n.add(t),()=>n.delete(t)),[n]);return[(0,g.useCallback)(t=>{let{type:s,event:r}=t;n.forEach(a=>{var o;return(o=a[s])==null?void 0:o.call(a,r)})},[n]),e]}var w0={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},j0={onDragStart(n){let{active:e}=n;return"Picked up draggable item "+e.id+"."},onDragOver(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(n){let{active:e}=n;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function k0(n){let{announcements:e=j0,container:t,hiddenTextDescribedById:s,screenReaderInstructions:r=w0}=n;const{announce:a,announcement:o}=b0(),i=en("DndLiveRegion"),[d,m]=(0,g.useState)(!1);if((0,g.useEffect)(()=>{m(!0)},[]),x0((0,g.useMemo)(()=>({onDragStart(c){let{active:f}=c;a(e.onDragStart({active:f}))},onDragMove(c){let{active:f,over:h}=c;e.onDragMove&&a(e.onDragMove({active:f,over:h}))},onDragOver(c){let{active:f,over:h}=c;a(e.onDragOver({active:f,over:h}))},onDragEnd(c){let{active:f,over:h}=c;a(e.onDragEnd({active:f,over:h}))},onDragCancel(c){let{active:f,over:h}=c;a(e.onDragCancel({active:f,over:h}))}}),[a,e])),!d)return null;const u=g.createElement(g.Fragment,null,g.createElement(g0,{id:s,value:r.draggable}),g.createElement(v0,{id:i,announcement:o}));return t?(0,Bt.createPortal)(u,t):u}var Pe;(function(n){n.DragStart="dragStart",n.DragMove="dragMove",n.DragEnd="dragEnd",n.DragCancel="dragCancel",n.DragOver="dragOver",n.RegisterDroppable="registerDroppable",n.SetDroppableDisabled="setDroppableDisabled",n.UnregisterDroppable="unregisterDroppable"})(Pe||(Pe={}));function mn(){}function Fr(n,e){return(0,g.useMemo)(()=>({sensor:n,options:e??{}}),[n,e])}function C0(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return(0,g.useMemo)(()=>[...e].filter(s=>s!=null),[...e])}var it=Object.freeze({x:0,y:0});function mo(n,e){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function ho(n,e){let{data:{value:t}}=n,{data:{value:s}}=e;return t-s}function N0(n,e){let{data:{value:t}}=n,{data:{value:s}}=e;return s-t}function Or(n){let{left:e,top:t,height:s,width:r}=n;return[{x:e,y:t},{x:e+r,y:t},{x:e,y:t+s},{x:e+r,y:t+s}]}function po(n,e){if(!n||n.length===0)return null;const[t]=n;return e?t[e]:t}function Ur(n,e,t){return e===void 0&&(e=n.left),t===void 0&&(t=n.top),{x:e+n.width*.5,y:t+n.height*.5}}var _0=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:s}=n;const r=Ur(e,e.left,e.top),a=[];for(const o of s){const{id:i}=o,d=t.get(i);if(d){const m=mo(Ur(d),r);a.push({id:i,data:{droppableContainer:o,value:m}})}}return a.sort(ho)},S0=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:s}=n;const r=Or(e),a=[];for(const o of s){const{id:i}=o,d=t.get(i);if(d){const m=Or(d),u=r.reduce((f,h,p)=>f+mo(m[p],h),0),c=Number((u/4).toFixed(4));a.push({id:i,data:{droppableContainer:o,value:c}})}}return a.sort(ho)};function z0(n,e){const t=Math.max(e.top,n.top),s=Math.max(e.left,n.left),r=Math.min(e.left+e.width,n.left+n.width),a=Math.min(e.top+e.height,n.top+n.height),o=r-s,i=a-t;if(s<r&&t<a){const d=e.width*e.height,m=n.width*n.height,u=o*i,c=u/(d+m-u);return Number(c.toFixed(4))}return 0}var A0=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:s}=n;const r=[];for(const a of s){const{id:o}=a,i=t.get(o);if(i){const d=z0(i,e);d>0&&r.push({id:o,data:{droppableContainer:a,value:d}})}}return r.sort(N0)};function E0(n,e,t){return{...n,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function go(n,e){return n&&e?{x:n.left-e.left,y:n.top-e.top}:it}function R0(n){return function(t){for(var s=arguments.length,r=new Array(s>1?s-1:0),a=1;a<s;a++)r[a-1]=arguments[a];return r.reduce((o,i)=>({...o,top:o.top+n*i.y,bottom:o.bottom+n*i.y,left:o.left+n*i.x,right:o.right+n*i.x}),{...t})}}var M0=R0(1);function I0(n){if(n.startsWith("matrix3d(")){const e=n.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(n.startsWith("matrix(")){const e=n.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function D0(n,e,t){const s=I0(e);if(!s)return n;const{scaleX:r,scaleY:a,x:o,y:i}=s,d=n.left-o-(1-r)*parseFloat(t),m=n.top-i-(1-a)*parseFloat(t.slice(t.indexOf(" ")+1)),u=r?n.width/r:n.width,c=a?n.height/a:n.height;return{width:u,height:c,top:m,right:d+u,bottom:m+c,left:d}}var T0={ignoreTransform:!1};function Ut(n,e){e===void 0&&(e=T0);let t=n.getBoundingClientRect();if(e.ignoreTransform){const{transform:m,transformOrigin:u}=Qe(n).getComputedStyle(n);m&&(t=D0(t,m,u))}const{top:s,left:r,width:a,height:o,bottom:i,right:d}=t;return{top:s,left:r,width:a,height:o,bottom:i,right:d}}function Hr(n){return Ut(n,{ignoreTransform:!0})}function P0(n){const e=n.innerWidth,t=n.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function L0(n,e){return e===void 0&&(e=Qe(n).getComputedStyle(n)),e.position==="fixed"}function F0(n,e){e===void 0&&(e=Qe(n).getComputedStyle(n));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const r=e[s];return typeof r=="string"?t.test(r):!1})}function wn(n,e){const t=[];function s(r){if(e!=null&&t.length>=e||!r)return t;if(sr(r)&&r.scrollingElement!=null&&!t.includes(r.scrollingElement))return t.push(r.scrollingElement),t;if(!Jt(r)||co(r)||t.includes(r))return t;const a=Qe(n).getComputedStyle(r);return r!==n&&F0(r,a)&&t.push(r),L0(r,a)?t:s(r.parentNode)}return n?s(n):t}function vo(n){const[e]=wn(n,1);return e??null}function An(n){return!yn||!n?null:Ft(n)?n:rr(n)?sr(n)||n===Ot(n).scrollingElement?window:Jt(n)?n:null:null}function bo(n){return Ft(n)?n.scrollX:n.scrollLeft}function xo(n){return Ft(n)?n.scrollY:n.scrollTop}function On(n){return{x:bo(n),y:xo(n)}}var Le;(function(n){n[n.Forward=1]="Forward",n[n.Backward=-1]="Backward"})(Le||(Le={}));function yo(n){return!yn||!n?!1:n===document.scrollingElement}function wo(n){const e={x:0,y:0},t=yo(n)?{height:window.innerHeight,width:window.innerWidth}:{height:n.clientHeight,width:n.clientWidth},s={x:n.scrollWidth-t.width,y:n.scrollHeight-t.height};return{isTop:n.scrollTop<=e.y,isLeft:n.scrollLeft<=e.x,isBottom:n.scrollTop>=s.y,isRight:n.scrollLeft>=s.x,maxScroll:s,minScroll:e}}var O0={x:.2,y:.2};function U0(n,e,t,s,r){let{top:a,left:o,right:i,bottom:d}=t;s===void 0&&(s=10),r===void 0&&(r=O0);const{isTop:m,isBottom:u,isLeft:c,isRight:f}=wo(n),h={x:0,y:0},p={x:0,y:0},b={height:e.height*r.y,width:e.width*r.x};return!m&&a<=e.top+b.height?(h.y=Le.Backward,p.y=s*Math.abs((e.top+b.height-a)/b.height)):!u&&d>=e.bottom-b.height&&(h.y=Le.Forward,p.y=s*Math.abs((e.bottom-b.height-d)/b.height)),!f&&i>=e.right-b.width?(h.x=Le.Forward,p.x=s*Math.abs((e.right-b.width-i)/b.width)):!c&&o<=e.left+b.width&&(h.x=Le.Backward,p.x=s*Math.abs((e.left+b.width-o)/b.width)),{direction:h,speed:p}}function H0(n){if(n===document.scrollingElement){const{innerWidth:a,innerHeight:o}=window;return{top:0,left:0,right:a,bottom:o,width:a,height:o}}const{top:e,left:t,right:s,bottom:r}=n.getBoundingClientRect();return{top:e,left:t,right:s,bottom:r,width:n.clientWidth,height:n.clientHeight}}function jo(n){return n.reduce((e,t)=>Tt(e,On(t)),it)}function B0(n){return n.reduce((e,t)=>e+bo(t),0)}function q0(n){return n.reduce((e,t)=>e+xo(t),0)}function W0(n,e){if(e===void 0&&(e=Ut),!n)return;const{top:t,left:s,bottom:r,right:a}=e(n);vo(n)&&(r<=0||a<=0||t>=window.innerHeight||s>=window.innerWidth)&&n.scrollIntoView({block:"center",inline:"center"})}var V0=[["x",["left","right"],B0],["y",["top","bottom"],q0]],ir=class{constructor(n,e){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const t=wn(e),s=jo(t);this.rect={...n},this.width=n.width,this.height=n.height;for(const[r,a,o]of V0)for(const i of a)Object.defineProperty(this,i,{get:()=>{const d=o(t),m=s[r]-d;return this.rect[i]+m},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}},qt=class{constructor(n){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var t;return(t=this.target)==null?void 0:t.removeEventListener(...e)})},this.target=n}add(n,e,t){var s;(s=this.target)==null||s.addEventListener(n,e,t),this.listeners.push([n,e,t])}};function Y0(n){const{EventTarget:e}=Qe(n);return n instanceof e?n:Ot(n)}function En(n,e){const t=Math.abs(n.x),s=Math.abs(n.y);return typeof e=="number"?Math.sqrt(t**2+s**2)>e:"x"in e&&"y"in e?t>e.x&&s>e.y:"x"in e?t>e.x:"y"in e?s>e.y:!1}var nt;(function(n){n.Click="click",n.DragStart="dragstart",n.Keydown="keydown",n.ContextMenu="contextmenu",n.Resize="resize",n.SelectionChange="selectionchange",n.VisibilityChange="visibilitychange"})(nt||(nt={}));function Br(n){n.preventDefault()}function X0(n){n.stopPropagation()}var pe;(function(n){n.Space="Space",n.Down="ArrowDown",n.Right="ArrowRight",n.Left="ArrowLeft",n.Up="ArrowUp",n.Esc="Escape",n.Enter="Enter",n.Tab="Tab"})(pe||(pe={}));var ko={start:[pe.Space,pe.Enter],cancel:[pe.Esc],end:[pe.Space,pe.Enter,pe.Tab]},K0=(n,e)=>{let{currentCoordinates:t}=e;switch(n.code){case pe.Right:return{...t,x:t.x+25};case pe.Left:return{...t,x:t.x-25};case pe.Down:return{...t,y:t.y+25};case pe.Up:return{...t,y:t.y-25}}},lr=class{constructor(n){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=n;const{event:{target:e}}=n;this.props=n,this.listeners=new qt(Ot(e)),this.windowListeners=new qt(Qe(e)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(nt.Resize,this.handleCancel),this.windowListeners.add(nt.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(nt.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:n,onStart:e}=this.props,t=n.node.current;t&&W0(t),e(it)}handleKeyDown(n){if(or(n)){const{active:e,context:t,options:s}=this.props,{keyboardCodes:r=ko,coordinateGetter:a=K0,scrollBehavior:o="smooth"}=s,{code:i}=n;if(r.end.includes(i)){this.handleEnd(n);return}if(r.cancel.includes(i)){this.handleCancel(n);return}const{collisionRect:d}=t.current,m=d?{x:d.left,y:d.top}:it;this.referenceCoordinates||(this.referenceCoordinates=m);const u=a(n,{active:e,context:t.current,currentCoordinates:m});if(u){const c=Kt(u,m),f={x:0,y:0},{scrollableAncestors:h}=t.current;for(const p of h){const b=n.code,{isTop:x,isRight:v,isLeft:N,isBottom:S,maxScroll:_,minScroll:M}=wo(p),C=H0(p),D={x:Math.min(b===pe.Right?C.right-C.width/2:C.right,Math.max(b===pe.Right?C.left:C.left+C.width/2,u.x)),y:Math.min(b===pe.Down?C.bottom-C.height/2:C.bottom,Math.max(b===pe.Down?C.top:C.top+C.height/2,u.y))},y=b===pe.Right&&!v||b===pe.Left&&!N,w=b===pe.Down&&!S||b===pe.Up&&!x;if(y&&D.x!==u.x){const A=p.scrollLeft+c.x,R=b===pe.Right&&A<=_.x||b===pe.Left&&A>=M.x;if(R&&!c.y){p.scrollTo({left:A,behavior:o});return}R?f.x=p.scrollLeft-A:f.x=b===pe.Right?p.scrollLeft-_.x:p.scrollLeft-M.x,f.x&&p.scrollBy({left:-f.x,behavior:o});break}else if(w&&D.y!==u.y){const A=p.scrollTop+c.y,R=b===pe.Down&&A<=_.y||b===pe.Up&&A>=M.y;if(R&&!c.x){p.scrollTo({top:A,behavior:o});return}R?f.y=p.scrollTop-A:f.y=b===pe.Down?p.scrollTop-_.y:p.scrollTop-M.y,f.y&&p.scrollBy({top:-f.y,behavior:o});break}}this.handleMove(n,Tt(Kt(u,this.referenceCoordinates),f))}}}handleMove(n,e){const{onMove:t}=this.props;n.preventDefault(),t(e)}handleEnd(n){const{onEnd:e}=this.props;n.preventDefault(),this.detach(),e()}handleCancel(n){const{onCancel:e}=this.props;n.preventDefault(),this.detach(),e()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}};lr.activators=[{eventName:"onKeyDown",handler:(n,e,t)=>{let{keyboardCodes:s=ko,onActivation:r}=e,{active:a}=t;const{code:o}=n.nativeEvent;if(s.start.includes(o)){const i=a.activatorNode.current;return i&&n.target!==i?!1:(n.preventDefault(),r?.({event:n.nativeEvent}),!0)}return!1}}];function qr(n){return!!(n&&"distance"in n)}function Wr(n){return!!(n&&"delay"in n)}var cr=class{constructor(n,e,t){var s;t===void 0&&(t=Y0(n.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=n,this.events=e;const{event:r}=n,{target:a}=r;this.props=n,this.events=e,this.document=Ot(a),this.documentListeners=new qt(this.document),this.listeners=new qt(t),this.windowListeners=new qt(Qe(a)),this.initialCoordinates=(s=Fn(r))!=null?s:it,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:n,props:{options:{activationConstraint:e,bypassActivationConstraint:t}}}=this;if(this.listeners.add(n.move.name,this.handleMove,{passive:!1}),this.listeners.add(n.end.name,this.handleEnd),n.cancel&&this.listeners.add(n.cancel.name,this.handleCancel),this.windowListeners.add(nt.Resize,this.handleCancel),this.windowListeners.add(nt.DragStart,Br),this.windowListeners.add(nt.VisibilityChange,this.handleCancel),this.windowListeners.add(nt.ContextMenu,Br),this.documentListeners.add(nt.Keydown,this.handleKeydown),e){if(t!=null&&t({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Wr(e)){this.timeoutId=setTimeout(this.handleStart,e.delay),this.handlePending(e);return}if(qr(e)){this.handlePending(e);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(n,e){const{active:t,onPending:s}=this.props;s(t,n,this.initialCoordinates,e)}handleStart(){const{initialCoordinates:n}=this,{onStart:e}=this.props;n&&(this.activated=!0,this.documentListeners.add(nt.Click,X0,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(nt.SelectionChange,this.removeTextSelection),e(n))}handleMove(n){var e;const{activated:t,initialCoordinates:s,props:r}=this,{onMove:a,options:{activationConstraint:o}}=r;if(!s)return;const i=(e=Fn(n))!=null?e:it,d=Kt(s,i);if(!t&&o){if(qr(o)){if(o.tolerance!=null&&En(d,o.tolerance))return this.handleCancel();if(En(d,o.distance))return this.handleStart()}if(Wr(o)&&En(d,o.tolerance))return this.handleCancel();this.handlePending(o,d);return}n.cancelable&&n.preventDefault(),a(i)}handleEnd(){const{onAbort:n,onEnd:e}=this.props;this.detach(),this.activated||n(this.props.active),e()}handleCancel(){const{onAbort:n,onCancel:e}=this.props;this.detach(),this.activated||n(this.props.active),e()}handleKeydown(n){n.code===pe.Esc&&this.handleCancel()}removeTextSelection(){var n;(n=this.document.getSelection())==null||n.removeAllRanges()}},Q0={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}},dr=class extends cr{constructor(n){const{event:e}=n,t=Ot(e.target);super(n,Q0,t)}};dr.activators=[{eventName:"onPointerDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:s}=e;return!t.isPrimary||t.button!==0?!1:(s?.({event:t}),!0)}}];var Z0={move:{name:"mousemove"},end:{name:"mouseup"}},Un;(function(n){n[n.RightClick=2]="RightClick"})(Un||(Un={}));var G0=class extends cr{constructor(n){super(n,Z0,Ot(n.event.target))}};G0.activators=[{eventName:"onMouseDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:s}=e;return t.button===Un.RightClick?!1:(s?.({event:t}),!0)}}];var Rn={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}},J0=class extends cr{constructor(n){super(n,Rn)}static setup(){return window.addEventListener(Rn.move.name,n,{capture:!1,passive:!1}),function(){window.removeEventListener(Rn.move.name,n)};function n(){}}};J0.activators=[{eventName:"onTouchStart",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:s}=e;const{touches:r}=t;return r.length>1?!1:(s?.({event:t}),!0)}}];var Wt;(function(n){n[n.Pointer=0]="Pointer",n[n.DraggableRect=1]="DraggableRect"})(Wt||(Wt={}));var hn;(function(n){n[n.TreeOrder=0]="TreeOrder",n[n.ReversedTreeOrder=1]="ReversedTreeOrder"})(hn||(hn={}));function $0(n){let{acceleration:e,activator:t=Wt.Pointer,canScroll:s,draggingRect:r,enabled:a,interval:o=5,order:i=hn.TreeOrder,pointerCoordinates:d,scrollableAncestors:m,scrollableAncestorRects:u,delta:c,threshold:f}=n;const h=tf({delta:c,disabled:!a}),[p,b]=u0(),x=(0,g.useRef)({x:0,y:0}),v=(0,g.useRef)({x:0,y:0}),N=(0,g.useMemo)(()=>{switch(t){case Wt.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case Wt.DraggableRect:return r}},[t,r,d]),S=(0,g.useRef)(null),_=(0,g.useCallback)(()=>{const C=S.current;if(!C)return;const D=x.current.x*v.current.x,y=x.current.y*v.current.y;C.scrollBy(D,y)},[]),M=(0,g.useMemo)(()=>i===hn.TreeOrder?[...m].reverse():m,[i,m]);(0,g.useEffect)(()=>{if(!a||!m.length||!N){b();return}for(const C of M){if(s?.(C)===!1)continue;const D=u[m.indexOf(C)];if(!D)continue;const{direction:y,speed:w}=U0(C,D,N,e,f);for(const A of["x","y"])h[A][y[A]]||(w[A]=0,y[A]=0);if(w.x>0||w.y>0){b(),S.current=C,p(_,o),x.current=w,v.current=y;return}}x.current={x:0,y:0},v.current={x:0,y:0},b()},[e,_,s,b,a,o,JSON.stringify(N),JSON.stringify(h),p,m,M,u,JSON.stringify(f)])}var ef={x:{[Le.Backward]:!1,[Le.Forward]:!1},y:{[Le.Backward]:!1,[Le.Forward]:!1}};function tf(n){let{delta:e,disabled:t}=n;const s=Ln(e);return $t(r=>{if(t||!s||!r)return ef;const a={x:Math.sign(e.x-s.x),y:Math.sign(e.y-s.y)};return{x:{[Le.Backward]:r.x[Le.Backward]||a.x===-1,[Le.Forward]:r.x[Le.Forward]||a.x===1},y:{[Le.Backward]:r.y[Le.Backward]||a.y===-1,[Le.Forward]:r.y[Le.Forward]||a.y===1}}},[t,e,s])}function nf(n,e){const t=e!=null?n.get(e):void 0,s=t?t.node.current:null;return $t(r=>{var a;return e==null?null:(a=s??r)!=null?a:null},[s,e])}function rf(n,e){return(0,g.useMemo)(()=>n.reduce((t,s)=>{const{sensor:r}=s,a=r.activators.map(o=>({eventName:o.eventName,handler:e(o.handler,s)}));return[...t,...a]},[]),[n,e])}var Zt;(function(n){n[n.Always=0]="Always",n[n.BeforeDragging=1]="BeforeDragging",n[n.WhileDragging=2]="WhileDragging"})(Zt||(Zt={}));var Hn;(function(n){n.Optimized="optimized"})(Hn||(Hn={}));var Vr=new Map;function sf(n,e){let{dragging:t,dependencies:s,config:r}=e;const[a,o]=(0,g.useState)(null),{frequency:i,measure:d,strategy:m}=r,u=(0,g.useRef)(n),c=x(),f=Xt(c),h=(0,g.useCallback)(function(v){v===void 0&&(v=[]),!f.current&&o(N=>N===null?v:N.concat(v.filter(S=>!N.includes(S))))},[f]),p=(0,g.useRef)(null),b=$t(v=>{if(c&&!t)return Vr;if(!v||v===Vr||u.current!==n||a!=null){const N=new Map;for(let S of n){if(!S)continue;if(a&&a.length>0&&!a.includes(S.id)&&S.rect.current){N.set(S.id,S.rect.current);continue}const _=S.node.current,M=_?new ir(d(_),_):null;S.rect.current=M,M&&N.set(S.id,M)}return N}return v},[n,a,t,c,d]);return(0,g.useEffect)(()=>{u.current=n},[n]),(0,g.useEffect)(()=>{c||h()},[t,c]),(0,g.useEffect)(()=>{a&&a.length>0&&o(null)},[JSON.stringify(a)]),(0,g.useEffect)(()=>{c||typeof i!="number"||p.current!==null||(p.current=setTimeout(()=>{h(),p.current=null},i))},[i,c,h,...s]),{droppableRects:b,measureDroppableContainers:h,measuringScheduled:a!=null};function x(){switch(m){case Zt.Always:return!1;case Zt.BeforeDragging:return t;default:return!t}}}function Co(n,e){return $t(t=>n?t||(typeof e=="function"?e(n):n):null,[e,n])}function af(n,e){return Co(n,e)}function of(n){let{callback:e,disabled:t}=n;const s=ar(e),r=(0,g.useMemo)(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(s)},[s,t]);return(0,g.useEffect)(()=>()=>r?.disconnect(),[r]),r}function jn(n){let{callback:e,disabled:t}=n;const s=ar(e),r=(0,g.useMemo)(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(s)},[t]);return(0,g.useEffect)(()=>()=>r?.disconnect(),[r]),r}function lf(n){return new ir(Ut(n),n)}function Yr(n,e,t){e===void 0&&(e=lf);const[s,r]=(0,g.useState)(null);function a(){r(d=>{if(!n)return null;if(n.isConnected===!1){var m;return(m=d??t)!=null?m:null}const u=e(n);return JSON.stringify(d)===JSON.stringify(u)?d:u})}const o=of({callback(d){if(n)for(const m of d){const{type:u,target:c}=m;if(u==="childList"&&c instanceof HTMLElement&&c.contains(n)){a();break}}}}),i=jn({callback:a});return ut(()=>{a(),n?(i?.observe(n),o?.observe(document.body,{childList:!0,subtree:!0})):(i?.disconnect(),o?.disconnect())},[n]),s}function cf(n){return go(n,Co(n))}var Xr=[];function df(n){const e=(0,g.useRef)(n),t=$t(s=>n?s&&s!==Xr&&n&&e.current&&n.parentNode===e.current.parentNode?s:wn(n):Xr,[n]);return(0,g.useEffect)(()=>{e.current=n},[n]),t}function uf(n){const[e,t]=(0,g.useState)(null),s=(0,g.useRef)(n),r=(0,g.useCallback)(a=>{const o=An(a.target);o&&t(i=>i?(i.set(o,On(o)),new Map(i)):null)},[]);return(0,g.useEffect)(()=>{const a=s.current;if(n!==a){o(a);const i=n.map(d=>{const m=An(d);return m?(m.addEventListener("scroll",r,{passive:!0}),[m,On(m)]):null}).filter(d=>d!=null);t(i.length?new Map(i):null),s.current=n}return()=>{o(n),o(a)};function o(i){i.forEach(d=>{An(d)?.removeEventListener("scroll",r)})}},[r,n]),(0,g.useMemo)(()=>n.length?e?Array.from(e.values()).reduce((a,o)=>Tt(a,o),it):jo(n):it,[n,e])}function Kr(n,e){e===void 0&&(e=[]);const t=(0,g.useRef)(null);return(0,g.useEffect)(()=>{t.current=null},e),(0,g.useEffect)(()=>{const s=n!==it;s&&!t.current&&(t.current=n),!s&&t.current&&(t.current=null)},[n]),t.current?Kt(n,t.current):it}function ff(n){(0,g.useEffect)(()=>{if(!yn)return;const e=n.map(t=>{let{sensor:s}=t;return s.setup==null?void 0:s.setup()});return()=>{for(const t of e)t?.()}},n.map(e=>{let{sensor:t}=e;return t}))}function mf(n,e){return(0,g.useMemo)(()=>n.reduce((t,s)=>{let{eventName:r,handler:a}=s;return t[r]=o=>{a(o,e)},t},{}),[n,e])}function No(n){return(0,g.useMemo)(()=>n?P0(n):null,[n])}var Qr=[];function hf(n,e){e===void 0&&(e=Ut);const[t]=n,s=No(t?Qe(t):null),[r,a]=(0,g.useState)(Qr);function o(){a(()=>n.length?n.map(d=>yo(d)?s:new ir(e(d),d)):Qr)}const i=jn({callback:o});return ut(()=>{i?.disconnect(),o(),n.forEach(d=>i?.observe(d))},[n]),r}function pf(n){if(!n)return null;if(n.children.length>1)return n;const e=n.children[0];return Jt(e)?e:n}function gf(n){let{measure:e}=n;const[t,s]=(0,g.useState)(null),r=jn({callback:(0,g.useCallback)(i=>{for(const{target:d}of i)if(Jt(d)){s(m=>{const u=e(d);return m?{...m,width:u.width,height:u.height}:u});break}},[e])}),[a,o]=fn((0,g.useCallback)(i=>{const d=pf(i);r?.disconnect(),d&&r?.observe(d),s(d?e(d):null)},[e,r]));return(0,g.useMemo)(()=>({nodeRef:a,rect:t,setRef:o}),[t,a,o])}var vf=[{sensor:dr,options:{}},{sensor:lr,options:{}}],bf={current:{}},on={draggable:{measure:Hr},droppable:{measure:Hr,strategy:Zt.WhileDragging,frequency:Hn.Optimized},dragOverlay:{measure:Ut}},Vt=class extends Map{get(n){var e;return n!=null&&(e=super.get(n))!=null?e:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(n=>{let{disabled:e}=n;return!e})}getNodeFor(n){var e,t;return(e=(t=this.get(n))==null?void 0:t.node.current)!=null?e:void 0}},xf={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Vt,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:mn},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:on,measureDroppableContainers:mn,windowRect:null,measuringScheduled:!1},yf={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:mn,draggableNodes:new Map,over:null,measureDroppableContainers:mn},kn=(0,g.createContext)(yf),_o=(0,g.createContext)(xf);function wf(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Vt}}}function jf(n,e){switch(e.type){case Pe.DragStart:return{...n,draggable:{...n.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Pe.DragMove:return n.draggable.active==null?n:{...n,draggable:{...n.draggable,translate:{x:e.coordinates.x-n.draggable.initialCoordinates.x,y:e.coordinates.y-n.draggable.initialCoordinates.y}}};case Pe.DragEnd:case Pe.DragCancel:return{...n,draggable:{...n.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Pe.RegisterDroppable:{const{element:t}=e,{id:s}=t,r=new Vt(n.droppable.containers);return r.set(s,t),{...n,droppable:{...n.droppable,containers:r}}}case Pe.SetDroppableDisabled:{const{id:t,key:s,disabled:r}=e,a=n.droppable.containers.get(t);if(!a||s!==a.key)return n;const o=new Vt(n.droppable.containers);return o.set(t,{...a,disabled:r}),{...n,droppable:{...n.droppable,containers:o}}}case Pe.UnregisterDroppable:{const{id:t,key:s}=e,r=n.droppable.containers.get(t);if(!r||s!==r.key)return n;const a=new Vt(n.droppable.containers);return a.delete(t),{...n,droppable:{...n.droppable,containers:a}}}default:return n}}function kf(n){let{disabled:e}=n;const{active:t,activatorEvent:s,draggableNodes:r}=(0,g.useContext)(kn),a=Ln(s),o=Ln(t?.id);return(0,g.useEffect)(()=>{if(!e&&!s&&a&&o!=null){if(!or(a)||document.activeElement===a.target)return;const i=r.get(o);if(!i)return;const{activatorNode:d,node:m}=i;if(!d.current&&!m.current)return;requestAnimationFrame(()=>{for(const u of[d.current,m.current]){if(!u)continue;const c=h0(u);if(c){c.focus();break}}})}},[s,e,r,o,a]),null}function Cf(n,e){let{transform:t,...s}=e;return n!=null&&n.length?n.reduce((r,a)=>a({transform:r,...s}),t):t}function Nf(n){return(0,g.useMemo)(()=>({draggable:{...on.draggable,...n?.draggable},droppable:{...on.droppable,...n?.droppable},dragOverlay:{...on.dragOverlay,...n?.dragOverlay}}),[n?.draggable,n?.droppable,n?.dragOverlay])}function _f(n){let{activeNode:e,measure:t,initialRect:s,config:r=!0}=n;const a=(0,g.useRef)(!1),{x:o,y:i}=typeof r=="boolean"?{x:r,y:r}:r;ut(()=>{if(!o&&!i||!e){a.current=!1;return}if(a.current||!s)return;const d=e?.node.current;if(!d||d.isConnected===!1)return;const m=go(t(d),s);if(o||(m.x=0),i||(m.y=0),a.current=!0,Math.abs(m.x)>0||Math.abs(m.y)>0){const u=vo(d);u&&u.scrollBy({top:m.y,left:m.x})}},[e,o,i,s,t])}var So=(0,g.createContext)({...it,scaleX:1,scaleY:1}),xt;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Initializing=1]="Initializing",n[n.Initialized=2]="Initialized"})(xt||(xt={}));var Sf=(0,g.memo)(function(e){var t,s,r,a;let{id:o,accessibility:i,autoScroll:d=!0,children:m,sensors:u=vf,collisionDetection:c=A0,measuring:f,modifiers:h,...p}=e;const[b,x]=(0,g.useReducer)(jf,void 0,wf),[v,N]=y0(),[S,_]=(0,g.useState)(xt.Uninitialized),M=S===xt.Initialized,{draggable:{active:C,nodes:D,translate:y},droppable:{containers:w}}=b,A=C!=null?D.get(C):null,R=(0,g.useRef)({initial:null,translated:null}),E=(0,g.useMemo)(()=>{var je;return C!=null?{id:C,data:(je=A?.data)!=null?je:bf,rect:R}:null},[C,A]),I=(0,g.useRef)(null),[z,L]=(0,g.useState)(null),[j,k]=(0,g.useState)(null),P=Xt(p,Object.values(p)),T=en("DndDescribedBy",o),F=(0,g.useMemo)(()=>w.getEnabled(),[w]),q=Nf(f),{droppableRects:H,measureDroppableContainers:B,measuringScheduled:U}=sf(F,{dragging:M,dependencies:[y.x,y.y],config:q.droppable}),O=nf(D,C),V=(0,g.useMemo)(()=>j?Fn(j):null,[j]),Z=xe(),X=af(O,q.draggable.measure);_f({activeNode:C!=null?D.get(C):null,config:Z.layoutShiftCompensation,initialRect:X,measure:q.draggable.measure});const W=Yr(O,q.draggable.measure,X),te=Yr(O?O.parentElement:null),Q=(0,g.useRef)({activatorEvent:null,active:null,activeNode:O,collisionRect:null,collisions:null,droppableRects:H,draggableNodes:D,draggingNode:null,draggingNodeRect:null,droppableContainers:w,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),K=w.getNodeFor((t=Q.current.over)==null?void 0:t.id),ne=gf({measure:q.dragOverlay.measure}),G=(s=ne.nodeRef.current)!=null?s:O,J=M?(r=ne.rect)!=null?r:W:null,ee=!!(ne.nodeRef.current&&ne.rect),se=cf(ee?null:W),le=No(G?Qe(G):null),oe=df(M?K??O:null),be=hf(oe),ye=Cf(h,{transform:{x:y.x-se.x,y:y.y-se.y,scaleX:1,scaleY:1},activatorEvent:j,active:E,activeNodeRect:W,containerNodeRect:te,draggingNodeRect:J,over:Q.current.over,overlayNodeRect:ne.rect,scrollableAncestors:oe,scrollableAncestorRects:be,windowRect:le}),ce=V?Tt(V,y):null,ve=uf(oe),me=Kr(ve),Ce=Kr(ve,[W]),Ne=Tt(ye,me),we=J?M0(J,ye):null,Re=E&&we?c({active:E,collisionRect:we,droppableRects:H,droppableContainers:F,pointerCoordinates:ce}):null,Me=po(Re,"id"),[de,_e]=(0,g.useState)(null),ke=E0(ee?ye:Tt(ye,Ce),(a=de?.rect)!=null?a:null,W),Ae=(0,g.useRef)(null),Ee=(0,g.useCallback)((je,ze)=>{let{sensor:Te,options:De}=ze;if(I.current==null)return;const Se=D.get(I.current);if(!Se)return;const $=je.nativeEvent;Ae.current=new Te({active:I.current,activeNode:Se,event:$,options:De,context:Q,onAbort(ue){if(!D.get(ue))return;const{onDragAbort:ge}=P.current,fe={id:ue};ge?.(fe),v({type:"onDragAbort",event:fe})},onPending(ue,ge,fe,Fe){if(!D.get(ue))return;const{onDragPending:et}=P.current,He={id:ue,constraint:ge,initialCoordinates:fe,offset:Fe};et?.(He),v({type:"onDragPending",event:He})},onStart(ue){const ge=I.current;if(ge==null)return;const fe=D.get(ge);if(!fe)return;const{onDragStart:Fe}=P.current,et={activatorEvent:$,active:{id:ge,data:fe.data,rect:R}};(0,Bt.unstable_batchedUpdates)(()=>{Fe?.(et),_(xt.Initializing),x({type:Pe.DragStart,initialCoordinates:ue,active:ge}),v({type:"onDragStart",event:et}),L(Ae.current),k($)})},onMove(ue){x({type:Pe.DragMove,coordinates:ue})},onEnd:he(Pe.DragEnd),onCancel:he(Pe.DragCancel)});function he(ue){return async function(){const{active:fe,collisions:Fe,over:et,scrollAdjustedTranslate:He}=Q.current;let Oe=null;if(fe&&He){const{cancelDrop:rt}=P.current;Oe={activatorEvent:$,active:fe,collisions:Fe,delta:He,over:et},ue===Pe.DragEnd&&typeof rt=="function"&&await Promise.resolve(rt(Oe))&&(ue=Pe.DragCancel)}I.current=null,(0,Bt.unstable_batchedUpdates)(()=>{x({type:ue}),_(xt.Uninitialized),_e(null),L(null),k(null),Ae.current=null;const rt=ue===Pe.DragEnd?"onDragEnd":"onDragCancel";if(Oe){const ht=P.current[rt];ht?.(Oe),v({type:rt,event:Oe})}})}}},[D]),Ie=rf(u,(0,g.useCallback)((je,ze)=>(Te,De)=>{const Se=Te.nativeEvent,$=D.get(De);if(I.current!==null||!$||Se.dndKit||Se.defaultPrevented)return;const he={active:$};je(Te,ze.options,he)===!0&&(Se.dndKit={capturedBy:ze.sensor},I.current=De,Ee(Te,ze))},[D,Ee]));ff(u),ut(()=>{W&&S===xt.Initializing&&_(xt.Initialized)},[W,S]),(0,g.useEffect)(()=>{const{onDragMove:je}=P.current,{active:ze,activatorEvent:Te,collisions:De,over:Se}=Q.current;if(!ze||!Te)return;const $={active:ze,activatorEvent:Te,collisions:De,delta:{x:Ne.x,y:Ne.y},over:Se};(0,Bt.unstable_batchedUpdates)(()=>{je?.($),v({type:"onDragMove",event:$})})},[Ne.x,Ne.y]),(0,g.useEffect)(()=>{const{active:je,activatorEvent:ze,collisions:Te,droppableContainers:De,scrollAdjustedTranslate:Se}=Q.current;if(!je||I.current==null||!ze||!Se)return;const{onDragOver:$}=P.current,he=De.get(Me),ue=he&&he.rect.current?{id:he.id,rect:he.rect.current,data:he.data,disabled:he.disabled}:null,ge={active:je,activatorEvent:ze,collisions:Te,delta:{x:Se.x,y:Se.y},over:ue};(0,Bt.unstable_batchedUpdates)(()=>{_e(ue),$?.(ge),v({type:"onDragOver",event:ge})})},[Me]),ut(()=>{Q.current={activatorEvent:j,active:E,activeNode:O,collisionRect:we,collisions:Re,droppableRects:H,draggableNodes:D,draggingNode:G,draggingNodeRect:J,droppableContainers:w,over:de,scrollableAncestors:oe,scrollAdjustedTranslate:Ne},R.current={initial:J,translated:we}},[E,O,Re,we,D,G,J,H,w,de,oe,Ne]),$0({...Z,delta:y,draggingRect:we,pointerCoordinates:ce,scrollableAncestors:oe,scrollableAncestorRects:be});const Ze=(0,g.useMemo)(()=>({active:E,activeNode:O,activeNodeRect:W,activatorEvent:j,collisions:Re,containerNodeRect:te,dragOverlay:ne,draggableNodes:D,droppableContainers:w,droppableRects:H,over:de,measureDroppableContainers:B,scrollableAncestors:oe,scrollableAncestorRects:be,measuringConfiguration:q,measuringScheduled:U,windowRect:le}),[E,O,W,j,Re,te,ne,D,w,H,de,B,oe,be,q,U,le]),ae=(0,g.useMemo)(()=>({activatorEvent:j,activators:Ie,active:E,activeNodeRect:W,ariaDescribedById:{draggable:T},dispatch:x,draggableNodes:D,over:de,measureDroppableContainers:B}),[j,Ie,E,W,x,T,D,de,B]);return g.createElement(fo.Provider,{value:N},g.createElement(kn.Provider,{value:ae},g.createElement(_o.Provider,{value:Ze},g.createElement(So.Provider,{value:ke},m)),g.createElement(kf,{disabled:i?.restoreFocus===!1})),g.createElement(k0,{...i,hiddenTextDescribedById:T}));function xe(){const je=z?.autoScrollEnabled===!1,ze=typeof d=="object"?d.enabled===!1:d===!1,Te=M&&!je&&!ze;return typeof d=="object"?{...d,enabled:Te}:{enabled:Te}}}),zf=(0,g.createContext)(null),Zr="button",Af="Draggable";function Ef(n){let{id:e,data:t,disabled:s=!1,attributes:r}=n;const a=en(Af),{activators:o,activatorEvent:i,active:d,activeNodeRect:m,ariaDescribedById:u,draggableNodes:c,over:f}=(0,g.useContext)(kn),{role:h=Zr,roleDescription:p="draggable",tabIndex:b=0}=r??{},x=d?.id===e,v=(0,g.useContext)(x?So:zf),[N,S]=fn(),[_,M]=fn(),C=mf(o,e),D=Xt(t);return ut(()=>(c.set(e,{id:e,key:a,node:N,activatorNode:_,data:D}),()=>{const y=c.get(e);y&&y.key===a&&c.delete(e)}),[c,e]),{active:d,activatorEvent:i,activeNodeRect:m,attributes:(0,g.useMemo)(()=>({role:h,tabIndex:b,"aria-disabled":s,"aria-pressed":x&&h===Zr?!0:void 0,"aria-roledescription":p,"aria-describedby":u.draggable}),[s,h,b,x,p,u.draggable]),isDragging:x,listeners:s?void 0:C,node:N,over:f,setNodeRef:S,setActivatorNodeRef:M,transform:v}}function Rf(){return(0,g.useContext)(_o)}var Mf="Droppable",If={timeout:25};function Df(n){let{data:e,disabled:t=!1,id:s,resizeObserverConfig:r}=n;const a=en(Mf),{active:o,dispatch:i,over:d,measureDroppableContainers:m}=(0,g.useContext)(kn),u=(0,g.useRef)({disabled:t}),c=(0,g.useRef)(!1),f=(0,g.useRef)(null),h=(0,g.useRef)(null),{disabled:p,updateMeasurementsFor:b,timeout:x}={...If,...r},v=Xt(b??s),N=jn({callback:(0,g.useCallback)(()=>{if(!c.current){c.current=!0;return}h.current!=null&&clearTimeout(h.current),h.current=setTimeout(()=>{m(Array.isArray(v.current)?v.current:[v.current]),h.current=null},x)},[x]),disabled:p||!o}),[S,_]=fn((0,g.useCallback)((C,D)=>{N&&(D&&(N.unobserve(D),c.current=!1),C&&N.observe(C))},[N])),M=Xt(e);return(0,g.useEffect)(()=>{!N||!S.current||(N.disconnect(),c.current=!1,N.observe(S.current))},[S,N]),(0,g.useEffect)(()=>(i({type:Pe.RegisterDroppable,element:{id:s,key:a,disabled:t,node:S,rect:f,data:M}}),()=>i({type:Pe.UnregisterDroppable,key:a,id:s})),[s]),(0,g.useEffect)(()=>{t!==u.current.disabled&&(i({type:Pe.SetDroppableDisabled,id:s,key:a,disabled:t}),u.current.disabled=t)},[s,a,t,i]),{active:o,rect:f,isOver:d?.id===s,node:S,over:d,setNodeRef:_}}function ur(n,e,t){const s=n.slice();return s.splice(t<0?s.length+t:t,0,s.splice(e,1)[0]),s}function Tf(n,e){return n.reduce((t,s,r)=>{const a=e.get(s);return a&&(t[r]=a),t},Array(n.length))}function rn(n){return n!==null&&n>=0}function Pf(n,e){if(n===e)return!0;if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function Lf(n){return typeof n=="boolean"?{draggable:n,droppable:n}:n}var fr=n=>{let{rects:e,activeIndex:t,overIndex:s,index:r}=n;const a=ur(e,s,t),o=e[r],i=a[r];return!i||!o?null:{x:i.left-o.left,y:i.top-o.top,scaleX:i.width/o.width,scaleY:i.height/o.height}},zo="Sortable",Ao=g.createContext({activeIndex:-1,containerId:zo,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:fr,disabled:{draggable:!1,droppable:!1}});function Ff(n){let{children:e,id:t,items:s,strategy:r=fr,disabled:a=!1}=n;const{active:o,dragOverlay:i,droppableRects:d,over:m,measureDroppableContainers:u}=Rf(),c=en(zo,t),f=i.rect!==null,h=(0,g.useMemo)(()=>s.map(C=>typeof C=="object"&&"id"in C?C.id:C),[s]),p=o!=null,b=o?h.indexOf(o.id):-1,x=m?h.indexOf(m.id):-1,v=(0,g.useRef)(h),N=!Pf(h,v.current),S=x!==-1&&b===-1||N,_=Lf(a);ut(()=>{N&&p&&u(h)},[N,h,p,u]),(0,g.useEffect)(()=>{v.current=h},[h]);const M=(0,g.useMemo)(()=>({activeIndex:b,containerId:c,disabled:_,disableTransforms:S,items:h,overIndex:x,useDragOverlay:f,sortedRects:Tf(h,d),strategy:r}),[b,c,_.draggable,_.droppable,S,h,x,d,f,r]);return g.createElement(Ao.Provider,{value:M},e)}var Of=n=>{let{id:e,items:t,activeIndex:s,overIndex:r}=n;return ur(t,s,r).indexOf(e)},Uf=n=>{let{containerId:e,isSorting:t,wasDragging:s,index:r,items:a,newIndex:o,previousItems:i,previousContainerId:d,transition:m}=n;return!m||!s||i!==a&&r===o?!1:t?!0:o!==r&&e===d},Hf={duration:200,easing:"ease"},Eo="transform",Bf=Qt.Transition.toString({property:Eo,duration:0,easing:"linear"}),qf={roleDescription:"sortable"};function Wf(n){let{disabled:e,index:t,node:s,rect:r}=n;const[a,o]=(0,g.useState)(null),i=(0,g.useRef)(t);return ut(()=>{if(!e&&t!==i.current&&s.current){const d=r.current;if(d){const m=Ut(s.current,{ignoreTransform:!0}),u={x:d.left-m.left,y:d.top-m.top,scaleX:d.width/m.width,scaleY:d.height/m.height};(u.x||u.y)&&o(u)}}t!==i.current&&(i.current=t)},[e,t,s,r]),(0,g.useEffect)(()=>{a&&o(null)},[a]),a}function Vf(n){let{animateLayoutChanges:e=Uf,attributes:t,disabled:s,data:r,getNewIndex:a=Of,id:o,strategy:i,resizeObserverConfig:d,transition:m=Hf}=n;const{items:u,containerId:c,activeIndex:f,disabled:h,disableTransforms:p,sortedRects:b,overIndex:x,useDragOverlay:v,strategy:N}=(0,g.useContext)(Ao),S=Yf(s,h),_=u.indexOf(o),M=(0,g.useMemo)(()=>({sortable:{containerId:c,index:_,items:u},...r}),[c,r,_,u]),C=(0,g.useMemo)(()=>u.slice(u.indexOf(o)),[u,o]),{rect:D,node:y,isOver:w,setNodeRef:A}=Df({id:o,data:M,disabled:S.droppable,resizeObserverConfig:{updateMeasurementsFor:C,...d}}),{active:R,activatorEvent:E,activeNodeRect:I,attributes:z,setNodeRef:L,listeners:j,isDragging:k,over:P,setActivatorNodeRef:T,transform:F}=Ef({id:o,data:M,attributes:{...qf,...t},disabled:S.draggable}),q=d0(A,L),H=!!R,B=H&&!p&&rn(f)&&rn(x),U=!v&&k,O=U&&B?F:null,V=B?O??(i??N)({rects:b,activeNodeRect:I,activeIndex:f,overIndex:x,index:_}):null,Z=rn(f)&&rn(x)?a({id:o,items:u,activeIndex:f,overIndex:x}):_,X=R?.id,W=(0,g.useRef)({activeId:X,items:u,newIndex:Z,containerId:c}),te=u!==W.current.items,Q=e({active:R,containerId:c,isDragging:k,isSorting:H,id:o,index:_,items:u,newIndex:W.current.newIndex,previousItems:W.current.items,previousContainerId:W.current.containerId,transition:m,wasDragging:W.current.activeId!=null}),K=Wf({disabled:!Q,index:_,node:y,rect:D});return(0,g.useEffect)(()=>{H&&W.current.newIndex!==Z&&(W.current.newIndex=Z),c!==W.current.containerId&&(W.current.containerId=c),u!==W.current.items&&(W.current.items=u)},[H,Z,c,u]),(0,g.useEffect)(()=>{if(X===W.current.activeId)return;if(X!=null&&W.current.activeId==null){W.current.activeId=X;return}const G=setTimeout(()=>{W.current.activeId=X},50);return()=>clearTimeout(G)},[X]),{active:R,activeIndex:f,attributes:z,data:M,rect:D,index:_,newIndex:Z,items:u,isOver:w,isSorting:H,isDragging:k,listeners:j,node:y,overIndex:x,over:P,setNodeRef:q,setActivatorNodeRef:T,setDroppableNodeRef:A,setDraggableNodeRef:L,transform:K??V,transition:ne()};function ne(){if(K||te&&W.current.newIndex===_)return Bf;if(!(U&&!or(E)||!m)&&(H||Q))return Qt.Transition.toString({...m,property:Eo})}}function Yf(n,e){var t,s;return typeof n=="boolean"?{draggable:n,droppable:!1}:{draggable:(t=n?.draggable)!=null?t:e.draggable,droppable:(s=n?.droppable)!=null?s:e.droppable}}function pn(n){if(!n)return!1;const e=n.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}var Xf=[pe.Down,pe.Right,pe.Up,pe.Left],Kf=(n,e)=>{let{context:{active:t,collisionRect:s,droppableRects:r,droppableContainers:a,over:o,scrollableAncestors:i}}=e;if(Xf.includes(n.code)){if(n.preventDefault(),!t||!s)return;const d=[];a.getEnabled().forEach(c=>{if(!c||c!=null&&c.disabled)return;const f=r.get(c.id);if(f)switch(n.code){case pe.Down:s.top<f.top&&d.push(c);break;case pe.Up:s.top>f.top&&d.push(c);break;case pe.Left:s.left>f.left&&d.push(c);break;case pe.Right:s.left<f.left&&d.push(c);break}});const m=S0({active:t,collisionRect:s,droppableRects:r,droppableContainers:d,pointerCoordinates:null});let u=po(m,"id");if(u===o?.id&&m.length>1&&(u=m[1].id),u!=null){const c=a.get(t.id),f=a.get(u),h=f?r.get(f.id):null,p=f?.node.current;if(p&&h&&c&&f){const b=wn(p).some((_,M)=>i[M]!==_),x=Ro(c,f),v=Qf(c,f),N=b||!x?{x:0,y:0}:{x:v?s.width-h.width:0,y:v?s.height-h.height:0},S={x:h.left,y:h.top};return N.x&&N.y?S:Kt(S,N)}}}};function Ro(n,e){return!pn(n)||!pn(e)?!1:n.data.current.sortable.containerId===e.data.current.sortable.containerId}function Qf(n,e){return!pn(n)||!pn(e)||!Ro(n,e)?!1:n.data.current.sortable.index<e.data.current.sortable.index}var Zf=ie(),Gf=n=>{const e=(0,Zf.c)(33),{id:t,file:s,index:r,total:a,onRemove:o,onAddThumbnail:i,customThumbnail:d}=n;let m;e[0]!==t?(m={id:t},e[0]=t,e[1]=m):m=e[1];const{attributes:u,listeners:c,setNodeRef:f,transform:h,transition:p,isDragging:b}=Vf(m);let x;e[2]!==h?(x=Qt.Transform.toString(h),e[2]=h,e[3]=x):x=e[3];const v=b?50:"auto",N=b?.5:1;let S;e[4]!==x||e[5]!==v||e[6]!==N||e[7]!==p?(S={transform:x,transition:p,zIndex:v,opacity:N},e[4]=x,e[5]=v,e[6]=N,e[7]=p,e[8]=S):S=e[8];const _=S,M=`group relative overflow-hidden rounded-2xl border border-zinc-100 bg-zinc-100 shadow-sm transition-shadow dark:border-zinc-800 dark:bg-zinc-800 ${a===3&&r===0?"row-span-2":""} ${b?"ring-2 ring-violet-500 shadow-xl":""}`;let C;e[9]!==d||e[10]!==s?(C=s.type.startsWith("image/")?(0,l.jsx)("img",{src:URL.createObjectURL(s),className:"size-full pointer-events-none object-cover",alt:""}):(0,l.jsx)("div",{className:"pointer-events-none flex size-full flex-col items-center justify-center gap-2 text-zinc-500",children:s.type.startsWith("video/")?(0,l.jsx)(l.Fragment,{children:d?(0,l.jsx)("img",{src:URL.createObjectURL(d),className:"size-full opacity-60 object-cover",alt:"Custom thumbnail"}):(0,l.jsx)("div",{className:"flex size-10 items-center justify-center rounded-full bg-black/20 backdrop-blur-sm",children:(0,l.jsx)(Yt,{size:20,className:"text-zinc-400"})})}):(0,l.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,l.jsx)(Ii,{size:24}),(0,l.jsx)("span",{className:"max-w-[100px] truncate px-2 text-[10px] font-bold",children:s.name})]})}),e[9]=d,e[10]=s,e[11]=C):C=e[11];let D;e[12]!==u||e[13]!==c||e[14]!==C?(D=(0,l.jsx)("div",{...u,...c,className:"size-full cursor-grab active:cursor-grabbing",children:C}),e[12]=u,e[13]=c,e[14]=C,e[15]=D):D=e[15];let y;e[16]!==d||e[17]!==s.type||e[18]!==i?(y=s.type.startsWith("video/")&&(0,l.jsx)("button",{type:"button",onClick:i,className:"absolute inset-x-0 bottom-0 z-10 bg-black/60 py-2 text-[10px] font-bold text-white backdrop-blur-md transition-colors hover:bg-black/80",children:d?"Change Cover":"Add Cover"}),e[16]=d,e[17]=s.type,e[18]=i,e[19]=y):y=e[19];let w;e[20]!==t||e[21]!==o?(w=()=>o(t),e[20]=t,e[21]=o,e[22]=w):w=e[22];let A;e[23]===Symbol.for("react.memo_cache_sentinel")?(A=(0,l.jsx)(Rt,{size:14,strokeWidth:2.5}),e[23]=A):A=e[23];let R;e[24]!==w?(R=(0,l.jsx)("button",{type:"button",onClick:w,className:"absolute right-2 top-2 z-20 rounded-full bg-black/50 p-1.5 text-white backdrop-blur-md transition-colors hover:bg-rose-500",children:A}),e[24]=w,e[25]=R):R=e[25];let E;return e[26]!==f||e[27]!==_||e[28]!==R||e[29]!==M||e[30]!==D||e[31]!==y?(E=(0,l.jsxs)("div",{ref:f,style:_,className:M,children:[D,y,R]}),e[26]=f,e[27]=_,e[28]=R,e[29]=M,e[30]=D,e[31]=y,e[32]=E):E=e[32],E},Jf=({isOpen:n,onClose:e,initialCommunity:t})=>{const{currentUser:s}=$e(),{addPost:r}=jc(),{addToast:a}=_t(),[o,i]=(0,g.useState)(""),[d,m]=(0,g.useState)([]),[u,c]=(0,g.useState)({}),[f,h]=(0,g.useState)(!1),[p,b]=(0,g.useState)({options:["",""],duration:"1 day"}),[x,v]=(0,g.useState)(!1),[N,S]=(0,g.useState)(null),_=C0(Fr(dr,{activationConstraint:{distance:8}}),Fr(lr,{coordinateGetter:Kf}));(0,g.useEffect)(()=>{S(t||null)},[t,n]);const{data:M=[]}=Dt({queryKey:["user-communities",s?.id],queryFn:()=>fl(s.id),enabled:!!s?.id}),C=(0,g.useRef)(null),D=(0,g.useRef)(null),[y,w]=(0,g.useState)(null),A=P=>{if(!P.target.files)return;const T=Array.from(P.target.files).map(F=>({id:Math.random().toString(36).substring(2,11),file:F}));m(F=>[...F,...T])},R=P=>{const T=P.target.files?.[0];T&&y!==null&&c(F=>({...F,[y]:T})),w(null)},E=P=>{m(F=>F.filter(q=>q.id!==P));const T={...u};delete T[P],c(T)},I=P=>{const{active:T,over:F}=P;F&&T.id!==F.id&&m(q=>ur(q,q.findIndex(H=>H.id===T.id),q.findIndex(H=>H.id===F.id)))},z=()=>{p.options.length<4&&b(P=>({...P,options:[...P.options,""]}))},L=P=>{b(T=>({...T,options:T.options.filter((F,q)=>q!==P)}))},j=(P,T)=>{const F=[...p.options];F[P]=T,b(q=>({...q,options:F}))},k=async P=>{if(P.preventDefault(),!(!o.trim()&&d.length===0||!s)){v(!0);try{const T=[];for(let q=0;q<d.length;q++){const H=d[q],B=u[H.id]||null,U=await Et(H.file,"media",B);T.push(U)}let F=null;f&&p.options.some(q=>q.trim())&&(F={options:p.options.filter(q=>q.trim()).map((q,H)=>({id:H+1,text:q,votes:0})),ends_at:new Date(Date.now()+1440*60*1e3).toISOString()}),await r({content:o,media:T,poll:F,type:T.length>0?T[0].type==="video"?"video":"image":F?"poll":"text",userId:s.id,communityId:N?.id||null}),i(""),m([]),h(!1),b({options:["",""],duration:"1 day"}),S(null),e(),a("Post published!")}catch(T){console.error("Failed to create post:",T),a("Failed to publish post.","error")}finally{v(!1)}}};return(0,l.jsx)(Lt,{isOpen:n,onClose:()=>!x&&e(),title:"Create Post",className:"gap-0 overflow-hidden p-0 sm:max-w-[600px]",footer:(0,l.jsxs)("div",{className:"flex w-full items-center justify-between pt-2",children:[(0,l.jsxs)("div",{className:"flex gap-1",children:[(0,l.jsx)("button",{type:"button",onClick:()=>C.current?.click(),className:"rounded-full p-2 text-violet-600 transition-all hover:bg-violet-50 active:scale-95 dark:text-violet-400 dark:hover:bg-violet-900/20",title:"Attach media",children:(0,l.jsx)(Ni,{size:20})}),(0,l.jsx)("button",{type:"button",onClick:()=>h(!f),className:`rounded-full p-2 transition-all active:scale-95 ${f?"bg-violet-50 text-violet-600 dark:bg-violet-900/20 dark:text-violet-400":"text-violet-600 hover:bg-violet-50 dark:text-violet-400 dark:hover:bg-violet-900/20"}`,title:"Add poll",children:(0,l.jsx)(ri,{size:20})})]}),(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"h-6 w-px bg-zinc-200 dark:bg-zinc-800"}),(0,l.jsx)(Ge,{onClick:k,disabled:!o.trim()&&d.length===0||x,className:"h-9 rounded-full bg-zinc-900 px-6 text-sm font-bold text-white shadow-md transition-all hover:opacity-90 disabled:opacity-50 active:scale-95 dark:bg-white dark:text-zinc-950",children:x?(0,l.jsx)(mt,{size:16,className:"animate-spin"}):"Post"})]}),(0,l.jsx)("input",{type:"file",ref:C,onChange:A,multiple:!0,className:"hidden",accept:"image/*,video/*,application/pdf"}),(0,l.jsx)("input",{type:"file",ref:D,onChange:R,className:"hidden",accept:"image/*"})]}),children:(0,l.jsxs)("div",{className:"flex flex-col gap-4 p-1",children:[(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsxs)(wt,{className:"size-10 shrink-0 border border-zinc-100 shadow-sm dark:border-zinc-800",children:[(0,l.jsx)(jt,{src:s?.avatar,className:"object-cover"}),(0,l.jsx)(kt,{children:s?.handle?.[0]?.toUpperCase()})]}),(0,l.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,l.jsxs)("div",{className:"mb-3 flex items-center gap-2",children:[(0,l.jsx)("span",{className:"truncate text-sm font-bold text-zinc-900 dark:text-zinc-100",children:s?.name}),(0,l.jsxs)(Qc,{children:[(0,l.jsx)(Zc,{asChild:!0,children:(0,l.jsx)("button",{className:"group flex items-center gap-1.5 rounded-full border border-zinc-200 bg-white px-2.5 py-1 text-xs font-bold text-zinc-600 transition-all hover:bg-zinc-50 dark:border-zinc-700 dark:bg-zinc-900 dark:text-zinc-300 dark:hover:bg-zinc-800",children:N?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(ds,{size:12,className:"text-violet-500"}),(0,l.jsx)("span",{className:"max-w-[100px] truncate",children:N.name})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(pr,{size:12,className:"text-zinc-400 transition-colors group-hover:text-violet-500"}),(0,l.jsx)("span",{children:"Everyone"})]})})}),(0,l.jsxs)(Na,{align:"start",className:"w-60 rounded-xl border-zinc-100 p-1.5 shadow-xl dark:border-zinc-800",children:[(0,l.jsxs)(Dn,{onClick:()=>S(null),className:"cursor-pointer gap-3 rounded-lg px-3 py-2 focus:bg-zinc-50 dark:focus:bg-zinc-800",children:[(0,l.jsx)("div",{className:"flex size-8 shrink-0 items-center justify-center rounded-full bg-zinc-100 dark:bg-zinc-800",children:(0,l.jsx)(pr,{size:16,className:"text-zinc-500"})}),(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("span",{className:"text-sm font-bold",children:"Everyone"}),(0,l.jsx)("span",{className:"text-[11px] text-zinc-500",children:"Public feed"})]})]}),M.length>0&&(0,l.jsx)("div",{className:"mx-2 my-1 h-px bg-zinc-100 dark:bg-zinc-800"}),(0,l.jsx)("div",{className:"max-h-[200px] overflow-y-auto",children:M.filter(P=>!P.isPrivate||P.myRole==="admin").map(P=>(0,l.jsxs)(Dn,{onClick:()=>S(P),className:"cursor-pointer gap-3 rounded-lg px-3 py-2 focus:bg-zinc-50 dark:focus:bg-zinc-800",children:[(0,l.jsxs)(wt,{className:"size-8 border border-zinc-100 dark:border-zinc-700",children:[(0,l.jsx)(jt,{src:P.avatar}),(0,l.jsx)(kt,{children:P.name[0]})]}),(0,l.jsxs)("div",{className:"min-w-0 flex flex-col",children:[(0,l.jsx)("span",{className:"truncate text-sm font-bold",children:P.name}),(0,l.jsx)("span",{className:"text-[11px] text-zinc-500",children:"Community"})]})]},P.id))})]})]})]}),(0,l.jsx)("textarea",{className:"min-h-[100px] max-h-[400px] w-full resize-none border-none bg-transparent text-lg font-medium leading-relaxed outline-none placeholder:text-zinc-400 dark:text-zinc-100",placeholder:"What's on your mind?",autoFocus:!0,value:o,onChange:P=>{i(P.target.value),P.target.style.height="auto",P.target.style.height=P.target.scrollHeight+"px"}})]})]}),(0,l.jsxs)("div",{className:"pl-[52px]",children:[d.length>0&&(0,l.jsx)("div",{className:"mb-4 animate-in fade-in zoom-in-95 duration-200",children:(0,l.jsx)(Sf,{sensors:_,collisionDetection:_0,onDragEnd:I,children:(0,l.jsx)(Ff,{items:d.map(P=>P.id),strategy:fr,children:(0,l.jsx)("div",{className:`grid gap-2 overflow-hidden rounded-2xl border border-zinc-100 shadow-sm dark:border-zinc-800 ${d.length===1?"grid-cols-1":"aspect-[16/9] grid-cols-2"}`,children:d.map((P,T)=>(0,l.jsx)(Gf,{id:P.id,file:P.file,index:T,total:d.length,onRemove:E,customThumbnail:u[P.id],onAddThumbnail:()=>{w(P.id),D.current?.click()}},P.id))})})})}),f&&(0,l.jsxs)("div",{className:"mb-4 space-y-3 animate-in slide-in-from-top-2 duration-200 rounded-xl border border-violet-100 bg-violet-50/30 p-4 dark:border-violet-900/30 dark:bg-violet-900/10",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between px-1",children:[(0,l.jsx)("span",{className:"text-xs font-bold uppercase tracking-wider text-violet-600 dark:text-violet-400",children:"Poll Options"}),(0,l.jsx)("button",{type:"button",onClick:()=>h(!1),className:"text-zinc-400 transition-colors hover:text-rose-500",children:(0,l.jsx)(Rt,{size:16})})]}),(0,l.jsx)("div",{className:"space-y-2",children:p.options.map((P,T)=>(0,l.jsxs)("div",{className:"group flex gap-2",children:[(0,l.jsxs)("div",{className:"relative flex-1",children:[(0,l.jsx)("input",{className:"w-full rounded-lg border border-zinc-200 bg-white pl-4 pr-10 py-2.5 text-sm font-medium outline-none transition-all placeholder:font-normal focus:border-violet-500 focus:ring-2 focus:ring-violet-500/10 dark:border-zinc-700 dark:bg-zinc-900",placeholder:`Option ${T+1}`,value:P,autoFocus:T===p.options.length-1,onChange:F=>j(T,F.target.value)}),(0,l.jsxs)("span",{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 text-[10px] font-bold text-zinc-300",children:[P.length,"/25"]})]}),p.options.length>2&&(0,l.jsx)("button",{type:"button",onClick:()=>L(T),className:"rounded-lg p-2.5 text-zinc-400 transition-colors hover:bg-rose-50 hover:text-rose-500 dark:hover:bg-rose-900/20",children:(0,l.jsx)(di,{size:18})})]},T))}),p.options.length<4&&(0,l.jsx)("button",{type:"button",onClick:z,className:"w-full rounded-lg border border-dashed border-violet-200 py-2.5 text-sm font-bold text-violet-600 transition-all hover:bg-violet-100 dark:border-violet-800 dark:text-violet-400 dark:hover:bg-violet-900/30",children:"+ Add option"}),(0,l.jsxs)("div",{className:"flex items-center gap-2 px-1 pt-1",children:[(0,l.jsx)("span",{className:"text-[10px] font-medium text-zinc-500",children:"Poll ends in"}),(0,l.jsxs)("select",{className:"cursor-pointer bg-transparent text-[10px] font-bold text-zinc-700 outline-none hover:text-violet-600 dark:text-zinc-300",value:p.duration,onChange:P=>b({...p,duration:P.target.value}),children:[(0,l.jsx)("option",{value:"1 day",children:"1 day"}),(0,l.jsx)("option",{value:"3 days",children:"3 days"}),(0,l.jsx)("option",{value:"7 days",children:"7 days"})]})]})]})]})]})})},$f=Jf,em=({isOpen:n,onClose:e})=>{const{currentUser:t}=$e(),{addToast:s}=_t(),r=qn(),[a,o]=(0,g.useState)(null),[i,d]=(0,g.useState)(!1),[m,u]=(0,g.useState)(null),c=(0,g.useRef)(null),f=x=>{const v=x.target.files?.[0];v&&o(v)},h=()=>{if(!a)return;const x=new FileReader;x.onload=()=>{u(x.result)},x.readAsDataURL(a)},p=x=>{o(new File([x],`story-cropped-${Date.now()}.jpg`,{type:"image/jpeg"})),u(null)},b=async()=>{if(!(!a||!t)){d(!0);try{const x=await Et(a);await cl(t.id,x.url,x.type),o(null),e(),s("Story shared!"),r.invalidateQueries({queryKey:["stories"]})}catch(x){console.error("Failed to create story:",x),s("Failed to share story.","error")}finally{d(!1)}}};return(0,l.jsxs)(Lt,{isOpen:n,onClose:()=>!i&&e(),title:"Add Story",children:[(0,l.jsxs)("div",{className:"space-y-6",children:[a?(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"relative mx-auto aspect-[9/16] w-full max-w-[280px] overflow-hidden rounded-3xl shadow-2xl",children:[(0,l.jsx)("img",{src:URL.createObjectURL(a),className:"h-full w-full object-cover",alt:"Preview"}),(0,l.jsx)("button",{onClick:()=>o(null),className:"absolute right-4 top-4 rounded-full bg-black/50 p-2 text-white transition-colors hover:bg-rose-500",title:"Remove",children:(0,l.jsx)(Rt,{size:20})})]}),(0,l.jsxs)("div",{className:"flex items-center justify-center gap-4 rounded-2xl bg-zinc-50/50 py-2 dark:bg-zinc-900/50",children:[(0,l.jsxs)("button",{onClick:h,className:"group flex flex-col items-center gap-1.5 rounded-xl p-3 text-zinc-600 transition-all hover:bg-white hover:text-violet-600 dark:text-zinc-400 dark:hover:bg-zinc-800 dark:hover:text-violet-400",children:[(0,l.jsx)("div",{className:"rounded-lg bg-white p-2 shadow-sm transition-all group-hover:shadow-md dark:bg-zinc-800",children:(0,l.jsx)(Fu,{size:20})}),(0,l.jsx)("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:"Crop / Edit"})]}),(0,l.jsxs)("button",{className:"flex cursor-not-allowed flex-col items-center gap-1.5 rounded-xl p-3 opacity-40 text-zinc-600 dark:text-zinc-400",children:[(0,l.jsx)("div",{className:"rounded-lg bg-white p-2 shadow-sm dark:bg-zinc-800",children:(0,l.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"h-5 w-5",children:(0,l.jsx)("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 21 3 22l1-4.5L17 3z"})})}),(0,l.jsx)("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:"Text"})]}),(0,l.jsxs)("button",{className:"flex cursor-not-allowed flex-col items-center gap-1.5 rounded-xl p-3 opacity-40 text-zinc-600 dark:text-zinc-400",children:[(0,l.jsx)("div",{className:"rounded-lg bg-white p-2 shadow-sm dark:bg-zinc-800",children:(0,l.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"h-5 w-5",children:[(0,l.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,l.jsx)("path",{d:"M8 14s1.5 2 4 2 4-2 4-2"}),(0,l.jsx)("line",{x1:"9",y1:"9",x2:"9.01",y2:"9"}),(0,l.jsx)("line",{x1:"15",y1:"9",x2:"15.01",y2:"9"})]})}),(0,l.jsx)("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:"Stickers"})]})]})]}):(0,l.jsxs)("div",{className:"py-10",children:[(0,l.jsxs)("div",{className:"group relative w-full",onClick:()=>c.current?.click(),children:[(0,l.jsx)("div",{className:"relative z-40 mx-auto flex h-32 w-32 cursor-pointer items-center justify-center rounded-xl border-4 border-white bg-zinc-900 transition-all duration-500 group-hover:-translate-y-8 group-hover:translate-x-8 group-hover:shadow-2xl dark:border-zinc-900 dark:bg-white",children:(0,l.jsxs)("svg",{className:"h-8 w-8 text-white/60 dark:text-zinc-950/60",strokeLinejoin:"round",strokeLinecap:"round",strokeWidth:"2",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"}),(0,l.jsx)("path",{d:"M7 9l5 -5l5 5"}),(0,l.jsx)("path",{d:"M12 4l0 12"})]})}),(0,l.jsx)("div",{className:"absolute inset-0 z-30 mx-auto flex h-32 w-32 items-center justify-center rounded-xl border-2 border-dashed border-violet-500 bg-transparent opacity-0 transition-all duration-300 group-hover:opacity-80"})]}),(0,l.jsxs)("div",{className:"mt-8 text-center",children:[(0,l.jsx)("p",{className:"font-bold dark:text-white",children:"Choose a photo"}),(0,l.jsx)("p",{className:"text-sm text-zinc-500",children:"Stories last for 24 hours"})]})]}),(0,l.jsx)("input",{type:"file",ref:c,onChange:f,className:"hidden",accept:"image/*"}),(0,l.jsx)(Ge,{className:"w-full py-3 text-lg",disabled:!a||i,onClick:b,children:i?(0,l.jsx)(mt,{size:24,className:"mx-auto animate-spin"}):"Share story"})]}),m&&(0,l.jsx)(tu,{src:m,isOpen:!!m,onClose:()=>u(null),onCropComplete:p,aspect:9/16})]})},tm=em;function Lh({isOpen:n,onClose:e,community:t,onUpdate:s}){const{addToast:r}=_t(),[a,o]=(0,g.useState)({name:"",handle:"",description:"",avatar:"",cover:"",isPrivate:!1}),[i,d]=(0,g.useState)(!1),m=(0,g.useRef)(null),u=(0,g.useRef)(null);(0,g.useEffect)(()=>{t&&n&&o({name:t.name||"",handle:t.handle||"",description:t.description||"",avatar:t.avatar||"",cover:t.cover||"",isPrivate:t.isPrivate||!1})},[t,n]);const c=(p,b)=>{const x=p.target.files?.[0];x&&f(x,b)},f=async(p,b)=>{d(!0);try{const x=await Et(p);o(v=>({...v,[b]:x.url})),r(`${b.charAt(0).toUpperCase()+b.slice(1)} uploaded!`)}catch{r(`Failed to upload ${b}`,"error")}finally{d(!1)}},h=async p=>{if(p.preventDefault(),!(!a.name||!a.handle||!t)){d(!0);try{const b=await hl(t.id,{name:a.name,handle:a.handle.toLowerCase().replace(/[^a-z0-9_]/g,""),description:a.description,avatar_url:a.avatar,cover_url:a.cover,is_private:a.isPrivate});r("Community updated successfully!"),s&&s(b),e()}catch(b){console.error(b),r(b.message||"Failed to update community","error")}finally{d(!1)}}};return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(Lt,{isOpen:n,onClose:()=>!i&&e(),title:"Edit Community",className:"sm:max-w-xl",children:[(0,l.jsxs)("div",{className:"max-h-[85vh] space-y-6 overflow-y-auto px-1",children:[(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)("div",{className:"group relative h-32 overflow-hidden rounded-xl bg-zinc-100 dark:bg-zinc-900 sm:h-40",children:[a.cover&&(0,l.jsx)("img",{src:a.cover,className:"h-full w-full object-cover",alt:""}),(0,l.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 opacity-0 transition-opacity group-hover:opacity-100",children:(0,l.jsx)("button",{onClick:()=>u.current?.click(),className:"rounded-full bg-black/60 p-3 text-white transition-all hover:bg-black",children:(0,l.jsx)(hr,{size:20})})})]}),(0,l.jsx)("div",{className:"absolute -bottom-8 left-6",children:(0,l.jsxs)("div",{className:"group relative size-20 overflow-hidden rounded-2xl border-4 border-white bg-zinc-100 shadow-lg dark:border-black dark:bg-zinc-800 sm:size-24",children:[(0,l.jsx)("img",{src:a.avatar,className:"size-full object-cover",alt:""}),(0,l.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40 opacity-0 transition-opacity group-hover:opacity-100",children:(0,l.jsx)("button",{onClick:()=>m.current?.click(),className:"p-2 text-white",children:(0,l.jsx)(hr,{size:18})})})]})})]}),(0,l.jsx)("div",{className:"pt-6",children:(0,l.jsxs)("form",{onSubmit:h,className:"space-y-5",children:[(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"space-y-1.5",children:[(0,l.jsx)("label",{className:"ml-1 text-sm font-bold",children:"Community Name"}),(0,l.jsx)("input",{type:"text",required:!0,className:"w-full rounded-xl border border-zinc-200 bg-zinc-50 px-4 py-2.5 font-medium outline-none transition-all focus:border-violet-500 focus:ring-2 focus:ring-violet-500/20 dark:border-zinc-800 dark:bg-zinc-900",value:a.name,onChange:p=>o({...a,name:p.target.value})})]}),(0,l.jsxs)("div",{className:"space-y-1.5",children:[(0,l.jsx)("label",{className:"ml-1 text-sm font-bold",children:"Handle"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-sm font-medium text-zinc-500",children:"c/"}),(0,l.jsx)("input",{type:"text",required:!0,className:"w-full rounded-xl border border-zinc-200 bg-zinc-50 pl-8 pr-4 py-2.5 text-sm font-medium outline-none transition-all focus:border-violet-500 focus:ring-2 focus:ring-violet-500/20 dark:border-zinc-800 dark:bg-zinc-900",value:a.handle,onChange:p=>o({...a,handle:p.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"")})})]})]}),(0,l.jsxs)("div",{className:"space-y-1.5",children:[(0,l.jsx)("label",{className:"ml-1 text-sm font-bold",children:"Description"}),(0,l.jsx)("textarea",{className:"min-h-[100px] w-full resize-none rounded-xl border border-zinc-200 bg-zinc-50 px-4 py-2.5 font-medium outline-none transition-all focus:border-violet-500 focus:ring-2 focus:ring-violet-500/20 dark:border-zinc-800 dark:bg-zinc-900",placeholder:"What is this community about?",value:a.description,onChange:p=>o({...a,description:p.target.value})})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between rounded-xl border border-zinc-200 bg-zinc-50 p-4 dark:border-zinc-800 dark:bg-zinc-900",children:[(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("span",{className:"text-sm font-bold",children:"Private Community"}),(0,l.jsx)("span",{className:"text-[10px] text-zinc-500",children:"Only Admins can post in private communities"})]}),(0,l.jsx)("input",{type:"checkbox",className:"size-5 cursor-pointer rounded-md accent-violet-600",checked:a.isPrivate,onChange:p=>o({...a,isPrivate:p.target.checked})})]})]}),(0,l.jsxs)("div",{className:"flex gap-3 py-2 pt-6",children:[(0,l.jsx)(Ge,{type:"button",variant:"outline",className:"h-11 flex-1 rounded-xl font-bold",onClick:e,disabled:i,children:"Cancel"}),(0,l.jsx)(Ge,{type:"submit",className:"h-11 flex-1 rounded-xl bg-zinc-900 font-bold text-white transition-all hover:bg-zinc-800 active:scale-95 dark:bg-white dark:text-black dark:hover:bg-zinc-200",disabled:i||!a.name,children:i?(0,l.jsx)(mt,{size:18,className:"animate-spin"}):"Save Changes"})]})]})})]}),(0,l.jsx)("input",{type:"file",ref:m,className:"hidden",accept:"image/*",onChange:p=>c(p,"avatar")}),(0,l.jsx)("input",{type:"file",ref:u,className:"hidden",accept:"image/*",onChange:p=>c(p,"cover")})]})})}var nm=({isOpen:n,onClose:e,editProfileData:t,setEditProfileData:s})=>{const{updateProfile:r}=$e(),{addToast:a}=_t(),[o,i]=(0,g.useState)(!1),[d,m]=(0,g.useState)(null),[u,c]=(0,g.useState)(null),f=(0,g.useRef)(null),h=(0,g.useRef)(null),p=(x,v)=>{const N=x.target.files?.[0];N&&(v==="avatar"?m(N):c(N))},b=async()=>{i(!0);try{let x=t.avatar,v=t.cover;d&&(x=(await Et(d)).url),u&&(v=(await Et(u)).url),await r({...t,avatar:x,cover:v}),m(null),c(null),e(),a("Profile updated!")}catch(x){console.error("Failed to update profile:",x),a("Failed to update profile.","error")}finally{i(!1)}};return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(Lt,{isOpen:n,onClose:()=>!o&&e(),title:"Edit Profile",children:(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)("input",{type:"file",ref:h,className:"hidden",accept:"image/*",onChange:x=>p(x,"cover")}),(0,l.jsx)("input",{type:"file",ref:f,className:"hidden",accept:"image/*",onChange:x=>p(x,"avatar")}),(0,l.jsxs)("div",{className:"group relative h-32 cursor-pointer overflow-hidden rounded-xl bg-zinc-100 dark:bg-zinc-800",onClick:()=>h.current?.click(),children:[(u||t?.cover)&&(0,l.jsx)("img",{src:u?URL.createObjectURL(u):t.cover,className:"h-full w-full object-cover opacity-60",alt:""}),(0,l.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,l.jsx)("div",{className:"rounded-full bg-black/50 p-2 text-white transition-transform group-hover:scale-110",children:(0,l.jsx)(Yt,{size:20})})})]}),(0,l.jsx)("div",{className:"relative -mt-16 ml-4",children:(0,l.jsxs)("div",{className:"group relative size-24 cursor-pointer overflow-hidden rounded-full border-4 border-white bg-white shadow-lg dark:border-black dark:bg-black",onClick:()=>f.current?.click(),children:[(d||t?.avatar)&&(0,l.jsxs)(wt,{className:"size-full rounded-none opacity-60",children:[(0,l.jsx)(jt,{src:d?URL.createObjectURL(d):t.avatar,className:"object-cover"}),(0,l.jsx)(kt,{children:t?.handle?.[0]?.toUpperCase()})]}),(0,l.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,l.jsx)("div",{className:"rounded-full bg-black/50 p-2 text-white transition-transform group-hover:scale-110",children:(0,l.jsx)(Yt,{size:16})})})]})}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)(yt,{label:"Name",value:t?.name||"",onChange:x=>s({...t,name:x.target.value})}),(0,l.jsx)(yt,{label:"Bio",textarea:!0,value:t?.bio||"",onChange:x=>s({...t,bio:x.target.value})}),(0,l.jsx)(yt,{label:"Location",value:t?.location||"",onChange:x=>s({...t,location:x.target.value})}),(0,l.jsx)(yt,{label:"Website",value:t?.website||"",onChange:x=>s({...t,website:x.target.value})})]}),(0,l.jsx)(Ge,{className:"w-full py-3",disabled:o,onClick:b,children:o?(0,l.jsx)(mt,{size:24,className:"mx-auto animate-spin text-white"}):"Save changes"})]})})})},rm=nm;function Fh({isOpen:n,onClose:e,community:t}){const{addToast:s}=_t(),{currentUser:r}=$e(),[a,o]=(0,g.useState)([]),[i,d]=(0,g.useState)(!1),[m,u]=(0,g.useState)(""),[c,f]=(0,g.useState)("members"),[h,p]=(0,g.useState)(!1),b=r?.id===t?.creatorId,x=(0,g.useCallback)(async(M="")=>{if(t?.id){d(!0),p(!0);try{o(await pl(t.id,M))}catch(C){console.error("Failed to load members:",C),s("Failed to load members","error")}finally{d(!1)}}},[t?.id,s]);(0,g.useEffect)(()=>{n&&t?.id?x(""):(u(""),o([]),p(!1))},[n,t?.id,x]),(0,g.useEffect)(()=>{if(m.length>=2){const M=setTimeout(()=>{x(m)},500);return()=>clearTimeout(M)}else m.length===0&&h&&x("")},[m,x,h]);const v=async(M,C)=>{try{const D=C==="admin"?"member":"admin";await gl(t.id,M,D),o(y=>y.map(w=>w.userId===M?{...w,role:D}:w)),s(`Role updated to ${D}`)}catch{s("Failed to update role","error")}},N=(0,g.useMemo)(()=>a.filter(M=>M.role==="admin"||M.userId===t.creatorId),[a,t.creatorId]),S=(0,g.useMemo)(()=>a.filter(M=>M.role!=="admin"&&M.userId!==t.creatorId),[a,t.creatorId]),_=M=>i?(0,l.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,l.jsx)(mt,{className:"animate-spin text-violet-500",size:32})}):M.length>0?(0,l.jsx)("div",{className:"divide-y divide-zinc-100 dark:divide-zinc-800/50",children:M.map(C=>(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 transition-colors hover:bg-white dark:hover:bg-zinc-800/50",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsxs)(wt,{className:"size-10 border border-zinc-200 shadow-sm dark:border-zinc-700",children:[(0,l.jsx)(jt,{src:C.user.avatar_url}),(0,l.jsx)(kt,{children:C.user.username?.[0]?.toUpperCase()})]}),(0,l.jsxs)("div",{className:"min-w-0 flex flex-col",children:[(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)("span",{className:"font-bold dark:text-zinc-200",children:C.user.name}),C.user.is_verified&&(0,l.jsx)(to,{size:14,className:"text-blue-500"})]}),(0,l.jsxs)("span",{className:"text-xs font-medium text-zinc-500",children:["@",C.user.username]})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[C.userId===t.creatorId?(0,l.jsx)("span",{className:"rounded-full bg-zinc-200 px-3 py-1 text-[10px] font-black tracking-wider text-zinc-600 dark:bg-zinc-800 dark:text-zinc-400",children:"OWNER"}):b&&(0,l.jsx)("button",{onClick:()=>v(C.userId,C.role),className:`flex items-center gap-1.5 rounded-full px-3 py-1.5 text-[11px] font-bold transition-all ${C.role==="admin"?"bg-rose-50 text-rose-600 hover:bg-rose-100 dark:bg-rose-950/20 dark:text-rose-400":"bg-zinc-100 text-zinc-600 hover:bg-zinc-200 dark:bg-zinc-800 dark:text-zinc-400 dark:hover:bg-zinc-700"}`,children:C.role==="admin"?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Jo,{size:14}),"Admin"]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Mn,{size:14}),"Make Admin"]})}),!b&&C.role==="admin"&&C.userId!==t.creatorId&&(0,l.jsx)("span",{className:"rounded-full bg-violet-50 px-3 py-1 text-[10px] font-black tracking-wider text-violet-600 dark:bg-violet-900/20 dark:text-violet-400",children:"ADMIN"})]})]},C.userId))}):(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center px-6 py-20 text-center",children:[(0,l.jsx)("div",{className:"mb-3 flex size-12 items-center justify-center rounded-full bg-zinc-100 dark:bg-zinc-800",children:(0,l.jsx)(Mn,{size:24,className:"text-zinc-400"})}),(0,l.jsxs)("p",{className:"text-sm font-bold dark:text-white",children:["No ",c," found"]}),(0,l.jsx)("p",{className:"mt-1 text-xs text-zinc-500",children:"Try a different search term"})]});return(0,l.jsx)(Lt,{isOpen:n,onClose:e,title:"Manage Members",className:"sm:max-w-md",children:(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(Vs,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400",size:18}),(0,l.jsx)("input",{type:"text",placeholder:"Search members...",className:"w-full rounded-xl border border-zinc-200 bg-zinc-50 pl-10 pr-4 py-2.5 text-sm font-medium outline-none transition-all focus:border-violet-500 focus:ring-2 focus:ring-violet-500/20 dark:border-zinc-800 dark:bg-zinc-900",value:m,onChange:M=>u(M.target.value)})]}),(0,l.jsxs)(Ru,{value:c,onValueChange:f,className:"w-full",children:[(0,l.jsxs)(eo,{className:"h-11 w-full rounded-xl bg-zinc-100 p-1 dark:bg-zinc-900",children:[(0,l.jsxs)(Tn,{value:"members",className:"flex-1 rounded-lg font-bold data-[state=active]:bg-white dark:text-zinc-400 dark:data-[state=active]:bg-zinc-800 dark:data-[state=active]:text-white",children:["Members (",S.length,")"]}),(0,l.jsxs)(Tn,{value:"admins",className:"flex-1 rounded-lg font-bold data-[state=active]:bg-white dark:text-zinc-400 dark:data-[state=active]:bg-zinc-800 dark:data-[state=active]:text-white",children:["Admins (",N.length,")"]})]}),(0,l.jsxs)("div",{className:"max-h-[400px] min-h-[300px] mt-4 overflow-y-auto overflow-hidden rounded-2xl border border-zinc-100 bg-zinc-50 dark:border-zinc-800 dark:bg-zinc-900",children:[(0,l.jsx)(Pn,{value:"members",className:"m-0",children:_(S)}),(0,l.jsx)(Pn,{value:"admins",className:"m-0",children:_(N)})]})]})]})})}var sm=ie(),am=n=>{const e=(0,sm.c)(22),{isPostModalOpen:t,setIsPostModalOpen:s,isEditProfileOpen:r,setIsEditProfileOpen:a,isStoryModalOpen:o,setIsStoryModalOpen:i,editProfileData:d,setEditProfileData:m,postCommunity:u}=n;let c;e[0]!==s?(c=()=>s(!1),e[0]=s,e[1]=c):c=e[1];let f;e[2]!==t||e[3]!==u||e[4]!==c?(f=(0,l.jsx)($f,{isOpen:t,onClose:c,initialCommunity:u}),e[2]=t,e[3]=u,e[4]=c,e[5]=f):f=e[5];let h;e[6]!==a?(h=()=>a(!1),e[6]=a,e[7]=h):h=e[7];let p;e[8]!==d||e[9]!==r||e[10]!==m||e[11]!==h?(p=(0,l.jsx)(rm,{isOpen:r,onClose:h,editProfileData:d,setEditProfileData:m}),e[8]=d,e[9]=r,e[10]=m,e[11]=h,e[12]=p):p=e[12];let b;e[13]!==i?(b=()=>i(!1),e[13]=i,e[14]=b):b=e[14];let x;e[15]!==o||e[16]!==b?(x=(0,l.jsx)(tm,{isOpen:o,onClose:b}),e[15]=o,e[16]=b,e[17]=x):x=e[17];let v;return e[18]!==f||e[19]!==p||e[20]!==x?(v=(0,l.jsxs)(l.Fragment,{children:[f,p,x]}),e[18]=f,e[19]=p,e[20]=x,e[21]=v):v=e[21],v},om=am,im=ie(),lm=n=>{const e=(0,im.c)(91),{story:t,onClose:s}=n,[r,a]=(0,g.useState)(0),[o,i]=(0,g.useState)(0),[d,m]=(0,g.useState)(!1),u=t.stories,c=u[r];let f;e[0]!==r||e[1]!==s||e[2]!==u.length||e[3]!==t.user.id?(f=()=>{r<u.length-1?(a(dm),i(0)):s(t.user.id)},e[0]=r,e[1]=s,e[2]=u.length,e[3]=t.user.id,e[4]=f):f=e[4];const h=f;let p;e[5]!==r?(p=()=>{r>0&&(a(um),i(0))},e[5]=r,e[6]=p):p=e[6];const b=p;let x;e[7]===Symbol.for("react.memo_cache_sentinel")?(x=G=>{G.stopPropagation(),m(fm)},e[7]=x):x=e[7];const v=x;let N;e[8]!==h||e[9]!==d?(N=()=>{if(d)return;const G=setInterval(()=>{i(J=>J>=100?(h(),100):J+1)},50);return()=>clearInterval(G)},e[8]=h,e[9]=d,e[10]=N):N=e[10];let S;e[11]!==r||e[12]!==h||e[13]!==d?(S=[h,r,d],e[11]=r,e[12]=h,e[13]=d,e[14]=S):S=e[14],(0,g.useEffect)(N,S);let _;if(e[15]!==r||e[16]!==o||e[17]!==u){let G;e[19]!==r||e[20]!==o?(G=(J,ee)=>(0,l.jsx)("div",{className:"h-full flex-1 overflow-hidden rounded-full bg-white/30",children:(0,l.jsx)("div",{className:"h-full bg-white transition-all duration-100",style:{width:ee<r?"100%":ee===r?`${o}%`:"0%"}})},ee),e[19]=r,e[20]=o,e[21]=G):G=e[21],_=u.map(G),e[15]=r,e[16]=o,e[17]=u,e[18]=_}else _=e[18];let M;e[22]!==_?(M=(0,l.jsx)("div",{className:"flex h-0.5 w-full gap-1.5 bg-transparent",children:_}),e[22]=_,e[23]=M):M=e[23];const C=`/u/${t.user.handle}`;let D;e[24]!==t.user.avatar||e[25]!==t.user.handle?(D=(0,l.jsx)(jt,{src:t.user.avatar,alt:t.user.handle,className:"object-cover"}),e[24]=t.user.avatar,e[25]=t.user.handle,e[26]=D):D=e[26];let y;e[27]!==t.user.handle?.[0]?(y=t.user.handle?.[0]?.toUpperCase(),e[27]=t.user.handle?.[0],e[28]=y):y=e[28];let w;e[29]!==y?(w=(0,l.jsx)(kt,{children:y}),e[29]=y,e[30]=w):w=e[30];let A;e[31]!==w||e[32]!==D?(A=(0,l.jsxs)(wt,{className:"size-10 border border-white/20 shadow-sm",children:[D,w]}),e[31]=w,e[32]=D,e[33]=A):A=e[33];let R;e[34]!==t.user.handle?(R=(0,l.jsx)("span",{className:"text-sm font-bold text-white shadow-black drop-shadow-md",children:t.user.handle}),e[34]=t.user.handle,e[35]=R):R=e[35];let E;e[36]!==c.created_at?(E=new Date(c.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),e[36]=c.created_at,e[37]=E):E=e[37];let I;e[38]!==E?(I=(0,l.jsx)("span",{className:"text-[10px] text-white/60 shadow-black drop-shadow-md",children:E}),e[38]=E,e[39]=I):I=e[39];let z;e[40]!==R||e[41]!==I?(z=(0,l.jsxs)("div",{className:"flex flex-col",children:[R,I]}),e[40]=R,e[41]=I,e[42]=z):z=e[42];let L;e[43]!==A||e[44]!==z||e[45]!==C?(L=(0,l.jsxs)(es,{to:C,className:"flex items-center gap-3 transition-opacity hover:opacity-80",onClick:mm,children:[A,z]}),e[43]=A,e[44]=z,e[45]=C,e[46]=L):L=e[46];let j;e[47]!==s||e[48]!==t.user.id?(j=()=>s(t.user.id),e[47]=s,e[48]=t.user.id,e[49]=j):j=e[49];let k;e[50]===Symbol.for("react.memo_cache_sentinel")?(k=(0,l.jsx)(Rt,{size:24}),e[50]=k):k=e[50];let P;e[51]!==j?(P=(0,l.jsx)("button",{onClick:j,className:"rounded-full p-2 text-white transition-colors hover:bg-white/10",children:k}),e[51]=j,e[52]=P):P=e[52];let T;e[53]!==L||e[54]!==P?(T=(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[L,P]}),e[53]=L,e[54]=P,e[55]=T):T=e[55];let F;e[56]!==T||e[57]!==M?(F=(0,l.jsxs)("div",{className:"absolute left-0 right-0 top-0 z-20 flex flex-col gap-4 p-4",children:[M,T]}),e[56]=T,e[57]=M,e[58]=F):F=e[58];let q;e[59]!==r||e[60]!==b?(q=r>0&&(0,l.jsx)("button",{onClick:G=>{G.stopPropagation(),b()},className:"absolute left-4 z-30 rounded-full bg-black/20 p-2 text-white backdrop-blur-md transition-all hover:bg-black/40 active:scale-90",children:(0,l.jsx)(cs,{size:32})}),e[59]=r,e[60]=b,e[61]=q):q=e[61];let H;e[62]!==c.id||e[63]!==c.media?(H=(0,l.jsx)("img",{src:c.media,className:"h-full max-h-full w-full animate-in fade-in zoom-in-95 object-contain rounded-xl shadow-2xl duration-300",alt:""},c.id),e[62]=c.id,e[63]=c.media,e[64]=H):H=e[64];let B;e[65]!==d?(B=d&&(0,l.jsx)("div",{className:"pointer-events-none absolute inset-0 z-10 flex items-center justify-center",children:(0,l.jsx)("div",{className:"animate-in fade-in zoom-in rounded-full border border-white/10 bg-black/40 px-4 py-2 text-xs font-bold text-white backdrop-blur-md duration-200",children:"PAUSED"})}),e[65]=d,e[66]=B):B=e[66];let U;e[67]!==H||e[68]!==B?(U=(0,l.jsxs)("div",{className:"relative flex h-full w-full items-center justify-center",children:[H,B]}),e[67]=H,e[68]=B,e[69]=U):U=e[69];let O;e[70]!==h?(O=G=>{G.stopPropagation(),h()},e[70]=h,e[71]=O):O=e[71];let V;e[72]===Symbol.for("react.memo_cache_sentinel")?(V=(0,l.jsx)(bn,{size:32}),e[72]=V):V=e[72];let Z;e[73]!==O?(Z=(0,l.jsx)("button",{onClick:O,className:"absolute right-4 z-30 rounded-full bg-black/20 p-2 text-white backdrop-blur-md transition-all hover:bg-black/40 active:scale-90",children:V}),e[73]=O,e[74]=Z):Z=e[74];let X;e[75]!==b?(X=(0,l.jsx)("div",{className:"w-[30%] cursor-w-resize",onClick:b}),e[75]=b,e[76]=X):X=e[76];let W;e[77]===Symbol.for("react.memo_cache_sentinel")?(W=(0,l.jsx)("div",{className:"flex w-[40%] cursor-pointer items-center justify-center",onClick:v}),e[77]=W):W=e[77];let te;e[78]!==h?(te=(0,l.jsx)("div",{className:"w-[30%] cursor-e-resize",onClick:h}),e[78]=h,e[79]=te):te=e[79];let Q;e[80]!==X||e[81]!==te?(Q=(0,l.jsxs)("div",{className:"absolute inset-0 z-20 flex",children:[X,W,te]}),e[80]=X,e[81]=te,e[82]=Q):Q=e[82];let K;e[83]!==q||e[84]!==U||e[85]!==Z||e[86]!==Q?(K=(0,l.jsxs)("div",{className:"relative flex h-full w-full max-w-xl items-center justify-center p-2",children:[q,U,Z,Q]}),e[83]=q,e[84]=U,e[85]=Z,e[86]=Q,e[87]=K):K=e[87];let ne;return e[88]!==F||e[89]!==K?(ne=(0,l.jsxs)("div",{className:"fixed inset-0 z-[100] flex animate-in fade-in flex-col items-center justify-center bg-black duration-300",children:[F,K]}),e[88]=F,e[89]=K,e[90]=ne):ne=e[90],ne},cm=lm;function dm(n){return n+1}function um(n){return n-1}function fm(n){return!n}function mm(n){return n.stopPropagation()}var hm=({type:n,onComplete:e,onSwitch:t})=>{const{login:s,signup:r}=$e(),{addToast:a}=_t(),[o,i]=(0,g.useState)({name:"",email:"",username:"",password:""}),[d,m]=(0,g.useState)(!1),[u,c]=(0,g.useState)(null),f=async h=>{h.preventDefault(),m(!0),c(null);try{n==="login"?(await s({email:o.email,password:o.password}),a("Welcome back!"),e()):(await r({email:o.email,password:o.password,username:o.username,name:o.name}),a("Confirm Your Email","info"),t())}catch(p){console.error("Auth error:",p),c(p.message||"Authentication failed. Please check your credentials."),a("Authentication failed!","error")}finally{m(!1)}};return(0,l.jsxs)("div",{className:"mx-auto w-full max-w-md animate-in fade-in slide-in-from-bottom-5 duration-300 p-8",children:[(0,l.jsxs)("div",{className:"mb-8 text-center",children:[(0,l.jsx)("div",{className:"mb-4 flex justify-center",children:(0,l.jsx)("div",{className:"rounded-2xl bg-black p-3 shadow-lg text-white dark:bg-white dark:text-black",children:(0,l.jsx)("img",{src:"/logo.webp",alt:"Logo",className:"size-16 rounded-2xl border-2 border-zinc-100 shadow-xl dark:border-zinc-800"})})}),(0,l.jsx)("h2",{className:"mb-2 text-3xl font-extrabold tracking-tight dark:text-white",children:n==="login"?"Welcome back!":"Join Sysm today"}),(0,l.jsx)("p",{className:"font-medium text-zinc-500",children:"The decentralized social network"})]}),u&&(0,l.jsxs)("div",{className:"mb-6 flex items-center gap-3 rounded-xl border border-rose-100 bg-rose-50 p-4 text-sm text-rose-600 dark:border-rose-800 dark:bg-rose-900/20 dark:text-rose-400",children:[(0,l.jsx)(ns,{size:18}),(0,l.jsx)("span",{children:u})]}),(0,l.jsxs)("form",{onSubmit:f,className:"space-y-4",children:[(0,l.jsx)(yt,{label:"Email",type:"email",placeholder:"john@example.com",value:o.email,onChange:h=>i({...o,email:h.target.value}),required:!0}),n==="signup"&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(yt,{label:"Name",placeholder:"John Doe",value:o.name,onChange:h=>i({...o,name:h.target.value}),required:!0}),(0,l.jsx)(yt,{label:"Username",placeholder:"johndoe",value:o.username,onChange:h=>{const p=h.target.value.replace(/[^a-zA-Z0-9_]/g,"");i({...o,username:p})},required:!0})]}),(0,l.jsx)(yt,{label:"Password",type:"password",placeholder:"",value:o.password,onChange:h=>i({...o,password:h.target.value}),required:!0}),(0,l.jsx)(Ge,{type:"submit",className:"mt-6 w-full justify-center py-3 text-lg",disabled:d,children:d?(0,l.jsx)(mt,{size:24,className:"animate-spin"}):n==="login"?"Log in":"Sign up"})]}),(0,l.jsxs)("div",{className:"mt-8 text-center text-sm",children:[(0,l.jsx)("span",{className:"text-zinc-500",children:n==="login"?"Don't have an account?":"Already have an account?"}),(0,l.jsx)("button",{onClick:t,className:"ml-1 font-bold hover:underline dark:text-white",children:n==="login"?"Sign up":"Log in"})]})]})},pm=hm,Mo=ie(),gm=(0,g.lazy)(()=>ft(()=>import("./Home-BVu6-06D.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),vm=(0,g.lazy)(()=>ft(()=>import("./Explore-D6GYh9yv.js"),__vite__mapDeps([11,1,2,3,4,5,6,7,8,9,10]))),bm=(0,g.lazy)(()=>ft(()=>import("./Reels-BAhUA2lQ.js"),__vite__mapDeps([12,1,2,3,4,5,6,7,8,9,10]))),Gr=(0,g.lazy)(()=>ft(()=>import("./Messages-Dt0THoAu.js"),__vite__mapDeps([13,1,2,3,4,5,6,7,10,9]))),xm=(0,g.lazy)(()=>ft(()=>import("./Notifications-CLL0JAzi.js"),__vite__mapDeps([14,1,2,3,4,5,6,10,9]))),ym=(0,g.lazy)(()=>ft(()=>import("./Profile-DGxC3CXT.js"),__vite__mapDeps([15,1,2,3,4,5,6,7,8,9,10]))),wm=(0,g.lazy)(()=>ft(()=>import("./Community-CVQs0qgP.js"),__vite__mapDeps([16,1,2,3,4,5,6,7,8,9,10]))),jm=(0,g.lazy)(()=>ft(()=>import("./PostDetails-C0sYqw8o.js"),__vite__mapDeps([17,1,2,3,4,5,6,7,8,9,10]))),km=(0,g.lazy)(()=>ft(()=>import("./Settings-CZPdek9R.js"),__vite__mapDeps([18,1,2,3,4,5,6,10,9]))),Cm=(0,g.lazy)(()=>ft(()=>import("./HashtagFeed-uraoY311.js"),__vite__mapDeps([19,1,2,3,4,5,6,7,8,9,10]))),Nm=()=>{const n=(0,Mo.c)(1);let e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,l.jsx)("div",{className:"flex h-screen w-full items-center justify-center",children:(0,l.jsx)(mt,{size:40,className:"animate-spin text-violet-500"})}),n[0]=e):e=n[0],e};function _m(){const n=(0,Mo.c)(55),e=gn(),{currentUser:t,authMode:s,setAuthMode:r}=$e(),{darkMode:a}=Xn(),{isOpen:o,images:i,currentIndex:d,closeLightbox:m,setIndex:u}=Nc(),[c,f]=(0,g.useState)(!1),[h,p]=(0,g.useState)(!1),[b,x]=(0,g.useState)(!1);let v;n[0]===Symbol.for("react.memo_cache_sentinel")?(v={},n[0]=v):v=n[0];const[N,S]=(0,g.useState)(v),[_,M]=(0,g.useState)(null),[C,D]=(0,g.useState)(null);if(s){const Q=a?"dark":"";let K;n[1]!==r?(K=()=>r(null),n[1]=r,n[2]=K):K=n[2];let ne;n[3]!==s||n[4]!==r?(ne=()=>r(s==="login"?"signup":"login"),n[3]=s,n[4]=r,n[5]=ne):ne=n[5];let G;n[6]!==s||n[7]!==K||n[8]!==ne?(G=(0,l.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-white p-4 dark:bg-black",children:(0,l.jsx)(tt,{children:(0,l.jsx)(pm,{type:s,onComplete:K,onSwitch:ne})})}),n[6]=s,n[7]=K,n[8]=ne,n[9]=G):G=n[9];let J;return n[10]!==Q||n[11]!==G?(J=(0,l.jsx)("div",{className:Q,children:G}),n[10]=Q,n[11]=G,n[12]=J):J=n[12],J}let y;n[13]===Symbol.for("react.memo_cache_sentinel")?(y=(0,l.jsx)(Hi,{}),n[13]=y):y=n[13];let w;n[14]===Symbol.for("react.memo_cache_sentinel")?(w=(0,l.jsx)(Nm,{}),n[14]=w):w=n[14];let A;n[15]===Symbol.for("react.memo_cache_sentinel")?(A=(0,l.jsx)(Zu,{onPostClick:()=>f(!0)}),n[15]=A):A=n[15];let R;n[16]===Symbol.for("react.memo_cache_sentinel")?(R=(0,l.jsx)(We,{path:"/",element:(0,l.jsx)(tt,{children:(0,l.jsx)(gm,{onStoryClick:D,onAddStory:()=>x(!0)})})}),n[16]=R):R=n[16];let E;n[17]===Symbol.for("react.memo_cache_sentinel")?(E=(0,l.jsx)(We,{path:"/home",element:(0,l.jsx)(mr,{to:"/",replace:!0})}),n[17]=E):E=n[17];let I;n[18]===Symbol.for("react.memo_cache_sentinel")?(I=(0,l.jsx)(We,{path:"/community",element:(0,l.jsx)(tt,{children:(0,l.jsx)(vm,{})})}),n[18]=I):I=n[18];let z;n[19]===Symbol.for("react.memo_cache_sentinel")?(z=(0,l.jsx)(We,{path:"/reels",element:(0,l.jsx)(tt,{children:(0,l.jsx)(bm,{})})}),n[19]=z):z=n[19];let L;n[20]===Symbol.for("react.memo_cache_sentinel")?(L=(0,l.jsx)(We,{path:"/messages",element:(0,l.jsx)(tt,{children:(0,l.jsx)(Gr,{})})}),n[20]=L):L=n[20];let j;n[21]===Symbol.for("react.memo_cache_sentinel")?(j=(0,l.jsx)(We,{path:"/settings",element:(0,l.jsx)(tt,{children:(0,l.jsx)(km,{})})}),n[21]=j):j=n[21];let k;n[22]===Symbol.for("react.memo_cache_sentinel")?(k=(0,l.jsx)(We,{path:"/messages/:id",element:(0,l.jsx)(tt,{children:(0,l.jsx)(Gr,{})})}),n[22]=k):k=n[22];let P;n[23]===Symbol.for("react.memo_cache_sentinel")?(P=(0,l.jsx)(We,{path:"/notifications",element:(0,l.jsx)(tt,{children:(0,l.jsx)(xm,{})})}),n[23]=P):P=n[23];let T;n[24]===Symbol.for("react.memo_cache_sentinel")?(T=(0,l.jsx)(We,{path:"/post/:id",element:(0,l.jsx)(tt,{children:(0,l.jsx)(jm,{})})}),n[24]=T):T=n[24];let F;n[25]===Symbol.for("react.memo_cache_sentinel")?(F=(0,l.jsx)(We,{path:"/c/:handle",element:(0,l.jsx)(tt,{children:(0,l.jsx)(wm,{onPostInCommunity:Q=>{M(Q),f(!0)}})})}),n[25]=F):F=n[25];let q;n[26]===Symbol.for("react.memo_cache_sentinel")?(q=(0,l.jsx)(We,{path:"/tags/:tag",element:(0,l.jsx)(tt,{children:(0,l.jsx)(Cm,{})})}),n[26]=q):q=n[26];let H;n[27]===Symbol.for("react.memo_cache_sentinel")?(H=(0,l.jsx)(We,{path:"/u/:handle",element:(0,l.jsx)(tt,{children:(0,l.jsx)(ym,{onEditProfile:Q=>{S(Q),p(!0)}})})}),n[27]=H):H=n[27];let B;n[28]===Symbol.for("react.memo_cache_sentinel")?(B=(0,l.jsxs)(We,{element:A,children:[R,E,I,z,L,j,k,P,T,F,q,H,(0,l.jsx)(We,{path:"*",element:(0,l.jsx)(mr,{to:"/community"})})]}),n[28]=B):B=n[28];let U;n[29]!==e?(U=(0,l.jsx)(g.Suspense,{fallback:w,children:(0,l.jsx)(Do,{location:e,children:B},e.pathname)}),n[29]=e,n[30]=U):U=n[30];let O;n[31]===Symbol.for("react.memo_cache_sentinel")?(O=Q=>{f(Q),Q||M(null)},n[31]=O):O=n[31];let V;n[32]!==N||n[33]!==h||n[34]!==c||n[35]!==b||n[36]!==_?(V=(0,l.jsx)(om,{isPostModalOpen:c,setIsPostModalOpen:O,isEditProfileOpen:h,setIsEditProfileOpen:p,isStoryModalOpen:b,setIsStoryModalOpen:x,editProfileData:N,setEditProfileData:S,postCommunity:_}),n[32]=N,n[33]=h,n[34]=c,n[35]=b,n[36]=_,n[37]=V):V=n[37];let Z;n[38]!==C?(Z=C&&(0,l.jsx)(cm,{story:C,onClose:Q=>{if(Q){const K=JSON.parse(localStorage.getItem("seenStories")||"[]");K.includes(Q)||localStorage.setItem("seenStories",JSON.stringify([...K,Q]))}D(null)}}),n[38]=C,n[39]=Z):Z=n[39];let X;n[40]!==m||n[41]!==d||n[42]!==i||n[43]!==o||n[44]!==u?(X=o&&(0,l.jsx)(su,{images:i.map(Sm),currentIndex:d,onClose:m,onNavigate:u}),n[40]=m,n[41]=d,n[42]=i,n[43]=o,n[44]=u,n[45]=X):X=n[45];let W;n[46]!==t||n[47]!==e.pathname?(W=t&&e.pathname==="/"&&(0,l.jsx)("button",{onClick:()=>f(!0),className:"group fixed bottom-20 right-5 z-50 flex size-12 cursor-pointer items-center justify-center rounded-full bg-zinc-950 text-white shadow-2xl transition-all hover:scale-110 active:scale-90 dark:bg-white dark:text-zinc-950 md:hidden",title:"Create Post",children:(0,l.jsx)(Yt,{size:28,className:"duration-300 transition-transform group-hover:rotate-90"})}),n[46]=t,n[47]=e.pathname,n[48]=W):W=n[48];let te;return n[49]!==U||n[50]!==V||n[51]!==Z||n[52]!==X||n[53]!==W?(te=(0,l.jsxs)(zc,{children:[y,U,V,Z,X,W]}),n[49]=U,n[50]=V,n[51]=Z,n[52]=X,n[53]=W,n[54]=te):te=n[54],te}function Sm(n){return typeof n=="string"?n:n.url}var zm=new Bo,Jr=document.getElementById("root");Jr&&(0,Li.createRoot)(Jr).render((0,l.jsx)(g.StrictMode,{children:(0,l.jsx)(qo,{client:zm,children:(0,l.jsx)(Po,{children:(0,l.jsx)(Dl,{children:(0,l.jsx)(Al,{children:(0,l.jsx)(Rl,{children:(0,l.jsx)(wc,{children:(0,l.jsx)(xc,{children:(0,l.jsx)(Cc,{children:(0,l.jsx)(_m,{})})})})})})})})})}));export{wt as $,bu as A,Jm as At,yh as B,th as Bt,zu as C,dl as Ct,wu as D,ih as Dt,Cu as E,ch as Et,pu as F,Qm as Ft,Zc as G,Ki as Gt,Na as H,Xm as Ht,kh as I,Zm as It,Bc as J,Js as Jt,bh as K,re as Kt,wh as L,ah as Lt,Ch as M,nh as Mt,gu as N,Gm as Nt,_h as O,oh as Ot,jh as P,sh as Pt,Ge as Q,Lt as R,rh as Rt,Sh as S,mh as St,ju as T,lh as Tt,Dn as U,Km as Ut,Qc as V,Qi as Vt,nd as W,Ym as Wt,Yc as X,tn as Xt,Vc as Y,Wm as Yt,xh as Z,Y as Zt,zh as _,Et as _t,ro as a,Ec as at,eo as b,uh as bt,Tr as c,Rc as ct,Rh as d,Nc as dt,kt as et,Eh as f,jc as ft,Tu as g,$e as gt,Ah as h,Ml as ht,lo as i,Pc as it,Ga as j,eh as jt,Dr as k,ol as kt,Pr as l,Ic as lt,to as m,Xn as mt,Lh as n,vh as nt,Dh as o,Dc as ot,Ih as p,_t as pt,Hc as q,Vm as qt,Ph as r,Tc as rt,Fu as s,Mc as st,Fh as t,jt as tt,Mh as u,gh as ut,Ru as v,hh as vt,Nh as w,dh as wt,Tn as x,fh as xt,Pn as y,ul as yt,yt as z,$m as zt};
