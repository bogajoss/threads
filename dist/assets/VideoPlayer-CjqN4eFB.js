import{a as x}from"./rolldown-runtime-BaZ8gS7u.js";import{o as E,s as S}from"./animations-DnIvWaa_.js";import{c as V}from"./framework-qAfQIUpw.js";import{r as R}from"./media-libs-BYH8vgqC.js";import{Ft as w,kt as C}from"./index-CjvLWbbI.js";var I=V(),g=x(S(),1),k=x(E(),1),O=d=>{const e=(0,I.c)(17),{src:v,poster:b}=d,i=(0,g.useRef)(null),{reportVisibility:n,unregister:l}=C(),{dataSaver:c}=w(),s=(0,g.useId)();let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a={play:()=>{const o=i.current?.plyr;o&&(o.muted=!0,o.play().catch(T))},pause:()=>{i.current?.plyr?.pause()}},e[0]=a):a=e[0];const P=a;let u,m;e[1]!==c||e[2]!==s||e[3]!==n||e[4]!==l?(u=()=>{const o=new IntersectionObserver(j=>{const[q]=j;n(s,c?0:q.intersectionRatio,P)},{threshold:[0,.6]}),_=i.current?.elements?.container;return _&&o.observe(_),()=>{l(s),_&&o.unobserve(_)}},m=[s,n,l,P,c],e[1]=c,e[2]=s,e[3]=n,e[4]=l,e[5]=u,e[6]=m):(u=e[5],m=e[6]),(0,g.useEffect)(u,m);let t;e[7]!==v?(t=[{src:v,type:"video/mp4"}],e[7]=v,e[8]=t):t=e[8];let r;e[9]!==b||e[10]!==t?(r={type:"video",sources:t,poster:b},e[9]=b,e[10]=t,e[11]=r):r=e[11];let p;e[12]===Symbol.for("react.memo_cache_sentinel")?(p={controls:["play-large","play","progress","current-time","mute","volume","fullscreen"],settings:["quality","speed"],ratio:"16:9",clickToPlay:!0,hideControls:!0,resetOnEnd:!0},e[12]=p):p=e[12];let f;e[13]!==r?(f={source:r,options:p},e[13]=r,e[14]=f):f=e[14];const h=f;let y;return e[15]!==h?(y=(0,k.jsx)("div",{className:"w-full bg-black",onClick:F,children:(0,k.jsx)(R,{ref:i,...h})}),e[15]=h,e[16]=y):y=e[16],y},B=O;function T(){}function F(d){return d.stopPropagation()}export{B as t};
