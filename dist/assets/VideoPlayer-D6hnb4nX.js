import{o as j}from"./rolldown-runtime-CIzSbf4l.js";import{c as E,l as S,w as V}from"./framework-i0QTTZ5z.js";import{n as w}from"./media-libs-CSO2-zwb.js";import{an as R,un as C}from"./index-BhYIW-gb.js";var I=E(),g=j(V(),1),x=j(S(),1),O=d=>{const e=(0,I.c)(17),{src:v,poster:b}=d,o=(0,g.useRef)(null),{reportVisibility:i,unregister:l}=R(),{dataSaver:c}=C(),n=(0,g.useId)();let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a={play:()=>{const s=o.current?.plyr;s&&(s.muted=!0,s.play().catch(T))},pause:()=>{o.current?.plyr?.pause()}},e[0]=a):a=e[0];const P=a;let u,p;e[1]!==c||e[2]!==n||e[3]!==i||e[4]!==l?(u=()=>{const s=new IntersectionObserver(k=>{const[q]=k;i(n,c?0:q.intersectionRatio,P)},{threshold:[0,.25,.5,.75,1]}),_=o.current?.elements?.container;return _&&s.observe(_),()=>{o.current?.plyr?.pause(),l(n),_&&s.unobserve(_)}},p=[n,i,l,P,c],e[1]=c,e[2]=n,e[3]=i,e[4]=l,e[5]=u,e[6]=p):(u=e[5],p=e[6]),(0,g.useEffect)(u,p);let t;e[7]!==v?(t=[{src:v,type:"video/mp4"}],e[7]=v,e[8]=t):t=e[8];let r;e[9]!==b||e[10]!==t?(r={type:"video",sources:t,poster:b},e[9]=b,e[10]=t,e[11]=r):r=e[11];let m;e[12]===Symbol.for("react.memo_cache_sentinel")?(m={controls:["play-large","play","progress","current-time","mute","volume","fullscreen"],settings:["quality","speed"],ratio:"16:9",clickToPlay:!0,hideControls:!0,resetOnEnd:!0},e[12]=m):m=e[12];let f;e[13]!==r?(f={source:r,options:m},e[13]=r,e[14]=f):f=e[14];const h=f;let y;return e[15]!==h?(y=(0,x.jsx)("div",{className:"w-full bg-black",onClick:M,children:(0,x.jsx)(w,{ref:o,...h})}),e[15]=h,e[16]=y):y=e[16],y},B=O;function T(){}function M(d){return d.stopPropagation()}export{B as t};
