const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Feed-Bx_sKgsc.js","assets/framework-BjssErrK.js","assets/database-CdmW3A7f.js","assets/animations-Kp4r2r5F.js","assets/rolldown-runtime-BaZ8gS7u.js","assets/framework-sg0yWRLc.css","assets/ui-libs-EpJdbQFE.js","assets/media-libs-DyQ6Lt1T.js","assets/media-libs-CqCaMccn.css","assets/post-DFLt3P9T.js","assets/query-BlVNDywe.js","assets/text-processing-C3-PA5LD.js","assets/actionsheet-z62p0GvR.js","assets/VideoPlayer-Dg4Ry3y9.js","assets/Explore-Drjs8cmY.js","assets/Reels-BsKk2Nv3.js","assets/Messages-hLEHf4zm.js","assets/useAutoResizeTextArea-Cm4Zj4LO.js","assets/Notifications-DXyT2Msd.js","assets/Profile-BRLH_zI4.js","assets/skeleton-profile-sDhd0_40.js","assets/Community-CyCB4F28.js","assets/PostDetails-BzYkm2Vc.js","assets/Settings-DIJ0UABr.js","assets/HashtagFeed-DyNC6vss.js","assets/CreatePost-C7yALKCq.js","assets/CircularProgress-BalFWmL1.js","assets/CreateCommunity-aZP_-Mvj.js","assets/CreateGroup-DngLPqtS.js","assets/EditProfile-B6_1Joo_.js","assets/page-BZ_FMkDr.js","assets/AuthForm-BTvim5XL.js","assets/page-D5zxkLyn.js","assets/onboarding-B9q_nJ7W.js","assets/page-C39CZu4x.js","assets/UserManagement-KJejnv_X.js","assets/ReportsManagement-0svvSTtf.js","assets/Terms-CvuH1n82.js","assets/Privacy-BFeWyA25.js","assets/Guidelines-DZ34C20-.js","assets/Support-CGlfeGf8.js","assets/Status-Dw6Eo735.js","assets/NotFoundPage-DLTmbjGz.js"])))=>i.map(i=>d[i]);
import{a as mr}from"./rolldown-runtime-BaZ8gS7u.js";import{a as Et,c as Ei,i as ge,n as yt,o as Pi,r as ns,s as Mi,t as Ai}from"./animations-Kp4r2r5F.js";import{_ as De,a as Li,b as ue,c as U,d as Kt,f as Ls,g as ot,h as Ri,i as Di,l as Fi,m as ae,o as Ti,p as Dt,u as Se,v as jt,x as qi,y as fr}from"./framework-BjssErrK.js";import{a as Fe,i as Ii,n as pe,o as Oi,r as ve,t as qe}from"./query-BlVNDywe.js";import{t as Bi}from"./database-CdmW3A7f.js";import{$ as hr,$n as Ft,A as pr,At as Vi,B as gr,C as Hi,Ct as xr,D as Ki,Dt as Nt,E as yr,F as vr,G as br,H as _r,Hn as Qi,I as Wi,J as wr,K as jr,Kn as Nr,Kt as kr,L as H1,Lt as Sr,M as Gi,Mt as Pt,N as Cr,Nn as Ji,O as Yi,On as $r,P as zr,Q as K1,Qn as Zi,Qt as Xi,R as Er,S as Pr,St as Q1,T as W1,Tn as Ui,Tt as Mr,U as Ar,Un as ea,V as G1,Vt as ta,W as sa,X as Lr,Xt as is,Y as Rr,Yn as ra,Z as na,Zn as ia,_ as Dr,_t as Fr,a as Tr,ar as qr,at as aa,b as oa,bn as la,bt as ca,c as Ir,cn as da,cr as Tt,ct as Or,d as Br,dr as ua,dt as ma,er as fa,et as ha,f as pa,fr as ga,ft as xa,g as Vr,gn as ya,gt as Hr,h as Kr,hn as va,ht as ba,i as Qr,ir as Rs,it as Wr,j as Gr,jt as _a,k as wa,l as ja,lr as Na,lt as Jr,m as Yr,mt as J1,n as Zr,nr as as,nt as Y1,o as Z1,ot as Xr,p as ka,pt as Ur,q as X1,qt as os,r as Sa,rt as en,s as Ca,st as tn,t as sn,tn as $a,tr as rn,tt as nn,u as za,un as Ea,ur as xe,ut as an,v as Pa,vt as on,w as Ma,wt as ln,x as cn,xt as ls,y as Aa,yt as La,z as Ra}from"./ui-libs-EpJdbQFE.js";import{i as Da}from"./media-libs-DyQ6Lt1T.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();var Fa=qi(),v=mr(Ei(),1),Ta="https://jngoqsrxezzuloyhdyqv.supabase.co",qa="sb_publishable_6Y_8eRnOZS2mw7i4i8pcHg_6ZBo8z25";const D=Bi(Ta,qa);var Ia=U();function Z(...t){return ua(ga(t))}const Oa=()=>{const t=(0,Ia.c)(3),{pathname:e}=ot();let s,r;return t[0]!==e?(s=()=>{["/","/feed","/explore","/notifications","/r","/m"].includes(e)||e.startsWith("/r/")||e.startsWith("/m/")||e.startsWith("/explore/")||window.scrollTo(0,0)},r=[e],t[0]=e,t[1]=s,t[2]=r):(s=t[1],r=t[2]),(0,v.useEffect)(s,r),null},Ae=t=>typeof t!="string"?!1:/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t),Ba=(t,e)=>{const s=document.createElement("canvas"),r=t.naturalWidth/t.width,n=t.naturalHeight/t.height;s.width=e.width*r,s.height=e.height*n;const i=s.getContext("2d");return i?(i.imageSmoothingEnabled=!0,i.imageSmoothingQuality="high",i.drawImage(t,e.x*r,e.y*n,e.width*r,e.height*n,0,0,e.width*r,e.height*n),new Promise((a,o)=>{s.toBlob(c=>{if(!c){o(new Error("Canvas is empty"));return}a(c)},"image/jpeg",.95)})):Promise.reject(new Error("No 2d context"))},dn=t=>{if(!t)return"";const e=typeof t=="string"?new Date(t):t,s=new Date().getTime()-e.getTime(),r=Math.floor(s/1e3),n=Math.floor(r/60),i=Math.floor(n/60),a=Math.floor(i/24);return r<60?"Just now":n<60?`${n}m ago`:i<24?`${i}h ago`:a<7?`${a}d ago`:e.toLocaleDateString(void 0,{day:"2-digit",month:"2-digit",year:"2-digit"})},eh=t=>typeof t!="string"?!1:/[\u0980-\u09FF]/.test(t),th=t=>{if(!t)return null;const e=t.match(/(https?:\/\/[^\s]+)/g);return e?e[0]:null},Ve=t=>t?{id:t.id,handle:t.username,name:t.display_name,avatar:t.avatar_url||"/default-avatar.webp",cover:t.cover_url||"/welcome-banner.webp",verified:t.is_verified??!1,role:t.role||"user",roles:t.roles||"Newbie",isPro:t.is_pro||!1,postsCount:t.posts_count||0,bio:t.bio,location:t.location,website:t.website,follower_count:t.follower_count||0,following_count:t.following_count||0,lastSeen:t.last_seen_at,isBanned:t.is_banned||!1,onboarding_completed:t.onboarding_completed||!1}:null,Ye=t=>{if(!t)return null;const e=t.reposter_id||t.reposter_data?.id||t.reposted_by?.id,s=new Date(t.sort_timestamp||t.created_at).getTime(),r=t.id||t.post_id,n=`${t.feed_id||(e?`${r}-${e}`:`${r}-orig`)}-${s}`,i=Ve(t.author_data||t.user);return i?{...t,id:r,feed_id:n,score:t.rank_score||t.score,type:t.type||"text",user_id:t.user_id,community_id:t.community_id||null,parent_id:t.parent_id||null,poll:t.poll||null,quoted_post_id:t.quoted_post_id||null,stats:{comments:t.comments_count||0,likes:t.likes_count||0,reposts:t.mirrors_count||0,views:t.views_count||0},user:i,community:t.community_data||t.communities?{...t.community_data||t.communities,avatar:(t.community_data||t.communities).avatar_url||(t.community_data||t.communities).avatar}:null,repostedBy:t.reposter_data?{handle:t.reposter_data.username,name:t.reposter_data.display_name,id:t.reposter_data.id}:t.reposted_by?{handle:t.reposted_by.username,name:t.reposted_by.display_name,id:t.reposted_by.id}:null,commenterAvatars:t.commenter_avatars||[],timeAgo:dn(t.created_at)}:null},un=t=>{if(!t)return null;const e=Ve(t.user);return e?{...t,parent_id:t.parent_id,stats:{likes:t.likes_count||0,comments:t.replies_count||0},user:e,timeAgo:dn(t.created_at)}:null},Va=t=>t?{...t,user:t.actor?.username,avatar:t.actor?.avatar_url||"/default-avatar.webp"}:null,Ha=t=>{if(!t)return null;const e=Ve(t.user);return e?{...t,media:t.media_url,user:e}:null},kt=t=>t?{id:t.id,handle:t.handle,name:t.name,description:t.description,avatar:t.avatar_url||"/default-avatar.webp",cover:t.cover_url||"/welcome-banner.webp",membersCount:t.members_count||0,postsCount:t.posts_count||0,isPrivate:t.is_private,createdAt:t.created_at,type:"community",creatorId:t.creator_id}:null,cs=t=>t?{id:t.id,conversation_id:t.conversation_id,sender_id:t.sender_id,sender:Ve(t.sender),content:t.content,type:t.type||"text",media:t.media||[],reply_to_id:t.reply_to_id,reply_to:t.reply_to?{id:t.reply_to.id,content:t.reply_to.content,sender:{id:t.reply_to.sender?.id,username:t.reply_to.sender?.username,display_name:t.reply_to.sender?.display_name}}:null,is_read:t.is_read,created_at:t.created_at}:null,Ka=(t,e)=>{if(!t||!t.conversation)return null;const s=t.conversation,r=s.is_group?null:s.participants?.find(o=>o.user?.id!==e)||s.participants?.[0],n=s.messages||[],i=n.filter(o=>!o.is_read&&o.sender_id&&e&&o.sender_id.toString().toLowerCase()!==e.toString().toLowerCase()).length,a=n[0]?.sender_id===e;return{id:s.id,isGroup:s.is_group||!1,name:s.name||(r?r.user?.display_name:"Unknown"),avatar:s.avatar_url||(r?r.user?.avatar_url:null),creatorId:s.creator_id||null,user:r?Ve(r.user):null,lastMessage:s.last_message_content||"No messages yet",lastMessageAt:s.last_message_at,lastMessageSender:null,currentUserSent:a,time:s.last_message_at?new Date(s.last_message_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"",unread:i,isMuted:!1}},Qa=async(t,e={})=>{if(!t.type.startsWith("image/"))return t;const s={maxSizeMB:.8,maxWidthOrHeight:1920,useWebWorker:!0,initialQuality:.75,fileType:"image/webp",alwaysKeepResolution:!0,...e};try{const r=await Da(t,s);return console.log(`Original size: ${(t.size/1024/1024).toFixed(2)} MB`),console.log(`Compressed size: ${(r.size/1024/1024).toFixed(2)} MB`),r}catch(r){return console.error("Image compression failed:",r),t}},Wa=(t,e=1)=>new Promise((s,r)=>{const n=document.createElement("video"),i=setTimeout(()=>{a(),r(new Error("Thumbnail generation timed out"))},1e4),a=()=>{clearTimeout(i),n.src&&URL.revokeObjectURL(n.src),n.remove()};n.style.display="none",n.preload="metadata",n.muted=!0,n.playsInline=!0,n.src=URL.createObjectURL(t),n.onloadedmetadata=()=>{let o=e;e===1&&n.duration>0&&(o=n.duration*(.1+Math.random()*.8)),n.currentTime=Math.min(o,n.duration||o)},n.onseeked=()=>{try{const o=document.createElement("canvas");o.width=n.videoWidth,o.height=n.videoHeight;const c=o.getContext("2d");if(!c){a(),r(new Error("Could not get canvas context"));return}c.drawImage(n,0,0,o.width,o.height),o.toBlob(d=>{if(!d){a(),r(new Error("Could not create blob"));return}const u=new File([d],"thumbnail.webp",{type:"image/webp"});a(),s(u)},"image/webp",.7)}catch(o){a(),r(o)}},n.onerror=()=>{a(),r(new Error("Video loading error"))}}),Qt=async(t,e="media",s=null)=>{let r=t,n=t.name.split(".").pop(),i=null;if(t.type.startsWith("image/"))try{r=await Qa(t),n="webp"}catch(u){console.error("Image compression failed, uploading original:",u)}if(t.type.startsWith("video/"))try{s?i=(await Qt(s,e)).url:i=(await Qt(await Wa(t),e)).url}catch(u){console.error("Failed to handle video poster:",u)}const a=`${`${crypto.randomUUID()}.${n}`}`,{data:o,error:c}=await D.storage.from(e).upload(a,r);if(c)throw c;const{data:{publicUrl:d}}=D.storage.from(e).getPublicUrl(o.path);return{url:d,poster:i,name:t.name,type:t.type.startsWith("image/")?"image":t.type.startsWith("video/")?"video":t.type.startsWith("audio/")?"audio":"file",size:r.size}},vt=async(t,e="media")=>{try{if(!t)return;const s=t.split(`/public/${e}/`);if(s.length<2)return;const r=s[1],{error:n}=await D.storage.from(e).remove([r]);n&&console.error(`Failed to delete file from storage: ${r}`,n)}catch(s){console.error("Error in deleteFileFromUrl:",s)}},Mt=async(t,e="media")=>{const s=t.filter(r=>!!r);s.length!==0&&await Promise.all(s.map(r=>vt(r,e)))},Wt=async(t,e=10)=>{const{data:s,error:r}=await D.from("users").select("*").or(`username.ilike.%${t}%,display_name.ilike.%${t}%`).limit(e);if(r)throw r;return(s||[]).map(Ve).filter(n=>n!==null)},sh=async(t=null,e=10)=>{let s=D.from("users").select("*").order("created_at",{ascending:!1}).limit(e);t&&(s=s.lt("created_at",t));const{data:r,error:n}=await s;if(n)throw n;return(r||[]).map(Ve).filter(i=>i!==null)},mn=async(t,e="id")=>{let s=D.from("users").select("*");e==="id"?s=s.eq("id",t):s=s.ilike("username",t);const{data:r,error:n}=await s.maybeSingle();if(n)throw n;return r?Ve(r):null},Ga=t=>mn(t,"username"),nt=async t=>{if(!t)return;const{error:e}=await D.from("users").update({last_seen_at:new Date().toISOString()}).eq("id",t);if(e)throw e},Ja=async(t,e)=>{if(e.avatar||e.cover){const{data:n}=await D.from("users").select("avatar_url, cover_url").eq("id",t).single();n&&(e.avatar&&n.avatar_url&&n.avatar_url!==e.avatar&&n.avatar_url.includes(D.storage.from("media").getPublicUrl("").data.publicUrl)&&await vt(n.avatar_url),e.cover&&n.cover_url&&n.cover_url!==e.cover&&n.cover_url.includes(D.storage.from("media").getPublicUrl("").data.publicUrl)&&await vt(n.cover_url))}const s={display_name:e.name,username:e.handle,avatar_url:e.avatar,bio:e.bio,cover_url:e.cover,website:e.website,location:e.location,onboarding_completed:e.onboarding_completed};Object.keys(s).forEach(n=>s[n]===void 0&&delete s[n]);const{error:r}=await D.from("users").update(s).eq("id",t);if(r)throw r},Ya=async(t,e)=>{const{data:s}=await D.from("follows").select("*").eq("follower_id",t).eq("following_id",e).maybeSingle();return s?(await D.from("follows").delete().eq("follower_id",t).eq("following_id",e),!1):(await D.from("follows").insert([{follower_id:t,following_id:e}]),!0)},Za=async(t,e)=>{if(!t)return!1;const{data:s}=await D.from("follows").select("*").eq("follower_id",t).eq("following_id",e).maybeSingle();return!!s},Xa=async(t,e=null,s=10)=>{let r=D.from("follows").select(`
      created_at,
      user:users!follower_id (
        id,
        username,
        display_name,
        avatar_url,
        is_verified,
        bio,
        role,
        roles,
        is_pro
      )
    `).eq("following_id",t).order("created_at",{ascending:!1}).limit(s);e&&(r=r.lt("created_at",e));const{data:n,error:i}=await r;if(i)throw i;return(n||[]).map(a=>({...Ve(a.user),followed_at:a.created_at}))},Ua=async(t,e=null,s=10)=>{let r=D.from("follows").select(`
      created_at,
      user:users!following_id (
        id,
        username,
        display_name,
        avatar_url,
        is_verified,
        bio,
        role,
        roles,
        is_pro
      )
    `).eq("follower_id",t).order("created_at",{ascending:!1}).limit(s);e&&(r=r.lt("created_at",e));const{data:n,error:i}=await r;if(i)throw i;return(n||[]).map(a=>({...Ve(a.user),followed_at:a.created_at}))},eo=async t=>{const{data:e,error:s}=await D.from("users").select("follower_count, following_count").eq("id",t).maybeSingle();return s||!e?{followers:0,following:0}:{followers:e.follower_count||0,following:e.following_count||0}},rh=async t=>{if(!t)return!1;const{count:e,error:s}=await D.from("users").select("*",{count:"exact",head:!0}).ilike("username",t);if(s)throw s;return e===0};const to=async(t=null,e=20)=>{let s=null,r=null;if(t&&t.includes(":")){const o=t.split(":");s=o[0],r=parseFloat(o[1])}const n={limit_val:e};s&&Ae(s)&&(n.last_item_id=s),r!==null&&(n.last_item_score=r);const{data:i,error:a}=await D.rpc("get_posts_feed",n);if(a)throw a;return(i||[]).map(o=>Ye({...o,mirrors_count:o.mirrors_count||0})).filter(o=>o!==null)},so=async t=>{const{data:e,error:s}=await D.from("posts").select(`
            *,
            user:users!user_id (
                id,
                username,
                display_name,
                avatar_url,
                is_verified,
                bio,
                location,
                website,
                follower_count,
                following_count,
                role,
                roles,
                is_pro
            ),
            communities (
                id,
                handle,
                name,
                avatar_url
            ),
            quoted_post:posts!quoted_post_id (
                *,
                user:users!user_id (
                    id,
                    username,
                    display_name,
                    avatar_url,
                    is_verified,
                    role,
                    roles,
                    is_pro
                )
            )
        `).eq("id",t).single();if(s)throw s;return Ye(e)},ro=async(t,e=null,s=20)=>{const{data:r,error:n}=await D.rpc("get_profile_feed",{target_user_id:t,limit_val:s,last_item_time:e||void 0});if(n)throw n;return(r||[]).map(i=>Ye({...i})).filter(i=>i!==null)},nh=async t=>{const{error:e}=await D.rpc("increment_post_views",{post_id:t});e&&console.error("RPC increment_post_views failed, make sure to run the SQL migration:",e)},no=async({content:t,media:e=[],type:s="text",userId:r,poll:n=null,parentId:i=null,communityId:a=null,quotedPostId:o=null})=>{const{data:c,error:d}=await D.from("posts").insert([{user_id:r,content:t,media:e,type:s,poll:n,parent_id:i,community_id:a,quoted_post_id:o}]).select(`
            *,
            user:users!user_id (
                id,
                username,
                display_name,
                avatar_url,
                is_verified
            ),
            communities:community_id (
                id,
                handle,
                name,
                avatar_url
            )
        `);if(d)throw d;return Ye(c?.[0])},io=async t=>{const{data:e}=await D.from("posts").select("media").eq("id",t).single();if(e?.media&&Array.isArray(e.media)){const r=[];e.media.forEach(n=>{n.url&&r.push(n.url),n.poster&&r.push(n.poster)}),r.length>0&&await Mt(r)}const{error:s}=await D.from("posts").delete().eq("id",t);if(s)throw s},ao=async t=>{const{data:e}=await D.from("comments").select("media").eq("id",t).single();if(e?.media&&Array.isArray(e.media)){const r=[];e.media.forEach(n=>{n.url&&r.push(n.url),n.poster&&r.push(n.poster)}),r.length>0&&await Mt(r)}const{error:s}=await D.from("comments").delete().eq("id",t);if(s)throw s},oo=async(t,e)=>{const{error:s}=await D.from("posts").update(e).eq("id",t);if(s)throw s},lo=async(t,e)=>{const{error:s}=await D.from("comments").update(e).eq("id",t);if(s)throw s},co=async(t,e=null,s=10,r=null)=>{let n=D.from("comments").select(`
            *,
            user:users!user_id (
                id,
                username,
                display_name,
                avatar_url,
                is_verified
            )
        `).eq("post_id",t).order("created_at",{ascending:!0}).limit(s);r?n=n.eq("parent_id",r):n=n.is("parent_id",null),e&&(n=n.gt("created_at",e));const{data:i,error:a}=await n;if(a)throw a;return(i||[]).map(un).filter(o=>o!==null)},uo=async(t,e,s,r=[],n=null)=>{const{data:i,error:a}=await D.from("comments").insert([{post_id:t,user_id:e,content:s,media:r,parent_id:n}]).select(`
            *,
            user:users!user_id (
                id,
                username,
                display_name,
                avatar_url,
                is_verified
            )
        `);if(a)throw a;return un(i?.[0])},mo=async(t,e)=>{if(!t||!e)return!1;try{const{data:s,error:r}=await D.rpc("toggle_like",{p_post_id:t,p_user_id:e});if(r&&(r.code==="PGRST202"||r.status===404)){const{data:n}=await D.from("likes").select("post_id").eq("post_id",t).eq("user_id",e).maybeSingle();if(n)return await D.from("likes").delete().eq("post_id",t).eq("user_id",e),!1;{const{error:i}=await D.from("likes").insert([{post_id:t,user_id:e}]);return!(i&&i.code==="23505")}}if(r)throw r;return!!s}catch(s){return console.error("toggleLike error:",s),!1}},fo=async(t,e)=>{if(!e||!t)return!1;const{data:s,error:r}=await D.from("likes").select("post_id").eq("post_id",t).eq("user_id",e).limit(1);return r?(console.error("Error checking like status:",r),!1):s&&s.length>0},ho=async(t,e)=>{if(!t||!e)return!1;try{const{data:s,error:r}=await D.rpc("toggle_repost",{p_post_id:t,p_user_id:e});if(r&&(r.code==="PGRST202"||r.status===404)){const{data:n}=await D.from("reposts").select("post_id").eq("post_id",t).eq("user_id",e).maybeSingle();if(n)return await D.from("reposts").delete().eq("post_id",t).eq("user_id",e),!1;{const{error:i}=await D.from("reposts").insert([{post_id:t,user_id:e}]);return!(i&&i.code==="23505")}}if(r)throw r;return!!s}catch(s){return console.error("toggleRepost error:",s),!1}},po=async(t,e)=>{if(!e||!t)return!1;const{data:s,error:r}=await D.from("reposts").select("post_id").eq("post_id",t).eq("user_id",e).limit(1);return r?(console.error("Error checking repost status:",r),!1):s&&s.length>0},go=async(t,e=null,s=20,r=!1)=>{let n=D.from("posts").select(`
            *,
            user:users!user_id (
                id,
                username,
                display_name,
                avatar_url,
                is_verified,
                role,
                roles,
                is_pro
            ),
            communities (
                id,
                handle,
                name,
                avatar_url
            )
        `).ilike("content",`%${t}%`);r&&(n=n.not("community_id","is",null)),n=n.order("created_at",{ascending:!1}).limit(s),e&&(n=n.lt("created_at",e));const{data:i,error:a}=await n;if(a)throw a;return(i||[]).map(Ye).filter(o=>o!==null)},xo=async(t=null,e=20)=>{let s=D.from("posts").select(`
            *,
            user:users!user_id (
                id,
                username,
                display_name,
                avatar_url,
                is_verified,
                role,
                roles,
                is_pro
            ),
            communities (
                id,
                handle,
                name,
                avatar_url
            )
        `).not("community_id","is",null).order("created_at",{ascending:!1}).limit(e);t&&(s=s.lt("created_at",t));const{data:r,error:n}=await s;if(n)throw n;return(r||[]).map(Ye).filter(i=>i!==null)},yo=async(t=null,e=10)=>{let s=null,r=null;if(t){const a=t.split(":");a.length===2&&(s=a[0],r=parseFloat(a[1]))}const{data:n,error:i}=await D.rpc("get_reels_feed",{limit_val:e,last_reel_id:s||void 0,last_reel_score:r||void 0});if(i)throw i;return(n||[]).map(a=>Ye({...a,mirrors_count:a.mirrors_count||0})).filter(a=>a!==null)},ih=async(t,e,s)=>{const{data:r,error:n}=await D.rpc("vote_poll",{p_post_id:t,p_option_id:e,p_user_id:s});if(n)throw n;return r},vo=async(t=null,e=10)=>{let s=D.from("communities").select("*").order("created_at",{ascending:!1}).limit(e);t&&(s=s.lt("created_at",t));const{data:r,error:n}=await s;if(n)throw n;return(r||[]).map(kt).filter(i=>i!==null)},bo=async t=>{const{data:e,error:s}=await D.from("communities").select("*").eq("handle",t).single();if(s)throw s;return kt(e)},_o=async(t,e=null,s=10)=>{let r=D.from("posts").select(`
            *,
            user:users!user_id (
                id,
                username,
                display_name,
                avatar_url,
                is_verified,
                role,
                roles,
                is_pro
            ),
            communities (
                id,
                handle,
                name,
                avatar_url
            )
        `).eq("community_id",t).neq("type","reel").order("created_at",{ascending:!1}).limit(s);e&&(r=r.lt("created_at",e));const{data:n,error:i}=await r;if(i)throw i;return(n||[]).map(Ye).filter(a=>a!==null)},fn=async(t,e)=>{const{data:s}=await D.from("community_members").select("*").eq("community_id",t).eq("user_id",e).maybeSingle();if(s){const{error:r}=await D.from("community_members").delete().eq("community_id",t).eq("user_id",e);if(r)throw r;return!1}else{const{error:r}=await D.from("community_members").insert([{community_id:t,user_id:e}]);if(r)throw r;return!0}},hn=async(t,e)=>{if(!e)return null;const{data:s}=await D.from("community_members").select("*").eq("community_id",t).eq("user_id",e).maybeSingle();return s},ah=async t=>{if(!t)return[];const{data:e,error:s}=await D.from("community_members").select(`
      role,
      communities (*)
    `).eq("user_id",t);if(s)throw s;return(e||[]).map(r=>({...kt(r.communities),myRole:r.role}))},oh=async t=>{const{data:e,error:s}=await D.from("communities").insert([t]).select().single();if(s)throw s;const{error:r}=await D.from("community_members").insert([{community_id:e.id,user_id:t.creator_id,role:"admin"}]);if(r)throw r;return kt(e)},wo=async(t,e)=>{if(e.avatar_url||e.cover_url){const{data:n}=await D.from("communities").select("avatar_url, cover_url").eq("id",t).single();n&&(e.avatar_url&&n.avatar_url&&n.avatar_url!==e.avatar_url&&n.avatar_url.includes(D.storage.from("media").getPublicUrl("").data.publicUrl)&&await vt(n.avatar_url),e.cover_url&&n.cover_url&&n.cover_url!==e.cover_url&&n.cover_url.includes(D.storage.from("media").getPublicUrl("").data.publicUrl)&&await vt(n.cover_url))}const{data:s,error:r}=await D.from("communities").update(e).eq("id",t).select().single();if(r)throw r;return kt(s)},jo=async(t,e="")=>{let s=D.from("community_members").select(`
      role,
      user_id,
      users:user_id!inner (
        id,
        username,
        display_name,
        avatar_url,
        is_verified
      )
    `).eq("community_id",t);e&&(s=s.or(`username.ilike.%${e}%,display_name.ilike.%${e}%`,{foreignTable:"users"}));const{data:r,error:n}=await s.limit(20);if(n)throw n;return(r||[]).map(i=>({role:i.role,userId:i.user_id,user:i.users}))},No=async(t,e,s)=>{const{data:r,error:n}=await D.from("community_members").update({role:s}).eq("community_id",t).eq("user_id",e).select().single();if(n)throw n;return r},lh=async t=>{if(!t)return!1;const{count:e,error:s}=await D.from("communities").select("*",{count:"exact",head:!0}).ilike("handle",t);if(s)throw s;return e===0},ko=async(t,e)=>{const{data:s}=await D.from("conversation_participants").select("conversation_id, conversation:conversations!inner(is_group)").eq("user_id",t).eq("conversation.is_group",!1),r=(s||[]).map(o=>o.conversation_id),{data:n}=await D.from("conversation_participants").select("conversation_id").eq("user_id",e).in("conversation_id",r).maybeSingle();if(n)return n.conversation_id;const{data:i,error:a}=await D.from("conversations").insert({is_group:!1,creator_id:t}).select().single();if(a)throw a;return await D.from("conversation_participants").insert([{conversation_id:i.id,user_id:t},{conversation_id:i.id,user_id:e}]),i.id},ch=async(t,e,s,r=null)=>{const{data:n,error:i}=await D.from("conversations").insert({is_group:!0,name:e,avatar_url:r,creator_id:t}).select().single();if(i)throw i;const a=n.id,o=Array.from(new Set([t,...s])).map(d=>({conversation_id:a,user_id:d})),{error:c}=await D.from("conversation_participants").insert(o);if(c)throw c;return a},So=async t=>{if(!t)return 0;const{data:e}=await D.from("conversation_participants").select("conversation_id").eq("user_id",t),s=e?.map(i=>i.conversation_id)||[];if(s.length===0)return 0;const{count:r,error:n}=await D.from("messages").select("*",{count:"exact",head:!0}).eq("is_read",!1).neq("sender_id",t).in("conversation_id",s);if(n)throw n;return r||0},Co=async t=>{if(!t)return;const{error:e}=await D.rpc("mark_messages_read",{p_conversation_id:t});if(e)throw e},$o=async t=>{if(!t)return[];const{data:e,error:s}=await D.from("conversation_participants").select(`
            conversation:conversations (
                id,
                is_group,
                name,
                avatar_url,
                creator_id,
                last_message_at,
                last_message_content,
                participants:conversation_participants (
                    user:users (
                        id,
                        username,
                        display_name,
                        avatar_url,
                        last_seen_at
                    )
                ),
                messages (
                    id,
                    is_read,
                    sender_id
                )
            )
        `).eq("user_id",t);if(s)throw s;return(e||[]).map(r=>Ka(r,t)).filter(r=>r!==null).sort((r,n)=>r.lastMessageAt?n.lastMessageAt?new Date(n.lastMessageAt).getTime()-new Date(r.lastMessageAt).getTime():-1:1)},zo=async(t,e=null,s=20)=>{let r=D.from("messages").select(`
            *,
            sender:users!sender_id (
                id,
                username,
                display_name,
                avatar_url
            ),
            reply_to:messages!reply_to_id (
                id,
                content,
                sender:users!sender_id (
                    id,
                    username,
                    display_name
                )
            )
        `).eq("conversation_id",t).order("created_at",{ascending:!1}).limit(s);e&&(r=r.lt("created_at",e));const{data:n,error:i}=await r;if(i)throw i;return(n||[]).map(cs).filter(a=>a!==null)},Eo=async t=>{const{data:e,error:s}=await D.from("message_reactions").select("*, message:messages!inner(conversation_id)").eq("message.conversation_id",t);if(s)throw s;return(e||[]).map(r=>({id:r.id,message_id:r.message_id,user_id:r.user_id,emoji:r.emoji,created_at:r.created_at}))},Po=async(t,e,s)=>{const{data:r}=await D.from("message_reactions").select("*").eq("message_id",t).eq("user_id",e).maybeSingle();return r?r.emoji===s?(await D.from("message_reactions").delete().eq("id",r.id),{action:"removed",emoji:s}):(await D.from("message_reactions").update({emoji:s}).eq("id",r.id),{action:"updated",emoji:s}):(await D.from("message_reactions").insert([{message_id:t,user_id:e,emoji:s}]),{action:"added",emoji:s})},Mo=async(t,e,s,r="text",n=[],i=null)=>{const{data:a,error:o}=await D.from("messages").insert([{conversation_id:t,sender_id:e,content:s,type:r,media:n,reply_to_id:i}]).select();if(o)throw o;return await D.from("conversations").update({last_message_at:new Date().toISOString(),last_message_content:r==="image"?"Sent an image":r==="video"?"Sent a video":r==="voice"?"Voice message":s}).eq("id",t),cs(a?.[0])},Ao=async(t,e)=>{const{data:s,error:r}=await D.from("messages").update({content:e}).eq("id",t).select().single();if(r)throw r;return cs(s)},Lo=async t=>{const{data:e}=await D.from("messages").select("media").eq("id",t).single();e?.media&&Array.isArray(e.media)?await Mt(e.media):e?.media&&typeof e.media=="string"&&await Mt([e.media]);const{error:s}=await D.from("messages").delete().eq("id",t);if(s)throw s},Ro=async(t,e=null,s=10)=>{if(!t)return[];let r=D.from("notifications").select(`
            *,
            actor:users!actor_id (
                username,
                avatar_url
            )
        `).eq("recipient_id",t).order("created_at",{ascending:!1}).limit(s);e&&(r=r.lt("created_at",e));const{data:n,error:i}=await r;if(i)throw i;return(n||[]).map(Va).filter(a=>a!==null)},Do=async t=>{const{error:e}=await D.from("notifications").update({is_read:!0}).eq("recipient_id",t).eq("is_read",!1);if(e)throw e},Fo=async t=>{if(!t)return 0;const{count:e,error:s}=await D.from("notifications").select("*",{count:"exact",head:!0}).eq("recipient_id",t).eq("is_read",!1);if(s)throw s;return e||0},To=async(t=null,e=10)=>{let s=D.from("stories").select(`
            *,
            user:users!user_id (
                id,
                username,
                display_name,
                avatar_url,
                is_verified
            )
        `).gt("expires_at",new Date().toISOString()).order("created_at",{ascending:!1}).limit(e);t&&(s=s.lt("created_at",t));const{data:r,error:n}=await s;if(n)throw n;return(r||[]).map(Ha).filter(i=>i!==null)},qo=async(t=5)=>{const{data:e,error:s}=await D.from("trending_hashtags").select("*").limit(t);if(s||!e||e.length===0){const{data:r,error:n}=await D.from("hashtags").select("*").order("usage_count",{ascending:!1}).limit(t);if(n)throw n;return(r||[]).map(i=>({id:i.id||i.name,tag:i.name,usage_count:i.usage_count||0}))}return(e||[]).map(r=>({id:r.name,tag:r.name,usage_count:r.usage_count||0}))},Io=async t=>{try{const e=`https://api.allorigins.win/raw?url=${encodeURIComponent(t)}`,s=await fetch(e);if(!s.ok)throw new Error("Failed to fetch preview");const r=await s.text(),n=new DOMParser().parseFromString(r,"text/html"),i=a=>n.querySelector(`meta[property="${a}"]`)?.getAttribute("content")||n.querySelector(`meta[name="${a}"]`)?.getAttribute("content");return{title:i("og:title")||n.title||t,description:i("og:description")||i("description")||"",image:i("og:image")||i("twitter:image")||"",siteName:i("og:site_name")||new URL(t).hostname,url:t}}catch(e){return console.error("Link preview error:",e),null}},dh=async t=>{if(!t)return null;try{const{data:e}=await D.from("link_previews").select("*").eq("url",t).maybeSingle();if(e)return D.from("link_previews").update({last_used_at:new Date().toISOString()}).eq("url",t).then(()=>{}),{title:e.title,description:e.description,image:e.image,siteName:e.site_name,url:e.url};const s=await Io(t);return s?(D.from("link_previews").insert([{url:s.url,title:s.title,description:s.description,image:s.image,site_name:s.siteName}]).then(({error:r})=>{r&&console.error("Cache save error:",r)}),s):null}catch(e){return console.error("Link preview cache error:",e),null}},Te={async getAllUsers(t=50){const{data:e,error:s}=await D.from("users").select("*").order("created_at",{ascending:!1}).limit(t);if(s)throw s;return(e||[]).map(Ve)},async updateUserRole(t,e){if(e==="user"){const{error:s}=await D.from("admins").delete().eq("user_id",t);if(s)throw s}else{const{error:s}=await D.from("admins").upsert({user_id:t,role:e});if(s)throw s}},async toggleUserVerification(t,e){const{error:s}=await D.from("users").update({is_verified:e}).eq("id",t);if(s)throw s},async toggleUserBan(t,e){const{error:s}=await D.rpc("toggle_user_ban",{target_user_id:t,ban_status:e});if(s)throw s},async getLatestPosts(t=50){const{data:e,error:s}=await D.from("posts").select("*, user:users(*)").order("created_at",{ascending:!1}).limit(t);if(s)throw s;return(e||[]).map(r=>Ye({...r,author_data:r.user}))},async deletePost(t){const{error:e}=await D.from("posts").delete().eq("id",t);if(e)throw e},async getSystemStats(){const[t,e,s]=await Promise.all([D.from("users").select("id",{count:"exact",head:!0}),D.from("posts").select("id",{count:"exact",head:!0}),D.from("communities").select("id",{count:"exact",head:!0})]);return{totalUsers:t.count||0,totalPosts:e.count||0,totalCommunities:s.count||0}},async getReports(t=50){const{data:e,error:s}=await D.from("reports").select("*, reporter:users!reporter_id(*)").order("created_at",{ascending:!1}).limit(t);if(s)throw s;return e},async updateReportStatus(t,e){const{error:s}=await D.from("reports").update({status:e}).eq("id",t);if(s)throw s},async deleteReportTarget(t,e){if(t==="user")return this.toggleUserBan(e,!0);let s="posts";t==="community"&&(s="communities");const{error:r}=await D.from(s).delete().eq("id",e);if(r)throw r},async getAnalytics(){const{data:t}=await D.from("users").select("created_at"),{data:e}=await D.from("posts").select("created_at");return{usersByDay:t||[],postsByDay:e||[]}},async getSettings(){const{data:t,error:e}=await D.from("system_settings").select("*").single();return e?{maintenance_mode:!1,allow_signups:!0}:t},async updateSettings(t){const{error:e}=await D.from("system_settings").upsert(t);if(e)throw e}};var l=mr(Mi(),1),pn=(0,v.createContext)(void 0);const Oo=({children:t})=>{const e=Fe(),[s,r]=(0,v.useState)(null),[n,i]=(0,v.useState)(!0),a=(0,v.useCallback)(async p=>{try{const f=await mn(p.id);r(f||{id:p.id,name:p.email?.split("@")[0]||"User",handle:p.email?.split("@")[0]||"user",avatar:"/default-avatar.webp",verified:!1,role:"user",cover:"/welcome-banner.webp",bio:null,location:null,website:null,follower_count:0,following_count:0,lastSeen:new Date().toISOString()})}catch(f){console.error("Error fetching user profile:",f)}finally{i(!1)}},[]);(0,v.useEffect)(()=>{if(!s?.id)return;nt(s.id);const p=setInterval(()=>nt(s.id),3e4),f=()=>{document.visibilityState==="visible"&&nt(s.id)};return window.addEventListener("visibilitychange",f),window.addEventListener("beforeunload",()=>nt(s.id)),()=>{clearInterval(p),window.removeEventListener("visibilitychange",f),window.removeEventListener("beforeunload",()=>nt(s.id))}},[s?.id]),(0,v.useEffect)(()=>{D.auth.getSession().then(({data:{session:f}})=>{f?a(f.user):i(!1)});const{data:{subscription:p}}=D.auth.onAuthStateChange((f,h)=>{h?a(h.user):(r(null),i(!1))});return()=>p.unsubscribe()},[a]);const o=(0,v.useCallback)(async({email:p,password:f})=>{const{data:h,error:g}=await D.auth.signInWithPassword({email:p,password:f});if(g)throw g;return h},[]),c=(0,v.useCallback)(async({email:p,password:f,username:h,name:g})=>{const{data:{user:y},error:x}=await D.auth.signUp({email:p,password:f,options:{data:{username:h.toLowerCase(),name:g}}});if(x)throw x;return y},[]),d=(0,v.useCallback)(async()=>{await D.auth.signOut(),r(null)},[]),u=(0,v.useCallback)(async p=>{s&&(await Ja(s.id,p),await a(s),e.invalidateQueries({queryKey:["profile",s.handle]}),e.invalidateQueries({queryKey:["posts","user",s.id]}))},[s,a,e]),m=(0,v.useMemo)(()=>({currentUser:s,login:o,signup:c,logout:d,updateProfile:u,loading:n}),[s,o,c,d,u,n]);return(0,l.jsx)(pn.Provider,{value:m,children:!n&&t})},ye=()=>{const t=(0,v.useContext)(pn);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t};var Bo=U(),gn=(0,v.createContext)(void 0);const Vo=t=>{const e=(0,Bo.c)(10),{children:s}=t,{currentUser:r}=ye();let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=new Set,e[0]=n):n=e[0];const[i,a]=(0,v.useState)(n);let o;e[1]!==r?(o=()=>{if(!r?.id)return;let p=!0;const f=D.channel("global_presence",{config:{presence:{key:r.id}}});return f.on("presence",{event:"sync"},()=>{if(!p)return;const h=f.presenceState(),g=new Set;Object.keys(h).forEach(y=>g.add(y)),a(g)}).subscribe(async h=>{h==="SUBSCRIBED"&&p&&(await f.track({userId:r.id,online_at:new Date().toISOString()}),nt(r.id))}),()=>{p=!1,r?.id&&nt(r.id),setTimeout(()=>{D.removeChannel(f).catch(Ho)},500),a(new Set)}},e[1]=r,e[2]=o):o=e[2];const c=r?.id;let d;e[3]!==c?(d=[c],e[3]=c,e[4]=d):d=e[4],(0,v.useEffect)(o,d);let u;e[5]!==i?(u={onlineUsers:i},e[5]=i,e[6]=u):u=e[6];let m;return e[7]!==s||e[8]!==u?(m=(0,l.jsx)(gn.Provider,{value:u,children:s}),e[7]=s,e[8]=u,e[9]=m):m=e[9],m},xn=()=>{const t=(0,v.useContext)(gn);if(!t)throw new Error("usePresence must be used within a PresenceProvider");return t};function Ho(){}var Ko=U(),yn=(0,v.createContext)(void 0);const Qo=t=>{const e=(0,Ko.c)(17),{children:s}=t,[r,n]=(0,v.useState)(Wo),[i,a]=(0,v.useState)(Go),[o,c]=(0,v.useState)(Jo);let d,u;e[0]!==r?(d=()=>{localStorage.setItem("theme",r?"dark":"light"),r?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},u=[r],e[0]=r,e[1]=d,e[2]=u):(d=e[1],u=e[2]),(0,v.useEffect)(d,u);let m,p;e[3]!==i?(m=()=>{localStorage.setItem("font-size",i),document.documentElement.style.setProperty("--app-font-size",{small:"14px",base:"16px",large:"18px"}[i])},p=[i],e[3]=i,e[4]=m,e[5]=p):(m=e[4],p=e[5]),(0,v.useEffect)(m,p);let f,h;e[6]!==o?(f=()=>{localStorage.setItem("data-saver",String(o))},h=[o],e[6]=o,e[7]=f,e[8]=h):(f=e[7],h=e[8]),(0,v.useEffect)(f,h);let g;e[9]===Symbol.for("react.memo_cache_sentinel")?(g=()=>n(Yo),e[9]=g):g=e[9];const y=g;let x;e[10]!==r||e[11]!==o||e[12]!==i?(x={darkMode:r,setDarkMode:n,toggleDarkMode:y,fontSize:i,setFontSize:a,dataSaver:o,setDataSaver:c},e[10]=r,e[11]=o,e[12]=i,e[13]=x):x=e[13];const _=x;let w;return e[14]!==s||e[15]!==_?(w=(0,l.jsx)(yn.Provider,{value:_,children:s}),e[14]=s,e[15]=_,e[16]=w):w=e[16],w},qt=()=>{const t=(0,v.useContext)(yn);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t};function Wo(){const t=localStorage.getItem("theme");return t==="dark"||!t&&window.matchMedia("(prefers-color-scheme: dark)").matches}function Go(){return localStorage.getItem("font-size")||"base"}function Jo(){return localStorage.getItem("data-saver")==="true"}function Yo(t){return!t}var Zo=(t,e,s,r,n,i,a,o)=>{let c=document.documentElement,d=["light","dark"];function u(f){(Array.isArray(t)?t:[t]).forEach(h=>{let g=h==="class",y=g&&i?n.map(x=>i[x]||x):n;g?(c.classList.remove(...y),c.classList.add(i&&i[f]?i[f]:f)):c.setAttribute(h,f)}),m(f)}function m(f){o&&d.includes(f)&&(c.style.colorScheme=f)}function p(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)u(r);else try{let f=localStorage.getItem(e)||s;u(a&&f==="system"?p():f)}catch{}};var Xo=v.createContext(void 0),Uo={setTheme:t=>{},themes:[]},el=()=>{var t;return(t=v.useContext(Xo))!=null?t:Uo};var uh=v.memo(({forcedTheme:t,storageKey:e,attribute:s,enableSystem:r,enableColorScheme:n,defaultTheme:i,value:a,themes:o,nonce:c,scriptProps:d})=>{let u=JSON.stringify([s,e,i,t,o,a,r,n]).slice(1,-1);return v.createElement("script",{...d,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${Zo.toString()})(${u})`}})});var tl=U(),sl=t=>{const e=(0,tl.c)(8);let s;e[0]!==t?({...s}=t,e[0]=t,e[1]=s):s=e[1];const{theme:r}=el(),n=r===void 0?"system":r;let i,a,o;e[2]===Symbol.for("react.memo_cache_sentinel")?(i={classNames:{toast:"group toast group-[.toaster]:bg-white group-[.toaster]:text-zinc-950 group-[.toaster]:border-zinc-200 group-[.toaster]:shadow-lg dark:group-[.toaster]:bg-zinc-950 dark:group-[.toaster]:text-zinc-50 dark:group-[.toaster]:border-zinc-800",description:"group-[.toast]:text-zinc-500 dark:group-[.toast]:text-zinc-400",actionButton:"group-[.toast]:bg-zinc-900 group-[.toast]:text-zinc-50 dark:group-[.toast]:bg-zinc-50 dark:group-[.toast]:text-zinc-900",cancelButton:"group-[.toast]:bg-zinc-100 group-[.toast]:text-zinc-500 dark:group-[.toast]:bg-zinc-800 dark:group-[.toast]:text-zinc-400"}},a={success:(0,l.jsx)(ra,{className:"size-4"}),info:(0,l.jsx)(Ui,{className:"size-4"}),warning:(0,l.jsx)(Sr,{className:"size-4"}),error:(0,l.jsx)(da,{className:"size-4"}),loading:(0,l.jsx)("span",{className:"size-4 animate-pulse rounded-full bg-zinc-200 dark:bg-zinc-800"})},o={"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)","--border-radius":"var(--radius)"},e[2]=i,e[3]=a,e[4]=o):(i=e[2],a=e[3],o=e[4]);let c;return e[5]!==s||e[6]!==n?(c=(0,l.jsx)(Na,{theme:n,className:"toaster group",toastOptions:i,icons:a,style:o,...s}),e[5]=s,e[6]=n,e[7]=c):c=e[7],c},rl=U(),vn=(0,v.createContext)(void 0);const nl=t=>{const e=(0,rl.c)(4),{children:s}=t,r=il;let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n={addToast:r},e[0]=n):n=e[0];let i;e[1]===Symbol.for("react.memo_cache_sentinel")?(i=(0,l.jsx)(sl,{position:"bottom-center",toastOptions:{className:"rounded-full font-bold"}}),e[1]=i):i=e[1];let a;return e[2]!==s?(a=(0,l.jsxs)(vn.Provider,{value:n,children:[s,i]}),e[2]=s,e[3]=a):a=e[3],a},He=()=>{const t=(0,v.useContext)(vn);if(!t)throw new Error("useToast must be used within a ToastProvider");return t};function il(t,e){const s=e===void 0?"success":e;s==="error"?xe.error(t):s==="info"?xe.info(t):xe.success(t)}var al=U(),bn=(0,v.createContext)(void 0);const ol=t=>{const e=(0,al.c)(45),{children:s}=t,r=Fe(),{currentUser:n}=ye();let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=["posts","feed"],e[0]=i):i=e[0];let a;e[1]===Symbol.for("react.memo_cache_sentinel")?(a={queryKey:i,queryFn:cl,initialPageParam:null,getNextPageParam:dl},e[1]=a):a=e[1];const{data:o,fetchNextPage:c,hasNextPage:d,isFetchingNextPage:u,isLoading:m,refetch:p}=qe(a);let f;e[2]!==o?.pages?(f=o?.pages.flatMap(ul)||[],e[2]=o?.pages,e[3]=f):f=e[3];const h=f;let g;e[4]!==n||e[5]!==r?(g=async H=>{await r.cancelQueries({queryKey:["posts","feed"]});const B=r.getQueryData(["posts","feed"]);if(B&&n){const V={id:`temp-${Date.now()}`,feed_id:`temp-${Date.now()}`,user_id:n.id,content:H.content,media:H.media||null,type:H.type||"text",poll:H.poll||null,parent_id:H.parentId||null,community_id:H.communityId||null,quoted_post_id:H.quotedPostId||null,created_at:new Date().toISOString(),stats:{comments:0,likes:0,reposts:0,views:0},user:n,community:null,repostedBy:null,timeAgo:"just now",sort_timestamp:new Date().toISOString()};r.setQueryData(["posts","feed"],Q=>Q&&{...Q,pages:[[V,...Q.pages[0]],...Q.pages.slice(1)]})}return{previousPosts:B}},e[4]=n,e[5]=r,e[6]=g):g=e[6];let y,x;e[7]!==r?(y=(H,B,V)=>{V?.previousPosts&&r.setQueryData(["posts","feed"],V.previousPosts)},x=()=>{r.invalidateQueries({queryKey:["posts","feed"]})},e[7]=r,e[8]=y,e[9]=x):(y=e[8],x=e[9]);let _;e[10]!==g||e[11]!==y||e[12]!==x?(_={mutationFn:no,onMutate:g,onError:y,onSuccess:x},e[10]=g,e[11]=y,e[12]=x,e[13]=_):_=e[13];const w=pe(_);let k;e[14]!==r?(k={mutationFn:io,onMutate:async H=>{await r.cancelQueries({queryKey:["posts","feed"]});const B=r.getQueryData(["posts","feed"]);return r.setQueryData(["posts","feed"],V=>V&&{...V,pages:V.pages.map(Q=>Q.filter(q=>q.id!==H))}),{previousPosts:B}},onError:(H,B,V)=>{V?.previousPosts&&r.setQueryData(["posts","feed"],V.previousPosts)},onSuccess:()=>{r.invalidateQueries({queryKey:["posts","feed"]})}},e[14]=r,e[15]=k):k=e[15];const b=pe(k);let j;e[16]!==r?(j={mutationFn:ml,onMutate:async H=>{const{postId:B,data:V}=H;await r.cancelQueries({queryKey:["posts","feed"]});const Q=r.getQueryData(["posts","feed"]);return r.setQueryData(["posts","feed"],q=>q&&{...q,pages:q.pages.map(Y=>Y.map(O=>O.id===B?{...O,...V}:O))}),{previousPosts:Q}},onError:(H,B,V)=>{V?.previousPosts&&r.setQueryData(["posts","feed"],V.previousPosts)},onSuccess:()=>{r.invalidateQueries({queryKey:["posts","feed"]})}},e[16]=r,e[17]=j):j=e[17];const N=pe(j);let S;e[18]!==w?(S=async H=>await w.mutateAsync(H),e[18]=w,e[19]=S):S=e[19];const C=S;let E;e[20]!==b?(E=async H=>{await b.mutateAsync(H)},e[20]=b,e[21]=E):E=e[21];const P=E;let A;e[22]!==N?(A=async(H,B)=>{await N.mutateAsync({postId:H,data:B})},e[22]=N,e[23]=A):A=e[23];const $=A,z=fl;let M;e[24]!==h?(M=H=>h.find(B=>B.id===H),e[24]=h,e[25]=M):M=e[25];const L=M;let R;e[26]!==h?(R=(H,B)=>{const V=B===void 0?"feed":B,Q=h.filter(q=>!!(q.user?.handle===H||q.repostedBy&&q.repostedBy.handle===H));return V==="feed"?Q.filter(hl):V==="media"?Q.filter(pl):Q},e[26]=h,e[27]=R):R=e[27];const T=R;let F;e[28]!==p?(F=()=>p(),e[28]=p,e[29]=F):F=e[29];const K=F,W=d||!1;let J;e[30]!==C||e[31]!==P||e[32]!==c||e[33]!==L||e[34]!==T||e[35]!==u||e[36]!==m||e[37]!==h||e[38]!==K||e[39]!==W||e[40]!==$?(J={posts:h,setPosts:z,addPost:C,deletePost:P,updatePost:$,getPostById:L,getUserPosts:T,loading:m,hasMore:W,isFetchingNextPage:u,fetchNextPage:c,refreshPosts:K},e[30]=C,e[31]=P,e[32]=c,e[33]=L,e[34]=T,e[35]=u,e[36]=m,e[37]=h,e[38]=K,e[39]=W,e[40]=$,e[41]=J):J=e[41];const X=J;let te;return e[42]!==s||e[43]!==X?(te=(0,l.jsx)(bn.Provider,{value:X,children:s}),e[42]=s,e[43]=X,e[44]=te):te=e[44],te},ll=()=>{const t=(0,v.useContext)(bn);if(!t)throw new Error("usePosts must be used within a PostProvider");return t};function cl(t){const{pageParam:e}=t;return to(e,20)}function dl(t){if(!t||t.length<20)return;const e=t[t.length-1];return e.score!==void 0&&e.feed_id?`${e.feed_id}:${e.score}`:e.sort_timestamp||e.created_at}function ul(t){return t}function ml(t){const{postId:e,data:s}=t;return oo(e,s)}function fl(){console.warn("setPosts is deprecated in favor of React Query cache updates")}function hl(t){return t.parent_id===null}function pl(t){return t.parent_id===null&&(t.type==="video"||t.type==="image"||(t.media?.length||0)>0)}var gl=U(),_n=(0,v.createContext)(void 0);const xl=t=>{const e=(0,gl.c)(9),{children:s}=t;let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r={isOpen:!1,images:[],currentIndex:0},e[0]=r):r=e[0];const[n,i]=(0,v.useState)(r);let a;e[1]===Symbol.for("react.memo_cache_sentinel")?(a=(h,g)=>{const y=g===void 0?0:g;i({isOpen:!0,images:Array.isArray(h)?h:[h],currentIndex:y})},e[1]=a):a=e[1];const o=a;let c;e[2]===Symbol.for("react.memo_cache_sentinel")?(c=()=>{i(vl)},e[2]=c):c=e[2];const d=c;let u;e[3]===Symbol.for("react.memo_cache_sentinel")?(u=h=>{i(g=>({...g,currentIndex:h}))},e[3]=u):u=e[3];const m=u;let p;e[4]!==n?(p={...n,openLightbox:o,closeLightbox:d,setIndex:m},e[4]=n,e[5]=p):p=e[5];let f;return e[6]!==s||e[7]!==p?(f=(0,l.jsx)(_n.Provider,{value:p,children:s}),e[6]=s,e[7]=p,e[8]=f):f=e[8],f},yl=()=>{const t=(0,v.useContext)(_n);if(!t)throw new Error("useLightbox must be used within a LightboxProvider");return t};function vl(t){return{...t,isOpen:!1}}var bl=U(),wn=(0,v.createContext)(void 0);const _l=t=>{const e=(0,bl.c)(9),{children:s}=t,[r,n]=(0,v.useState)(!1),[i,a]=(0,v.useState)(null),[o,c]=(0,v.useState)(null);let d;e[0]===Symbol.for("react.memo_cache_sentinel")?(d=(g,y)=>{a(g),c(y),n(!0)},e[0]=d):d=e[0];const u=d;let m;e[1]===Symbol.for("react.memo_cache_sentinel")?(m=()=>{n(!1),a(null),c(null)},e[1]=m):m=e[1];const p=m;let f;e[2]!==r||e[3]!==o||e[4]!==i?(f={isOpen:r,targetType:i,targetId:o,openReport:u,closeReport:p},e[2]=r,e[3]=o,e[4]=i,e[5]=f):f=e[5];let h;return e[6]!==s||e[7]!==f?(h=(0,l.jsx)(wn.Provider,{value:f,children:s}),e[6]=s,e[7]=f,e[8]=h):h=e[8],h},wl=()=>{const t=(0,v.useContext)(wn);if(!t)throw new Error("useReportModal must be used within a ReportProvider");return t};var jl=U(),Nl=t=>{const e=(0,jl.c)(60);let s,r,n,i,a,o,c,d;e[0]!==t?({children:s,variant:a,size:o,loading:c,className:d,icon:n,disabled:r,...i}=t,e[0]=t,e[1]=s,e[2]=r,e[3]=n,e[4]=i,e[5]=a,e[6]=o,e[7]=c,e[8]=d):(s=e[1],r=e[2],n=e[3],i=e[4],a=e[5],o=e[6],c=e[7],d=e[8]);const u=a===void 0?"primary":a,m=o===void 0?"md":o,p=c===void 0?!1:c,f=d===void 0?"":d;let h,g,y,x,_,w;if(e[9]!==s||e[10]!==f||e[11]!==r||e[12]!==n||e[13]!==p||e[14]!==i||e[15]!==m||e[16]!==u){w=Symbol.for("react.early_return_sentinel");e:{const P={primary:"text-white bg-zinc-900 hover:bg-zinc-800 dark:bg-white dark:text-black dark:hover:bg-zinc-200 border-none",secondary:"text-zinc-900 bg-zinc-100 hover:bg-zinc-200 dark:text-white dark:bg-zinc-900 dark:hover:bg-zinc-800 border-none",outline:"text-zinc-900 border border-zinc-200 bg-transparent hover:bg-zinc-50 dark:text-white dark:border-zinc-800 dark:hover:bg-zinc-900",danger:"text-white bg-rose-500 hover:bg-rose-600 border-none shadow-rose-500/10 hover:shadow-rose-500/20",ghost:"text-zinc-500 hover:bg-zinc-100 dark:text-zinc-400 dark:hover:bg-zinc-800 border-transparent shadow-none hover:shadow-none",violet:"text-white bg-violet-600 hover:bg-violet-700 border-none shadow-violet-600/20 hover:shadow-violet-600/30",animated:"btn-animated bg-zinc-900 text-white dark:bg-white dark:text-black border-none rounded-2xl px-8 py-3 text-lg font-black"},A={sm:"px-3 py-1 text-xs",md:"px-5 py-2 text-sm",lg:"px-8 py-3 text-base",icon:"p-2 aspect-square"};if(u==="animated"){const z=i;let M;e[23]!==z?({...M}=z,e[23]=z,e[24]=M):M=e[24];let L;e[25]===Symbol.for("react.memo_cache_sentinel")?(L={scale:.98},e[25]=L):L=e[25];let R;e[26]!==f?(R=Z("btn-animated",f),e[26]=f,e[27]=R):R=e[27];const T=r||p;let F;e[28]!==n?(F=(0,l.jsx)("div",{className:"svg-wrapper-1",children:(0,l.jsx)("div",{className:"svg-wrapper",children:n?(0,l.jsx)("div",{className:"icon-wrapper [&>svg]:w-4 [&>svg]:h-4",children:n}):(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"16",height:"16",children:[(0,l.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,l.jsx)("path",{fill:"currentColor",d:"M1.946 9.315c-.522-.174-.527-.455.01-.634l19.087-6.362c.529-.176.832.12.684.638l-5.454 19.086c-.15.529-.455.547-.679.045L12 14l6-8-8 6-8.054-2.685z"})]})})}),e[28]=n,e[29]=F):F=e[29];let K;e[30]!==s?(K=(0,l.jsx)("span",{className:"ml-2 uppercase tracking-wider",children:s}),e[30]=s,e[31]=K):K=e[31];let W;e[32]===Symbol.for("react.memo_cache_sentinel")?(W=(0,l.jsx)("div",{className:"absolute inset-0 bg-black/0 active:bg-black/5 transition-colors pointer-events-none"}),e[32]=W):W=e[32];let J;e[33]!==M||e[34]!==R||e[35]!==T||e[36]!==F||e[37]!==K?(J=(0,l.jsxs)(ge.button,{whileTap:L,className:R,disabled:T,...M,children:[F,K,W]}),e[33]=M,e[34]=R,e[35]=T,e[36]=F,e[37]=K,e[38]=J):J=e[38],w=J;break e}const $=i;e[39]!==$?({...g}=$,e[39]=$,e[40]=g):g=e[40],h=ge.button,e[41]===Symbol.for("react.memo_cache_sentinel")?(y={scale:.97},x={type:"spring",stiffness:400,damping:17},e[41]=y,e[42]=x):(y=e[41],x=e[42]),_=Z("rounded-full font-bold inline-flex items-center justify-center relative overflow-hidden transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed touch-manipulation shadow-sm hover:shadow-md active:opacity-80",P[u],A[m],f)}e[9]=s,e[10]=f,e[11]=r,e[12]=n,e[13]=p,e[14]=i,e[15]=m,e[16]=u,e[17]=h,e[18]=g,e[19]=y,e[20]=x,e[21]=_,e[22]=w}else h=e[17],g=e[18],y=e[19],x=e[20],_=e[21],w=e[22];if(w!==Symbol.for("react.early_return_sentinel"))return w;const k=r||p;let b;e[43]!==p?(b=p&&(0,l.jsx)("span",{className:"mr-2 animate-pulse",children:"..."}),e[43]=p,e[44]=b):b=e[44];const j=p&&"opacity-80";let N;e[45]!==j?(N=Z("flex items-center gap-x-1.5",j),e[45]=j,e[46]=N):N=e[46];let S;e[47]!==s||e[48]!==N?(S=(0,l.jsx)("div",{className:N,children:s}),e[47]=s,e[48]=N,e[49]=S):S=e[49];let C;e[50]===Symbol.for("react.memo_cache_sentinel")?(C=(0,l.jsx)("div",{className:"absolute inset-0 bg-black/0 active:bg-black/5 transition-colors pointer-events-none"}),e[50]=C):C=e[50];let E;return e[51]!==h||e[52]!==g||e[53]!==b||e[54]!==S||e[55]!==y||e[56]!==x||e[57]!==_||e[58]!==k?(E=(0,l.jsxs)(h,{whileTap:y,transition:x,className:_,disabled:k,...g,children:[b,S,C]}),e[51]=h,e[52]=g,e[53]=b,e[54]=S,e[55]=y,e[56]=x,e[57]=_,e[58]=k,e[59]=E):E=e[59],E},We=Nl,kl=class extends v.Component{state={hasError:!1,error:null};static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,e){console.error("Uncaught error:",t,e)}render(){return this.state.hasError?(0,l.jsxs)("div",{className:"flex h-screen w-full flex-col items-center justify-center bg-white p-4 text-center dark:bg-black",children:[(0,l.jsx)("h2",{className:"mb-2 text-2xl font-bold text-zinc-900 dark:text-white",children:"Something went wrong"}),(0,l.jsx)("p",{className:"mb-6 max-w-md text-zinc-500 dark:text-zinc-400",children:this.state.error?.message||"An unexpected error occurred."}),(0,l.jsx)(We,{onClick:()=>window.location.reload(),className:"rounded-full bg-violet-600 px-6 py-2 font-bold text-white hover:bg-violet-700",children:"Reload Page"})]}):this.props.children}},Sl=kl,Cl=U(),jn=(0,v.createContext)(void 0);const $l=t=>{const e=(0,Cl.c)(15),{children:s}=t,[r,n]=(0,v.useState)(null);let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=new Map,e[0]=i):i=e[0];const a=(0,v.useRef)(i);let o;e[1]!==r?(o=(g,y,x)=>{y===0?a.current.has(g)&&a.current.delete(g):a.current.set(g,{ratio:y,...x});let _=null,w=.5;for(const[k,b]of a.current.entries())b.ratio>w&&(w=b.ratio,_=k);_!==r&&n(_)},e[1]=r,e[2]=o):o=e[2];const c=o;let d,u;e[3]!==r?(d=()=>{a.current.forEach((g,y)=>{y===r?g.play():g.pause()})},u=[r],e[3]=r,e[4]=d,e[5]=u):(d=e[4],u=e[5]),(0,v.useEffect)(d,u);let m;e[6]!==r?(m=g=>{a.current.delete(g),r===g&&n(null)},e[6]=r,e[7]=m):m=e[7];const p=m;let f;e[8]!==r||e[9]!==c||e[10]!==p?(f={reportVisibility:c,unregister:p,activeVideoId:r},e[8]=r,e[9]=c,e[10]=p,e[11]=f):f=e[11];let h;return e[12]!==s||e[13]!==f?(h=(0,l.jsx)(jn.Provider,{value:f,children:s}),e[12]=s,e[13]=f,e[14]=h):h=e[14],h},mh=()=>{const t=(0,v.useContext)(jn);if(!t)throw new Error("useVideoPlayback must be used within a VideoPlaybackProvider");return t};var ds=U(),lt=v.forwardRef((t,e)=>{const s=(0,ds.c)(9);let r,n;s[0]!==t?({className:r,...n}=t,s[0]=t,s[1]=r,s[2]=n):(r=s[1],n=s[2]);let i;s[3]!==r?(i=Z("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",r),s[3]=r,s[4]=i):i=s[4];let a;return s[5]!==n||s[6]!==e||s[7]!==i?(a=(0,l.jsx)(Mr,{ref:e,className:i,...n}),s[5]=n,s[6]=e,s[7]=i,s[8]=a):a=s[8],a});lt.displayName=Mr.displayName;var ct=v.forwardRef((t,e)=>{const s=(0,ds.c)(9);let r,n;s[0]!==t?({className:r,...n}=t,s[0]=t,s[1]=r,s[2]=n):(r=s[1],n=s[2]);let i;s[3]!==r?(i=Z("aspect-square h-full w-full",r),s[3]=r,s[4]=i):i=s[4];let a;return s[5]!==n||s[6]!==e||s[7]!==i?(a=(0,l.jsx)(ln,{ref:e,className:i,...n}),s[5]=n,s[6]=e,s[7]=i,s[8]=a):a=s[8],a});ct.displayName=ln.displayName;var dt=v.forwardRef((t,e)=>{const s=(0,ds.c)(9);let r,n;s[0]!==t?({className:r,...n}=t,s[0]=t,s[1]=r,s[2]=n):(r=s[1],n=s[2]);let i;s[3]!==r?(i=Z("flex h-full w-full items-center justify-center rounded-full bg-zinc-100 dark:bg-zinc-800",r),s[3]=r,s[4]=i):i=s[4];let a;return s[5]!==n||s[6]!==e||s[7]!==i?(a=(0,l.jsx)(xr,{ref:e,className:i,...n}),s[5]=n,s[6]=e,s[7]=i,s[8]=a):a=s[8],a});dt.displayName=xr.displayName;var zl=U(),El=[{icon:_a,label:"User Control",path:"/syspanel/users"},{icon:Ji,label:"Reports Queue",path:"/syspanel/reports"}],Pl=t=>{const e=(0,zl.c)(49),{isOpen:s,onClose:r}=t,n=ot(),{currentUser:i,logout:a}=ye();let o;e[0]!==s||e[1]!==r?(o=s&&(0,l.jsx)("div",{className:"fixed inset-0 z-40 bg-black/50 backdrop-blur-sm transition-all duration-300 lg:hidden",onClick:r}),e[0]=s,e[1]=r,e[2]=o):o=e[2];const c=s?"translate-x-0":"-translate-x-full";let d;e[3]!==c?(d=Z("fixed left-0 top-0 z-50 h-screen w-72 border-r border-zinc-200 bg-white transition-all duration-300 dark:border-zinc-800 dark:bg-black lg:translate-x-0 hidden lg:flex lg:flex-col",c),e[3]=c,e[4]=d):d=e[4];let u;e[5]===Symbol.for("react.memo_cache_sentinel")?(u=(0,l.jsxs)(Se,{to:"/",className:"flex items-center gap-3 group",children:[(0,l.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-violet-600 text-white group-hover:bg-violet-700 transition-colors",children:(0,l.jsx)(os,{className:"h-5 w-5"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm font-black tracking-tight",children:"Admin Panel"}),(0,l.jsx)("p",{className:"text-xs font-semibold text-zinc-500",children:"System v1"})]})]}),e[5]=u):u=e[5];let m;e[6]===Symbol.for("react.memo_cache_sentinel")?(m=(0,l.jsx)(Nt,{className:"h-5 w-5"}),e[6]=m):m=e[6];let p;e[7]!==r?(p=(0,l.jsxs)("div",{className:"flex items-center justify-between border-b border-zinc-200 p-6 dark:border-zinc-800",children:[u,(0,l.jsx)("button",{onClick:r,className:"flex h-8 w-8 items-center justify-center rounded-lg text-zinc-500 hover:bg-zinc-100 dark:hover:bg-zinc-900 lg:hidden",children:m})]}),e[7]=r,e[8]=p):p=e[8];let f;e[9]===Symbol.for("react.memo_cache_sentinel")?(f=(0,l.jsxs)(Se,{to:"/",className:"mx-4 mt-4 flex items-center gap-2 rounded-lg border border-zinc-200 bg-zinc-50 px-3 py-2.5 text-sm font-semibold text-zinc-700 transition-colors hover:bg-zinc-100 dark:border-zinc-800 dark:bg-zinc-900 dark:text-zinc-300 dark:hover:bg-zinc-800",children:[(0,l.jsx)(Tt,{className:"h-4 w-4"}),"Back to App"]}),e[9]=f):f=e[9];let h;e[10]===Symbol.for("react.memo_cache_sentinel")?(h=(0,l.jsx)("p",{className:"px-2 text-xs font-bold uppercase tracking-widest text-zinc-500",children:"Navigation"}),e[10]=h):h=e[10];let g;e[11]!==n||e[12]!==r?(g=El.map(T=>{const F=n.pathname===T.path;return(0,l.jsxs)(Se,{to:T.path,onClick:()=>{window.innerWidth<1024&&r()},className:Z("flex items-center justify-between gap-3 rounded-lg px-3 py-2.5 text-sm font-semibold transition-all",F?"bg-violet-600 text-white shadow-lg shadow-violet-600/30":"text-zinc-700 hover:bg-zinc-100 dark:text-zinc-300 dark:hover:bg-zinc-900"),children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)(T.icon,{className:"h-4 w-4"}),T.label]}),F&&(0,l.jsx)(Ft,{className:"h-4 w-4"})]},T.path)}),e[11]=n,e[12]=r,e[13]=g):g=e[13];let y;e[14]!==g?(y=(0,l.jsxs)("nav",{className:"flex-1 space-y-1 p-4",children:[h,(0,l.jsx)("div",{className:"space-y-1.5 mt-3",children:g})]}),e[14]=g,e[15]=y):y=e[15];const x=i?.avatar;let _;e[16]!==x?(_=(0,l.jsx)(ct,{src:x,className:"rounded-lg"}),e[16]=x,e[17]=_):_=e[17];const w=i?.name?.[0]||"A";let k;e[18]!==w?(k=(0,l.jsx)(dt,{className:"rounded-lg bg-violet-500/10 font-bold text-violet-600",children:w}),e[18]=w,e[19]=k):k=e[19];let b;e[20]!==_||e[21]!==k?(b=(0,l.jsxs)(lt,{className:"h-10 w-10 rounded-lg ring-2 ring-violet-600/20",children:[_,k]}),e[20]=_,e[21]=k,e[22]=b):b=e[22];const j=i?.name;let N;e[23]!==j?(N=(0,l.jsx)("p",{className:"truncate text-xs font-bold text-foreground",children:j}),e[23]=j,e[24]=N):N=e[24];let S;e[25]===Symbol.for("react.memo_cache_sentinel")?(S=(0,l.jsx)("p",{className:"truncate text-[10px] font-semibold uppercase tracking-widest text-violet-600",children:"Admin"}),e[25]=S):S=e[25];let C;e[26]!==N?(C=(0,l.jsxs)("div",{className:"min-w-0 flex-1",children:[N,S]}),e[26]=N,e[27]=C):C=e[27];let E;e[28]!==b||e[29]!==C?(E=(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[b,C]}),e[28]=b,e[29]=C,e[30]=E):E=e[30];let P;e[31]!==a?(P=()=>a(),e[31]=a,e[32]=P):P=e[32];let A;e[33]===Symbol.for("react.memo_cache_sentinel")?(A=(0,l.jsx)(la,{className:"h-3.5 w-3.5"}),e[33]=A):A=e[33];let $;e[34]!==P?($=(0,l.jsxs)("button",{onClick:P,className:"mt-3 flex w-full items-center justify-center gap-2 rounded-lg bg-rose-600 py-2 text-xs font-bold text-white transition-colors hover:bg-rose-700",children:[A,"Sign Out"]}),e[34]=P,e[35]=$):$=e[35];let z;e[36]!==E||e[37]!==$?(z=(0,l.jsx)("div",{className:"border-t border-zinc-200 p-4 dark:border-zinc-800",children:(0,l.jsxs)("div",{className:"rounded-2xl border border-zinc-200 bg-zinc-50 p-4 dark:border-zinc-800 dark:bg-zinc-900",children:[E,$]})}),e[36]=E,e[37]=$,e[38]=z):z=e[38];let M;e[39]!==y||e[40]!==z||e[41]!==p?(M=(0,l.jsxs)("div",{className:"flex h-full flex-col overflow-y-auto",children:[p,f,y,z]}),e[39]=y,e[40]=z,e[41]=p,e[42]=M):M=e[42];let L;e[43]!==M||e[44]!==d?(L=(0,l.jsx)("aside",{className:d,children:M}),e[43]=M,e[44]=d,e[45]=L):L=e[45];let R;return e[46]!==o||e[47]!==L?(R=(0,l.jsxs)(l.Fragment,{children:[o,L]}),e[46]=o,e[47]=L,e[48]=R):R=e[48],R},Ml=Pl,Al=U(),Ll=()=>{const t=(0,Al.c)(15),{darkMode:e}=qt(),[s,r]=(0,v.useState)(!1),n=e&&"dark";let i;t[0]!==n?(i=Z("min-h-screen flex flex-col bg-white text-foreground font-english selection:bg-violet-500 selection:text-white transition-colors duration-200 dark:bg-black",n),t[0]=n,t[1]=i):i=t[1];let a;t[2]===Symbol.for("react.memo_cache_sentinel")?(a=(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg bg-violet-600 text-white",children:(0,l.jsx)(os,{className:"h-5 w-5"})}),(0,l.jsx)("span",{className:"text-lg font-bold tracking-tight",children:"Admin"})]}),t[2]=a):a=t[2];let o,c;t[3]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsx)("button",{className:"flex h-9 w-9 items-center justify-center rounded-lg bg-zinc-100 text-foreground hover:bg-zinc-200 transition-colors dark:bg-zinc-900 dark:hover:bg-zinc-800",children:(0,l.jsx)(qr,{className:"h-5 w-5"})}),c=()=>r(!0),t[3]=o,t[4]=c):(o=t[3],c=t[4]);let d;t[5]===Symbol.for("react.memo_cache_sentinel")?(d=(0,l.jsxs)("header",{className:"sticky top-0 z-40 flex items-center justify-between border-b border-zinc-200 bg-white px-4 py-3 dark:border-zinc-800 dark:bg-black lg:hidden md:hidden",children:[a,(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[o,(0,l.jsx)("button",{onClick:c,className:"flex h-9 w-9 items-center justify-center rounded-lg bg-violet-600 text-white hover:bg-violet-700 transition-colors",children:(0,l.jsx)(ya,{className:"h-5 w-5"})})]})]}),t[5]=d):d=t[5];let u;t[6]===Symbol.for("react.memo_cache_sentinel")?(u=()=>r(!1),t[6]=u):u=t[6];let m;t[7]!==s?(m=(0,l.jsx)(Ml,{isOpen:s,onClose:u}),t[7]=s,t[8]=m):m=t[8];let p;t[9]===Symbol.for("react.memo_cache_sentinel")?(p=(0,l.jsx)("div",{className:"flex-1 lg:ml-72 transition-all duration-300",children:(0,l.jsx)("main",{className:"mx-auto w-full px-4 py-6 sm:px-6 lg:px-8 lg:py-8",children:(0,l.jsx)(Dt,{})})}),t[9]=p):p=t[9];let f;t[10]!==m?(f=(0,l.jsxs)("div",{className:"flex flex-1 gap-0",children:[m,p]}),t[10]=m,t[11]=f):f=t[11];let h;return t[12]!==i||t[13]!==f?(h=(0,l.jsxs)("div",{className:i,children:[d,f]}),t[12]=i,t[13]=f,t[14]=h):h=t[14],h},Rl=Ll,Dl=U();const Nn=t=>{const e=(0,Dl.c)(16),s=Fe(),r=t?.id;let n;e[0]!==r?(n=["unread_notifications_count",r],e[0]=r,e[1]=n):n=e[1];let i;e[2]!==t?.id?(i=()=>Fo(t?.id||""),e[2]=t?.id,e[3]=i):i=e[3];const a=!!t?.id;let o;e[4]!==n||e[5]!==i||e[6]!==a?(o={queryKey:n,queryFn:i,enabled:a},e[4]=n,e[5]=i,e[6]=a,e[7]=o):o=e[7];const{data:c}=ve(o),d=c===void 0?0:c;let u;e[8]!==t||e[9]!==s?(u=()=>{if(!t?.id)return;let h=!0;const g=D.channel(`unread_count:${t.id}`).on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`recipient_id=eq.${t.id}`},()=>{h&&(s.invalidateQueries({queryKey:["unread_notifications_count",t.id]}),s.invalidateQueries({queryKey:["notifications",t.id]}))}).subscribe();return()=>{h=!1,setTimeout(()=>{D.removeChannel(g).catch(Fl)},500)}},e[8]=t,e[9]=s,e[10]=u):u=e[10];const m=t?.id;let p;e[11]!==s||e[12]!==m?(p=[m,s],e[11]=s,e[12]=m,e[13]=p):p=e[13],(0,v.useEffect)(u,p);let f;return e[14]!==d?(f={unreadCount:d},e[14]=d,e[15]=f):f=e[15],f};function Fl(){}var Tl=U();const us=t=>{const e=(0,Tl.c)(23),s=t?.id;let r;e[0]!==s?(r=["conversations",s],e[0]=s,e[1]=r):r=e[1];let n;e[2]!==t?.id?(n=()=>$o(t?.id||""),e[2]=t?.id,e[3]=n):n=e[3];const i=!!t?.id;let a;e[4]!==r||e[5]!==n||e[6]!==i?(a={queryKey:r,queryFn:n,enabled:i,staleTime:6e4},e[4]=r,e[5]=n,e[6]=i,e[7]=a):a=e[7];const{data:o,isLoading:c,refetch:d}=ve(a);let u;e[8]!==o?(u=o===void 0?[]:o,e[8]=o,e[9]=u):u=e[9];const m=u,p=t?.id;let f;e[10]!==p?(f=["unread_messages_count",p],e[10]=p,e[11]=f):f=e[11];let h;e[12]!==t?.id?(h=()=>So(t?.id||""),e[12]=t?.id,e[13]=h):h=e[13];const g=!!t?.id;let y;e[14]!==g||e[15]!==f||e[16]!==h?(y={queryKey:f,queryFn:h,enabled:g,staleTime:6e4},e[14]=g,e[15]=f,e[16]=h,e[17]=y):y=e[17];const{data:x}=ve(y),_=x===void 0?0:x;let w;return e[18]!==m||e[19]!==c||e[20]!==d||e[21]!==_?(w={conversations:m,unreadCount:_,isConvLoading:c,refetchConversations:d},e[18]=m,e[19]=c,e[20]=d,e[21]=_,e[22]=w):w=e[22],w};var ql=U(),Il=()=>{const t=(0,ql.c)(5),{currentUser:e}=ye(),s=ot(),r=Nn(e),n=us(e),i=r?.unreadCount||0,a=n?.unreadCount||0;let o;return t[0]!==e||t[1]!==s||t[2]!==a||t[3]!==i?(o=(0,l.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 z-50 flex h-[calc(60px+env(safe-area-inset-bottom))] w-full items-start justify-around border-t border-zinc-200 bg-white/95 backdrop-blur-md px-2 pt-3 pb-[env(safe-area-inset-bottom)] dark:border-zinc-800 dark:bg-black/95 transition-transform duration-300 md:hidden print:hidden touch-manipulation",children:[{id:"home",icon:$r,path:"/feed"},{id:"explore",icon:is,path:"/explore"},{id:"create",icon:Vi,path:"/create",isSpecial:!0},{id:"notifications",icon:qr,path:"/notifications",count:i},{id:"messages",icon:va,path:"/m",count:a},{id:"profile",icon:Pt,path:e?`/u/${e.handle}`:"/login",isProfile:!0}].map(c=>{const d=s.pathname===c.path||c.path!=="/"&&c.path!=="/login"&&s.pathname.startsWith(c.path);return c.isProfile?(0,l.jsx)(Kt,{to:c.path,className:Bl,children:(0,l.jsx)(ge.div,{animate:d?{scale:1.1}:{scale:1},transition:{type:"spring",stiffness:400,damping:17},children:(0,l.jsxs)(lt,{className:"h-7 w-7 border border-zinc-200 dark:border-zinc-800",children:[(0,l.jsx)(ct,{src:e?.avatar,alt:e?.handle,className:"object-cover"}),(0,l.jsx)(dt,{children:e?.handle?.[0]?.toUpperCase()})]})})},c.id):(0,l.jsx)(Kt,{to:c.path,className:Vl,children:(0,l.jsxs)(ge.div,{className:"relative",animate:d?{scale:1.1}:{scale:1},whileTap:{scale:.9},transition:{type:"spring",stiffness:400,damping:17},children:[(0,l.jsx)(c.icon,{size:26,strokeWidth:d?2.5:2,className:d?"fill-current":""}),(0,l.jsx)(Et,{children:c.count?(0,l.jsx)(ge.span,{initial:{scale:0},animate:{scale:1},exit:{scale:0},className:"absolute -right-1 -top-1 flex h-4 w-4 items-center justify-center rounded-full bg-rose-500 text-[10px] font-bold text-white shadow-sm ring-2 ring-white dark:ring-black",children:c.count>9?"9+":c.count}):null})]})},c.id)})}),t[0]=e,t[1]=s,t[2]=a,t[3]=i,t[4]=o):o=t[4],o},Ol=Il;function Bl(t){const{isActive:e}=t;return Z("relative flex flex-col items-center justify-center transition-all active:scale-90",e?"ring-2 ring-black dark:ring-white ring-offset-2 ring-offset-white dark:ring-offset-black rounded-full":"")}function Vl(t){const{isActive:e}=t;return Z("relative flex flex-col items-center justify-center p-2 transition-colors active:scale-90",e?"text-black dark:text-white":"text-zinc-500 hover:text-zinc-900 dark:text-zinc-500 dark:hover:text-zinc-100")}var Hl=U(),Kl=t=>{const e=(0,Hl.c)(8),{triggerClassName:s}=t,r=De();let n;e[0]!==r?(n=()=>r("/create"),e[0]=r,e[1]=n):n=e[1];let i;e[2]!==s?(i=Z("flex items-center justify-center transition-all duration-200 hover:scale-110 active:scale-95 shadow-lg",s),e[2]=s,e[3]=i):i=e[3];let a;e[4]===Symbol.for("react.memo_cache_sentinel")?(a=(0,l.jsx)($a,{size:26,strokeWidth:2.5}),e[4]=a):a=e[4];let o;return e[5]!==n||e[6]!==i?(o=(0,l.jsx)("button",{"aria-label":"Create Post",onClick:n,className:i,children:a}),e[5]=n,e[6]=i,e[7]=o):o=e[7],o},Ql=Kl,Wl=U(),Gl=()=>{const t=(0,Wl.c)(8);let e,s,r;t[0]===Symbol.for("react.memo_cache_sentinel")?(e={opacity:0,y:-20},s={opacity:1,y:0},r={duration:.5,type:"spring",stiffness:100},t[0]=e,t[1]=s,t[2]=r):(e=t[0],s=t[1],r=t[2]);let n,i;t[3]===Symbol.for("react.memo_cache_sentinel")?(n=(0,l.jsx)("img",{src:"/welcome-banner.webp",alt:"Welcome Banner",fetchPriority:"high",loading:"eager",decoding:"async",className:"h-full w-full object-cover duration-700 group-hover:scale-105"}),i=(0,l.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"}),t[3]=n,t[4]=i):(n=t[3],i=t[4]);let a;t[5]===Symbol.for("react.memo_cache_sentinel")?(a=(0,l.jsx)("h1",{className:"mb-1 text-3xl font-black drop-shadow-lg sm:text-4xl",children:"Welcome to Sysm"}),t[5]=a):a=t[5];let o;t[6]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsxs)("div",{className:"absolute bottom-6 left-8 text-white",children:[a,(0,l.jsxs)("p",{className:"tracking-wide text-sm font-medium opacity-90 drop-shadow-md sm:text-base",children:["a social network built by"," ",(0,l.jsx)("a",{href:"https://t.me/systemadminbd",target:"_blank",rel:"noopener noreferrer",className:"hover:underline",onClick:Yl,children:"@Systemadminbd"})]})]}),t[6]=o):o=t[6];let c;return t[7]===Symbol.for("react.memo_cache_sentinel")?(c=(0,l.jsxs)(ge.div,{initial:e,animate:s,transition:r,className:"group relative mb-6 aspect-[21/9] w-full cursor-pointer overflow-hidden rounded-3xl sm:aspect-[2.5/1] active:scale-[0.98] transition-transform duration-200",children:[n,i,o,(0,l.jsx)("div",{className:"absolute bottom-4 right-8",children:(0,l.jsx)(ge.img,{animate:{rotate:[0,5,-5,0],scale:[1,1.1,1]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},src:"/logo.webp",className:"size-12 rounded-xl opacity-80",alt:"",loading:"lazy",decoding:"async"})})]}),t[7]=c):c=t[7],c},Jl=Gl;function Yl(t){return t.stopPropagation()}var Zl=U(),Xl=()=>{const t=(0,Zl.c)(12);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,l.jsxs)(Se,{to:"/feed",className:"flex items-center gap-2 text-zinc-500 transition-colors hover:text-black dark:hover:text-white",children:[(0,l.jsx)(Tt,{size:20}),(0,l.jsx)("span",{className:"text-sm font-medium",children:"Back to Feed"})]}),t[0]=e):e=t[0];let s;t[1]===Symbol.for("react.memo_cache_sentinel")?(s=(0,l.jsx)("header",{className:"sticky top-0 z-50 border-b border-zinc-100 bg-white/80 backdrop-blur-md dark:border-zinc-800 dark:bg-black/80",children:(0,l.jsxs)("div",{className:"mx-auto flex h-16 max-w-4xl items-center justify-between px-4 sm:px-6",children:[e,(0,l.jsxs)(Se,{to:"/",className:"flex items-center gap-2",children:[(0,l.jsx)("img",{src:"/logo.webp",alt:"Logo",className:"size-8 rounded-lg"}),(0,l.jsx)("span",{className:"text-xl font-bold tracking-tight",children:"Sysm"})]}),(0,l.jsx)("div",{className:"w-20"})," "]})}),t[1]=s):s=t[1];let r;t[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,l.jsx)("main",{className:"mx-auto max-w-4xl px-4 py-12 sm:px-6 lg:py-20",children:(0,l.jsx)("div",{className:"prose prose-zinc dark:prose-invert max-w-none",children:(0,l.jsx)(Dt,{})})}),t[2]=r):r=t[2];let n;t[3]===Symbol.for("react.memo_cache_sentinel")?(n=(0,l.jsx)("h3",{className:"text-sm font-semibold text-black dark:text-white",children:"Legal"}),t[3]=n):n=t[3];let i,a;t[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,l.jsxs)("div",{children:[n,(0,l.jsxs)("ul",{className:"mt-4 space-y-2",children:[(0,l.jsx)("li",{children:(0,l.jsx)(Se,{to:"/terms",className:"text-sm text-zinc-500 hover:text-violet-500",children:"Terms"})}),(0,l.jsx)("li",{children:(0,l.jsx)(Se,{to:"/privacy",className:"text-sm text-zinc-500 hover:text-violet-500",children:"Privacy"})}),(0,l.jsx)("li",{children:(0,l.jsx)(Se,{to:"/guidelines",className:"text-sm text-zinc-500 hover:text-violet-500",children:"Guidelines"})})]})]}),a=(0,l.jsx)("h3",{className:"text-sm font-semibold text-black dark:text-white",children:"Support"}),t[4]=i,t[5]=a):(i=t[4],a=t[5]);let o,c;t[6]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsxs)("div",{children:[a,(0,l.jsxs)("ul",{className:"mt-4 space-y-2",children:[(0,l.jsx)("li",{children:(0,l.jsx)(Se,{to:"/support",className:"text-sm text-zinc-500 hover:text-violet-500",children:"Help Center"})}),(0,l.jsx)("li",{children:(0,l.jsx)(Se,{to:"/status",className:"text-sm text-zinc-500 hover:text-violet-500",children:"System Status"})})]})]}),c=(0,l.jsx)("h3",{className:"text-sm font-semibold text-black dark:text-white",children:"Community"}),t[6]=o,t[7]=c):(o=t[6],c=t[7]);let d,u;t[8]===Symbol.for("react.memo_cache_sentinel")?(d=(0,l.jsxs)("div",{children:[c,(0,l.jsxs)("ul",{className:"mt-4 space-y-2",children:[(0,l.jsx)("li",{children:(0,l.jsx)("a",{href:"https://discord.gg/sysm",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-zinc-500 hover:text-violet-500",children:"Discord"})}),(0,l.jsx)("li",{children:(0,l.jsx)("a",{href:"https://github.com/sysm",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-zinc-500 hover:text-violet-500",children:"GitHub"})})]})]}),u=(0,l.jsx)("h3",{className:"text-sm font-semibold text-black dark:text-white",children:"Social"}),t[8]=d,t[9]=u):(d=t[8],u=t[9]);let m;t[10]===Symbol.for("react.memo_cache_sentinel")?(m=(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-8 md:grid-cols-4",children:[i,o,d,(0,l.jsxs)("div",{children:[u,(0,l.jsx)("ul",{className:"mt-4 space-y-2",children:(0,l.jsx)("li",{children:(0,l.jsx)(Se,{to:"/feed",className:"text-sm text-zinc-500 hover:text-violet-500",children:"Threads"})})})]})]}),t[10]=m):m=t[10];let p;return t[11]===Symbol.for("react.memo_cache_sentinel")?(p=(0,l.jsxs)("div",{className:"min-h-screen bg-white dark:bg-black selection:bg-violet-500 selection:text-white",children:[s,r,(0,l.jsx)("footer",{className:"border-t border-zinc-100 bg-zinc-50 py-12 dark:border-zinc-800 dark:bg-zinc-900/50",children:(0,l.jsxs)("div",{className:"mx-auto max-w-4xl px-4 sm:px-6",children:[m,(0,l.jsx)("div",{className:"mt-12 border-t border-zinc-200 pt-8 dark:border-zinc-800",children:(0,l.jsx)("p",{className:"text-sm text-zinc-500",children:" 2026 Sysm. All rights reserved. Built with passion."})})]})})]}),t[11]=p):p=t[11],p},Ul=Xl,tt=U(),fh=xa;var ec=ma,kn=v.forwardRef((t,e)=>{const s=(0,tt.c)(9);let r,n;s[0]!==t?({className:r,...n}=t,s[0]=t,s[1]=r,s[2]=n):(r=s[1],n=s[2]);let i;s[3]!==r?(i=Z("fixed inset-0 z-50 bg-black/50 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),s[3]=r,s[4]=i):i=s[4];let a;return s[5]!==n||s[6]!==e||s[7]!==i?(a=(0,l.jsx)(an,{className:i,...n,ref:e}),s[5]=n,s[6]=e,s[7]=i,s[8]=a):a=s[8],a});kn.displayName=an.displayName;var tc=v.forwardRef((t,e)=>{const s=(0,tt.c)(10);let r,n;s[0]!==t?({className:r,...n}=t,s[0]=t,s[1]=r,s[2]=n):(r=s[1],n=s[2]);let i;s[3]===Symbol.for("react.memo_cache_sentinel")?(i=(0,l.jsx)(kn,{}),s[3]=i):i=s[3];let a;s[4]!==r?(a=Z("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-zinc-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg dark:border-zinc-800 dark:bg-zinc-950 max-sm:top-auto max-sm:bottom-0 max-sm:translate-y-0 max-sm:translate-x-0 max-sm:left-0 max-sm:rounded-t-xl max-sm:rounded-b-none max-sm:border-x-0 max-sm:border-b-0 max-sm:data-[state=closed]:slide-out-to-bottom-full max-sm:data-[state=open]:slide-in-from-bottom-full",r),s[4]=r,s[5]=a):a=s[5];let o;return s[6]!==n||s[7]!==e||s[8]!==a?(o=(0,l.jsxs)(ec,{children:[i,(0,l.jsx)(Or,{ref:e,className:a,...n})]}),s[6]=n,s[7]=e,s[8]=a,s[9]=o):o=s[9],o});tc.displayName=Or.displayName;var sc=t=>{const e=(0,tt.c)(8);let s,r;e[0]!==t?({className:s,...r}=t,e[0]=t,e[1]=s,e[2]=r):(s=e[1],r=e[2]);let n;e[3]!==s?(n=Z("flex flex-col space-y-2 text-center sm:text-left",s),e[3]=s,e[4]=n):n=e[4];let i;return e[5]!==r||e[6]!==n?(i=(0,l.jsx)("div",{className:n,...r}),e[5]=r,e[6]=n,e[7]=i):i=e[7],i};sc.displayName="AlertDialogHeader";var rc=t=>{const e=(0,tt.c)(8);let s,r;e[0]!==t?({className:s,...r}=t,e[0]=t,e[1]=s,e[2]=r):(s=e[1],r=e[2]);let n;e[3]!==s?(n=Z("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),e[3]=s,e[4]=n):n=e[4];let i;return e[5]!==r||e[6]!==n?(i=(0,l.jsx)("div",{className:n,...r}),e[5]=r,e[6]=n,e[7]=i):i=e[7],i};rc.displayName="AlertDialogFooter";var nc=v.forwardRef((t,e)=>{const s=(0,tt.c)(9);let r,n;s[0]!==t?({className:r,...n}=t,s[0]=t,s[1]=r,s[2]=n):(r=s[1],n=s[2]);let i;s[3]!==r?(i=Z("text-lg font-semibold",r),s[3]=r,s[4]=i):i=s[4];let a;return s[5]!==n||s[6]!==e||s[7]!==i?(a=(0,l.jsx)(Ur,{ref:e,className:i,...n}),s[5]=n,s[6]=e,s[7]=i,s[8]=a):a=s[8],a});nc.displayName=Ur.displayName;var ic=v.forwardRef((t,e)=>{const s=(0,tt.c)(9);let r,n;s[0]!==t?({className:r,...n}=t,s[0]=t,s[1]=r,s[2]=n):(r=s[1],n=s[2]);let i;s[3]!==r?(i=Z("text-sm text-zinc-500 dark:text-zinc-400",r),s[3]=r,s[4]=i):i=s[4];let a;return s[5]!==n||s[6]!==e||s[7]!==i?(a=(0,l.jsx)(Jr,{ref:e,className:i,...n}),s[5]=n,s[6]=e,s[7]=i,s[8]=a):a=s[8],a});ic.displayName=Jr.displayName;var ac=v.forwardRef((t,e)=>{const s=(0,tt.c)(9);let r,n;s[0]!==t?({className:r,...n}=t,s[0]=t,s[1]=r,s[2]=n):(r=s[1],n=s[2]);let i;s[3]!==r?(i=Z("inline-flex items-center justify-center rounded-md bg-zinc-900 px-4 py-2 text-sm font-medium text-zinc-50 shadow transition-colors hover:bg-zinc-900/90 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:pointer-events-none disabled:opacity-50 dark:bg-zinc-50 dark:text-zinc-900 dark:hover:bg-zinc-50/90 dark:focus-visible:ring-zinc-300",r),s[3]=r,s[4]=i):i=s[4];let a;return s[5]!==n||s[6]!==e||s[7]!==i?(a=(0,l.jsx)(Xr,{ref:e,className:i,...n}),s[5]=n,s[6]=e,s[7]=i,s[8]=a):a=s[8],a});ac.displayName=Xr.displayName;var oc=v.forwardRef((t,e)=>{const s=(0,tt.c)(9);let r,n;s[0]!==t?({className:r,...n}=t,s[0]=t,s[1]=r,s[2]=n):(r=s[1],n=s[2]);let i;s[3]!==r?(i=Z("inline-flex items-center justify-center rounded-md border border-zinc-200 bg-white px-4 py-2 text-sm font-medium shadow-sm transition-colors hover:bg-zinc-100 hover:text-zinc-900 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:pointer-events-none disabled:opacity-50 dark:border-zinc-800 dark:bg-zinc-950 dark:hover:bg-zinc-800 dark:hover:text-zinc-50 dark:focus-visible:ring-zinc-300",r),s[3]=r,s[4]=i):i=s[4];let a;return s[5]!==n||s[6]!==e||s[7]!==i?(a=(0,l.jsx)(tn,{ref:e,className:i,...n}),s[5]=n,s[6]=e,s[7]=i,s[8]=a):a=s[8],a});oc.displayName=tn.displayName;var Ze=U(),hh=ha,ph=aa;var lc=v.forwardRef((t,e)=>{const s=(0,Ze.c)(14);let r,n,i,a;s[0]!==t?({className:n,inset:i,children:r,...a}=t,s[0]=t,s[1]=r,s[2]=n,s[3]=i,s[4]=a):(r=s[1],n=s[2],i=s[3],a=s[4]);const o=i&&"pl-8";let c;s[5]!==n||s[6]!==o?(c=Z("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-zinc-100 focus:text-zinc-900 data-[state=open]:bg-zinc-100 data-[state=open]:text-zinc-900 dark:focus:bg-zinc-800 dark:focus:text-zinc-50 dark:data-[state=open]:bg-zinc-800 dark:data-[state=open]:text-zinc-50",o,n),s[5]=n,s[6]=o,s[7]=c):c=s[7];let d;s[8]===Symbol.for("react.memo_cache_sentinel")?(d=(0,l.jsx)(Ft,{className:"ml-auto h-4 w-4"}),s[8]=d):d=s[8];let u;return s[9]!==r||s[10]!==a||s[11]!==e||s[12]!==c?(u=(0,l.jsxs)(Wr,{ref:e,className:c,...a,children:[r,d]}),s[9]=r,s[10]=a,s[11]=e,s[12]=c,s[13]=u):u=s[13],u});lc.displayName=Wr.displayName;var cc=v.forwardRef((t,e)=>{const s=(0,Ze.c)(9);let r,n;s[0]!==t?({className:r,...n}=t,s[0]=t,s[1]=r,s[2]=n):(r=s[1],n=s[2]);let i;s[3]!==r?(i=Z("z-50 min-w-[8rem] overflow-hidden rounded-md border border-zinc-200 bg-white p-1 text-zinc-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50",r),s[3]=r,s[4]=i):i=s[4];let a;return s[5]!==n||s[6]!==e||s[7]!==i?(a=(0,l.jsx)(en,{ref:e,className:i,...n}),s[5]=n,s[6]=e,s[7]=i,s[8]=a):a=s[8],a});cc.displayName=en.displayName;var dc=v.forwardRef((t,e)=>{const s=(0,Ze.c)(9);let r,n;s[0]!==t?({className:r,...n}=t,s[0]=t,s[1]=r,s[2]=n):(r=s[1],n=s[2]);let i;s[3]!==r?(i=Z("z-50 min-w-[8rem] overflow-hidden rounded-md border border-zinc-200 bg-white p-1 text-zinc-950 shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50",r),s[3]=r,s[4]=i):i=s[4];let a;return s[5]!==n||s[6]!==e||s[7]!==i?(a=(0,l.jsx)(na,{children:(0,l.jsx)(jr,{ref:e,className:i,...n})}),s[5]=n,s[6]=e,s[7]=i,s[8]=a):a=s[8],a});dc.displayName=jr.displayName;var uc=v.forwardRef((t,e)=>{const s=(0,Ze.c)(11);let r,n,i;s[0]!==t?({className:r,inset:n,...i}=t,s[0]=t,s[1]=r,s[2]=n,s[3]=i):(r=s[1],n=s[2],i=s[3]);const a=n&&"pl-8";let o;s[4]!==r||s[5]!==a?(o=Z("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-zinc-100 focus:text-zinc-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-zinc-800 dark:focus:text-zinc-50",a,r),s[4]=r,s[5]=a,s[6]=o):o=s[6];let c;return s[7]!==i||s[8]!==e||s[9]!==o?(c=(0,l.jsx)(wr,{ref:e,className:o,...i}),s[7]=i,s[8]=e,s[9]=o,s[10]=c):c=s[10],c});uc.displayName=wr.displayName;var mc=v.forwardRef((t,e)=>{const s=(0,Ze.c)(14);let r,n,i,a;s[0]!==t?({className:i,children:n,checked:r,...a}=t,s[0]=t,s[1]=r,s[2]=n,s[3]=i,s[4]=a):(r=s[1],n=s[2],i=s[3],a=s[4]);let o;s[5]!==i?(o=Z("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-zinc-100 focus:text-zinc-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-zinc-800 dark:focus:text-zinc-50",i),s[5]=i,s[6]=o):o=s[6];let c;s[7]===Symbol.for("react.memo_cache_sentinel")?(c=(0,l.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,l.jsx)(Rr,{children:(0,l.jsx)(as,{className:"h-4 w-4"})})}),s[7]=c):c=s[7];let d;return s[8]!==r||s[9]!==n||s[10]!==a||s[11]!==e||s[12]!==o?(d=(0,l.jsxs)(br,{ref:e,className:o,checked:r,...a,children:[c,n]}),s[8]=r,s[9]=n,s[10]=a,s[11]=e,s[12]=o,s[13]=d):d=s[13],d});mc.displayName=br.displayName;var fc=v.forwardRef((t,e)=>{const s=(0,Ze.c)(12);let r,n,i;s[0]!==t?({className:n,children:r,...i}=t,s[0]=t,s[1]=r,s[2]=n,s[3]=i):(r=s[1],n=s[2],i=s[3]);let a;s[4]!==n?(a=Z("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-zinc-100 focus:text-zinc-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-zinc-800 dark:focus:text-zinc-50",n),s[4]=n,s[5]=a):a=s[5];let o;s[6]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,l.jsx)(Rr,{children:(0,l.jsx)(Nr,{className:"h-2 w-2 fill-current"})})}),s[6]=o):o=s[6];let c;return s[7]!==r||s[8]!==i||s[9]!==e||s[10]!==a?(c=(0,l.jsxs)(hr,{ref:e,className:a,...i,children:[o,r]}),s[7]=r,s[8]=i,s[9]=e,s[10]=a,s[11]=c):c=s[11],c});fc.displayName=hr.displayName;var hc=v.forwardRef((t,e)=>{const s=(0,Ze.c)(11);let r,n,i;s[0]!==t?({className:r,inset:n,...i}=t,s[0]=t,s[1]=r,s[2]=n,s[3]=i):(r=s[1],n=s[2],i=s[3]);const a=n&&"pl-8";let o;s[4]!==r||s[5]!==a?(o=Z("px-2 py-1.5 text-sm font-semibold text-zinc-950 dark:text-zinc-50",a,r),s[4]=r,s[5]=a,s[6]=o):o=s[6];let c;return s[7]!==i||s[8]!==e||s[9]!==o?(c=(0,l.jsx)(Lr,{ref:e,className:o,...i}),s[7]=i,s[8]=e,s[9]=o,s[10]=c):c=s[10],c});hc.displayName=Lr.displayName;var pc=v.forwardRef((t,e)=>{const s=(0,Ze.c)(9);let r,n;s[0]!==t?({className:r,...n}=t,s[0]=t,s[1]=r,s[2]=n):(r=s[1],n=s[2]);let i;s[3]!==r?(i=Z("-mx-1 my-1 h-px bg-zinc-200 dark:bg-zinc-800",r),s[3]=r,s[4]=i):i=s[4];let a;return s[5]!==n||s[6]!==e||s[7]!==i?(a=(0,l.jsx)(nn,{ref:e,className:i,...n}),s[5]=n,s[6]=e,s[7]=i,s[8]=a):a=s[8],a});pc.displayName=nn.displayName;var gc=t=>{const e=(0,Ze.c)(8);let s,r;e[0]!==t?({className:s,...r}=t,e[0]=t,e[1]=s,e[2]=r):(s=e[1],r=e[2]);let n;e[3]!==s?(n=Z("ml-auto text-xs tracking-widest text-zinc-500 dark:text-zinc-400",s),e[3]=s,e[4]=n):n=e[4];let i;return e[5]!==r||e[6]!==n?(i=(0,l.jsx)("span",{className:n,...r}),e[5]=r,e[6]=n,e[7]=i):i=e[7],i};gc.displayName="ContextMenuShortcut";var xc=U();function Sn(t){const e=(0,xc.c)(4);let s;e[0]!==t?(s=i=>{const a=window.matchMedia(t);return a.addEventListener("change",i),()=>{a.removeEventListener("change",i)}},e[0]=t,e[1]=s):s=e[1];const r=s;let n;return e[2]!==t?(n=()=>window.matchMedia(t).matches,e[2]=t,e[3]=n):n=e[3],(0,v.useSyncExternalStore)(r,n,yc)}function yc(){return!1}var ft=U(),Cn=ca;var vc=La;var $n=v.forwardRef((t,e)=>{const s=(0,ft.c)(12);let r,n;s[0]!==t?({className:r,...n}=t,s[0]=t,s[1]=r,s[2]=n):(r=s[1],n=s[2]);let i;s[3]!==r?(i=Z("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 duration-200",r),s[3]=r,s[4]=i):i=s[4];let a;s[5]!==n?(a=c=>{c.stopPropagation(),n.onClick?.(c)},s[5]=n,s[6]=a):a=s[6];let o;return s[7]!==n||s[8]!==e||s[9]!==i||s[10]!==a?(o=(0,l.jsx)(on,{ref:e,className:i,onClick:a,...n}),s[7]=n,s[8]=e,s[9]=i,s[10]=a,s[11]=o):o=s[11],o});$n.displayName=on.displayName;var ms=v.forwardRef((t,e)=>{const s=(0,ft.c)(41);let r,n,i,a,o;s[0]!==t?({className:n,children:r,onDragClose:i,showCloseButton:o,...a}=t,s[0]=t,s[1]=r,s[2]=n,s[3]=i,s[4]=a,s[5]=o):(r=s[1],n=s[2],i=s[3],a=s[4],o=s[5]);const c=o===void 0?!0:o,d=Sn("(min-width: 640px)"),u=Ai(),m=ns(0);let p,f;s[6]===Symbol.for("react.memo_cache_sentinel")?(p=[0,200],f=[1,.5],s[6]=p,s[7]=f):(p=s[6],f=s[7]);const h=yt(m,p,f);let g,y;s[8]!==u||s[9]!==d?(g=()=>{d||u.start({y:0,opacity:1,transition:{type:"spring",stiffness:400,damping:35,mass:.8}})},y=[u,d],s[8]=u,s[9]=d,s[10]=g,s[11]=y):(g=s[10],y=s[11]),v.useEffect(g,y);let x;s[12]!==u||s[13]!==d||s[14]!==i?(x=async(M,L)=>{d||(L.offset.y>100||L.velocity.y>300?i?i():document.querySelector("[data-dialog-close]")?.click():u.start({y:0,transition:{type:"spring",stiffness:300,damping:30}}))},s[12]=u,s[13]=d,s[14]=i,s[15]=x):x=s[15];const _=x;let w;s[16]===Symbol.for("react.memo_cache_sentinel")?(w=(0,l.jsx)($n,{}),s[16]=w):w=s[16];const k=d?!1:"y";let b,j;s[17]===Symbol.for("react.memo_cache_sentinel")?(j={top:0,bottom:1e3},b={top:.1,bottom:.6},s[17]=b,s[18]=j):(b=s[17],j=s[18]);const N=d?void 0:u;let S;s[19]!==d||s[20]!==h||s[21]!==m?(S=d?void 0:{y:m,opacity:h},s[19]=d,s[20]=h,s[21]=m,s[22]=S):S=s[22];let C;s[23]!==n?(C=Z("fixed z-50 grid w-full gap-4 bg-white p-6 shadow-lg rounded-3xl dark:bg-zinc-950 sm:left-[50%] sm:top-[50%] sm:max-w-lg sm:translate-x-[-50%] sm:translate-y-[-50%] max-sm:bottom-0 max-sm:left-0 max-sm:rounded-b-none max-sm:max-w-none",n),s[23]=n,s[24]=C):C=s[24];let E,P;s[25]===Symbol.for("react.memo_cache_sentinel")?(E=(0,l.jsx)("div",{className:"flex w-full items-center justify-center pt-2 pb-1 shrink-0 cursor-grab active:cursor-grabbing",children:(0,l.jsx)("div",{className:"h-1.5 w-12 rounded-full bg-zinc-200 dark:bg-zinc-800"})}),P=(0,l.jsx)(ls,{className:"sr-only",children:"Dialog"}),s[25]=E,s[26]=P):(E=s[25],P=s[26]);let A;s[27]!==c?(A=c&&(0,l.jsxs)(ba,{"data-dialog-close":!0,className:"absolute right-4 top-4 rounded-full p-1 opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-zinc-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-zinc-100 data-[state=open]:text-zinc-500 dark:ring-offset-zinc-950 dark:focus:ring-zinc-300 dark:data-[state=open]:bg-zinc-800 dark:data-[state=open]:text-zinc-400",children:[(0,l.jsx)(Nt,{className:"h-4 w-4"}),(0,l.jsx)("span",{className:"sr-only",children:"Close"})]}),s[27]=c,s[28]=A):A=s[28];let $;s[29]!==r||s[30]!==_||s[31]!==N||s[32]!==S||s[33]!==C||s[34]!==A||s[35]!==k?($=(0,l.jsxs)(ge.div,{drag:k,dragConstraints:j,dragElastic:b,onDragEnd:_,animate:N,style:S,className:C,children:[E,P,r,A]}),s[29]=r,s[30]=_,s[31]=N,s[32]=S,s[33]=C,s[34]=A,s[35]=k,s[36]=$):$=s[36];let z;return s[37]!==a||s[38]!==e||s[39]!==$?(z=(0,l.jsxs)(vc,{children:[w,(0,l.jsx)(Hr,{ref:e,asChild:!0,"aria-describedby":void 0,...a,children:$})]}),s[37]=a,s[38]=e,s[39]=$,s[40]=z):z=s[40],z});ms.displayName=Hr.displayName;var fs=t=>{const e=(0,ft.c)(8);let s,r;e[0]!==t?({className:s,...r}=t,e[0]=t,e[1]=s,e[2]=r):(s=e[1],r=e[2]);let n;e[3]!==s?(n=Z("flex flex-col space-y-1.5 text-center sm:text-left",s),e[3]=s,e[4]=n):n=e[4];let i;return e[5]!==r||e[6]!==n?(i=(0,l.jsx)("div",{className:n,...r}),e[5]=r,e[6]=n,e[7]=i):i=e[7],i};fs.displayName="DialogHeader";var hs=t=>{const e=(0,ft.c)(8);let s,r;e[0]!==t?({className:s,...r}=t,e[0]=t,e[1]=s,e[2]=r):(s=e[1],r=e[2]);let n;e[3]!==s?(n=Z("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),e[3]=s,e[4]=n):n=e[4];let i;return e[5]!==r||e[6]!==n?(i=(0,l.jsx)("div",{className:n,...r}),e[5]=r,e[6]=n,e[7]=i):i=e[7],i};hs.displayName="DialogFooter";var ps=v.forwardRef((t,e)=>{const s=(0,ft.c)(9);let r,n;s[0]!==t?({className:r,...n}=t,s[0]=t,s[1]=r,s[2]=n):(r=s[1],n=s[2]);let i;s[3]!==r?(i=Z("text-lg font-semibold leading-none tracking-tight",r),s[3]=r,s[4]=i):i=s[4];let a;return s[5]!==n||s[6]!==e||s[7]!==i?(a=(0,l.jsx)(ls,{ref:e,className:i,...n}),s[5]=n,s[6]=e,s[7]=i,s[8]=a):a=s[8],a});ps.displayName=ls.displayName;var zn=v.forwardRef((t,e)=>{const s=(0,ft.c)(9);let r,n;s[0]!==t?({className:r,...n}=t,s[0]=t,s[1]=r,s[2]=n):(r=s[1],n=s[2]);let i;s[3]!==r?(i=Z("text-sm text-zinc-500 dark:text-zinc-400",r),s[3]=r,s[4]=i):i=s[4];let a;return s[5]!==n||s[6]!==e||s[7]!==i?(a=(0,l.jsx)(Fr,{ref:e,className:i,...n}),s[5]=n,s[6]=e,s[7]=i,s[8]=a):a=s[8],a});zn.displayName=Fr.displayName;var Xe=U(),gh=Ra,xh=sa,yh=Gi;var bc=v.forwardRef((t,e)=>{const s=(0,Xe.c)(14);let r,n,i,a;s[0]!==t?({className:n,inset:i,children:r,...a}=t,s[0]=t,s[1]=r,s[2]=n,s[3]=i,s[4]=a):(r=s[1],n=s[2],i=s[3],a=s[4]);const o=i&&"pl-8";let c;s[5]!==n||s[6]!==o?(c=Z("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-zinc-100 data-[state=open]:bg-zinc-100 dark:focus:bg-zinc-800 dark:data-[state=open]:bg-zinc-800",o,n),s[5]=n,s[6]=o,s[7]=c):c=s[7];let d;s[8]===Symbol.for("react.memo_cache_sentinel")?(d=(0,l.jsx)(Ft,{className:"ml-auto h-4 w-4"}),s[8]=d):d=s[8];let u;return s[9]!==r||s[10]!==a||s[11]!==e||s[12]!==c?(u=(0,l.jsxs)(Ar,{ref:e,className:c,...a,children:[r,d]}),s[9]=r,s[10]=a,s[11]=e,s[12]=c,s[13]=u):u=s[13],u});bc.displayName=Ar.displayName;var _c=v.forwardRef((t,e)=>{const s=(0,Xe.c)(9);let r,n;s[0]!==t?({className:r,...n}=t,s[0]=t,s[1]=r,s[2]=n):(r=s[1],n=s[2]);let i;s[3]!==r?(i=Z("z-50 min-w-[8rem] overflow-hidden rounded-md border border-zinc-200 bg-white p-1 text-zinc-950 shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50",r),s[3]=r,s[4]=i):i=s[4];let a;return s[5]!==n||s[6]!==e||s[7]!==i?(a=(0,l.jsx)(_r,{ref:e,className:i,...n}),s[5]=n,s[6]=e,s[7]=i,s[8]=a):a=s[8],a});_c.displayName=_r.displayName;var wc=v.forwardRef((t,e)=>{const s=(0,Xe.c)(11);let r,n,i;s[0]!==t?({className:r,sideOffset:i,...n}=t,s[0]=t,s[1]=r,s[2]=n,s[3]=i):(r=s[1],n=s[2],i=s[3]);const a=i===void 0?4:i;let o;s[4]!==r?(o=Z("z-50 min-w-[8rem] overflow-hidden rounded-md border border-zinc-200 bg-white p-1 text-zinc-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50",r),s[4]=r,s[5]=o):o=s[5];let c;return s[6]!==n||s[7]!==e||s[8]!==a||s[9]!==o?(c=(0,l.jsx)(Wi,{children:(0,l.jsx)(Gr,{ref:e,sideOffset:a,className:o,...n})}),s[6]=n,s[7]=e,s[8]=a,s[9]=o,s[10]=c):c=s[10],c});wc.displayName=Gr.displayName;var jc=v.forwardRef((t,e)=>{const s=(0,Xe.c)(13);let r,n,i,a;s[0]!==t?({className:r,inset:n,variant:a,...i}=t,s[0]=t,s[1]=r,s[2]=n,s[3]=i,s[4]=a):(r=s[1],n=s[2],i=s[3],a=s[4]);const o=a==="destructive"&&"text-rose-600 focus:bg-rose-50 focus:text-rose-600 dark:text-rose-500 dark:focus:bg-rose-950",c=n&&"pl-8";let d;s[5]!==r||s[6]!==o||s[7]!==c?(d=Z("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-zinc-100 focus:text-zinc-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-zinc-800 dark:focus:text-zinc-50",o,c,r),s[5]=r,s[6]=o,s[7]=c,s[8]=d):d=s[8];let u;return s[9]!==i||s[10]!==e||s[11]!==d?(u=(0,l.jsx)(Cr,{ref:e,className:d,...i}),s[9]=i,s[10]=e,s[11]=d,s[12]=u):u=s[12],u});jc.displayName=Cr.displayName;var Nc=v.forwardRef((t,e)=>{const s=(0,Xe.c)(14);let r,n,i,a;s[0]!==t?({className:i,children:n,checked:r,...a}=t,s[0]=t,s[1]=r,s[2]=n,s[3]=i,s[4]=a):(r=s[1],n=s[2],i=s[3],a=s[4]);let o;s[5]!==i?(o=Z("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-zinc-100 focus:text-zinc-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-zinc-800 dark:focus:text-zinc-50",i),s[5]=i,s[6]=o):o=s[6];let c;s[7]===Symbol.for("react.memo_cache_sentinel")?(c=(0,l.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,l.jsx)(zr,{children:(0,l.jsx)(as,{className:"h-4 w-4"})})}),s[7]=c):c=s[7];let d;return s[8]!==r||s[9]!==n||s[10]!==a||s[11]!==e||s[12]!==o?(d=(0,l.jsxs)(pr,{ref:e,className:o,checked:r,...a,children:[c,n]}),s[8]=r,s[9]=n,s[10]=a,s[11]=e,s[12]=o,s[13]=d):d=s[13],d});Nc.displayName=pr.displayName;var kc=v.forwardRef((t,e)=>{const s=(0,Xe.c)(12);let r,n,i;s[0]!==t?({className:n,children:r,...i}=t,s[0]=t,s[1]=r,s[2]=n,s[3]=i):(r=s[1],n=s[2],i=s[3]);let a;s[4]!==n?(a=Z("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-zinc-100 focus:text-zinc-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-zinc-800 dark:focus:text-zinc-50",n),s[4]=n,s[5]=a):a=s[5];let o;s[6]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,l.jsx)(zr,{children:(0,l.jsx)(Nr,{className:"h-2 w-2 fill-current"})})}),s[6]=o):o=s[6];let c;return s[7]!==r||s[8]!==i||s[9]!==e||s[10]!==a?(c=(0,l.jsxs)(Er,{ref:e,className:a,...i,children:[o,r]}),s[7]=r,s[8]=i,s[9]=e,s[10]=a,s[11]=c):c=s[11],c});kc.displayName=Er.displayName;var Sc=v.forwardRef((t,e)=>{const s=(0,Xe.c)(11);let r,n,i;s[0]!==t?({className:r,inset:n,...i}=t,s[0]=t,s[1]=r,s[2]=n,s[3]=i):(r=s[1],n=s[2],i=s[3]);const a=n&&"pl-8";let o;s[4]!==r||s[5]!==a?(o=Z("px-2 py-1.5 text-sm font-semibold",a,r),s[4]=r,s[5]=a,s[6]=o):o=s[6];let c;return s[7]!==i||s[8]!==e||s[9]!==o?(c=(0,l.jsx)(vr,{ref:e,className:o,...i}),s[7]=i,s[8]=e,s[9]=o,s[10]=c):c=s[10],c});Sc.displayName=vr.displayName;var Cc=v.forwardRef((t,e)=>{const s=(0,Xe.c)(9);let r,n;s[0]!==t?({className:r,...n}=t,s[0]=t,s[1]=r,s[2]=n):(r=s[1],n=s[2]);let i;s[3]!==r?(i=Z("-mx-1 my-1 h-px bg-zinc-100 dark:bg-zinc-800",r),s[3]=r,s[4]=i):i=s[4];let a;return s[5]!==n||s[6]!==e||s[7]!==i?(a=(0,l.jsx)(gr,{ref:e,className:i,...n}),s[5]=n,s[6]=e,s[7]=i,s[8]=a):a=s[8],a});Cc.displayName=gr.displayName;var $c=t=>{const e=(0,Xe.c)(8);let s,r;e[0]!==t?({className:s,...r}=t,e[0]=t,e[1]=s,e[2]=r):(s=e[1],r=e[2]);let n;e[3]!==s?(n=Z("ml-auto text-xs tracking-widest opacity-60",s),e[3]=s,e[4]=n):n=e[4];let i;return e[5]!==r||e[6]!==n?(i=(0,l.jsx)("span",{className:n,...r}),e[5]=r,e[6]=n,e[7]=i):i=e[7],i};$c.displayName="DropdownMenuShortcut";var zc=Object.defineProperty,Ec=(t,e)=>{for(var s in e)zc(t,s,{get:e[s],enumerable:!0})},Ue={};Ec(Ue,{ActiveEmoji:()=>Zn,Empty:()=>Yn,List:()=>Wn,Loading:()=>Jn,Root:()=>In,Search:()=>On,SkinTone:()=>Xn,SkinToneSelector:()=>Gn,Viewport:()=>Bn});var En="'Apple Color Emoji', 'Noto Color Emoji', 'Twemoji Mozilla', 'Android Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', EmojiSymbols, sans-serif",gs=["none","light","medium-light","medium","medium-dark","dark"];function Bt(t){return t.charAt(0).toUpperCase()+t.slice(1)}var Ie=2,ke=null;function Ds(t){try{ke??=document.createElement("canvas").getContext("2d",{willReadFrequently:!0})}catch{}if(!ke||(queueMicrotask(()=>{ke&&(ke=null)}),ke.canvas.width=Ie,ke.canvas.height=Ie,ke.font=`2px ${En}`,ke.textBaseline="middle",ke.measureText(t).width>=Ie*2))return!1;ke.fillStyle="#00f",ke.fillText(t,0,0);let e=ke.getImageData(0,0,Ie,Ie).data;ke.clearRect(0,0,Ie,Ie),ke.fillStyle="#f00",ke.fillText(t,0,0);let s=ke.getImageData(0,0,Ie,Ie).data;for(let r=0;r<Ie*Ie*4;r+=4)if(e[r]!==s[r]||e[r+1]!==s[r+1]||e[r+2]!==s[r+2])return!1;return!0}function Fs(t,e,s){try{let r=t.getItem(e);if(!r)throw new Error(`No value found for "${e}".`);return s(JSON.parse(r))}catch{return null}}function Pn(t,e,s){t.setItem(e,JSON.stringify(s))}function Ts(t){return e=>e===void 0?void 0:t(e)}function qs(t){return e=>e===null?null:t(e)}function we(t){if(typeof t!="string")throw new Error;return t}function zt(t){if(typeof t!="number")throw new Error;return t}function Mn(t){if(typeof t!="boolean")throw new Error;return t}function et(t){return e=>{if(typeof e!="object"||e===null)throw new Error;let s={};for(let r in t){let n=e[r];n===void 0&&t[r](void 0),s[r]=t[r](n)}return s}}function Vt(t){return e=>{if(!Array.isArray(e))throw new Error;return e.length>0&&t(e[0]),e}}var An=(t,e)=>`${t}/${e}/data.json`,Ln=(t,e)=>`${t}/${e}/messages.json`,Pc=["bn","da","de","en-gb","en","es-mx","es","et","fi","fr","hi","hu","it","ja","ko","lt","ms","nb","nl","pl","pt","ru","sv","th","uk","vi","zh-hant","zh"],Is="en",Rn=t=>`frimousse/data/${t}`,Os="frimousse/metadata";async function Bs(t,e){try{return(await fetch(t,{method:"HEAD",signal:e})).headers.get("etag")}catch{return null}}async function Mc(t,e,s){let[{emojis:r,emojisEtag:n},{messages:i,messagesEtag:a}]=await Promise.all([fetch(An(t,e),{signal:s}).then(async o=>({emojis:await o.json(),emojisEtag:o.headers.get("etag")})),fetch(Ln(t,e),{signal:s}).then(async o=>({messages:await o.json(),messagesEtag:o.headers.get("etag")}))]);return{emojis:r,messages:i,emojisEtag:n,messagesEtag:a}}async function Ac(t,e,s){let[r,n]=await Promise.all([Bs(An(t,e),s),Bs(Ln(t,e),s)]);return{emojisEtag:r,messagesEtag:n}}function Lc(t){return t.skins?t.skins.filter(e=>typeof e.tone=="number").reduce((e,s)=>{let r=gs[s.tone];return e[r]=s.emoji,e},{}):void 0}async function Vs(t,e,s){let{emojis:r,emojisEtag:n,messages:i,messagesEtag:a}=await Mc(t,e,s),o=i.subgroups.find(f=>f.key==="country-flag"||f.key==="subdivision-flag"),c=i.groups.filter(f=>f.key!=="component"),d=r.filter(f=>"group"in f),u=c.map(f=>({index:f.order,label:Bt(f.message)})),m=i.skinTones.reduce((f,h)=>(f[h.key]=Bt(h.message),f),{}),p={locale:e,emojis:d.map(f=>({emoji:f.emoji,category:f.group,version:f.version,label:Bt(f.label),tags:f.tags??[],countryFlag:o&&f.subgroup===o.order||void 0,skins:Lc(f)})),categories:u,skinTones:m};return Pn(localStorage,Rn(e),{data:p,metadata:{emojisEtag:n,messagesEtag:a}}),p}function Rc(t,e){let s=new Map;for(let a of t)s.has(a.version)||s.set(a.version,a.emoji);let r=[...s.keys()].sort((a,o)=>o-a),n=r[0]??0,i=Ds("");if(typeof e=="number")return{emojiVersion:e,countryFlags:i};for(let a of r)if(Ds(s.get(a)))return{emojiVersion:a,countryFlags:i};return{emojiVersion:n,countryFlags:i}}var Dc=et({emojiVersion:zt,countryFlags:Mn}),Fc=et({data:et({locale:we,emojis:Vt(et({emoji:we,category:zt,label:we,version:zt,tags:Vt(we),countryFlag:Ts(Mn),skins:Ts(et({light:we,"medium-light":we,medium:we,"medium-dark":we,dark:we}))})),categories:Vt(et({index:zt,label:we})),skinTones:et({light:we,"medium-light":we,medium:we,"medium-dark":we,dark:we})}),metadata:et({emojisEtag:qs(we),messagesEtag:qs(we)})});async function Tc({locale:t,emojiVersion:e,emojibaseUrl:s,signal:r}){let n=typeof s=="string"?s:`https://cdn.jsdelivr.net/npm/emojibase-data@${typeof e=="number"?Math.floor(e):"latest"}`,i=Fs(sessionStorage,Os,Dc),a=Fs(localStorage,Rn(t),Fc),o;if(!a)o=await Vs(n,t,r);else if(i)o=a.data;else try{let{emojisEtag:c,messagesEtag:d}=await Ac(n,t,r);o=!c||!d||c!==a.metadata.emojisEtag||d!==a.metadata.messagesEtag?await Vs(n,t,r):a.data}catch{o=a.data}return i??=Rc(o.emojis,e),Pn(sessionStorage,Os,i),{locale:t,emojis:o.emojis.filter(c=>{let d=c.version<=i.emojiVersion;return c.countryFlag?d&&i.countryFlags:d}),categories:o.categories,skinTones:o.skinTones}}function Hs(t){return Pc.includes(t)?t:(console.warn(`Locale "${t}" is not supported, using "${Is}" instead.`),Is)}function Ks(t){return gs.includes(t)?t:(console.warn(`Skin tone "${t}" is not valid, using "none" instead.`),"none")}function qc(t,e){let s=[];if(e<=0)return s;for(let r=0,n=t.length;r<n;r+=e)s.push(t.slice(r,r+e));return s}function Ic(t,e){if(!e)return t;let s=e.toLowerCase().trim(),r=new WeakMap;return t.filter(n=>{let i=0;n.label.toLowerCase().includes(s)&&(i+=10);for(let a of n.tags)a.toLowerCase().includes(s)&&(i+=1);return i>0?(r.set(n,i),!0):!1}).sort((n,i)=>(r.get(i)??0)-(r.get(n)??0))}function Oc(t,e,s,r){let n=Ic(t.emojis,r),i=[],a=[],o=[],c={},d=0,u=0;for(let m of n)c[m.category]||(c[m.category]=[]),c[m.category].push({emoji:s&&s!=="none"&&m.skins?m.skins[s]:m.emoji,label:m.label});for(let m of t.categories){let p=c[m.index];if(!p||p.length===0)continue;let f=qc(Array.from(p),e).map(h=>({categoryIndex:d,emojis:h}));i.push(...f),a.push({label:m.label,rowsCount:f.length,startRowIndex:u}),o.push(u),d++,u+=f.length}return{count:n.length,categories:a,categoriesStartRowIndices:o,rows:i,skinTones:t.skinTones}}function Bc(t){let e={},s=null,r=null,n=new Set,i=()=>{if(s){e=s,s=null;for(let d of n)d(e)}r=null},a=()=>s??e,o=d=>{s??=e,Object.assign(s,typeof d=="function"?d(a()):d),r||(r=requestAnimationFrame(i))},c=d=>(n.add(d),()=>n.delete(d));return e=t(o,a),{get:a,set:o,subscribe:c}}function Vc(t){let[e]=(0,v.useState)(t);return e}function Hc(t){let e=(0,v.createContext)(null);return{useStore:()=>{let s=(0,v.useContext)(e);if(!s)throw new Error(t);return s},Provider:({store:s,children:r})=>(0,l.jsx)(e.Provider,{value:s,children:r})}}function Re(t,e,s=Object.is){let[r,n]=(0,v.useState)(()=>e(t.get()));return(0,v.useEffect)(()=>t.subscribe(()=>{let i=e(t.get());n(a=>s(a,i)?a:i)}),[t,e,s]),(0,v.useDebugValue)(r),r}function Ke(t,e,s){return Re(t,(0,v.useCallback)(r=>r[e],[e]),s)}var Qs=2;function Kc(t,e,s,r,n){let i=0;return Bc((a,o)=>({locale:e,columns:s,sticky:r,skinTone:n,onEmojiSelect:t,data:null,search:"",interaction:"none",activeColumnIndex:0,activeRowIndex:0,rowHeight:null,categoryHeaderHeight:null,viewportWidth:null,viewportHeight:null,viewportCurrentCategoryIndex:null,viewportStartCategoryIndex:0,viewportStartRowIndex:0,viewportEndRowIndex:0,rootRef:null,searchRef:null,viewportRef:null,listRef:null,updateViewportState:c=>{let d=o(),u=c?.data??d.data,m=c?.categoryHeaderHeight??d.categoryHeaderHeight,p=c?.rowHeight??d.rowHeight,f=c?.viewportHeight??d.viewportHeight;if(!u||u.rows.length===0||!m||!p||!f)return a({...c,viewportStartCategoryIndex:0,viewportStartRowIndex:0,viewportEndRowIndex:0});let h=0,g=0;for(let S of u.categories)if(g++*m+S.startRowIndex*p<i)h+=m;else break;let y=u.categories.length*m+u.rows.length*p,x=Math.floor(Qs*p/2),_=Math.ceil(Qs*p/2),w=Math.min(i-h-x,y-f),k=w+f+_,b=Math.max(0,Math.floor(w/p)),j=Math.min(u.rows.length-1,Math.ceil(k/p)),N=u.rows[b]?.categoryIndex;return a(N===void 0&&c?c:{...c,viewportStartCategoryIndex:N,viewportStartRowIndex:b,viewportEndRowIndex:j})},onDataChange:c=>{o().updateViewportState({data:c,activeColumnIndex:0,activeRowIndex:0})},onSearchChange:c=>{a({search:c,interaction:c?"keyboard":"none"})},onActiveEmojiChange:(c,d,u)=>{if(a({interaction:c,activeColumnIndex:d,activeRowIndex:u}),c!=="keyboard")return;let{listRef:m,viewportRef:p,sticky:f,rowHeight:h,viewportHeight:g,categoryHeaderHeight:y}=o(),x=m?.current,_=p?.current;if(!x||!_||!h||!y||!g)return;let w=u;w===0&&_.scrollTo({top:0,behavior:"instant"});let k=x.querySelector(`[aria-rowindex="${w}"]`);if(!(k instanceof HTMLElement))return;let b=k.offsetTop,j=getComputedStyle(k),N=Number.parseFloat(j.scrollMarginTop),S=Number.parseFloat(j.scrollMarginBottom),C=i+N;f&&b<i+g/2&&(C+=y);let E=C+g-S;(b<C||b+h>E)&&_.scrollTo({top:Math.max(b<C+y?b-Math.max(f?y:0,N):b-g+h+S,0),behavior:"instant"})},onActiveEmojiReset:()=>{a({interaction:"none",activeColumnIndex:0,activeRowIndex:0})},onRowHeightChange:c=>{o().updateViewportState({rowHeight:c})},onCategoryHeaderHeightChange:c=>{o().updateViewportState({categoryHeaderHeight:c})},onViewportSizeChange:(c,d)=>{o().updateViewportState({viewportWidth:c,viewportHeight:d})},onViewportScroll:c=>{i=c,o().updateViewportState()}}))}var{useStore:Me,Provider:Qc}=Hc("EmojiPicker.Root is missing.");function Wc(t){return t.search}function xs(t){return t.interaction==="none"?void 0:t.data?.rows[t.activeRowIndex]?.emojis[t.activeColumnIndex]}function Gc(t){return t.data===void 0||typeof t.data?.count=="number"&&t.data.count===0}function Jc(t){return t.data===null||t.viewportHeight===null||t.rowHeight===null||t.categoryHeaderHeight===null}function Dn(t){return t.data?.rows.length}function Yc(t){return t.data?.categories.length}function Zc(t){return t.data?.categoriesStartRowIndices}function Xc(t){return t.data?.skinTones}function Fn(t,e){return t?.emoji===e?.emoji}function Uc(t,e){return t?.categoryIndex!==e?.categoryIndex||t?.emojis.length!==e?.emojis.length?!1:!!t?.emojis.every((s,r)=>Fn(s,e?.emojis[r]))}var ht="",Ws=/\p{Emoji_Modifier_Base}/u,ed=/\uFE0F$/,td=/\u{1F3FB}|\u{1F3FC}|\u{1F3FD}|\u{1F3FE}|\u{1F3FF}/gu,sd={light:"","medium-light":"",medium:"","medium-dark":"",dark:""};function rd(t,e){if(!t.split(ht).some(r=>Ws.test(r)))return t;let s=t.split(ht).map(r=>r.replace(td,"")).join(ht);return e==="none"?s:s.split(ht).map((r,n,i)=>{let a=i.length>1;return!Ws.test(r)||a&&r===""?r:r.replace(ed,"")+sd[e]}).join(ht)}function nd(t){return gs.map(e=>({skinTone:e,emoji:rd(t,e)}))}function Tn(){return(0,v.useDeferredValue)(Re(Me(),xs,Fn))}function qn(t=""){let e=Me(),s=Ke(e,"skinTone"),r=(0,v.useMemo)(()=>nd(t),[t]);return[s,(0,v.useCallback)(n=>{e.set({skinTone:n})},[]),r]}function ys(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||typeof e!="object"||t===null||e===null||Array.isArray(t)!==Array.isArray(e))return!1;let s=Object.keys(t),r=Object.keys(e);return s.length!==r.length?!1:s.every(n=>n in e&&t[n]===e[n])}function id(...t){}function ad(t,e){let s=null;if(typeof window.requestIdleCallback=="function")s=window.requestIdleCallback(t,e);else{let r=Date.now();s=window.setTimeout(()=>{t({didTimeout:!1,timeRemaining:()=>Math.max(0,(e?.timeout??50)-(Date.now()-r))})},10)}return()=>{typeof window.cancelIdleCallback=="function"?window.cancelIdleCallback(s):window.clearTimeout(s)}}var Oe=typeof window<"u"?v.useLayoutEffect:v.useEffect;function od(t){let e=(0,v.useRef)(t);return Oe(()=>{e.current=t}),(0,v.useCallback)((...s)=>e.current(...s),[])}function ld({emojiVersion:t,emojibaseUrl:e}){let[s,r]=(0,v.useState)(void 0),n=Me(),i=Ke(n,"locale"),a=Ke(n,"columns"),o=Ke(n,"skinTone"),c=Ke(n,"search");return(0,v.useEffect)(()=>{let d=new AbortController,u=d.signal;return Tc({locale:i,emojiVersion:t,emojibaseUrl:e,signal:u}).then(m=>{r(m)}).catch(m=>{u.aborted||console.error(m)}),()=>{d.abort()}},[t,e,i]),(0,v.useEffect)(()=>{if(s)return ad(()=>{n.get().onDataChange(Oc(s,a,o,c))},{timeout:100})},[s,a,o,c]),null}var In=(0,v.forwardRef)(({locale:t="en",columns:e=9,skinTone:s="none",onEmojiSelect:r=id,emojiVersion:n,emojibaseUrl:i,onFocusCapture:a,onBlurCapture:o,children:c,style:d,sticky:u=!0,...m},p)=>{let f=od(r),h=Vc(()=>Kc(f,Hs(t),e,u,Ks(s))),[g,y]=(0,v.useState)(!1),x=(0,v.useRef)(null),_=(0,v.useCallback)(b=>{b&&(x.current=b,h.set({rootRef:x}))},[]);Oe(()=>{h.set({locale:Hs(t)})},[t]),Oe(()=>{h.set({columns:e})},[e]),Oe(()=>{h.set({sticky:u})},[u]),Oe(()=>{h.set({skinTone:Ks(s)})},[s]);let w=(0,v.useCallback)(b=>{a?.(b);let{searchRef:j,viewportRef:N}=h.get(),S=b.target===j?.current||b.target.hasAttribute("frimousse-search"),C=b.target===N?.current||b.target.hasAttribute("frimousse-viewport");b.isDefaultPrevented()||(y(S||C),b.isDefaultPrevented()||(y(S||C),C?h.get().onActiveEmojiChange("keyboard",0,0):S&&h.get().search===""&&h.set({interaction:"none"})))},[a]),k=(0,v.useCallback)(b=>{o?.(b),!b.isDefaultPrevented()&&!b.currentTarget.contains(b.relatedTarget)&&y(!1)},[o]);return Oe(()=>{g||h.get().onActiveEmojiReset()},[g]),(0,v.useImperativeHandle)(p,()=>x.current),(0,v.useEffect)(()=>{if(!g)return;function b(j){if(j.defaultPrevented||!j.key.startsWith("Arrow")&&j.key!=="Enter")return;let{data:N,onEmojiSelect:S,onActiveEmojiChange:C,interaction:E,activeColumnIndex:P,activeRowIndex:A}=h.get();if(j.key==="Enter"){let $=xs(h.get());$&&(j.preventDefault(),S($))}if(j.key.startsWith("Arrow")){let $=P,z=A;if(j.preventDefault(),E!=="none"){if(N?.rows&&N.rows.length>0)switch(j.key){case"ArrowLeft":if($===0){let M=z-1,L=N.rows[M];L&&(z=M,$=L.emojis.length-1)}else $-=1;break;case"ArrowRight":if($===N.rows[z].emojis.length-1){let M=z+1;N.rows[M]&&(z=M,$=0)}else $+=1;break;case"ArrowUp":{let M=N.rows[z-1];M&&(z-=1,M.emojis[$]||($=M.emojis.length-1));break}case"ArrowDown":{let M=N.rows[z+1];M&&(z+=1,M.emojis[$]||($=M.emojis.length-1));break}}C("keyboard",$,z)}else C("keyboard",0,0)}}return document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}},[g]),Oe(()=>{let b=null,j=null,N=null,S=null,C=h.subscribe(z=>{x.current&&(b!==z.viewportWidth&&(b=z.viewportWidth,x.current.style.setProperty("--frimousse-viewport-width",`${z.viewportWidth}px`)),j!==z.viewportHeight&&(j=z.viewportHeight,x.current.style.setProperty("--frimousse-viewport-height",`${z.viewportHeight}px`)),N!==z.rowHeight&&(N=z.rowHeight,x.current.style.setProperty("--frimousse-row-height",`${z.rowHeight}px`)),S!==z.categoryHeaderHeight&&(S=z.categoryHeaderHeight,x.current.style.setProperty("--frimousse-category-header-height",`${z.categoryHeaderHeight}px`)))}),{viewportWidth:E,viewportHeight:P,rowHeight:A,categoryHeaderHeight:$}=h.get();return E&&x.current.style.setProperty("--frimousse-viewport-width",`${E}px`),P&&x.current.style.setProperty("--frimousse-viewport-height",`${P}px`),A&&x.current.style.setProperty("--frimousse-row-height",`${A}px`),$&&x.current.style.setProperty("--frimousse-category-header-height",`${$}px`),C},[]),(0,l.jsx)("div",{"data-focused":g?"":void 0,"frimousse-root":"",onBlurCapture:k,onFocusCapture:w,...m,ref:_,style:{"--frimousse-emoji-font":En,...d},children:(0,l.jsxs)(Qc,{store:h,children:[(0,l.jsx)(ld,{emojiVersion:n,emojibaseUrl:i}),c]})})}),On=(0,v.forwardRef)(({value:t,defaultValue:e,onChange:s,...r},n)=>{let i=Me(),a=(0,v.useRef)(null),o=(0,v.useCallback)(m=>{m&&(a.current=m,i.set({searchRef:a}))},[]),c=typeof t=="string",d=(0,v.useRef)(c);(0,v.useEffect)(()=>{d.current=c},[c]),Oe(()=>{i.set({search:typeof t=="string"?t:typeof e=="string"?e:""})},[]),Oe(()=>{typeof t=="string"&&i.get().onSearchChange(t)},[t]);let u=(0,v.useCallback)(m=>{s?.(m),m.isDefaultPrevented()||i.get().onSearchChange(m.target.value)},[s]);return(0,v.useImperativeHandle)(n,()=>a.current),(0,l.jsx)("input",{autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",enterKeyHint:"done","frimousse-search":"",placeholder:"Search",spellCheck:!1,type:"search",...r,defaultValue:e,onChange:u,ref:o,value:t})}),cd=(0,v.memo)(()=>{let t=Tn();return t?(0,l.jsx)("div",{"aria-live":"polite",style:{border:0,clip:"rect(0, 0, 0, 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:1,wordWrap:"normal"},children:t.label}):null}),Bn=(0,v.forwardRef)(({children:t,onScroll:e,onKeyDown:s,style:r,...n},i)=>{let a=Me(),o=(0,v.useRef)(null),c=(0,v.useCallback)(p=>{p&&(o.current=p,a.set({viewportRef:o}))},[]),d=Re(a,Dn),u=Re(a,Yc),m=(0,v.useCallback)(p=>{e?.(p),a.get().onViewportScroll(p.currentTarget.scrollTop)},[e]);return Oe(()=>{if(!o.current)return;let p=new ResizeObserver(([f])=>{let h=f?.borderBoxSize[0]?.inlineSize??0,g=f?.borderBoxSize[0]?.blockSize??0,{onViewportSizeChange:y,viewportHeight:x,viewportWidth:_}=a.get();(x!==g||_!==h)&&y(h,g)});return p.observe(o.current),a.get().onViewportSizeChange(o.current.offsetWidth,o.current.clientHeight),()=>{p.disconnect()}},[]),(0,v.useImperativeHandle)(i,()=>o.current),(0,l.jsxs)("div",{"frimousse-viewport":"",...n,onScroll:m,ref:c,style:{position:"relative",boxSizing:"border-box",contain:"layout paint",containIntrinsicSize:typeof d=="number"&&typeof u=="number"?`var(--frimousse-viewport-width, auto) calc(${d} * var(--frimousse-row-height) + ${u} * var(--frimousse-category-header-height))`:void 0,overflowY:"auto",overscrollBehavior:"contain",scrollbarGutter:"stable",willChange:"scroll-position",...r},children:[(0,l.jsx)(cd,{}),t]})});function Vn(t,e,s){return{emoji:{...t,isActive:s},role:"gridcell","aria-colindex":e,"aria-selected":s||void 0,"aria-label":t.label,"data-active":s?"":void 0,"frimousse-emoji":"",style:{fontFamily:"var(--frimousse-emoji-font)"},tabIndex:-1}}function Hn(t,e=!1){return{role:e?void 0:"row","aria-rowindex":e?void 0:t,"frimousse-row":"",style:{contain:e?void 0:"content",height:e?void 0:"var(--frimousse-row-height)",display:"flex"}}}function Kn(t,e){return{"frimousse-category":"",style:{contain:"content",top:e?`calc(${t} * var(--frimousse-category-header-height) + ${e.startRowIndex} * var(--frimousse-row-height))`:void 0,height:e?`calc(var(--frimousse-category-header-height) + ${e.rowsCount} * var(--frimousse-row-height))`:void 0,width:"100%",pointerEvents:"none",position:"absolute"}}}function Qn(t,e=!1,s=!0){return{category:t,"frimousse-category-header":"",style:{contain:e?void 0:"layout paint",height:e?void 0:"var(--frimousse-category-header-height)",pointerEvents:"auto",position:s?"sticky":void 0,top:0}}}function Gs(t,e,s,r){return{"frimousse-list-sizer":"",style:{position:"relative",boxSizing:"border-box",height:`calc(${t} * var(--frimousse-row-height) + ${e} * var(--frimousse-category-header-height))`,paddingTop:`calc(${s} * var(--frimousse-row-height) + ${r} * var(--frimousse-category-header-height))`}}}function Js(t,e,s){return{"aria-colcount":t,"aria-rowcount":e,"frimousse-list":"",style:{"--frimousse-list-columns":t,...s},role:"grid"}}function dd(t){t.preventDefault()}var ud=(0,v.memo)(({Emoji:t,emoji:e,columnIndex:s,rowIndex:r})=>{let n=Me(),i=Re(n,d=>xs(d)?.emoji===e.emoji),a=(0,v.useCallback)(()=>{n.get().onEmojiSelect(e)},[e]),o=(0,v.useCallback)(()=>{n.get().onActiveEmojiChange("pointer",s,r)},[s,r]),c=(0,v.useCallback)(()=>{n.get().onActiveEmojiReset()},[]);return(0,l.jsx)(t,{...Vn(e,s,i),onClick:a,onPointerDown:dd,onPointerEnter:o,onPointerLeave:c})}),md=(0,v.memo)(({Row:t,Emoji:e,rowIndex:s})=>{let r=Re(Me(),n=>n.data?.rows[s],Uc);return r?(0,l.jsx)(t,{...Hn(s),children:r.emojis.map((n,i)=>(0,l.jsx)(ud,{Emoji:e,columnIndex:i,emoji:n,rowIndex:s},n.label))}):null}),fd=(0,v.memo)(({CategoryHeader:t,categoryIndex:e})=>{let s=Me(),r=Re(s,i=>i.data?.categories[e],ys),n=Ke(s,"sticky");return r?(0,l.jsx)("div",{...Kn(e,r),children:(0,l.jsx)(t,{...Qn({label:r.label},!1,n)})}):null}),Ys=(0,v.memo)(({CategoryHeader:t,Row:e,Emoji:s})=>{let r=(0,v.useRef)(null),n=Me(),i=Ke(n,"columns"),a=(0,v.useMemo)(()=>Array(i).fill({emoji:"",label:""}),[i]),o=(0,v.useMemo)(()=>({label:"Category"}),[]),c=(0,v.useRef)(null),d=(0,v.useRef)(null);return Oe(()=>{let u=r.current?.parentElement?.parentElement;if(!u||!c.current||!d.current)return;let m=new ResizeObserver(h=>{for(let g of h){let y=g.contentRect.height,{onRowHeightChange:x,onCategoryHeaderHeightChange:_,rowHeight:w,categoryHeaderHeight:k}=n.get();g.target===c.current&&w!==y&&x(y),g.target===d.current&&k!==y&&_(y)}});m.observe(u),m.observe(c.current),m.observe(d.current);let{onRowHeightChange:p,onCategoryHeaderHeightChange:f}=n.get();return p(c.current.clientHeight),f(d.current.clientHeight),()=>{m.disconnect()}},[]),(0,l.jsxs)("div",{"aria-hidden":!0,ref:r,style:{height:0,visibility:"hidden"},children:[(0,l.jsx)("div",{"frimousse-row-sizer":"",ref:c,children:(0,l.jsx)(e,{...Hn(-1,!0),children:a.map((u,m)=>(0,l.jsx)(s,{...Vn(u,m,!1)},m))})}),(0,l.jsx)("div",{...Kn(-1),children:(0,l.jsx)("div",{"frimousse-category-header-sizer":"",ref:d,children:(0,l.jsx)(t,{...Qn(o,!0)})})})]})});function hd({category:t,...e}){return(0,l.jsx)("div",{...e,children:t.label})}function pd({emoji:t,...e}){return(0,l.jsx)("button",{type:"button",...e,children:t.emoji})}function gd({...t}){return(0,l.jsx)("div",{...t})}var Wn=(0,v.forwardRef)(({style:t,components:e,...s},r)=>{let n=Me(),i=(0,v.useRef)(null),a=(0,v.useCallback)(x=>{x&&(i.current=x,n.set({listRef:i}))},[]),o=e?.CategoryHeader??hd,c=e?.Emoji??pd,d=e?.Row??gd,u=Ke(n,"columns"),m=Ke(n,"viewportStartRowIndex"),p=Ke(n,"viewportEndRowIndex"),f=Re(n,Dn),h=Re(n,Zc,ys),g=(0,v.useMemo)(()=>h?.filter(x=>x<m).length??0,[h,m]),y=h?.length??0;return(0,v.useImperativeHandle)(r,()=>i.current),!f||!h||y===0?(0,l.jsx)("div",{...Js(u,0,t),...s,children:(0,l.jsx)("div",{...Gs(0,0,0,0),children:(0,l.jsx)(Ys,{CategoryHeader:o,Emoji:c,Row:d})})}):(0,l.jsx)("div",{...Js(u,f,t),...s,ref:a,children:(0,l.jsxs)("div",{...Gs(f,y,m,g),children:[(0,l.jsx)(Ys,{CategoryHeader:o,Emoji:c,Row:d}),Array.from({length:p-m+1},(x,_)=>{let w=m+_;return(0,l.jsxs)(v.Fragment,{children:[h.indexOf(w)>=0&&(0,l.jsx)("div",{style:{height:"var(--frimousse-category-header-height)"}}),(0,l.jsx)(md,{Emoji:c,Row:d,rowIndex:w})]},w)}),Array.from({length:y},(x,_)=>(0,l.jsx)(fd,{CategoryHeader:o,categoryIndex:_},_))]})})}),Gn=(0,v.forwardRef)(({emoji:t,onClick:e,"aria-label":s="Change skin tone",...r},n)=>{let i=Re(Me(),Xc,ys),[a,o,c]=qn(t),d=(0,v.useMemo)(()=>Math.max(0,c.findIndex(g=>g.skinTone===a)),[a,c]),u=c[d],m=c[(d+1)%c.length].skinTone,p=a==="none"?void 0:i?.[a],f=m==="none"?void 0:i?.[m],h=(0,v.useCallback)(g=>{e?.(g),g.isDefaultPrevented()||o(m)},[e,o,m]);return(0,l.jsx)("button",{type:"button",...r,"aria-label":s+(f?` (${f})`:""),"aria-live":"polite","aria-valuetext":p,"frimousse-skin-tone-selector":"",onClick:h,ref:n,children:u.emoji})});function Jn({children:t,...e}){return Re(Me(),Jc)?(0,l.jsx)("span",{"frimousse-loading":"",...e,children:t}):null}function xd({children:t}){return t({search:Re(Me(),Wc)})}function Yn({children:t,...e}){return Re(Me(),Gc)?(0,l.jsx)("span",{"frimousse-empty":"",...e,children:typeof t=="function"?(0,l.jsx)(xd,{children:t}):t}):null}function Zn({children:t}){return t({emoji:Tn()})}function Xn({children:t,emoji:e}){let[s,r,n]=qn(e);return t({skinTone:s,setSkinTone:r,skinToneVariations:n})}In.displayName="EmojiPicker.Root";On.displayName="EmojiPicker.Search";Bn.displayName="EmojiPicker.Viewport";Wn.displayName="EmojiPicker.List";Jn.displayName="EmojiPicker.Loading";Yn.displayName="EmojiPicker.Empty";Gn.displayName="EmojiPicker.SkinToneSelector";Zn.displayName="EmojiPicker.ActiveEmoji";Xn.displayName="EmojiPicker.SkinTone";var yd=U(),vd=t=>{const e=(0,yd.c)(10),{onEmojiSelect:s,className:r}=t;let n;e[0]!==r?(n=Z("isolate flex h-[350px] w-[320px] flex-col overflow-hidden rounded-xl border border-zinc-200 bg-white shadow-xl dark:border-zinc-800 dark:bg-zinc-950",r),e[0]=r,e[1]=n):n=e[1];let i;e[2]===Symbol.for("react.memo_cache_sentinel")?(i=(0,l.jsx)(Ue.Search,{className:"z-10 mx-3 mt-3 appearance-none rounded-lg border-none bg-zinc-100 px-3 py-2 text-sm outline-none placeholder:text-zinc-500 focus:ring-1 focus:ring-violet-500 dark:bg-zinc-900 dark:text-white",placeholder:"Search emojis..."}),e[2]=i):i=e[2];let a,o;e[3]===Symbol.for("react.memo_cache_sentinel")?(a=(0,l.jsx)(Ue.Loading,{className:"absolute inset-0 flex items-center justify-center text-sm text-zinc-400 dark:text-zinc-500",children:"Loading"}),o=(0,l.jsx)(Ue.Empty,{className:"absolute inset-0 flex items-center justify-center text-sm text-zinc-400 dark:text-zinc-500",children:"No emoji found."}),e[3]=a,e[4]=o):(a=e[3],o=e[4]);let c,d;e[5]===Symbol.for("react.memo_cache_sentinel")?(c=(0,l.jsxs)(Ue.Viewport,{className:"relative flex-1 outline-none no-scrollbar",children:[a,o,(0,l.jsx)(Ue.List,{className:"select-none pb-2",components:{CategoryHeader:bd,Row:_d,Emoji:wd}})]}),d=(0,l.jsx)(Ue.ActiveEmoji,{children:jd}),e[5]=c,e[6]=d):(c=e[5],d=e[6]);let u;return e[7]!==s||e[8]!==n?(u=(0,l.jsxs)(Ue.Root,{onEmojiSelect:s,className:n,children:[i,c,d]}),e[7]=s,e[8]=n,e[9]=u):u=e[9],u},vh=vd;function bd(t){const{category:e,...s}=t;return(0,l.jsx)("div",{className:"bg-white/80 px-4 pb-1.5 pt-4 text-[11px] font-bold uppercase tracking-wider text-zinc-500 backdrop-blur-sm dark:bg-zinc-950/80 dark:text-zinc-400",...s,children:e.label})}function _d(t){const{children:e,...s}=t;return(0,l.jsx)("div",{className:"scroll-my-1 px-2",...s,children:e})}function wd(t){const{emoji:e,...s}=t;return(0,l.jsx)("button",{className:"flex aspect-square size-9 items-center justify-center rounded-lg text-xl transition-colors hover:bg-zinc-100 data-[active]:bg-violet-500/10 data-[active]:text-violet-500 dark:hover:bg-zinc-900 dark:data-[active]:bg-violet-500/20",...s,children:e.emoji})}function jd(t){const{emoji:e}=t;return(0,l.jsx)("div",{className:"flex items-center gap-3 border-t border-zinc-100 p-3 dark:border-zinc-800",children:e?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"text-2xl",children:e.emoji}),(0,l.jsx)("span",{className:"truncate text-xs font-bold text-zinc-600 dark:text-zinc-400",children:e.label.replace(/:/g,"").replace(/_/g," ")})]}):(0,l.jsx)("span",{className:"text-xs font-medium text-zinc-400",children:"Select an emoji..."})})}var Nd=U(),kd=t=>{const e=(0,Nd.c)(33),{src:s,isOpen:r,onClose:n,onCropComplete:i,aspect:a,circular:o}=t,[c,d]=(0,v.useState)(),[u,m]=(0,v.useState)(null),p=(0,v.useRef)(null);let f;e[0]!==a?(f=A=>{const{width:$,height:z}=A.currentTarget;d(a?Li(Di({unit:"%",width:100},a,$,z),$,z):{unit:"%",width:100,height:100,x:0,y:0})},e[0]=a,e[1]=f):f=e[1];const h=f;let g;e[2]!==u||e[3]!==n||e[4]!==i?(g=async()=>{if(u&&p.current)try{i(await Ba(p.current,u)),n()}catch(A){console.error("Error cropping image:",A)}},e[2]=u,e[3]=n,e[4]=i,e[5]=g):g=e[5];const y=g;let x;e[6]!==n?(x=A=>!A&&n(),e[6]=n,e[7]=x):x=e[7];let _;e[8]===Symbol.for("react.memo_cache_sentinel")?(_=(0,l.jsx)(fs,{className:"shrink-0 p-4",children:(0,l.jsx)(ps,{children:"Crop Image"})}),e[8]=_):_=e[8];let w,k;e[9]===Symbol.for("react.memo_cache_sentinel")?(w=A=>d(A),k=A=>m(A),e[9]=w,e[10]=k):(w=e[9],k=e[10]);let b;e[11]!==h||e[12]!==s?(b=(0,l.jsx)("img",{ref:p,src:s,alt:"Crop preview",onLoad:h,className:"block max-h-[60vh] w-auto"}),e[11]=h,e[12]=s,e[13]=b):b=e[13];let j;e[14]!==a||e[15]!==o||e[16]!==c||e[17]!==b?(j=(0,l.jsx)("div",{className:"flex max-h-[65vh] min-h-[300px] items-center justify-center overflow-auto bg-zinc-100/50 p-6 dark:bg-zinc-950/50",children:(0,l.jsx)(Ti,{crop:c,onChange:w,onComplete:k,aspect:a,circularCrop:o,className:"max-w-full shadow-2xl",children:b})}),e[14]=a,e[15]=o,e[16]=c,e[17]=b,e[18]=j):j=e[18];let N;e[19]!==n?(N=(0,l.jsx)(We,{variant:"outline",onClick:n,className:"!w-auto px-6",children:"Cancel"}),e[19]=n,e[20]=N):N=e[20];let S;e[21]!==y?(S=(0,l.jsx)(We,{onClick:y,className:"!w-auto px-6",children:"Apply Crop"}),e[21]=y,e[22]=S):S=e[22];let C;e[23]!==S||e[24]!==N?(C=(0,l.jsxs)(hs,{className:"flex shrink-0 flex-row justify-end gap-2 bg-white p-4 dark:bg-zinc-900",children:[N,S]}),e[23]=S,e[24]=N,e[25]=C):C=e[25];let E;e[26]!==C||e[27]!==j?(E=(0,l.jsxs)(ms,{className:"overflow-hidden bg-white p-0 sm:max-w-2xl dark:bg-zinc-900",children:[_,j,C]}),e[26]=C,e[27]=j,e[28]=E):E=e[28];let P;return e[29]!==r||e[30]!==E||e[31]!==x?(P=(0,l.jsx)(Cn,{open:r,onOpenChange:x,children:E}),e[29]=r,e[30]=E,e[31]=x,e[32]=P):P=e[32],P},bh=kd,Sd=U(),Cd=t=>{const e=(0,Sd.c)(104),{media:s,currentIndex:r,onClose:n,onNavigate:i}=t,a=r===void 0?0:r,[o,c]=(0,v.useState)(1),d=ns(0);let u,m;e[0]===Symbol.for("react.memo_cache_sentinel")?(u=[-200,0,200],m=[.5,1,.5],e[0]=u,e[1]=m):(u=e[0],m=e[1]);const p=yt(d,u,m);let f,h;e[2]===Symbol.for("react.memo_cache_sentinel")?(f=[-200,0,200],h=[.8,1,.8],e[2]=f,e[3]=h):(f=e[2],h=e[3]);const g=yt(d,f,h);let y;e[4]===Symbol.for("react.memo_cache_sentinel")?(y=()=>c(1),e[4]=y):y=e[4];const x=y;let _;e[5]!==a||e[6]!==i?(_=()=>{a>0&&(x(),i(a-1))},e[5]=a,e[6]=i,e[7]=_):_=e[7];const w=_;let k;e[8]!==a||e[9]!==s?.length||e[10]!==i?(k=()=>{a<(s?.length||0)-1&&(x(),i(a+1))},e[8]=a,e[9]=s?.length,e[10]=i,e[11]=k):k=e[11],s?.length;const b=k;let j;e[12]!==b||e[13]!==w||e[14]!==n?(j=()=>{const me=oe=>{oe.key==="Escape"&&n(),oe.key==="ArrowLeft"&&w(),oe.key==="ArrowRight"&&b()};return window.addEventListener("keydown",me),()=>window.removeEventListener("keydown",me)},e[12]=b,e[13]=w,e[14]=n,e[15]=j):j=e[15];let N;if(e[16]!==a||e[17]!==b||e[18]!==w||e[19]!==n?(N=[a,n,w,b],e[16]=a,e[17]=b,e[18]=w,e[19]=n,e[20]=N):N=e[20],(0,v.useEffect)(j,N),!s||s.length===0)return null;const S=s[a],C=typeof S!="string"&&S.type==="video",E=typeof S=="string"?S:S.url,P=s.length>1;let A;e[21]!==E||e[22]!==C?(A=me=>{me.stopPropagation();const oe=document.createElement("a");oe.href=E,oe.download=`threads-${Date.now()}${C?".mp4":".jpg"}`,document.body.appendChild(oe),oe.click(),document.body.removeChild(oe)},e[21]=E,e[22]=C,e[23]=A):A=e[23];const $=A;let z,M,L;e[24]===Symbol.for("react.memo_cache_sentinel")?(z={opacity:0},M={opacity:1},L={opacity:0},e[24]=z,e[25]=M,e[26]=L):(z=e[24],M=e[25],L=e[26]);let R;e[27]!==p?(R={opacity:p},e[27]=p,e[28]=R):R=e[28];const T=P?`${a+1} / ${s.length}`:C?"Video":"Image";let F;e[29]!==T?(F=(0,l.jsx)("div",{className:"flex flex-col text-white",children:(0,l.jsx)("span",{className:"text-lg font-bold drop-shadow-md",children:T})}),e[29]=T,e[30]=F):F=e[30];let K;e[31]!==C?(K=!C&&(0,l.jsx)("button",{onClick:x,className:"rounded-full p-2 text-white transition-colors hover:bg-white/10 active:scale-90",children:(0,l.jsx)(Xi,{size:20})}),e[31]=C,e[32]=K):K=e[32];let W;e[33]===Symbol.for("react.memo_cache_sentinel")?(W=(0,l.jsx)(Qi,{size:20}),e[33]=W):W=e[33];let J;e[34]!==$?(J=(0,l.jsx)("button",{onClick:$,className:"rounded-full p-2 text-white transition-colors hover:bg-white/10 active:scale-90",children:W}),e[34]=$,e[35]=J):J=e[35];let X;e[36]===Symbol.for("react.memo_cache_sentinel")?(X=(0,l.jsx)(Nt,{size:24}),e[36]=X):X=e[36];let te;e[37]!==n?(te=(0,l.jsx)("button",{onClick:n,className:"rounded-full bg-white/10 p-2 text-white transition-all hover:bg-white/20 active:scale-90",children:X}),e[37]=n,e[38]=te):te=e[38];let H;e[39]!==K||e[40]!==J||e[41]!==te?(H=(0,l.jsxs)("div",{className:"flex items-center gap-3",onClick:zd,children:[K,J,te]}),e[39]=K,e[40]=J,e[41]=te,e[42]=H):H=e[42];let B;e[43]!==R||e[44]!==F||e[45]!==H?(B=(0,l.jsxs)(ge.div,{style:R,className:"absolute left-0 right-0 top-0 z-20 flex items-center justify-between bg-gradient-to-b from-black/60 to-transparent p-4",children:[F,H]}),e[43]=R,e[44]=F,e[45]=H,e[46]=B):B=e[46];let V;e[47]!==a||e[48]!==w||e[49]!==P||e[50]!==o?(V=P&&a>0&&o===1&&(0,l.jsx)("button",{onClick:me=>{me.stopPropagation(),w()},className:"absolute left-6 z-10 hidden rounded-full bg-white/5 p-4 text-white backdrop-blur-sm transition-all hover:bg-white/10 active:scale-90 md:flex",children:(0,l.jsx)(fa,{size:32})}),e[47]=a,e[48]=w,e[49]=P,e[50]=o,e[51]=V):V=e[51];const Q=o===1?"y":!1;let q;e[52]===Symbol.for("react.memo_cache_sentinel")?(q={top:0,bottom:0},e[52]=q):q=e[52];let Y;e[53]!==d||e[54]!==p||e[55]!==g?(Y={y:d,opacity:p,scale:g},e[53]=d,e[54]=p,e[55]=g,e[56]=Y):Y=e[56];let O;e[57]!==n?(O=(me,oe)=>{(Math.abs(oe.offset.y)>100||Math.abs(oe.velocity.y)>500)&&n()},e[57]=n,e[58]=O):O=e[58];let I,G,ee,re;e[59]===Symbol.for("react.memo_cache_sentinel")?(I={opacity:0,x:50,scale:.9},G={opacity:1,x:0,scale:1},ee={opacity:0,x:-50,scale:.9},re={type:"spring",stiffness:300,damping:30},e[59]=I,e[60]=G,e[61]=ee,e[62]=re):(I=e[59],G=e[60],ee=e[61],re=e[62]);const se=o===1?"x":!1;let ce;e[63]===Symbol.for("react.memo_cache_sentinel")?(ce={left:0,right:0},e[63]=ce):ce=e[63];let de;e[64]!==b||e[65]!==w?(de=(me,oe)=>{oe.offset.x>100?w():oe.offset.x<-100&&b()},e[64]=b,e[65]=w,e[66]=de):de=e[66];let ie;e[67]!==E||e[68]!==C||e[69]!==o?(ie=C?(0,l.jsx)("video",{src:E,controls:!0,autoPlay:!0,className:"max-h-full max-w-full rounded-lg shadow-2xl"}):(0,l.jsx)(ge.img,{src:E,animate:{scale:o},className:"max-h-full max-w-full select-none rounded-lg object-contain shadow-2xl pointer-events-none",alt:""}),e[67]=E,e[68]=C,e[69]=o,e[70]=ie):ie=e[70];let fe;e[71]!==a||e[72]!==se||e[73]!==de||e[74]!==ie?(fe=(0,l.jsx)(Et,{mode:"wait",children:(0,l.jsx)(ge.div,{initial:I,animate:G,exit:ee,transition:re,className:"flex h-full w-full items-center justify-center p-4",drag:se,dragConstraints:ce,onDragEnd:de,children:ie},a)}),e[71]=a,e[72]=se,e[73]=de,e[74]=ie,e[75]=fe):fe=e[75];let be;e[76]!==Q||e[77]!==Y||e[78]!==O||e[79]!==fe?(be=(0,l.jsx)(ge.div,{drag:Q,dragConstraints:q,dragElastic:.8,style:Y,onDragEnd:O,className:"relative flex h-full w-full items-center justify-center",onClick:Ed,children:fe}),e[76]=Q,e[77]=Y,e[78]=O,e[79]=fe,e[80]=be):be=e[80];let _e;e[81]!==a||e[82]!==b||e[83]!==P||e[84]!==s.length||e[85]!==o?(_e=P&&a<s.length-1&&o===1&&(0,l.jsx)("button",{onClick:me=>{me.stopPropagation(),b()},className:"absolute right-6 z-10 hidden rounded-full bg-white/5 p-4 text-white backdrop-blur-sm transition-all hover:bg-white/10 active:scale-90 md:flex",children:(0,l.jsx)(Ft,{size:32})}),e[81]=a,e[82]=b,e[83]=P,e[84]=s.length,e[85]=o,e[86]=_e):_e=e[86];let Ee;e[87]!==V||e[88]!==be||e[89]!==_e?(Ee=(0,l.jsxs)("div",{className:"relative flex h-full w-full items-center justify-center",children:[V,be,_e]}),e[87]=V,e[88]=be,e[89]=_e,e[90]=Ee):Ee=e[90];let Ne;e[91]!==a||e[92]!==P||e[93]!==s||e[94]!==i||e[95]!==o?(Ne=P&&o===1&&(0,l.jsx)(ge.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"hide-scrollbar absolute bottom-8 flex max-w-[90%] gap-3 overflow-x-auto rounded-2xl border border-white/10 bg-black/40 p-3 backdrop-blur-xl z-30",onClick:Pd,children:s.map((me,oe)=>{const $e=typeof me=="string"?me:me.url,Ge=typeof me!="string"&&me.poster?me.poster:$e;return(0,l.jsx)("button",{onClick:()=>{x(),i(oe)},className:`size-14 shrink-0 overflow-hidden rounded-xl border-2 transition-all active:scale-90 ${oe===a?"scale-110 border-white shadow-lg shadow-white/20":"border-transparent opacity-40 hover:opacity-100"}`,children:(0,l.jsx)("img",{src:Ge,className:"size-full object-cover",alt:""})},oe)})}),e[91]=a,e[92]=P,e[93]=s,e[94]=i,e[95]=o,e[96]=Ne):Ne=e[96];let Ce;e[97]!==Ne?(Ce=(0,l.jsx)(Et,{children:Ne}),e[97]=Ne,e[98]=Ce):Ce=e[98];let Pe;return e[99]!==n||e[100]!==B||e[101]!==Ee||e[102]!==Ce?(Pe=(0,l.jsxs)(ge.div,{initial:z,animate:M,exit:L,className:"fixed inset-0 z-[100] flex flex-col items-center justify-center bg-black/95 backdrop-blur-md touch-none",onClick:n,children:[B,Ee,Ce]}),e[99]=n,e[100]=B,e[101]=Ee,e[102]=Ce,e[103]=Pe):Pe=e[103],Pe},$d=Cd;function zd(t){return t.stopPropagation()}function Ed(t){return t.stopPropagation()}function Pd(t){return t.stopPropagation()}var Md=U(),Un=v.forwardRef((t,e)=>{const s=(0,Md.c)(20);let r,n,i,a,o;s[0]!==t?({className:r,label:n,type:o,textarea:a,...i}=t,s[0]=t,s[1]=r,s[2]=n,s[3]=i,s[4]=a,s[5]=o):(r=s[1],n=s[2],i=s[3],a=s[4],o=s[5]);const c=a?"textarea":"input";let d;s[6]!==n?(d=n&&(0,l.jsx)("label",{className:"text-sm font-bold text-zinc-500 dark:text-zinc-400 ml-1",children:n}),s[6]=n,s[7]=d):d=s[7];const u=a&&"min-h-[120px] resize-none";let m;s[8]!==r||s[9]!==u?(m=Z("flex w-full rounded-2xl border-none bg-zinc-50 dark:bg-zinc-900 px-4 py-3 text-[15px] ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-zinc-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-violet-500/20 focus-visible:border-violet-500 disabled:cursor-not-allowed disabled:opacity-50 dark:ring-offset-zinc-950 dark:text-white transition-all shadow-sm",u,r),s[8]=r,s[9]=u,s[10]=m):m=s[10];const p=e;let f;s[11]!==c||s[12]!==i||s[13]!==m||s[14]!==p||s[15]!==o?(f=(0,l.jsx)(c,{type:o,className:m,ref:p,...i}),s[11]=c,s[12]=i,s[13]=m,s[14]=p,s[15]=o,s[16]=f):f=s[16];let h;return s[17]!==d||s[18]!==f?(h=(0,l.jsxs)("div",{className:"w-full space-y-1.5",children:[d,f]}),s[17]=d,s[18]=f,s[19]=h):h=s[19],h});Un.displayName="Input";var Ad=Un,Ld=U(),Rd=t=>{const e=(0,Ld.c)(28),{isOpen:s,onClose:r,title:n,children:i,footer:a,description:o,className:c}=t;let d;e[0]!==r?(d=b=>{b||r()},e[0]=r,e[1]=d):d=e[1];const u=d;let m;e[2]!==c?(m=Z("flex max-h-[calc(100dvh-1rem)] flex-col gap-0 overflow-hidden bg-white p-0 sm:max-w-md dark:bg-zinc-900",c),e[2]=c,e[3]=m):m=e[3];const p=!n&&"sr-only";let f;e[4]!==p?(f=Z("shrink-0 px-5 py-4",p),e[4]=p,e[5]=f):f=e[5];let h;e[6]!==n?(h=(0,l.jsx)(ps,{className:"text-center text-lg font-bold",children:n}),e[6]=n,e[7]=h):h=e[7];let g;e[8]!==o?(g=o&&(0,l.jsx)(zn,{className:"text-center",children:o}),e[8]=o,e[9]=g):g=e[9];let y;e[10]!==f||e[11]!==h||e[12]!==g?(y=(0,l.jsxs)(fs,{className:f,children:[h,g]}),e[10]=f,e[11]=h,e[12]=g,e[13]=y):y=e[13];let x;e[14]!==i?(x=(0,l.jsx)("div",{className:"flex min-h-0 flex-1 flex-col overflow-hidden",children:i}),e[14]=i,e[15]=x):x=e[15];let _;e[16]!==a?(_=a&&(0,l.jsx)(hs,{className:"shrink-0 bg-white px-5 py-4 dark:bg-zinc-900",children:a}),e[16]=a,e[17]=_):_=e[17];let w;e[18]!==r||e[19]!==m||e[20]!==y||e[21]!==x||e[22]!==_?(w=(0,l.jsxs)(ms,{onDragClose:r,"aria-describedby":void 0,className:m,children:[y,x,_]}),e[18]=r,e[19]=m,e[20]=y,e[21]=x,e[22]=_,e[23]=w):w=e[23];let k;return e[24]!==u||e[25]!==s||e[26]!==w?(k=(0,l.jsx)(Cn,{open:s,onOpenChange:u,children:w}),e[24]=u,e[25]=s,e[26]=w,e[27]=k):k=e[27],k},vs=Rd,Dd=U(),Fd=t=>{const e=(0,Dd.c)(20),{title:s,message:r,icon:n,showHome:i,showBack:a}=t,o=s===void 0?"Not Found":s,c=r===void 0?"The content you are looking for doesn't exist or has been removed.":r,d=n===void 0?ia:n,u=i===void 0?!0:i,m=a===void 0?!0:a,p=De();let f;e[0]!==d?(f=(0,l.jsx)("div",{className:"mb-6 rounded-full bg-zinc-100 p-6 dark:bg-zinc-900",children:(0,l.jsx)(d,{size:48,className:"text-zinc-400 dark:text-zinc-600"})}),e[0]=d,e[1]=f):f=e[1];let h;e[2]!==o?(h=(0,l.jsx)("h2",{className:"mb-2 text-2xl font-black dark:text-white",children:o}),e[2]=o,e[3]=h):h=e[3];let g;e[4]!==c?(g=(0,l.jsx)("p",{className:"mb-8 max-w-xs leading-relaxed text-zinc-500 dark:text-zinc-400",children:c}),e[4]=c,e[5]=g):g=e[5];let y;e[6]!==p||e[7]!==m?(y=m&&(0,l.jsxs)(We,{variant:"secondary",onClick:()=>p(-1),className:"rounded-full px-6",children:[(0,l.jsx)(Tt,{size:18,className:"mr-2"}),"Go Back"]}),e[6]=p,e[7]=m,e[8]=y):y=e[8];let x;e[9]!==p||e[10]!==u?(x=u&&(0,l.jsxs)(We,{onClick:()=>p("/"),className:"rounded-full bg-zinc-900 px-6 text-white dark:bg-white dark:text-zinc-900",children:[(0,l.jsx)($r,{size:18,className:"mr-2"}),"Home"]}),e[9]=p,e[10]=u,e[11]=x):x=e[11];let _;e[12]!==x||e[13]!==y?(_=(0,l.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-3",children:[y,x]}),e[12]=x,e[13]=y,e[14]=_):_=e[14];let w;return e[15]!==_||e[16]!==f||e[17]!==h||e[18]!==g?(w=(0,l.jsxs)("div",{className:"animate-in fade-in zoom-in-95 flex min-h-[400px] flex-col items-center justify-center p-8 text-center duration-300",children:[f,h,g,_]}),e[15]=_,e[16]=f,e[17]=h,e[18]=g,e[19]=w):w=e[19],w},_h=Fd,Td=U(),wh=Yi,jh=wa;var qd=v.forwardRef((t,e)=>{const s=(0,Td.c)(13);let r,n,i,a;s[0]!==t?({className:r,align:i,sideOffset:a,...n}=t,s[0]=t,s[1]=r,s[2]=n,s[3]=i,s[4]=a):(r=s[1],n=s[2],i=s[3],a=s[4]);const o=i===void 0?"center":i,c=a===void 0?4:a;let d;s[5]!==r?(d=Z("z-50 w-72 rounded-md bg-white p-4 text-zinc-950 shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:bg-zinc-950 dark:text-zinc-50",r),s[5]=r,s[6]=d):d=s[6];let u;return s[7]!==o||s[8]!==n||s[9]!==e||s[10]!==c||s[11]!==d?(u=(0,l.jsx)(Ki,{children:(0,l.jsx)(yr,{ref:e,align:o,sideOffset:c,className:d,...n})}),s[7]=o,s[8]=n,s[9]=e,s[10]=c,s[11]=d,s[12]=u):u=s[12],u});qd.displayName=yr.displayName;var Id=U();const Od=(t,e)=>{const s=(0,Id.c)(58),r=t?.id,n=Fe(),{addToast:i}=He(),a=t?.follower_count||0,o=t?.following_count||0;let c;s[0]!==a||s[1]!==o?(c={followers:a,following:o},s[0]=a,s[1]=o,s[2]=c):c=s[2];const[d,u]=(0,v.useState)(c),[m,p]=(0,v.useState)(t?.id);t?.id!==m&&(p(t?.id),u({followers:t?.follower_count||0,following:t?.following_count||0}));let f;s[3]!==e||s[4]!==r?(f=r&&Ae(r)&&e&&Ae(e),s[3]=e,s[4]=r,s[5]=f):f=s[5];const h=f;let g,y;s[6]!==e||s[7]!==r?(g=["isFollowing",e,r],y=()=>Za(e,r),s[6]=e,s[7]=r,s[8]=g,s[9]=y):(g=s[8],y=s[9]);const x=!!h;let _;s[10]!==g||s[11]!==y||s[12]!==x?(_={queryKey:g,queryFn:y,enabled:x,staleTime:1/0},s[10]=g,s[11]=y,s[12]=x,s[13]=_):_=s[13];const{data:w}=ve(_),k=w===void 0?!1:w;let b,j,N;s[14]!==r?(N=["followStats",r],b=async()=>{const F=await eo(r);return u(F),F},j=!!r&&Ae(r),s[14]=r,s[15]=b,s[16]=j,s[17]=N):(b=s[15],j=s[16],N=s[17]);let S;s[18]!==b||s[19]!==j||s[20]!==N?(S={queryKey:N,queryFn:b,enabled:j,staleTime:6e4},s[18]=b,s[19]=j,s[20]=N,s[21]=S):S=s[21],ve(S);let C;s[22]!==e||s[23]!==r?(C=()=>Ya(e,r),s[22]=e,s[23]=r,s[24]=C):C=s[24];let E;s[25]!==e||s[26]!==k||s[27]!==n||s[28]!==r?(E=async()=>{await n.cancelQueries({queryKey:["isFollowing",e,r]});const F=n.getQueryData(["isFollowing",e,r]);return n.setQueryData(["isFollowing",e,r],!k),u(K=>({...K,followers:k?Math.max(0,K.followers-1):K.followers+1})),{previousFollowing:F}},s[25]=e,s[26]=k,s[27]=n,s[28]=r,s[29]=E):E=s[29];let P;s[30]!==i||s[31]!==e||s[32]!==n||s[33]!==r?(P=(F,K,W)=>{W?.previousFollowing!==void 0&&(n.setQueryData(["isFollowing",e,r],W.previousFollowing),u(J=>({...J,followers:W.previousFollowing?J.followers+1:Math.max(0,J.followers-1)}))),i("Failed to update follow status","error")},s[30]=i,s[31]=e,s[32]=n,s[33]=r,s[34]=P):P=s[34];let A;s[35]!==e||s[36]!==n||s[37]!==r?(A=()=>{n.invalidateQueries({queryKey:["isFollowing",e,r]}),n.invalidateQueries({queryKey:["followStats",r]})},s[35]=e,s[36]=n,s[37]=r,s[38]=A):A=s[38];let $;s[39]!==i?($=F=>{i(F?"Followed":"Unfollowed")},s[39]=i,s[40]=$):$=s[40];let z;s[41]!==C||s[42]!==E||s[43]!==P||s[44]!==A||s[45]!==$?(z={mutationFn:C,onMutate:E,onError:P,onSettled:A,onSuccess:$},s[41]=C,s[42]=E,s[43]=P,s[44]=A,s[45]=$,s[46]=z):z=s[46];const M=pe(z);let L;s[47]!==i||s[48]!==e||s[49]!==M||s[50]!==h||s[51]!==r?(L=async()=>{if(!e)return i("Please login to follow!","error");if(e===r)return i("You cannot follow yourself!","error");h&&M.mutate()},s[47]=i,s[48]=e,s[49]=M,s[50]=h,s[51]=r,s[52]=L):L=s[52];const R=L;let T;return s[53]!==M.isPending||s[54]!==R||s[55]!==k||s[56]!==d?(T={isFollowing:k,stats:d,loading:M.isPending,handleFollow:R,setStats:u},s[53]=M.isPending,s[54]=R,s[55]=k,s[56]=d,s[57]=T):T=s[57],T};var Bd=({profile:t,onUserClick:e,isCommunity:s=!1})=>{const{onlineUsers:r}=xn(),{currentUser:n}=ye(),{addToast:i}=He(),a=r.has(t.id),[o,c]=(0,v.useState)(!1),[d,u]=(0,v.useState)(s),{isFollowing:m,loading:p,handleFollow:f}=Od(s?null:t,n?.id);(0,v.useEffect)(()=>{s&&n&&t.id?hn(t.id,n.id).then(c).finally(()=>u(!1)):u(!1)},[s,n,t.id]);const h=async N=>{if(N.stopPropagation(),!n)return i("Please login to join communities","error");u(!0);try{const S=await fn(t.id,n.id);c(S),i(S?`Joined ${"name"in t?t.name:""}`:`Left ${"name"in t?t.name:""}`)}catch{i("Failed to update membership","error")}finally{u(!1)}},g=n?.id&&t?.id&&String(n.id)===String(t.id),y=s?d:p,x=t?.handle||"",_=t?.avatar,w=t?.name||"",k="membersCount"in t?t.membersCount:0,b="verified"in t?t.verified:!1,j=N=>{N.stopPropagation(),s?h(N):f()};return(0,l.jsxs)("div",{className:"group flex items-center justify-between border-b border-zinc-100 p-4 transition-colors hover:bg-zinc-50 dark:border-zinc-800 dark:hover:bg-zinc-900/40",children:[(0,l.jsxs)("div",{className:"flex flex-1 items-center gap-3 cursor-pointer min-w-0",onClick:()=>e(x),children:[(0,l.jsxs)("div",{className:"relative shrink-0",children:[(0,l.jsxs)(lt,{className:`size-12 border border-zinc-200 shadow-sm dark:border-zinc-800 ${s?"rounded-2xl":""}`,children:[(0,l.jsx)(ct,{src:_||void 0,alt:x,className:"object-cover"}),(0,l.jsx)(dt,{className:s?"rounded-2xl":"",children:x?.[0]?.toUpperCase()})]}),a&&!s&&(0,l.jsx)("span",{className:"absolute bottom-0 right-0 size-3 rounded-full border-2 border-white bg-emerald-500 shadow-sm dark:border-black"})]}),(0,l.jsxs)("div",{className:"flex flex-col min-w-0",children:[(0,l.jsxs)("span",{className:"flex items-center gap-1 truncate font-extrabold text-zinc-900 dark:text-zinc-100",children:[w,b&&(0,l.jsx)(ii,{size:16,className:"shrink-0 text-blue-500"})]}),(0,l.jsxs)("span",{className:"truncate text-sm text-zinc-500",children:["@",x]}),s&&(0,l.jsxs)("span",{className:"mt-1 text-xs text-zinc-400",children:[k||0," members"]})]})]}),!g&&(0,l.jsx)(We,{variant:s?o?"secondary":"outline":m?"secondary":"outline",className:"ml-4 flex !w-auto shrink-0 items-center gap-1.5 rounded-full border-zinc-200 !px-4 !py-1.5 text-sm font-bold hover:bg-zinc-100 dark:border-zinc-700 dark:hover:bg-zinc-800",onClick:j,disabled:y,children:y?(0,l.jsx)("span",{className:"size-4 animate-pulse",children:"..."}):s?o?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Us,{size:16}),(0,l.jsx)("span",{className:"inline",children:"Joined"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Xs,{size:16}),(0,l.jsx)("span",{className:"inline",children:"Join"})]}):m?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Us,{size:16}),(0,l.jsx)("span",{className:"inline",children:"Following"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Xs,{size:16}),(0,l.jsx)("span",{className:"inline",children:"Follow"})]})})]})},Nh=Bd,ei=U(),Vd=v.forwardRef((t,e)=>{const s=(0,ei.c)(15);let r,n,i;s[0]!==t?({className:n,children:r,...i}=t,s[0]=t,s[1]=r,s[2]=n,s[3]=i):(r=s[1],n=s[2],i=s[3]);let a;s[4]!==n?(a=Z("relative overflow-hidden",n),s[4]=n,s[5]=a):a=s[5];let o;s[6]!==r?(o=(0,l.jsx)(Ma,{className:"h-full w-full rounded-[inherit]",children:r}),s[6]=r,s[7]=o):o=s[7];let c,d;s[8]===Symbol.for("react.memo_cache_sentinel")?(c=(0,l.jsx)(ti,{}),d=(0,l.jsx)(oa,{}),s[8]=c,s[9]=d):(c=s[8],d=s[9]);let u;return s[10]!==i||s[11]!==e||s[12]!==a||s[13]!==o?(u=(0,l.jsxs)(cn,{ref:e,className:a,...i,children:[o,c,d]}),s[10]=i,s[11]=e,s[12]=a,s[13]=o,s[14]=u):u=s[14],u});Vd.displayName=cn.displayName;var ti=v.forwardRef((t,e)=>{const s=(0,ei.c)(14);let r,n,i;s[0]!==t?({className:r,orientation:i,...n}=t,s[0]=t,s[1]=r,s[2]=n,s[3]=i):(r=s[1],n=s[2],i=s[3]);const a=i===void 0?"vertical":i,o=a==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",c=a==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]";let d;s[4]!==r||s[5]!==o||s[6]!==c?(d=Z("flex touch-none select-none transition-colors",o,c,r),s[4]=r,s[5]=o,s[6]=c,s[7]=d):d=s[7];let u;s[8]===Symbol.for("react.memo_cache_sentinel")?(u=(0,l.jsx)(Hi,{className:"relative flex-1 rounded-full bg-zinc-200 dark:bg-zinc-800"}),s[8]=u):u=s[8];let m;return s[9]!==a||s[10]!==n||s[11]!==e||s[12]!==d?(m=(0,l.jsx)(Pr,{ref:e,orientation:a,className:d,...n,children:u}),s[9]=a,s[10]=n,s[11]=e,s[12]=d,s[13]=m):m=s[13],m});ti.displayName=Pr.displayName;var Hd=U(),Kd=t=>{const e=(0,Hd.c)(15),{value:s,onChange:r,onClear:n,onKeyDown:i,placeholder:a,className:o}=t,c=a===void 0?"Search...":a,d=`relative group w-full ${o===void 0?"":o}`;let u;e[0]===Symbol.for("react.memo_cache_sentinel")?(u=(0,l.jsx)(is,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-zinc-400 group-focus-within:text-violet-500 transition-colors"}),e[0]=u):u=e[0];let m;e[1]!==r?(m=g=>r(g.target.value),e[1]=r,e[2]=m):m=e[2];let p;e[3]!==i||e[4]!==c||e[5]!==m||e[6]!==s?(p=(0,l.jsx)("input",{"data-search-input":"true",className:"w-full rounded-full border-none bg-zinc-100 dark:bg-zinc-900/50 text-zinc-900 dark:text-white px-11 py-2.5 text-sm outline-none focus:border-violet-500 focus:ring-1 focus:ring-violet-500 transition-all",placeholder:c,value:s,onChange:m,onKeyDown:i}),e[3]=i,e[4]=c,e[5]=m,e[6]=s,e[7]=p):p=e[7];let f;e[8]!==n||e[9]!==s?(f=s&&(0,l.jsx)("button",{onClick:n,className:"absolute right-4 top-1/2 -translate-y-1/2 text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-200 transition-colors",children:(0,l.jsx)(Nt,{size:16})}),e[8]=n,e[9]=s,e[10]=f):f=e[10];let h;return e[11]!==d||e[12]!==p||e[13]!==f?(h=(0,l.jsxs)("div",{className:d,children:[u,p,f]}),e[11]=d,e[12]=p,e[13]=f,e[14]=h):h=e[14],h},Zs=Kd,ut=U(),kh=ka;var Sh=Pa,Qd=v.forwardRef((t,e)=>{const s=(0,ut.c)(12);let r,n,i;s[0]!==t?({className:n,children:r,...i}=t,s[0]=t,s[1]=r,s[2]=n,s[3]=i):(r=s[1],n=s[2],i=s[3]);let a;s[4]!==n?(a=Z("flex h-9 w-full items-center justify-between rounded-md border border-zinc-200 bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-white placeholder:text-zinc-500 focus:outline-none focus:ring-1 focus:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 dark:border-zinc-800 dark:ring-offset-zinc-950 dark:focus:ring-zinc-300 [&>span]:line-clamp-1",n),s[4]=n,s[5]=a):a=s[5];let o;s[6]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsx)(Ca,{asChild:!0,children:(0,l.jsx)(rn,{className:"h-4 w-4 opacity-50"})}),s[6]=o):o=s[6];let c;return s[7]!==r||s[8]!==i||s[9]!==e||s[10]!==a?(c=(0,l.jsxs)(Dr,{ref:e,className:a,...i,children:[r,o]}),s[7]=r,s[8]=i,s[9]=e,s[10]=a,s[11]=c):c=s[11],c});Qd.displayName=Dr.displayName;var si=v.forwardRef((t,e)=>{const s=(0,ut.c)(10);let r,n;s[0]!==t?({className:r,...n}=t,s[0]=t,s[1]=r,s[2]=n):(r=s[1],n=s[2]);let i;s[3]!==r?(i=Z("flex cursor-default items-center justify-center py-1",r),s[3]=r,s[4]=i):i=s[4];let a;s[5]===Symbol.for("react.memo_cache_sentinel")?(a=(0,l.jsx)(Zi,{className:"h-4 w-4"}),s[5]=a):a=s[5];let o;return s[6]!==n||s[7]!==e||s[8]!==i?(o=(0,l.jsx)(Kr,{ref:e,className:i,...n,children:a}),s[6]=n,s[7]=e,s[8]=i,s[9]=o):o=s[9],o});si.displayName=Kr.displayName;var ri=v.forwardRef((t,e)=>{const s=(0,ut.c)(10);let r,n;s[0]!==t?({className:r,...n}=t,s[0]=t,s[1]=r,s[2]=n):(r=s[1],n=s[2]);let i;s[3]!==r?(i=Z("flex cursor-default items-center justify-center py-1",r),s[3]=r,s[4]=i):i=s[4];let a;s[5]===Symbol.for("react.memo_cache_sentinel")?(a=(0,l.jsx)(rn,{className:"h-4 w-4"}),s[5]=a):a=s[5];let o;return s[6]!==n||s[7]!==e||s[8]!==i?(o=(0,l.jsx)(Yr,{ref:e,className:i,...n,children:a}),s[6]=n,s[7]=e,s[8]=i,s[9]=o):o=s[9],o});ri.displayName=Yr.displayName;var Wd=v.forwardRef((t,e)=>{const s=(0,ut.c)(21);let r,n,i,a;s[0]!==t?({className:n,children:r,position:a,...i}=t,s[0]=t,s[1]=r,s[2]=n,s[3]=i,s[4]=a):(r=s[1],n=s[2],i=s[3],a=s[4]);const o=a===void 0?"popper":a,c=o==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1";let d;s[5]!==n||s[6]!==c?(d=Z("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-zinc-200 bg-white text-zinc-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50",c,n),s[5]=n,s[6]=c,s[7]=d):d=s[7];let u;s[8]===Symbol.for("react.memo_cache_sentinel")?(u=(0,l.jsx)(si,{}),s[8]=u):u=s[8];const m=o==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]";let p;s[9]!==m?(p=Z("p-1",m),s[9]=m,s[10]=p):p=s[10];let f;s[11]!==r||s[12]!==p?(f=(0,l.jsx)(Aa,{className:p,children:r}),s[11]=r,s[12]=p,s[13]=f):f=s[13];let h;s[14]===Symbol.for("react.memo_cache_sentinel")?(h=(0,l.jsx)(ri,{}),s[14]=h):h=s[14];let g;return s[15]!==o||s[16]!==i||s[17]!==e||s[18]!==d||s[19]!==f?(g=(0,l.jsx)(pa,{children:(0,l.jsxs)(Tr,{ref:e,className:d,position:o,...i,children:[u,f,h]})}),s[15]=o,s[16]=i,s[17]=e,s[18]=d,s[19]=f,s[20]=g):g=s[20],g});Wd.displayName=Tr.displayName;var Gd=v.forwardRef((t,e)=>{const s=(0,ut.c)(9);let r,n;s[0]!==t?({className:r,...n}=t,s[0]=t,s[1]=r,s[2]=n):(r=s[1],n=s[2]);let i;s[3]!==r?(i=Z("px-2 py-1.5 text-sm font-semibold",r),s[3]=r,s[4]=i):i=s[4];let a;return s[5]!==n||s[6]!==e||s[7]!==i?(a=(0,l.jsx)(Br,{ref:e,className:i,...n}),s[5]=n,s[6]=e,s[7]=i,s[8]=a):a=s[8],a});Gd.displayName=Br.displayName;var Jd=v.forwardRef((t,e)=>{const s=(0,ut.c)(14);let r,n,i;s[0]!==t?({className:n,children:r,...i}=t,s[0]=t,s[1]=r,s[2]=n,s[3]=i):(r=s[1],n=s[2],i=s[3]);let a;s[4]!==n?(a=Z("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-zinc-100 focus:text-zinc-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-zinc-800 dark:focus:text-zinc-50",n),s[4]=n,s[5]=a):a=s[5];let o;s[6]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,l.jsx)(ja,{children:(0,l.jsx)(as,{className:"h-4 w-4"})})}),s[6]=o):o=s[6];let c;s[7]!==r?(c=(0,l.jsx)(za,{children:r}),s[7]=r,s[8]=c):c=s[8];let d;return s[9]!==i||s[10]!==e||s[11]!==a||s[12]!==c?(d=(0,l.jsxs)(Ir,{ref:e,className:a,...i,children:[o,c]}),s[9]=i,s[10]=e,s[11]=a,s[12]=c,s[13]=d):d=s[13],d});Jd.displayName=Ir.displayName;var Yd=v.forwardRef((t,e)=>{const s=(0,ut.c)(9);let r,n;s[0]!==t?({className:r,...n}=t,s[0]=t,s[1]=r,s[2]=n):(r=s[1],n=s[2]);let i;s[3]!==r?(i=Z("-mx-1 my-1 h-px bg-zinc-100 dark:bg-zinc-800",r),s[3]=r,s[4]=i):i=s[4];let a;return s[5]!==n||s[6]!==e||s[7]!==i?(a=(0,l.jsx)(Vr,{ref:e,className:i,...n}),s[5]=n,s[6]=e,s[7]=i,s[8]=a):a=s[8],a});Yd.displayName=Vr.displayName;var Zd=U(),Xd=t=>{const e=(0,Zd.c)(9),{className:s}=t,r=De();let n;e[0]!==s?(n=Z("bg-[--card] border border-[--border] rounded-2xl p-8 flex flex-col items-center text-center gap-4 shadow-sm",s),e[0]=s,e[1]=n):n=e[1];let i,a;e[2]===Symbol.for("react.memo_cache_sentinel")?(i=(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("div",{className:"size-16 animate-spin rounded-full border-4 border-t-transparent border-amber-400 duration-[3000ms]"}),(0,l.jsx)("span",{className:"absolute inset-0 flex items-center justify-center text-2xl",children:""})]}),a=(0,l.jsx)("h2",{className:"mt-2 text-lg font-extrabold leading-tight text-[--foreground]",children:"Get your Sysm account now!"}),e[2]=i,e[3]=a):(i=e[2],a=e[3]);let o;e[4]!==r?(o=(0,l.jsx)("button",{onClick:()=>r("/register"),className:"w-full cursor-pointer rounded-full bg-zinc-950 py-2.5 text-sm font-black uppercase tracking-wider text-white shadow-lg transition-all hover:opacity-90 active:scale-95 dark:bg-white dark:text-zinc-950",children:"Signup now"}),e[4]=r,e[5]=o):o=e[5];let c;return e[6]!==n||e[7]!==o?(c=(0,l.jsxs)("div",{className:n,children:[i,a,o]}),e[6]=n,e[7]=o,e[8]=c):c=e[8],c},Ud=Xd,eu=U();function le(t){const e=(0,eu.c)(8);let s,r;e[0]!==t?({className:s,...r}=t,e[0]=t,e[1]=s,e[2]=r):(s=e[1],r=e[2]);let n;e[3]!==s?(n=Z("animate-pulse animate-in fade-in duration-500 rounded-md bg-zinc-200 dark:bg-zinc-800",s),e[3]=s,e[4]=n):n=e[4];let i;return e[5]!==r||e[6]!==n?(i=(0,l.jsx)("div",{className:n,...r}),e[5]=r,e[6]=n,e[7]=i):i=e[7],i}var tu=U();function su(){const t=(0,tu.c)(6);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,l.jsx)(le,{className:"size-10 rounded-full"}),t[0]=e):e=t[0];let s,r,n,i;t[1]===Symbol.for("react.memo_cache_sentinel")?(s=(0,l.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,l.jsx)(le,{className:"h-4 w-24"}),(0,l.jsx)(le,{className:"h-4 w-16"})]}),r=(0,l.jsx)(le,{className:"h-4 w-full"}),n=(0,l.jsx)(le,{className:"h-4 w-[90%]"}),i=(0,l.jsx)(le,{className:"mt-2 h-64 w-full rounded-xl"}),t[1]=s,t[2]=r,t[3]=n,t[4]=i):(s=t[1],r=t[2],n=t[3],i=t[4]);let a;return t[5]===Symbol.for("react.memo_cache_sentinel")?(a=(0,l.jsxs)("div",{className:"flex items-start gap-x-3 border-b border-zinc-100 px-4 py-3 dark:border-zinc-800",children:[e,(0,l.jsxs)("div",{className:"flex-1 space-y-2",children:[s,r,n,i,(0,l.jsxs)("div",{className:"mt-3 flex items-center justify-between",children:[(0,l.jsx)(le,{className:"h-5 w-8 rounded-full"}),(0,l.jsx)(le,{className:"h-5 w-8 rounded-full"}),(0,l.jsx)(le,{className:"h-5 w-8 rounded-full"}),(0,l.jsx)(le,{className:"h-5 w-8 rounded-full"})]})]})]}),t[5]=a):a=t[5],a}var ru=U();function nu(){const t=(0,ru.c)(2);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,l.jsx)(le,{className:"size-12 rounded-full"}),t[0]=e):e=t[0];let s;return t[1]===Symbol.for("react.memo_cache_sentinel")?(s=(0,l.jsxs)("div",{className:"flex items-center justify-between border-b border-zinc-100 p-4 dark:border-zinc-800",children:[(0,l.jsxs)("div",{className:"flex flex-1 items-center gap-3",children:[e,(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(le,{className:"h-4 w-32 rounded"}),(0,l.jsx)(le,{className:"h-3 w-24 rounded"})]})]}),(0,l.jsx)(le,{className:"h-9 w-24 rounded-full"})]}),t[1]=s):s=t[1],s}var iu=U();function Ch(){const t=(0,iu.c)(2);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(le,{className:"h-12 w-12 rounded-full"}),(0,l.jsx)(le,{className:"absolute -bottom-1 -right-1 h-5 w-5 rounded-full ring-2 ring-white dark:ring-black"})]}),t[0]=e):e=t[0];let s;return t[1]===Symbol.for("react.memo_cache_sentinel")?(s=(0,l.jsxs)("div",{className:"flex items-center gap-4 p-4",children:[e,(0,l.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,l.jsx)(le,{className:"h-4 w-3/4 rounded"}),(0,l.jsx)(le,{className:"h-3 w-1/4 rounded"})]})]}),t[1]=s):s=t[1],s}var au=U();function $h(){const t=(0,au.c)(2);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,l.jsxs)("div",{className:"absolute right-4 bottom-20 flex flex-col gap-4 items-center",children:[(0,l.jsx)(le,{className:"h-10 w-10 rounded-full"}),(0,l.jsx)(le,{className:"h-10 w-10 rounded-full"}),(0,l.jsx)(le,{className:"h-10 w-10 rounded-full"}),(0,l.jsx)(le,{className:"h-10 w-10 rounded-full"})]}),t[0]=e):e=t[0];let s;return t[1]===Symbol.for("react.memo_cache_sentinel")?(s=(0,l.jsxs)("div",{className:"relative h-[100dvh] w-full bg-zinc-900 border-zinc-800 md:rounded-xl md:border overflow-hidden",children:[e,(0,l.jsxs)("div",{className:"absolute bottom-4 left-4 right-16 space-y-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(le,{className:"h-8 w-8 rounded-full"}),(0,l.jsx)(le,{className:"h-4 w-24 rounded"})]}),(0,l.jsx)(le,{className:"h-4 w-3/4 rounded"}),(0,l.jsx)(le,{className:"h-4 w-1/2 rounded"})]})]}),t[1]=s):s=t[1],s}var ou=U();function zh(){const t=(0,ou.c)(2);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,l.jsx)(le,{className:"h-8 w-8 rounded-full"}),t[0]=e):e=t[0];let s;return t[1]===Symbol.for("react.memo_cache_sentinel")?(s=(0,l.jsxs)("div",{className:"flex gap-3 p-4",children:[e,(0,l.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(le,{className:"h-4 w-24 rounded"}),(0,l.jsx)(le,{className:"h-3 w-12 rounded"})]}),(0,l.jsx)(le,{className:"h-3 w-full rounded"}),(0,l.jsx)(le,{className:"h-3 w-3/4 rounded"})]})]}),t[1]=s):s=t[1],s}var bs=U(),lu=Sa,ni=v.forwardRef((t,e)=>{const s=(0,bs.c)(9);let r,n;s[0]!==t?({className:r,...n}=t,s[0]=t,s[1]=r,s[2]=n):(r=s[1],n=s[2]);let i;s[3]!==r?(i=Z("inline-flex h-10 items-center justify-center rounded-md text-zinc-500 dark:text-zinc-400",r),s[3]=r,s[4]=i):i=s[4];let a;return s[5]!==n||s[6]!==e||s[7]!==i?(a=(0,l.jsx)(Zr,{ref:e,className:i,...n}),s[5]=n,s[6]=e,s[7]=i,s[8]=a):a=s[8],a});ni.displayName=Zr.displayName;var Gt=v.forwardRef((t,e)=>{const s=(0,bs.c)(14);let r,n,i;s[0]!==t?({className:n,children:r,...i}=t,s[0]=t,s[1]=r,s[2]=n,s[3]=i):(r=s[1],n=s[2],i=s[3]);let a;s[4]!==n?(a=Z("relative inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:text-zinc-950 dark:ring-offset-zinc-950 dark:focus-visible:ring-zinc-300 dark:data-[state=active]:text-zinc-50 data-[state=active]:shadow-none",n),s[4]=n,s[5]=a):a=s[5];let o;s[6]!==r?(o=(0,l.jsx)("span",{className:"relative z-10",children:r}),s[6]=r,s[7]=o):o=s[7];let c;s[8]===Symbol.for("react.memo_cache_sentinel")?(c=(0,l.jsx)("div",{className:"absolute inset-x-0 -bottom-[1px] h-[2px]",children:(0,l.jsx)(ge.div,{layoutId:"activeTabUnderline",className:"h-full w-full bg-zinc-950 dark:bg-zinc-50 hidden data-[active=true]:block",style:{originY:"bottom"},transition:{type:"spring",stiffness:500,damping:35}})}),s[8]=c):c=s[8];let d;return s[9]!==i||s[10]!==e||s[11]!==a||s[12]!==o?(d=(0,l.jsxs)(Qr,{ref:e,className:a,...i,children:[o,c]}),s[9]=i,s[10]=e,s[11]=a,s[12]=o,s[13]=d):d=s[13],d});Gt.displayName=Qr.displayName;var Jt=v.forwardRef((t,e)=>{const s=(0,bs.c)(9);let r,n;s[0]!==t?({className:r,...n}=t,s[0]=t,s[1]=r,s[2]=n):(r=s[1],n=s[2]);let i;s[3]!==r?(i=Z("mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 dark:ring-offset-zinc-950 dark:focus-visible:ring-zinc-300",r),s[3]=r,s[4]=i):i=s[4];let a;return s[5]!==n||s[6]!==e||s[7]!==i?(a=(0,l.jsx)(sn,{ref:e,className:i,...n}),s[5]=n,s[6]=e,s[7]=i,s[8]=a):a=s[8],a});Jt.displayName=sn.displayName;var cu=U(),du=v.forwardRef((t,e)=>{const s=(0,cu.c)(9);let r,n;s[0]!==t?({className:r,...n}=t,s[0]=t,s[1]=r,s[2]=n):(r=s[1],n=s[2]);let i;s[3]!==r?(i=Z("flex min-h-[80px] w-full rounded-md border-none bg-zinc-50 px-3 py-2 text-sm ring-offset-white placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-zinc-900 dark:ring-offset-zinc-950 dark:placeholder:text-zinc-400 dark:focus-visible:ring-zinc-300",r),s[3]=r,s[4]=i):i=s[4];let a;return s[5]!==n||s[6]!==e||s[7]!==i?(a=(0,l.jsx)("textarea",{className:i,ref:e,...n}),s[5]=n,s[6]=e,s[7]=i,s[8]=a):a=s[8],a});du.displayName="Textarea";var uu=U(),mu=t=>{const e=(0,uu.c)(7),{className:s}=t;let r;e[0]!==s?(r=Z("flex items-center gap-1 px-1 py-1.5",s),e[0]=s,e[1]=r):r=e[1];let n,i,a;e[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,l.jsx)("div",{className:"size-1.5 rounded-full bg-zinc-400 dark:bg-zinc-500 animate-dot-pulse"}),i=(0,l.jsx)("div",{className:"size-1.5 rounded-full bg-zinc-400 dark:bg-zinc-500 animate-dot-pulse [animation-delay:0.2s]"}),a=(0,l.jsx)("div",{className:"size-1.5 rounded-full bg-zinc-400 dark:bg-zinc-500 animate-dot-pulse [animation-delay:0.4s]"}),e[2]=n,e[3]=i,e[4]=a):(n=e[2],i=e[3],a=e[4]);let o;return e[5]!==r?(o=(0,l.jsxs)("div",{className:r,children:[n,i,a]}),e[5]=r,e[6]=o):o=e[6],o},Eh=mu,Ph=U(),ze=U();const Mh=t=>{const e=(0,ze.c)(10);let s,r,n;e[0]!==t?({size:r,className:n,...s}=t,e[0]=t,e[1]=s,e[2]=r,e[3]=n):(s=e[1],r=e[2],n=e[3]);const i=r===void 0?24:r,a=n===void 0?"":n;let o,c;e[4]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsx)("path",{d:"M13.6006 21.0761L19.0608 17.9236C19.6437 17.5871 19.9346 17.4188 20.1465 17.1834C20.3341 16.9751 20.4759 16.7297 20.5625 16.4632C20.6602 16.1626 20.6602 15.8267 20.6602 15.1568V8.84268C20.6602 8.17277 20.6602 7.83694 20.5625 7.53638C20.4759 7.26982 20.3341 7.02428 20.1465 6.816C19.9355 6.58161 19.6453 6.41405 19.0674 6.08043L13.5996 2.92359C13.0167 2.58706 12.7259 2.41913 12.416 2.35328C12.1419 2.295 11.8584 2.295 11.5843 2.35328C11.2744 2.41914 10.9826 2.58706 10.3997 2.92359L4.93843 6.07666C4.35623 6.41279 4.06535 6.58073 3.85352 6.816C3.66597 7.02428 3.52434 7.26982 3.43773 7.53638C3.33984 7.83765 3.33984 8.17436 3.33984 8.84742V15.1524C3.33984 15.8254 3.33984 16.1619 3.43773 16.4632C3.52434 16.7297 3.66597 16.9751 3.85352 17.1834C4.06548 17.4188 4.35657 17.5871 4.93945 17.9236L10.3997 21.0761C10.9826 21.4126 11.2744 21.5806 11.5843 21.6465C11.8584 21.7047 12.1419 21.7047 12.416 21.6465C12.7259 21.5806 13.0177 21.4126 13.6006 21.0761Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),c=(0,l.jsx)("path",{d:"M9 11.9998C9 13.6566 10.3431 14.9998 12 14.9998C13.6569 14.9998 15 13.6566 15 11.9998C15 10.3429 13.6569 8.99976 12 8.99976C10.3431 8.99976 9 10.3429 9 11.9998Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e[4]=o,e[5]=c):(o=e[4],c=e[5]);let d;return e[6]!==a||e[7]!==s||e[8]!==i?(d=(0,l.jsxs)("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a,...s,children:[o,c]}),e[6]=a,e[7]=s,e[8]=i,e[9]=d):d=e[9],d},ii=t=>{const e=(0,ze.c)(10);let s,r,n;e[0]!==t?({size:r,className:n,...s}=t,e[0]=t,e[1]=s,e[2]=r,e[3]=n):(s=e[1],r=e[2],n=e[3]);const i=r===void 0?24:r,a=n===void 0?"":n;let o,c;e[4]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsx)("path",{d:"M12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21Z",fill:"currentColor"}),c=(0,l.jsx)("path",{d:"M15 10L11 14L9 12",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e[4]=o,e[5]=c):(o=e[4],c=e[5]);let d;return e[6]!==a||e[7]!==s||e[8]!==i?(d=(0,l.jsxs)("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a,...s,children:[o,c]}),e[6]=a,e[7]=s,e[8]=i,e[9]=d):d=e[9],d},Ah=t=>{const e=(0,ze.c)(9);let s,r,n;e[0]!==t?({size:r,className:n,...s}=t,e[0]=t,e[1]=s,e[2]=r,e[3]=n):(s=e[1],r=e[2],n=e[3]);const i=r===void 0?24:r,a=n===void 0?"":n;let o;e[4]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsx)("path",{d:"M12 8.00012L4 16.0001V20.0001L8 20.0001L16 12.0001M12 8.00012L14.8686 5.13146L14.8704 5.12976C15.2652 4.73488 15.463 4.53709 15.691 4.46301C15.8919 4.39775 16.1082 4.39775 16.3091 4.46301C16.5369 4.53704 16.7345 4.7346 17.1288 5.12892L18.8686 6.86872C19.2646 7.26474 19.4627 7.46284 19.5369 7.69117C19.6022 7.89201 19.6021 8.10835 19.5369 8.3092C19.4628 8.53736 19.265 8.73516 18.8695 9.13061L18.8686 9.13146L16 12.0001M12 8.00012L16 12.0001",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e[4]=o):o=e[4];let c;return e[5]!==a||e[6]!==s||e[7]!==i?(c=(0,l.jsx)("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a,...s,children:o}),e[5]=a,e[6]=s,e[7]=i,e[8]=c):c=e[8],c},Xs=t=>{const e=(0,ze.c)(9);let s,r,n;e[0]!==t?({size:r,className:n,...s}=t,e[0]=t,e[1]=s,e[2]=r,e[3]=n):(s=e[1],r=e[2],n=e[3]);const i=r===void 0?24:r,a=n===void 0?"":n;let o;e[4]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsx)("path",{d:"M15 19C15 16.7909 12.3137 15 9 15C5.68629 15 3 16.7909 3 19M19 16V13M19 13V10M19 13H16M19 13H22M9 12C6.79086 12 5 10.2091 5 8C5 5.79086 6.79086 4 9 4C11.2091 4 13 5.79086 13 8C13 10.2091 11.2091 12 9 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e[4]=o):o=e[4];let c;return e[5]!==a||e[6]!==s||e[7]!==i?(c=(0,l.jsx)("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a,...s,children:o}),e[5]=a,e[6]=s,e[7]=i,e[8]=c):c=e[8],c},Us=t=>{const e=(0,ze.c)(9);let s,r,n;e[0]!==t?({size:r,className:n,...s}=t,e[0]=t,e[1]=s,e[2]=r,e[3]=n):(s=e[1],r=e[2],n=e[3]);const i=r===void 0?24:r,a=n===void 0?"":n;let o;e[4]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsx)("path",{d:"M15 19C15 16.7909 12.3137 15 9 15C5.68629 15 3 16.7909 3 19M21 10L17 14L15 12M9 12C6.79086 12 5 10.2091 5 8C5 5.79086 6.79086 4 9 4C11.2091 4 13 5.79086 13 8C13 10.2091 11.2091 12 9 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e[4]=o):o=e[4];let c;return e[5]!==a||e[6]!==s||e[7]!==i?(c=(0,l.jsx)("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a,...s,children:o}),e[5]=a,e[6]=s,e[7]=i,e[8]=c):c=e[8],c},Lh=t=>{const e=(0,ze.c)(10);let s,r,n;e[0]!==t?({size:r,className:n,...s}=t,e[0]=t,e[1]=s,e[2]=r,e[3]=n):(s=e[1],r=e[2],n=e[3]);const i=r===void 0?24:r,a=n===void 0?"":n;let o,c;e[4]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsx)("path",{d:"M5 9.92285C5 14.7747 9.24448 18.7869 11.1232 20.3252C11.3921 20.5454 11.5281 20.6568 11.7287 20.7132C11.8849 20.7572 12.1148 20.7572 12.271 20.7132C12.472 20.6567 12.6071 20.5463 12.877 20.3254C14.7557 18.7871 18.9999 14.7751 18.9999 9.9233C18.9999 8.08718 18.2625 6.32605 16.9497 5.02772C15.637 3.72939 13.8566 3 12.0001 3C10.1436 3 8.36301 3.7295 7.05025 5.02783C5.7375 6.32616 5 8.08674 5 9.92285Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),c=(0,l.jsx)("path",{d:"M10 9C10 10.1046 10.8954 11 12 11C13.1046 11 14 10.1046 14 9C14 7.89543 13.1046 7 12 7C10.8954 7 10 7.89543 10 9Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e[4]=o,e[5]=c):(o=e[4],c=e[5]);let d;return e[6]!==a||e[7]!==s||e[8]!==i?(d=(0,l.jsxs)("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a,...s,children:[o,c]}),e[6]=a,e[7]=s,e[8]=i,e[9]=d):d=e[9],d},Rh=t=>{const e=(0,ze.c)(9);let s,r,n;e[0]!==t?({size:r,className:n,...s}=t,e[0]=t,e[1]=s,e[2]=r,e[3]=n):(s=e[1],r=e[2],n=e[3]);const i=r===void 0?24:r,a=n===void 0?"":n;let o;e[4]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsx)("path",{d:"M10.0002 5H8.2002C7.08009 5 6.51962 5 6.0918 5.21799C5.71547 5.40973 5.40973 5.71547 5.21799 6.0918C5 6.51962 5 7.08009 5 8.2002V15.8002C5 16.9203 5 17.4801 5.21799 17.9079C5.40973 18.2842 5.71547 18.5905 6.0918 18.7822C6.5192 19 7.07899 19 8.19691 19H15.8031C16.921 19 17.48 19 17.9074 18.7822C18.2837 18.5905 18.5905 18.2839 18.7822 17.9076C19 17.4802 19 16.921 19 15.8031V14M20 9V4M20 4H15M20 4L13 11",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e[4]=o):o=e[4];let c;return e[5]!==a||e[6]!==s||e[7]!==i?(c=(0,l.jsx)("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a,...s,children:o}),e[5]=a,e[6]=s,e[7]=i,e[8]=c):c=e[8],c},Dh=t=>{const e=(0,ze.c)(9);let s,r,n;e[0]!==t?({size:r,className:n,...s}=t,e[0]=t,e[1]=s,e[2]=r,e[3]=n):(s=e[1],r=e[2],n=e[3]);const i=r===void 0?24:r,a=n===void 0?"":n;let o;e[4]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsx)("path",{d:"M10.3078 13.6923L15.1539 8.84619M20.1113 5.88867L16.0207 19.1833C15.6541 20.3747 15.4706 20.9707 15.1544 21.1683C14.8802 21.3396 14.5406 21.3683 14.2419 21.2443C13.8975 21.1014 13.618 20.5433 13.0603 19.428L10.4694 14.2461C10.3809 14.0691 10.3366 13.981 10.2775 13.9043C10.225 13.8363 10.1645 13.7749 10.0965 13.7225C10.0215 13.6647 9.93486 13.6214 9.76577 13.5369L4.57192 10.9399C3.45662 10.3823 2.89892 10.1032 2.75601 9.75879C2.63207 9.4601 2.66033 9.12023 2.83169 8.84597C3.02928 8.52974 3.62523 8.34603 4.81704 7.97932L18.1116 3.88867C19.0486 3.60038 19.5173 3.45635 19.8337 3.57253C20.1094 3.67373 20.3267 3.89084 20.4279 4.16651C20.544 4.48283 20.3999 4.95126 20.1119 5.88729L20.1113 5.88867Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e[4]=o):o=e[4];let c;return e[5]!==a||e[6]!==s||e[7]!==i?(c=(0,l.jsx)("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a,...s,children:o}),e[5]=a,e[6]=s,e[7]=i,e[8]=c):c=e[8],c},fu=t=>{const e=(0,ze.c)(9);let s,r,n;e[0]!==t?({size:r,className:n,...s}=t,e[0]=t,e[1]=s,e[2]=r,e[3]=n):(s=e[1],r=e[2],n=e[3]);const i=r===void 0?24:r,a=n===void 0?"":n;let o;e[4]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsx)("path",{d:"M4 11.4522V16.8002C4 17.9203 4 18.4807 4.21799 18.9086C4.40973 19.2849 4.71547 19.5906 5.0918 19.7823C5.5192 20.0001 6.07899 20.0001 7.19691 20.0001H16.8031C17.921 20.0001 18.48 20.0001 18.9074 19.7823C19.2837 19.5906 19.5905 19.2849 19.7822 18.9086C20 18.4811 20 17.9216 20 16.8037V11.4522C20 10.9179 19.9995 10.6506 19.9346 10.4019C19.877 10.1816 19.7825 9.97307 19.6546 9.78464C19.5102 9.57201 19.3096 9.39569 18.9074 9.04383L14.1074 4.84383C13.3608 4.19054 12.9875 3.86406 12.5674 3.73982C12.1972 3.63035 11.8026 3.63035 11.4324 3.73982C11.0126 3.86397 10.6398 4.19014 9.89436 4.84244L5.09277 9.04383C4.69064 9.39569 4.49004 9.57201 4.3457 9.78464C4.21779 9.97307 4.12255 10.1816 4.06497 10.4019C4 10.6506 4 10.9179 4 11.4522Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e[4]=o):o=e[4];let c;return e[5]!==a||e[6]!==s||e[7]!==i?(c=(0,l.jsx)("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a,...s,children:o}),e[5]=a,e[6]=s,e[7]=i,e[8]=c):c=e[8],c},hu=t=>{const e=(0,ze.c)(9);let s,r,n;e[0]!==t?({size:r,className:n,...s}=t,e[0]=t,e[1]=s,e[2]=r,e[3]=n):(s=e[1],r=e[2],n=e[3]);const i=r===void 0?24:r,a=n===void 0?"":n;let o;e[4]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsx)("path",{d:"M5.59961 19.9203L7.12357 18.7012L7.13478 18.6926C7.45249 18.4384 7.61281 18.3101 7.79168 18.2188C7.95216 18.1368 8.12328 18.0771 8.2998 18.0408C8.49877 18 8.70603 18 9.12207 18H17.8031C18.921 18 19.4806 18 19.908 17.7822C20.2843 17.5905 20.5905 17.2842 20.7822 16.9079C21 16.4805 21 15.9215 21 14.8036V7.19691C21 6.07899 21 5.5192 20.7822 5.0918C20.5905 4.71547 20.2837 4.40973 19.9074 4.21799C19.4796 4 18.9203 4 17.8002 4H6.2002C5.08009 4 4.51962 4 4.0918 4.21799C3.71547 4.40973 3.40973 4.71547 3.21799 5.0918C3 5.51962 3 6.08009 3 7.2002V18.6712C3 19.7369 3 20.2696 3.21846 20.5433C3.40845 20.7813 3.69644 20.9198 4.00098 20.9195C4.35115 20.9191 4.76744 20.5861 5.59961 19.9203Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e[4]=o):o=e[4];let c;return e[5]!==a||e[6]!==s||e[7]!==i?(c=(0,l.jsx)("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a,...s,children:o}),e[5]=a,e[6]=s,e[7]=i,e[8]=c):c=e[8],c},pu=t=>{const e=(0,ze.c)(9);let s,r,n;e[0]!==t?({size:r,className:n,...s}=t,e[0]=t,e[1]=s,e[2]=r,e[3]=n):(s=e[1],r=e[2],n=e[3]);const i=r===void 0?24:r,a=n===void 0?"":n;let o;e[4]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsx)("path",{d:"M6.89761 18.1618C8.28247 19.3099 10.0607 20 12.0001 20C16.4184 20 20.0001 16.4183 20.0001 12C20.0001 11.431 19.9407 10.8758 19.8278 10.3404M6.89761 18.1618C5.12756 16.6944 4.00014 14.4789 4.00014 12C4.00014 7.58172 7.58186 4 12.0001 4C15.8494 4 19.0637 6.71853 19.8278 10.3404M6.89761 18.1618C8.85314 17.7147 11.1796 16.7828 13.526 15.4281C16.2564 13.8517 18.4773 12.0125 19.8278 10.3404M6.89761 18.1618C4.46844 18.7171 2.61159 18.5243 1.99965 17.4644C1.36934 16.3726 2.19631 14.5969 3.99999 12.709M19.8278 10.3404C21.0796 8.79041 21.5836 7.38405 21.0522 6.46374C20.5134 5.53051 19.0095 5.26939 16.9997 5.59929",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e[4]=o):o=e[4];let c;return e[5]!==a||e[6]!==s||e[7]!==i?(c=(0,l.jsx)("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a,...s,children:o}),e[5]=a,e[6]=s,e[7]=i,e[8]=c):c=e[8],c},gu=t=>{const e=(0,ze.c)(10);let s,r,n;e[0]!==t?({size:r,className:n,...s}=t,e[0]=t,e[1]=s,e[2]=r,e[3]=n):(s=e[1],r=e[2],n=e[3]);const i=r===void 0?24:r,a=n===void 0?"":n;let o,c;e[4]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsx)("path",{d:"M3 12C3 16.9706 7.02944 21 12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),c=(0,l.jsx)("path",{d:"M10 15V9L15 12L10 15Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e[4]=o,e[5]=c):(o=e[4],c=e[5]);let d;return e[6]!==a||e[7]!==s||e[8]!==i?(d=(0,l.jsxs)("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a,...s,children:[o,c]}),e[6]=a,e[7]=s,e[8]=i,e[9]=d):d=e[9],d},xu=t=>{const e=(0,ze.c)(9);let s,r,n;e[0]!==t?({size:r,className:n,...s}=t,e[0]=t,e[1]=s,e[2]=r,e[3]=n):(s=e[1],r=e[2],n=e[3]);const i=r===void 0?24:r,a=n===void 0?"":n;let o;e[4]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsx)("path",{d:"M15 17V18C15 19.6569 13.6569 21 12 21C10.3431 21 9 19.6569 9 18V17M15 17H9M15 17H18.5905C18.973 17 19.1652 17 19.3201 16.9478C19.616 16.848 19.8475 16.6156 19.9473 16.3198C19.9997 16.1643 19.9997 15.9715 19.9997 15.5859C19.9997 15.4172 19.9995 15.3329 19.9863 15.2524C19.9614 15.1004 19.9024 14.9563 19.8126 14.8312C19.7651 14.7651 19.7047 14.7048 19.5858 14.5858L19.1963 14.1963C19.0706 14.0706 19 13.9001 19 13.7224V10C19 6.134 15.866 2.99999 12 3C8.13401 3.00001 5 6.13401 5 10V13.7224C5 13.9002 4.92924 14.0706 4.80357 14.1963L4.41406 14.5858C4.29477 14.7051 4.23504 14.765 4.1875 14.8312C4.09766 14.9564 4.03815 15.1004 4.0132 15.2524C4 15.3329 4 15.4172 4 15.586C4 15.9715 4 16.1642 4.05245 16.3197C4.15225 16.6156 4.3848 16.848 4.68066 16.9478C4.83556 17 5.02701 17 5.40956 17H9M18.0186 2.01367C19.3978 3.05299 20.4843 4.43177 21.1724 6.01574M5.98197 2.01367C4.60275 3.05299 3.5162 4.43177 2.82812 6.01574",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e[4]=o):o=e[4];let c;return e[5]!==a||e[6]!==s||e[7]!==i?(c=(0,l.jsx)("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a,...s,children:o}),e[5]=a,e[6]=s,e[7]=i,e[8]=c):c=e[8],c},Fh=t=>{const e=(0,ze.c)(9);let s,r,n;e[0]!==t?({size:r,className:n,...s}=t,e[0]=t,e[1]=s,e[2]=r,e[3]=n):(s=e[1],r=e[2],n=e[3]);const i=r===void 0?24:r,a=n===void 0?"":n;let o;e[4]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsx)("path",{d:"M17 20C17 18.3431 14.7614 17 12 17C9.23858 17 7 18.3431 7 20M21 17.0004C21 15.7702 19.7659 14.7129 18 14.25M3 17.0004C3 15.7702 4.2341 14.7129 6 14.25M18 10.2361C18.6137 9.68679 19 8.8885 19 8C19 6.34315 17.6569 5 16 5C15.2316 5 14.5308 5.28885 14 5.76389M6 10.2361C5.38625 9.68679 5 8.8885 5 8C5 6.34315 6.34315 5 8 5C8.76835 5 9.46924 5.28885 10 5.76389M12 14C10.3431 14 9 12.6569 9 11C9 9.34315 10.3431 8 12 8C13.6569 8 15 9.34315 15 11C15 12.6569 13.6569 14 12 14Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e[4]=o):o=e[4];let c;return e[5]!==a||e[6]!==s||e[7]!==i?(c=(0,l.jsx)("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a,...s,children:o}),e[5]=a,e[6]=s,e[7]=i,e[8]=c):c=e[8],c},Th=t=>{const e=(0,ze.c)(9);let s,r,n;e[0]!==t?({size:r,className:n,...s}=t,e[0]=t,e[1]=s,e[2]=r,e[3]=n):(s=e[1],r=e[2],n=e[3]);const i=r===void 0?24:r,a=n===void 0?"":n;let o;e[4]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsx)("path",{d:"M3.00005 18.0001C3 17.9355 3 17.8689 3 17.8002V6.2002C3 5.08009 3 4.51962 3.21799 4.0918C3.40973 3.71547 3.71547 3.40973 4.0918 3.21799C4.51962 3 5.08009 3 6.2002 3H17.8002C18.9203 3 19.4801 3 19.9079 3.21799C20.2842 3.40973 20.5905 3.71547 20.7822 4.0918C21 4.5192 21 5.07899 21 6.19691V17.8031C21 18.2881 21 18.6679 20.9822 18.9774M3.00005 18.0001C3.00082 18.9884 3.01337 19.5058 3.21799 19.9074C3.40973 20.2837 3.71547 20.5905 4.0918 20.7822C4.5192 21 5.07899 21 6.19691 21H17.8036C18.9215 21 19.4805 21 19.9079 20.7822C20.2842 20.5905 20.5905 20.2837 20.7822 19.9074C20.9055 19.6654 20.959 19.3813 20.9822 18.9774M3.00005 18.0001L7.76798 12.4375L7.76939 12.436C8.19227 11.9426 8.40406 11.6955 8.65527 11.6064C8.87594 11.5282 9.11686 11.53 9.33643 11.6113C9.58664 11.704 9.79506 11.9539 10.2119 12.4541L12.8831 15.6595C13.269 16.1226 13.463 16.3554 13.6986 16.4489C13.9065 16.5313 14.1357 16.5406 14.3501 16.4773C14.5942 16.4053 14.8091 16.1904 15.2388 15.7607L15.7358 15.2637C16.1733 14.8262 16.3921 14.6076 16.6397 14.5361C16.8571 14.4734 17.0896 14.4869 17.2988 14.5732C17.537 14.6716 17.7302 14.9124 18.1167 15.3955L20.9822 18.9774M20.9822 18.9774L21 18.9996M15 9C14.4477 9 14 8.55228 14 8C14 7.44772 14.4477 7 15 7C15.5523 7 16 7.44772 16 8C16 8.55228 15.5523 9 15 9Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e[4]=o):o=e[4];let c;return e[5]!==a||e[6]!==s||e[7]!==i?(c=(0,l.jsx)("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a,...s,children:o}),e[5]=a,e[6]=s,e[7]=i,e[8]=c):c=e[8],c};function yu(t){return Object.prototype.toString.call(t)==="[object Object]"}function er(t){return yu(t)||Array.isArray(t)}function vu(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function _s(t,e){const s=Object.keys(t),r=Object.keys(e);return s.length!==r.length||JSON.stringify(Object.keys(t.breakpoints||{}))!==JSON.stringify(Object.keys(e.breakpoints||{}))?!1:s.every(n=>{const i=t[n],a=e[n];return typeof i=="function"?`${i}`==`${a}`:!er(i)||!er(a)?i===a:_s(i,a)})}function tr(t){return t.concat().sort((e,s)=>e.name>s.name?1:-1).map(e=>e.options)}function bu(t,e){if(t.length!==e.length)return!1;const s=tr(t),r=tr(e);return s.every((n,i)=>{const a=r[i];return _s(n,a)})}function ws(t){return typeof t=="number"}function Yt(t){return typeof t=="string"}function It(t){return typeof t=="boolean"}function sr(t){return Object.prototype.toString.call(t)==="[object Object]"}function he(t){return Math.abs(t)}function js(t){return Math.sign(t)}function xt(t,e){return he(t-e)}function _u(t,e){return t===0||e===0||he(t)<=he(e)?0:he(xt(he(t),he(e))/t)}function wu(t){return Math.round(t*100)/100}function bt(t){return _t(t).map(Number)}function Be(t){return t[St(t)]}function St(t){return Math.max(0,t.length-1)}function Ns(t,e){return e===St(t)}function rr(t,e=0){return Array.from(Array(t),(s,r)=>e+r)}function _t(t){return Object.keys(t)}function ai(t,e){return[t,e].reduce((s,r)=>(_t(r).forEach(n=>{const i=s[n],a=r[n];s[n]=sr(i)&&sr(a)?ai(i,a):a}),s),{})}function Zt(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function ju(t,e){const s={start:r,center:n,end:i};function r(){return 0}function n(o){return i(o)/2}function i(o){return e-o}function a(o,c){return Yt(t)?s[t](o):t(e,o,c)}return{measure:a}}function wt(){let t=[];function e(n,i,a,o={passive:!0}){let c;if("addEventListener"in n)n.addEventListener(i,a,o),c=()=>n.removeEventListener(i,a,o);else{const d=n;d.addListener(a),c=()=>d.removeListener(a)}return t.push(c),r}function s(){t=t.filter(n=>n())}const r={add:e,clear:s};return r}function Nu(t,e,s,r){const n=wt(),i=1e3/60;let a=null,o=0,c=0;function d(){n.add(t,"visibilitychange",()=>{t.hidden&&h()})}function u(){f(),n.clear()}function m(g){if(!c)return;a||(a=g,s(),s());const y=g-a;for(a=g,o+=y;o>=i;)s(),o-=i;r(o/i),c&&(c=e.requestAnimationFrame(m))}function p(){c||(c=e.requestAnimationFrame(m))}function f(){e.cancelAnimationFrame(c),a=null,o=0,c=0}function h(){a=null,o=0}return{init:d,destroy:u,start:p,stop:f,update:s,render:r}}function ku(t,e){const s=e==="rtl",r=t==="y",n=r?"y":"x",i=r?"x":"y",a=!r&&s?-1:1,o=u(),c=m();function d(f){const{height:h,width:g}=f;return r?h:g}function u(){return r?"top":s?"right":"left"}function m(){return r?"bottom":s?"left":"right"}function p(f){return f*a}return{scroll:n,cross:i,startEdge:o,endEdge:c,measureSize:d,direction:p}}function at(t=0,e=0){const s=he(t-e);function r(c){return c<t}function n(c){return c>e}function i(c){return r(c)||n(c)}function a(c){return i(c)?r(c)?t:e:c}function o(c){return s?c-s*Math.ceil((c-e)/s):c}return{length:s,max:e,min:t,constrain:a,reachedAny:i,reachedMax:n,reachedMin:r,removeOffset:o}}function oi(t,e,s){const{constrain:r}=at(0,t),n=t+1;let i=a(e);function a(p){return s?he((n+p)%n):r(p)}function o(){return i}function c(p){return i=a(p),m}function d(p){return u().set(o()+p)}function u(){return oi(t,o(),s)}const m={get:o,set:c,add:d,clone:u};return m}function Su(t,e,s,r,n,i,a,o,c,d,u,m,p,f,h,g,y,x,_){const{cross:w,direction:k}=t,b=["INPUT","SELECT","TEXTAREA"],j={passive:!1},N=wt(),S=wt(),C=at(50,225).constrain(f.measure(20)),E={mouse:300,touch:400},P={mouse:500,touch:600},A=h?43:25;let $=!1,z=0,M=0,L=!1,R=!1,T=!1,F=!1;function K(O){if(!_)return;function I(ee){(It(_)||_(O,ee))&&B(ee)}const G=e;N.add(G,"dragstart",ee=>ee.preventDefault(),j).add(G,"touchmove",()=>{},j).add(G,"touchend",()=>{}).add(G,"touchstart",I).add(G,"mousedown",I).add(G,"touchcancel",Q).add(G,"contextmenu",Q).add(G,"click",q,!0)}function W(){N.clear(),S.clear()}function J(){const O=F?s:e;S.add(O,"touchmove",V,j).add(O,"touchend",Q).add(O,"mousemove",V,j).add(O,"mouseup",Q)}function X(O){const I=O.nodeName||"";return b.includes(I)}function te(){return(h?P:E)[F?"mouse":"touch"]}function H(O,I){const G=m.add(js(O)*-1),ee=u.byDistance(O,!h).distance;return h||he(O)<C?ee:y&&I?ee*.5:u.byIndex(G.get(),0).distance}function B(O){const I=Zt(O,r);F=I,T=h&&I&&!O.buttons&&$,$=xt(n.get(),a.get())>=2,!(I&&O.button!==0)&&(X(O.target)||(L=!0,i.pointerDown(O),d.useFriction(0).useDuration(0),n.set(a),J(),z=i.readPoint(O),M=i.readPoint(O,w),p.emit("pointerDown")))}function V(O){if(!Zt(O,r)&&O.touches.length>=2)return Q(O);const I=i.readPoint(O),G=i.readPoint(O,w),ee=xt(I,z),re=xt(G,M);if(!R&&!F&&(!O.cancelable||(R=ee>re,!R)))return Q(O);const se=i.pointerMove(O);ee>g&&(T=!0),d.useFriction(.3).useDuration(.75),o.start(),n.add(k(se)),O.preventDefault()}function Q(O){const I=u.byDistance(0,!1).index!==m.get(),G=i.pointerUp(O)*te(),ee=H(k(G),I),re=_u(G,ee),se=A-10*re,ce=x+re/50;R=!1,L=!1,S.clear(),d.useDuration(se).useFriction(ce),c.distance(ee,!h),F=!1,p.emit("pointerUp")}function q(O){T&&(O.stopPropagation(),O.preventDefault(),T=!1)}function Y(){return L}return{init:K,destroy:W,pointerDown:Y}}function Cu(t,e){let r,n;function i(u){return u.timeStamp}function a(u,m){const p=`client${(m||t.scroll)==="x"?"X":"Y"}`;return(Zt(u,e)?u:u.touches[0])[p]}function o(u){return r=u,n=u,a(u)}function c(u){const m=a(u)-a(n),p=i(u)-i(r)>170;return n=u,p&&(r=u),m}function d(u){if(!r||!n)return 0;const m=a(n)-a(r),p=i(u)-i(r),f=i(u)-i(n)>170,h=m/p;return p&&!f&&he(h)>.1?h:0}return{pointerDown:o,pointerMove:c,pointerUp:d,readPoint:a}}function $u(){function t(e){const{offsetTop:s,offsetLeft:r,offsetWidth:n,offsetHeight:i}=e;return{top:s,right:r+n,bottom:s+i,left:r,width:n,height:i}}return{measure:t}}function zu(t){function e(s){return t*(s/100)}return{measure:e}}function Eu(t,e,s,r,n,i,a){const o=[t].concat(r);let c,d,u=[],m=!1;function p(g){return n.measureSize(a.measure(g))}function f(g){if(!i)return;d=p(t),u=r.map(p);function y(x){for(const _ of x){if(m)return;const w=_.target===t,k=r.indexOf(_.target),b=w?d:u[k];if(he(p(w?t:r[k])-b)>=.5){g.reInit(),e.emit("resize");break}}}c=new ResizeObserver(x=>{(It(i)||i(g,x))&&y(x)}),s.requestAnimationFrame(()=>{o.forEach(x=>c.observe(x))})}function h(){m=!0,c&&c.disconnect()}return{init:f,destroy:h}}function Pu(t,e,s,r,n,i){let a=0,o=0,c=n,d=i,u=t.get(),m=0;function p(){const j=r.get()-t.get(),N=!c;let S=0;return N?(a=0,s.set(r),t.set(r),S=j):(s.set(t),a+=j/c,a*=d,u+=a,t.add(a),S=u-m),o=js(S),m=u,b}function f(){return he(r.get()-e.get())<.001}function h(){return c}function g(){return o}function y(){return a}function x(){return w(n)}function _(){return k(i)}function w(j){return c=j,b}function k(j){return d=j,b}const b={direction:g,duration:h,velocity:y,seek:p,settled:f,useBaseFriction:_,useBaseDuration:x,useFriction:k,useDuration:w};return b}function Mu(t,e,s,r,n){const i=n.measure(10),a=n.measure(50),o=at(.1,.99);let c=!1;function d(){return!(c||!t.reachedAny(s.get())||!t.reachedAny(e.get()))}function u(p){if(!d())return;const f=he(t[t.reachedMin(e.get())?"min":"max"]-e.get()),h=s.get()-e.get(),g=o.constrain(f/a);s.subtract(h*g),!p&&he(h)<i&&(s.set(t.constrain(s.get())),r.useDuration(25).useBaseFriction())}function m(p){c=!p}return{shouldConstrain:d,constrain:u,toggleActive:m}}function Au(t,e,s,r,n){const i=at(-e+t,0),a=m(),o=u(),c=p();function d(f,h){return xt(f,h)<=1}function u(){const f=a[0],h=Be(a);return at(a.lastIndexOf(f),a.indexOf(h)+1)}function m(){return s.map((f,h)=>{const{min:g,max:y}=i,x=i.constrain(f),_=!h,w=Ns(s,h);return _?y:w||d(g,x)?g:d(y,x)?y:x}).map(f=>parseFloat(f.toFixed(3)))}function p(){if(e<=t+n)return[i.max];if(r==="keepSnaps")return a;const{min:f,max:h}=o;return a.slice(f,h)}return{snapsContained:c,scrollContainLimit:o}}function Lu(t,e,s){const r=e[0];return{limit:at(s?r-t:Be(e),r)}}function Ru(t,e,s,r){const{reachedMin:i,reachedMax:a}=at(e.min+.1,e.max+.1);function o(d){return d===1?a(s.get()):d===-1?i(s.get()):!1}function c(d){if(!o(d))return;const u=t*(d*-1);r.forEach(m=>m.add(u))}return{loop:c}}function Du(t){const{max:e,length:s}=t;function r(n){const i=n-e;return s?i/-s:0}return{get:r}}function Fu(t,e,s,r,n){const{startEdge:i,endEdge:a}=t,{groupSlides:o}=n,c=m().map(e.measure),d=p(),u=f();function m(){return o(r).map(h=>Be(h)[a]-h[0][i]).map(he)}function p(){return r.map(h=>s[i]-h[i]).map(h=>-he(h))}function f(){return o(d).map(h=>h[0]).map((h,g)=>h+c[g])}return{snaps:d,snapsAligned:u}}function Tu(t,e,s,r,n,i){const{groupSlides:a}=n,{min:o,max:c}=r,d=u();function u(){const m=a(i),p=!t||e==="keepSnaps";return s.length===1?[i]:p?m:m.slice(o,c).map((f,h,g)=>{const y=!h,x=Ns(g,h);return y?rr(Be(g[0])+1):x?rr(St(i)-Be(g)[0]+1,Be(g)[0]):f})}return{slideRegistry:d}}function qu(t,e,s,r,n){const{reachedAny:i,removeOffset:a,constrain:o}=r;function c(f){return f.concat().sort((h,g)=>he(h)-he(g))[0]}function d(f){const h=t?a(f):o(f),{index:g}=e.map((y,x)=>({diff:u(y-h,0),index:x})).sort((y,x)=>he(y.diff)-he(x.diff))[0];return{index:g,distance:h}}function u(f,h){const g=[f,f+s,f-s];if(!t)return f;if(!h)return c(g);const y=g.filter(x=>js(x)===h);return y.length?c(y):Be(g)-s}function m(f,h){return{index:f,distance:u(e[f]-n.get(),h)}}function p(f,h){const g=n.get()+f,{index:y,distance:x}=d(g),_=!t&&i(g);return!h||_?{index:y,distance:f}:{index:y,distance:f+u(e[y]-x,0)}}return{byDistance:p,byIndex:m,shortcut:u}}function Iu(t,e,s,r,n,i,a){function o(u){const m=u.distance,p=u.index!==e.get();i.add(m),m&&(r.duration()?t.start():(t.update(),t.render(1),t.update())),p&&(s.set(e.get()),e.set(u.index),a.emit("select"))}function c(u,m){o(n.byDistance(u,m))}function d(u,m){const p=e.clone().set(u);o(n.byIndex(p.get(),m))}return{distance:c,index:d}}function Ou(t,e,s,r,n,i,a,o){const c={passive:!0,capture:!0};let d=0;function u(p){if(!o)return;function f(h){if(new Date().getTime()-d>10)return;a.emit("slideFocusStart"),t.scrollLeft=0;const g=s.findIndex(y=>y.includes(h));ws(g)&&(n.useDuration(0),r.index(g,0),a.emit("slideFocus"))}i.add(document,"keydown",m,!1),e.forEach((h,g)=>{i.add(h,"focus",y=>{(It(o)||o(p,y))&&f(g)},c)})}function m(p){p.code==="Tab"&&(d=new Date().getTime())}return{init:u}}function gt(t){let e=t;function s(){return e}function r(o){e=a(o)}function n(o){e+=a(o)}function i(o){e-=a(o)}function a(o){return ws(o)?o:o.get()}return{get:s,set:r,add:n,subtract:i}}function li(t,e){const s=t.scroll==="x"?a:o,r=e.style;let n=null,i=!1;function a(m){return`translate3d(${m}px,0px,0px)`}function o(m){return`translate3d(0px,${m}px,0px)`}function c(m){if(i)return;const p=wu(t.direction(m));p!==n&&(r.transform=s(p),n=p)}function d(m){i=!m}function u(){i||(r.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:u,to:c,toggleActive:d}}function Bu(t,e,s,r,n,i,a,o,c){const u=bt(n),m=bt(n).reverse(),p=x().concat(_());function f(j,N){return j.reduce((S,C)=>S-n[C],N)}function h(j,N){return j.reduce((S,C)=>f(S,N)>0?S.concat([C]):S,[])}function g(j){return i.map((N,S)=>({start:N-r[S]+.5+j,end:N+e-.5+j}))}function y(j,N,S){const C=g(N);return j.map(E=>{const P=S?0:-s,A=S?s:0,$=S?"end":"start",z=C[E][$];return{index:E,loopPoint:z,slideLocation:gt(-1),translate:li(t,c[E]),target:()=>o.get()>z?P:A}})}function x(){const j=a[0];return y(h(m,j),s,!1)}function _(){return y(h(u,e-a[0]-1),-s,!0)}function w(){return p.every(({index:j})=>f(u.filter(N=>N!==j),e)<=.1)}function k(){p.forEach(j=>{const{target:N,translate:S,slideLocation:C}=j,E=N();E!==C.get()&&(S.to(E),C.set(E))})}function b(){p.forEach(j=>j.translate.clear())}return{canLoop:w,clear:b,loop:k,loopPoints:p}}function Vu(t,e,s){let r,n=!1;function i(o){if(!s)return;function c(d){for(const u of d)if(u.type==="childList"){o.reInit(),e.emit("slidesChanged");break}}r=new MutationObserver(d=>{n||(It(s)||s(o,d))&&c(d)}),r.observe(t,{childList:!0})}function a(){r&&r.disconnect(),n=!0}return{init:i,destroy:a}}function Hu(t,e,s,r){const n={};let i=null,a=null,o,c=!1;function d(){o=new IntersectionObserver(f=>{c||(f.forEach(h=>{const g=e.indexOf(h.target);n[g]=h}),i=null,a=null,s.emit("slidesInView"))},{root:t.parentElement,threshold:r}),e.forEach(f=>o.observe(f))}function u(){o&&o.disconnect(),c=!0}function m(f){return _t(n).reduce((h,g)=>{const y=parseInt(g),{isIntersecting:x}=n[y];return(f&&x||!f&&!x)&&h.push(y),h},[])}function p(f=!0){if(f&&i)return i;if(!f&&a)return a;const h=m(f);return f&&(i=h),f||(a=h),h}return{init:d,destroy:u,get:p}}function Ku(t,e,s,r,n,i){const{measureSize:a,startEdge:o,endEdge:c}=t,d=s[0]&&n,u=h(),m=g(),p=s.map(a),f=y();function h(){if(!d)return 0;const x=s[0];return he(e[o]-x[o])}function g(){if(!d)return 0;const x=i.getComputedStyle(Be(r));return parseFloat(x.getPropertyValue(`margin-${c}`))}function y(){return s.map((x,_,w)=>{const k=!_,b=Ns(w,_);return k?p[_]+u:b?p[_]+m:w[_+1][o]-x[o]}).map(he)}return{slideSizes:p,slideSizesWithGaps:f,startGap:u,endGap:m}}function Qu(t,e,s,r,n,i,a,o,c){const{startEdge:d,endEdge:u,direction:m}=t,p=ws(s);function f(y,x){return bt(y).filter(_=>_%x===0).map(_=>y.slice(_,_+x))}function h(y){return y.length?bt(y).reduce((x,_,w)=>{const k=Be(x)||0,b=k===0,j=_===St(y),N=n[d]-i[k][d],S=n[d]-i[_][u],C=!r&&b?m(a):0,E=he(S-(!r&&j?m(o):0)-(N+C));return w&&E>e+c&&x.push(_),j&&x.push(y.length),x},[]).map((x,_,w)=>{const k=Math.max(w[_-1]||0);return y.slice(k,x)}):[]}function g(y){return p?f(y,s):h(y)}return{groupSlides:g}}function Wu(t,e,s,r,n,i,a){const{align:o,axis:c,direction:d,startIndex:u,loop:m,duration:p,dragFree:f,dragThreshold:h,inViewThreshold:g,slidesToScroll:y,skipSnaps:x,containScroll:_,watchResize:w,watchSlides:k,watchDrag:b,watchFocus:j}=i,N=2,S=$u(),C=S.measure(e),E=s.map(S.measure),P=ku(c,d),A=P.measureSize(C),$=zu(A),z=ju(o,A),M=!m&&!!_,{slideSizes:L,slideSizesWithGaps:R,startGap:T,endGap:F}=Ku(P,C,E,s,m||!!_,n),K=Qu(P,A,y,m,C,E,T,F,N),{snaps:W,snapsAligned:J}=Fu(P,z,C,E,K),X=-Be(W)+Be(R),{snapsContained:te,scrollContainLimit:H}=Au(A,X,J,_,N),B=M?te:J,{limit:V}=Lu(X,B,m),Q=oi(St(B),u,m),q=Q.clone(),Y=bt(s),O=({dragHandler:$e,scrollBody:Ge,scrollBounds:Ot,options:{loop:Ct}})=>{Ct||Ot.constrain($e.pointerDown()),Ge.seek()},I=({scrollBody:$e,translate:Ge,location:Ot,offsetLocation:Ct,previousLocation:wi,scrollLooper:ji,slideLooper:Ni,dragHandler:ki,animation:Si,eventHandler:$s,scrollBounds:Ci,options:{loop:zs}},Es)=>{const Ps=$e.settled(),$i=!Ci.shouldConstrain(),Ms=zs?Ps:Ps&&$i,As=Ms&&!ki.pointerDown();As&&Si.stop();const zi=Ot.get()*Es+wi.get()*(1-Es);Ct.set(zi),zs&&(ji.loop($e.direction()),Ni.loop()),Ge.to(Ct.get()),As&&$s.emit("settle"),Ms||$s.emit("scroll")},G=Nu(r,n,()=>O(oe),$e=>I(oe,$e)),ee=.68,re=B[Q.get()],se=gt(re),ce=gt(re),de=gt(re),ie=gt(re),fe=Pu(se,de,ce,ie,p,ee),be=qu(m,B,X,V,ie),_e=Iu(G,Q,q,fe,be,ie,a),Ee=Du(V),Ne=wt(),Ce=Hu(e,s,a,g),{slideRegistry:Pe}=Tu(M,_,B,H,K,Y),me=Ou(t,s,Pe,_e,fe,Ne,a,j),oe={ownerDocument:r,ownerWindow:n,eventHandler:a,containerRect:C,slideRects:E,animation:G,axis:P,dragHandler:Su(P,t,r,n,ie,Cu(P,n),se,G,_e,fe,be,Q,a,$,f,h,x,ee,b),eventStore:Ne,percentOfView:$,index:Q,indexPrevious:q,limit:V,location:se,offsetLocation:de,previousLocation:ce,options:i,resizeHandler:Eu(e,a,n,s,P,w,S),scrollBody:fe,scrollBounds:Mu(V,de,ie,fe,$),scrollLooper:Ru(X,V,de,[se,de,ce,ie]),scrollProgress:Ee,scrollSnapList:B.map(Ee.get),scrollSnaps:B,scrollTarget:be,scrollTo:_e,slideLooper:Bu(P,A,X,L,R,W,B,de,s),slideFocus:me,slidesHandler:Vu(e,a,k),slidesInView:Ce,slideIndexes:Y,slideRegistry:Pe,slidesToScroll:K,target:ie,translate:li(P,e)};return oe}function Gu(){let t={},e;function s(d){e=d}function r(d){return t[d]||[]}function n(d){return r(d).forEach(u=>u(e,d)),c}function i(d,u){return t[d]=r(d).concat([u]),c}function a(d,u){return t[d]=r(d).filter(m=>m!==u),c}function o(){t={}}const c={init:s,emit:n,off:a,on:i,clear:o};return c}var Ju={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function Yu(t){function e(n,i){return ai(n,i||{})}function s(n){const i=n.breakpoints||{};return e(n,_t(i).filter(a=>t.matchMedia(a).matches).map(a=>i[a]).reduce((a,o)=>e(a,o),{}))}function r(n){return n.map(i=>_t(i.breakpoints||{})).reduce((i,a)=>i.concat(a),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:s,optionsMediaQueries:r}}function Zu(t){let e=[];function s(n,i){return e=i.filter(({options:a})=>t.optionsAtMedia(a).active!==!1),e.forEach(a=>a.init(n,t)),i.reduce((a,o)=>Object.assign(a,{[o.name]:o}),{})}function r(){e=e.filter(n=>n.destroy())}return{init:s,destroy:r}}function At(t,e,s){const r=t.ownerDocument,n=r.defaultView,i=Yu(n),a=Zu(i),o=wt(),c=Gu(),{mergeOptions:d,optionsAtMedia:u,optionsMediaQueries:m}=i,{on:p,off:f,emit:h}=c,g=P;let y=!1,x,_=d(Ju,At.globalOptions),w=d(_),k=[],b,j,N;function S(){const{container:O,slides:I}=w;j=(Yt(O)?t.querySelector(O):O)||t.children[0];const G=Yt(I)?j.querySelectorAll(I):I;N=[].slice.call(G||j.children)}function C(O){const I=Wu(t,j,N,r,n,O,c);return O.loop&&!I.slideLooper.canLoop()?C(Object.assign({},O,{loop:!1})):I}function E(O,I){y||(_=d(_,O),w=u(_),k=I||k,S(),x=C(w),m([_,...k.map(({options:G})=>G)]).forEach(G=>o.add(G,"change",P)),w.active&&(x.translate.to(x.location.get()),x.animation.init(),x.slidesInView.init(),x.slideFocus.init(Y),x.eventHandler.init(Y),x.resizeHandler.init(Y),x.slidesHandler.init(Y),x.options.loop&&x.slideLooper.loop(),j.offsetParent&&N.length&&x.dragHandler.init(Y),b=a.init(Y,k)))}function P(O,I){const G=W();A(),E(d({startIndex:G},O),I),c.emit("reInit")}function A(){x.dragHandler.destroy(),x.eventStore.clear(),x.translate.clear(),x.slideLooper.clear(),x.resizeHandler.destroy(),x.slidesHandler.destroy(),x.slidesInView.destroy(),x.animation.destroy(),a.destroy(),o.clear()}function $(){y||(y=!0,o.clear(),A(),c.emit("destroy"),c.clear())}function z(O,I,G){!w.active||y||(x.scrollBody.useBaseFriction().useDuration(I===!0?0:w.duration),x.scrollTo.index(O,G||0))}function M(O){z(x.index.add(1).get(),O,-1)}function L(O){z(x.index.add(-1).get(),O,1)}function R(){return x.index.add(1).get()!==W()}function T(){return x.index.add(-1).get()!==W()}function F(){return x.scrollSnapList}function K(){return x.scrollProgress.get(x.offsetLocation.get())}function W(){return x.index.get()}function J(){return x.indexPrevious.get()}function X(){return x.slidesInView.get()}function te(){return x.slidesInView.get(!1)}function H(){return b}function B(){return x}function V(){return t}function Q(){return j}function q(){return N}const Y={canScrollNext:R,canScrollPrev:T,containerNode:Q,internalEngine:B,destroy:$,off:f,on:p,emit:h,plugins:H,previousScrollSnap:J,reInit:g,rootNode:V,scrollNext:M,scrollPrev:L,scrollProgress:K,scrollSnapList:F,scrollTo:z,selectedScrollSnap:W,slideNodes:q,slidesInView:X,slidesNotInView:te};return E(e,s),setTimeout(()=>c.emit("init"),0),Y}At.globalOptions=void 0;function ks(t={},e=[]){const s=(0,v.useRef)(t),r=(0,v.useRef)(e),[n,i]=(0,v.useState)(),[a,o]=(0,v.useState)(),c=(0,v.useCallback)(()=>{n&&n.reInit(s.current,r.current)},[n]);return(0,v.useEffect)(()=>{_s(s.current,t)||(s.current=t,c())},[t,c]),(0,v.useEffect)(()=>{bu(r.current,e)||(r.current=e,c())},[e,c]),(0,v.useEffect)(()=>{if(vu()&&a){At.globalOptions=ks.globalOptions;const d=At(a,s.current,r.current);return i(d),()=>d.destroy()}else i(void 0)},[a,i]),[o,n]}ks.globalOptions=void 0;var Ss=U(),ci=v.createContext(null);function di(){const t=v.useContext(ci);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}function Xu(t){const e=(0,Ss.c)(45);let s,r,n,i,a,o,c;e[0]!==t?({orientation:c,opts:n,setApi:o,plugins:i,className:r,children:s,...a}=t,e[0]=t,e[1]=s,e[2]=r,e[3]=n,e[4]=i,e[5]=a,e[6]=o,e[7]=c):(s=e[1],r=e[2],n=e[3],i=e[4],a=e[5],o=e[6],c=e[7]);const d=c===void 0?"horizontal":c,u=d==="horizontal"?"x":"y";let m;e[8]!==n||e[9]!==u?(m={...n,axis:u},e[8]=n,e[9]=u,e[10]=m):m=e[10];const[p,f]=ks(m,i),[h,g]=v.useState(!1),[y,x]=v.useState(!1);let _;e[11]===Symbol.for("react.memo_cache_sentinel")?(_=F=>{F&&(g(F.canScrollPrev()),x(F.canScrollNext()))},e[11]=_):_=e[11];const w=_;let k;e[12]!==f?(k=()=>{f?.scrollPrev()},e[12]=f,e[13]=k):k=e[13];const b=k;let j;e[14]!==f?(j=()=>{f?.scrollNext()},e[14]=f,e[15]=j):j=e[15];const N=j;let S;e[16]!==N||e[17]!==b?(S=F=>{F.key==="ArrowLeft"?(F.preventDefault(),b()):F.key==="ArrowRight"&&(F.preventDefault(),N())},e[16]=N,e[17]=b,e[18]=S):S=e[18];const C=S;let E,P;e[19]!==f||e[20]!==o?(E=()=>{!f||!o||o(f)},P=[f,o],e[19]=f,e[20]=o,e[21]=E,e[22]=P):(E=e[21],P=e[22]),v.useEffect(E,P);let A,$;e[23]!==f?(A=()=>{if(f)return w(f),f.on("reInit",w),f.on("select",w),()=>{f?.off("select",w)}},$=[f,w],e[23]=f,e[24]=A,e[25]=$):(A=e[24],$=e[25]),v.useEffect(A,$);const z=d||(n?.axis==="y"?"vertical":"horizontal");let M;e[26]!==f||e[27]!==y||e[28]!==h||e[29]!==p||e[30]!==n||e[31]!==N||e[32]!==b||e[33]!==z?(M={carouselRef:p,api:f,opts:n,orientation:z,scrollPrev:b,scrollNext:N,canScrollPrev:h,canScrollNext:y},e[26]=f,e[27]=y,e[28]=h,e[29]=p,e[30]=n,e[31]=N,e[32]=b,e[33]=z,e[34]=M):M=e[34];let L;e[35]!==r?(L=Z("relative",r),e[35]=r,e[36]=L):L=e[36];let R;e[37]!==s||e[38]!==C||e[39]!==a||e[40]!==L?(R=(0,l.jsx)("div",{onKeyDownCapture:C,className:L,role:"region","aria-roledescription":"carousel","data-slot":"carousel",...a,children:s}),e[37]=s,e[38]=C,e[39]=a,e[40]=L,e[41]=R):R=e[41];let T;return e[42]!==M||e[43]!==R?(T=(0,l.jsx)(ci.Provider,{value:M,children:R}),e[42]=M,e[43]=R,e[44]=T):T=e[44],T}function Uu(t){const e=(0,Ss.c)(12);let s,r;e[0]!==t?({className:s,...r}=t,e[0]=t,e[1]=s,e[2]=r):(s=e[1],r=e[2]);const{carouselRef:n,orientation:i}=di(),a=i==="horizontal"?"-ml-4":"-mt-4 flex-col";let o;e[3]!==s||e[4]!==a?(o=Z("flex",a,s),e[3]=s,e[4]=a,e[5]=o):o=e[5];let c;e[6]!==r||e[7]!==o?(c=(0,l.jsx)("div",{className:o,...r}),e[6]=r,e[7]=o,e[8]=c):c=e[8];let d;return e[9]!==n||e[10]!==c?(d=(0,l.jsx)("div",{ref:n,className:"overflow-hidden","data-slot":"carousel-content",children:c}),e[9]=n,e[10]=c,e[11]=d):d=e[11],d}function e0(t){const e=(0,Ss.c)(9);let s,r;e[0]!==t?({className:s,...r}=t,e[0]=t,e[1]=s,e[2]=r):(s=e[1],r=e[2]);const{orientation:n}=di(),i=n==="horizontal"?"pl-4":"pt-4";let a;e[3]!==s||e[4]!==i?(a=Z("min-w-0 shrink-0 grow-0 basis-full",i,s),e[3]=s,e[4]=i,e[5]=a):a=e[5];let o;return e[6]!==r||e[7]!==a?(o=(0,l.jsx)("div",{role:"group","aria-roledescription":"slide","data-slot":"carousel-item",className:a,...r}),e[6]=r,e[7]=a,e[8]=o):o=e[8],o}var st=U();const qh=t=>{const e=(0,st.c)(12);let s,r,n;e[0]!==t?({className:s,opts:r,...n}=t,e[0]=t,e[1]=s,e[2]=r,e[3]=n):(s=e[1],r=e[2],n=e[3]);let i;e[4]!==s?(i=Z("w-full",s),e[4]=s,e[5]=i):i=e[5];let a;e[6]!==r?(a={align:"start",loop:!1,dragFree:!0,...r},e[6]=r,e[7]=a):a=e[7];let o;return e[8]!==n||e[9]!==i||e[10]!==a?(o=(0,l.jsx)(Xu,{className:i,opts:a,...n}),e[8]=n,e[9]=i,e[10]=a,e[11]=o):o=e[11],o},Ih=t=>{const e=(0,st.c)(8);let s,r;e[0]!==t?({className:s,...r}=t,e[0]=t,e[1]=s,e[2]=r):(s=e[1],r=e[2]);let n;e[3]!==s?(n=Z("-ml-2 gap-2",s),e[3]=s,e[4]=n):n=e[4];let i;return e[5]!==r||e[6]!==n?(i=(0,l.jsx)(Uu,{className:n,...r}),e[5]=r,e[6]=n,e[7]=i):i=e[7],i},Oh=t=>{const e=(0,st.c)(13);let s,r;e[0]!==t?({className:s,...r}=t,e[0]=t,e[1]=s,e[2]=r):(s=e[1],r=e[2]);let n;e[3]!==s?(n=Z("basis-0 pl-2 md:pl-4 min-w-[150px] sm:min-w-[180px]",s),e[3]=s,e[4]=n):n=e[4];let i;e[5]!==s?(i=Z("group relative overflow-hidden rounded-xl bg-muted/40","cursor-pointer transition-all duration-200","hover:scale-[1.02] hover:shadow-lg","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),e[5]=s,e[6]=i):i=e[6];let a;e[7]!==r||e[8]!==i?(a=(0,l.jsx)("div",{className:i,role:"button",tabIndex:0,...r}),e[7]=r,e[8]=i,e[9]=a):a=e[9];let o;return e[10]!==n||e[11]!==a?(o=(0,l.jsx)(e0,{className:n,children:a}),e[10]=n,e[11]=a,e[12]=o):o=e[12],o};var t0=/t=(\d+(?:\.\d+)?)/;const Bh=t=>{const e=(0,st.c)(15);let s,r;e[0]!==t?({className:s,...r}=t,e[0]=t,e[1]=s,e[2]=r):(s=e[1],r=e[2]);const n=(0,v.useRef)(null),i=(0,v.useRef)(0);let a,o;e[3]!==r.src?(a=()=>{const _=r.src??"";let w=0;if(typeof _=="string"){const k=_.indexOf("#");if(k!==-1){const b=_.slice(k+1).match(t0);b&&(w=Number.parseFloat(b[1]))}}i.current=w},o=[r.src],e[3]=r.src,e[4]=a,e[5]=o):(a=e[4],o=e[5]),(0,v.useEffect)(a,o);let c;e[6]===Symbol.for("react.memo_cache_sentinel")?(c=()=>{n.current?.play()},e[6]=c):c=e[6];const d=c;let u;e[7]===Symbol.for("react.memo_cache_sentinel")?(u=()=>{n.current&&(n.current.pause(),n.current.currentTime=i.current)},e[7]=u):u=e[7];const m=u;let p;e[8]===Symbol.for("react.memo_cache_sentinel")?(p=()=>{n.current?.play()},e[8]=p):p=e[8];const f=p;let h;e[9]===Symbol.for("react.memo_cache_sentinel")?(h=()=>{n.current&&(n.current.pause(),n.current.currentTime=i.current)},e[9]=h):h=e[9];const g=h;let y;e[10]!==s?(y=Z("absolute inset-0 size-full object-cover","transition-opacity duration-200","group-hover:opacity-90",s),e[10]=s,e[11]=y):y=e[11];let x;return e[12]!==r||e[13]!==y?(x=(0,l.jsx)("video",{className:y,loop:!0,muted:!0,onBlur:g,onFocus:f,onMouseOut:m,onMouseOver:d,preload:"metadata",ref:n,tabIndex:0,...r}),e[12]=r,e[13]=y,e[14]=x):x=e[14],x},Vh=t=>{const e=(0,st.c)(12);let s,r,n;e[0]!==t?({className:r,children:s,...n}=t,e[0]=t,e[1]=s,e[2]=r,e[3]=n):(s=e[1],r=e[2],n=e[3]);let i;e[4]!==r?(i=Z("absolute right-0 bottom-0 left-0 z-10","p-3 text-white",r),e[4]=r,e[5]=i):i=e[5];let a;e[6]!==s?(a=(0,l.jsx)("div",{className:"flex items-center gap-2",children:s}),e[6]=s,e[7]=a):a=e[7];let o;return e[8]!==n||e[9]!==i||e[10]!==a?(o=(0,l.jsx)("div",{className:i,...n,children:a}),e[8]=n,e[9]=i,e[10]=a,e[11]=o):o=e[11],o},Hh=t=>{const e=(0,st.c)(21);let s,r,n,i,a;e[0]!==t?({src:a,fallback:r,name:n,className:s,...i}=t,e[0]=t,e[1]=s,e[2]=r,e[3]=n,e[4]=i,e[5]=a):(s=e[1],r=e[2],n=e[3],i=e[4],a=e[5]);let o;e[6]!==s?(o=Z("size-6 border border-white/20",s),e[6]=s,e[7]=o):o=e[7];let c;e[8]!==n||e[9]!==a?(c=a&&(0,l.jsx)(ct,{alt:n,src:a}),e[8]=n,e[9]=a,e[10]=c):c=e[10];let d;e[11]!==r||e[12]!==n?(d=r||n?.charAt(0)?.toUpperCase(),e[11]=r,e[12]=n,e[13]=d):d=e[13];let u;e[14]!==d?(u=(0,l.jsx)(dt,{className:"bg-white/10 text-white text-xs",children:d}),e[14]=d,e[15]=u):u=e[15];let m;return e[16]!==i||e[17]!==o||e[18]!==c||e[19]!==u?(m=(0,l.jsxs)(lt,{className:o,...i,children:[c,u]}),e[16]=i,e[17]=o,e[18]=c,e[19]=u,e[20]=m):m=e[20],m},Kh=t=>{const e=(0,st.c)(8);let s,r;e[0]!==t?({className:s,...r}=t,e[0]=t,e[1]=s,e[2]=r):(s=e[1],r=e[2]);let n;e[3]!==s?(n=Z("truncate font-medium text-sm",s),e[3]=s,e[4]=n):n=e[4];let i;return e[5]!==r||e[6]!==n?(i=(0,l.jsx)("span",{className:n,...r}),e[5]=r,e[6]=n,e[7]=i):i=e[7],i},Qh=t=>{const e=(0,st.c)(10);let s,r,n;e[0]!==t?({className:s,side:n,...r}=t,e[0]=t,e[1]=s,e[2]=r,e[3]=n):(s=e[1],r=e[2],n=e[3]);const i=(n===void 0?"bottom":n)==="top"?"top-0 bg-gradient-to-b":"bottom-0 bg-gradient-to-t";let a;e[4]!==s||e[5]!==i?(a=Z("absolute right-0 left-0 h-10 from-black/20 to-transparent",i,s),e[4]=s,e[5]=i,e[6]=a):a=e[6];let o;return e[7]!==r||e[8]!==a?(o=(0,l.jsx)("div",{className:a,...r}),e[7]=r,e[8]=a,e[9]=o):o=e[9],o};var s0=U(),r0=()=>{const t=(0,s0.c)(21),{currentUser:e}=ye(),{unreadCount:s}=Nn(e),{unreadCount:r}=us(e);let n,i,a,o,c;t[0]===Symbol.for("react.memo_cache_sentinel")?(n={id:"home",icon:fu,path:"/feed"},i={id:"explore",icon:pu,path:"/explore"},a={id:"reels",icon:gu,path:"/r"},o={id:"messages",icon:hu,path:"/m"},c={id:"notifications",icon:xu,path:"/notifications"},t[0]=n,t[1]=i,t[2]=a,t[3]=o,t[4]=c):(n=t[0],i=t[1],a=t[2],o=t[3],c=t[4]);const d=e?`/u/${e.handle}`:"/login";let u;t[5]!==d?(u={id:"profile",icon:Pt,path:d},t[5]=d,t[6]=u):u=t[6];let m;if(t[7]!==e?.role||t[8]!==u){if(m=[n,i,a,o,c,u],e?.role==="admin"){let y;t[10]===Symbol.for("react.memo_cache_sentinel")?(y={id:"admin",icon:kr,path:"/syspanel"},t[10]=y):y=t[10],m.push(y)}t[7]=e?.role,t[8]=u,t[9]=m}else m=t[9];let p;t[11]===Symbol.for("react.memo_cache_sentinel")?(p=(0,l.jsx)(Se,{to:"/",className:"mb-8 transition-transform hover:scale-110",children:(0,l.jsx)("img",{src:"/logo.webp",alt:"Logo",className:"size-8 rounded-lg"})}),t[11]=p):p=t[11];let f;t[12]!==r||t[13]!==m||t[14]!==s?(f=m.map(y=>(0,l.jsxs)(Kt,{to:y.path,"aria-label":y.id,className:i0,children:[(0,l.jsx)(y.icon,{size:26,strokeWidth:2.5}),y.id==="notifications"&&s>0&&(0,l.jsx)("span",{className:"absolute right-2 top-2 size-2 rounded-full bg-rose-500 ring-2 ring-white dark:ring-black"}),y.id==="messages"&&r>0&&(0,l.jsx)("span",{className:"absolute right-2 top-2 size-2 rounded-full bg-rose-500 ring-2 ring-white dark:ring-black"})]},y.id)),t[12]=r,t[13]=m,t[14]=s,t[15]=f):f=t[15];let h;t[16]!==e?(h=e&&(0,l.jsx)("div",{className:"mt-2",children:(0,l.jsx)(Ql,{triggerClassName:"rounded-xl bg-zinc-950 p-2.5 text-white dark:bg-white dark:text-zinc-950"})}),t[16]=e,t[17]=h):h=t[17];let g;return t[18]!==f||t[19]!==h?(g=(0,l.jsxs)("aside",{className:"sticky top-0 hidden h-screen w-[68px] shrink-0 self-start flex-col items-center bg-white py-5 transition-colors duration-200 dark:bg-black md:flex",children:[p,(0,l.jsxs)("nav",{className:"flex w-full flex-col items-center gap-y-4",children:[f,h]})]}),t[18]=f,t[19]=h,t[20]=g):g=t[20],g},n0=r0;function i0(t){const{isActive:e}=t;return`relative rounded-xl border border-transparent p-2.5 transition-all duration-200 ${e?"border-zinc-200 bg-zinc-100 text-black dark:border-zinc-800 dark:bg-zinc-900 dark:text-white":"text-zinc-500 hover:bg-zinc-50 dark:hover:bg-zinc-900"}`}var ui=U(),a0=[{name:" 2026 Sysm",path:"/terms"},{name:"Terms",path:"/terms"},{name:"Privacy",path:"/privacy"},{name:"Guidelines",path:"/guidelines"},{name:"Discord",path:"https://discord.gg/sysm",isExternal:!0},{name:"Sysm",path:"/feed"},{name:"GitHub",path:"https://github.com/sysm",isExternal:!0},{name:"Support",path:"/support"},{name:"Status",path:"/status"}],nr=()=>{const t=(0,ui.c)(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,l.jsx)("div",{className:"flex flex-wrap gap-x-4 gap-y-2 px-2 pb-5 text-[13px] font-medium text-zinc-500",children:a0.map(c0)}),t[0]=e):e=t[0],e},o0=()=>{const t=(0,ui.c)(53),{currentUser:e}=ye(),{darkMode:s,toggleDarkMode:r}=qt(),[n,i]=(0,v.useState)(""),a=De();let o;t[0]===Symbol.for("react.memo_cache_sentinel")?(o={queryKey:["trending-hashtags"],queryFn:d0,staleTime:3e5,refetchInterval:6e4},t[0]=o):o=t[0];const{data:c}=ve(o);let d;t[1]!==c?(d=c===void 0?[]:c,t[1]=c,t[2]=d):d=t[2];const u=d;let m;t[3]!==a||t[4]!==n?(m=E=>{E.key==="Enter"&&n.trim()&&(a(`/explore?q=${encodeURIComponent(n.trim())}&tab=posts`),i(""))},t[3]=a,t[4]=n,t[5]=m):m=t[5];const p=m;let f;t[6]!==s?(f=s?(0,l.jsx)(ta,{size:20}):(0,l.jsx)(Ea,{size:20}),t[6]=s,t[7]=f):f=t[7];let h;t[8]!==f||t[9]!==r?(h=(0,l.jsx)("button",{onClick:r,className:"cursor-pointer rounded-full border border-zinc-100 bg-zinc-50 p-3 text-zinc-500 transition-all hover:bg-zinc-100 dark:border-zinc-800 dark:bg-zinc-900 dark:text-zinc-400 dark:hover:bg-zinc-800",title:"Toggle Theme",children:f}),t[8]=f,t[9]=r,t[10]=h):h=t[10];const g=h;if(e){let E;t[11]===Symbol.for("react.memo_cache_sentinel")?(E=()=>i(""),t[11]=E):E=t[11];let P;t[12]!==p||t[13]!==n?(P=(0,l.jsx)("div",{className:"flex-1",children:(0,l.jsx)(Zs,{value:n,onChange:i,onClear:E,onKeyDown:p})}),t[12]=p,t[13]=n,t[14]=P):P=t[14];let A;t[15]!==P||t[16]!==g?(A=(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[P,g]}),t[15]=P,t[16]=g,t[17]=A):A=t[17];let $;t[18]===Symbol.for("react.memo_cache_sentinel")?($=(0,l.jsx)("h3",{className:"px-4 pt-4 pb-2 text-xl font-black text-[--foreground]",children:"What's happening"}),t[18]=$):$=t[18];let z;if(t[19]!==a||t[20]!==u){let K;t[22]!==a?(K=W=>(0,l.jsxs)("div",{onClick:()=>a(`/tags/${W.name.replace(/^#/,"")}`),className:"group cursor-pointer px-4 py-3 transition-colors hover:bg-zinc-50 dark:hover:bg-zinc-900/50",children:[(0,l.jsx)("div",{className:"text-[13px] font-medium text-zinc-500 dark:text-zinc-400",children:"Trending"}),(0,l.jsxs)("div",{className:"text-[15px] font-bold text-[--foreground] group-hover:text-violet-500 transition-colors",children:["#",W.name.replace(/^#/,"")]}),(0,l.jsxs)("div",{className:"text-[13px] text-zinc-500 dark:text-zinc-400",children:[W.usage_count," posts"]})]},W.id),t[22]=a,t[23]=K):K=t[23],z=u.map(K),t[19]=a,t[20]=u,t[21]=z}else z=t[21];let M;t[24]!==u.length?(M=u.length===0&&(0,l.jsx)("p",{className:"px-4 py-6 text-sm text-zinc-500 text-center",children:"No trends yet"}),t[24]=u.length,t[25]=M):M=t[25];let L;t[26]===Symbol.for("react.memo_cache_sentinel")?(L=(0,l.jsx)("button",{className:"w-full px-4 py-4 text-left text-violet-500 hover:bg-zinc-50 dark:hover:bg-zinc-900/50 transition-colors text-sm font-medium",children:"Show more"}),t[26]=L):L=t[26];let R;t[27]!==z||t[28]!==M?(R=(0,l.jsxs)("div",{className:"rounded-2xl overflow-hidden",children:[$,(0,l.jsxs)("div",{className:"flex flex-col",children:[z,M,L]})]}),t[27]=z,t[28]=M,t[29]=R):R=t[29];let T;t[30]===Symbol.for("react.memo_cache_sentinel")?(T=(0,l.jsx)(nr,{}),t[30]=T):T=t[30];let F;return t[31]!==R||t[32]!==A?(F=(0,l.jsxs)("aside",{className:"sticky top-0 hidden max-h-screen w-[350px] shrink-0 self-start flex-col gap-y-6 overflow-y-auto pt-5 lg:flex",children:[A,R,T]}),t[31]=R,t[32]=A,t[33]=F):F=t[33],F}let y,x;t[34]!==a?(y=(0,l.jsx)("button",{onClick:()=>a("/register"),className:"cursor-pointer flex-1 rounded-full border border-[--border] bg-[--card] py-2.5 font-bold text-[--foreground] shadow-sm transition-colors hover:bg-zinc-50 dark:hover:bg-zinc-900",children:"Signup"}),x=()=>a("/login"),t[34]=a,t[35]=y,t[36]=x):(y=t[35],x=t[36]);let _;t[37]===Symbol.for("react.memo_cache_sentinel")?(_=(0,l.jsx)("img",{src:"/logo.webp",alt:"",className:"size-4 rounded-sm"}),t[37]=_):_=t[37];let w;t[38]!==x?(w=(0,l.jsxs)("button",{onClick:x,className:"cursor-pointer flex flex-1 items-center justify-center gap-2 rounded-full bg-zinc-950 py-2.5 font-bold text-white transition-opacity hover:opacity-90 dark:bg-white dark:text-zinc-950",children:[_,"Login"]}),t[38]=x,t[39]=w):w=t[39];let k;t[40]!==y||t[41]!==w||t[42]!==g?(k=(0,l.jsxs)("div",{className:"flex gap-3",children:[y,w,g]}),t[40]=y,t[41]=w,t[42]=g,t[43]=k):k=t[43];let b;t[44]===Symbol.for("react.memo_cache_sentinel")?(b=()=>i(""),t[44]=b):b=t[44];let j;t[45]!==p||t[46]!==n?(j=(0,l.jsx)(Zs,{value:n,onChange:i,onClear:b,onKeyDown:p}),t[45]=p,t[46]=n,t[47]=j):j=t[47];let N,S;t[48]===Symbol.for("react.memo_cache_sentinel")?(N=(0,l.jsx)(Ud,{}),S=(0,l.jsx)(nr,{}),t[48]=N,t[49]=S):(N=t[48],S=t[49]);let C;return t[50]!==k||t[51]!==j?(C=(0,l.jsxs)("aside",{className:"sticky top-0 hidden max-h-screen w-[400px] shrink-0 self-start flex-col gap-y-6 overflow-y-auto pt-5 pr-4 lg:flex",children:[k,j,N,S]}),t[50]=k,t[51]=j,t[52]=C):C=t[52],C},l0=o0;function c0(t){return t.isExternal?(0,l.jsx)("a",{href:t.path,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:t.name},t.name):(0,l.jsx)(Se,{to:t.path,className:"hover:underline",children:t.name},t.name)}function d0(){return qo(5)}var u0=U();const m0=(t,e,s)=>{const r=(0,u0.c)(16);let n,i;r[0]!==e||r[1]!==t?(n=["follows",e,t],i=y=>{const{pageParam:x}=y;return(e==="Followers"?Xa:Ua)(t,x,10)},r[0]=e,r[1]=t,r[2]=n,r[3]=i):(n=r[2],i=r[3]);const a=!!t&&s;let o;r[4]!==n||r[5]!==i||r[6]!==a?(o={queryKey:n,queryFn:i,initialPageParam:null,getNextPageParam:f0,enabled:a},r[4]=n,r[5]=i,r[6]=a,r[7]=o):o=r[7];const{data:c,fetchNextPage:d,hasNextPage:u,isFetchingNextPage:m,isLoading:p}=qe(o);let f;r[8]!==c?.pages?(f=c?.pages.flatMap(h0)||[],r[8]=c?.pages,r[9]=f):f=r[9];const h=f;let g;return r[10]!==d||r[11]!==h||r[12]!==u||r[13]!==m||r[14]!==p?(g={followList:h,fetchNextPage:d,hasNextPage:u,isFetchingNextPage:m,isLoading:p},r[10]=d,r[11]=h,r[12]=u,r[13]=m,r[14]=p,r[15]=g):g=r[15],g};function f0(t){if(!(!t||t.length<10))return t[t.length-1].followed_at}function h0(t){return t}var p0=U();const g0=(t,e)=>{const s=(0,p0.c)(95),r=Fe(),{addToast:n}=He();let i;s[0]!==t?.id?(i=(I,G)=>{const ee=I===void 0?[]:I,re=G===void 0?[]:G;return ee.map(se=>{const ce=se.reply_to_id;let de=null;if(ce){const ie=ee.find(fe=>fe.id===ce);ie&&(de={id:ie.id,senderName:ie.sender?.name||ie.sender?.display_name||"Unknown",text:ie.content||(ie.type==="image"?"Photo":ie.type==="video"?"Video":ie.type==="voice"?"Voice message":"")})}return{id:se.id,sender:se.sender_id===t?.id?"me":"them",senderAvatar:se.sender?.avatar,senderName:se.sender?.name,text:se.content||"",type:se.type||"text",media:se.media?Array.isArray(se.media)?se.media:[se.media]:[],isRead:se.is_read||!1,replyToId:ce,replyTo:de,reactions:re.filter(ie=>ie.message_id===se.id),time:se.created_at?new Date(se.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"Just now",updatedAt:se.updated_at,isOptimistic:se.isOptimistic}})},s[0]=t?.id,s[1]=i):i=s[1],t?.id;const a=i;let o,c;s[2]!==e?(o=["messages",e],c=I=>{const{pageParam:G}=I;return zo(e,G,20)},s[2]=e,s[3]=o,s[4]=c):(o=s[3],c=s[4]);const d=!!e;let u;s[5]!==o||s[6]!==c||s[7]!==d?(u={queryKey:o,queryFn:c,initialPageParam:null,getNextPageParam:x0,enabled:d,refetchOnWindowFocus:!1},s[5]=o,s[6]=c,s[7]=d,s[8]=u):u=s[8];const{data:m,fetchNextPage:p,hasNextPage:f,isFetchingNextPage:h,isLoading:g,refetch:y}=qe(u);let x,_;s[9]!==e?(x=["reactions",e],_=()=>Eo(e),s[9]=e,s[10]=x,s[11]=_):(x=s[10],_=s[11]);const w=!!e;let k;s[12]!==x||s[13]!==_||s[14]!==w?(k={queryKey:x,queryFn:_,enabled:w,staleTime:3e5},s[12]=x,s[13]=_,s[14]=w,s[15]=k):k=s[15];const{data:b}=ve(k);let j;s[16]!==b?(j=b===void 0?[]:b,s[16]=b,s[17]=j):j=s[17];const N=j;let S;s[18]!==t?(S=I=>{const{convId:G,text:ee,type:re,media:se,replyToId:ce}=I,de=re===void 0?"text":re,ie=se===void 0?[]:se,fe=ce===void 0?null:ce;return Mo(G,t.id,ee,de,ie,fe)},s[18]=t,s[19]=S):S=s[19];let C;s[20]!==e||s[21]!==t||s[22]!==r?(C=async I=>{await r.cancelQueries({queryKey:["messages",e]});const G=r.getQueryData(["messages",e]),ee={id:`temp-${Date.now()}`,conversation_id:e,sender_id:t.id,content:I.text,type:I.type||"text",media:I.media||[],reply_to_id:I.replyToId,reply_to:null,is_read:!1,created_at:new Date().toISOString(),isOptimistic:!0,sender:{id:t.id,handle:t.handle,name:t.name,avatar:t.avatar,verified:t.verified}};return r.setQueryData(["messages",e],re=>{if(!re)return{pages:[[ee]],pageParams:[null]};const se=[...re.pages];return se[0]=[ee,...se[0]],{...re,pages:se}}),{previousMessages:G}},s[20]=e,s[21]=t,s[22]=r,s[23]=C):C=s[23];let E;s[24]!==e||s[25]!==n||s[26]!==r?(E=(I,G,ee)=>{r.setQueryData(["messages",e],ee?.previousMessages),n("Failed to send message","error")},s[24]=e,s[25]=n,s[26]=r,s[27]=E):E=s[27];let P;s[28]!==e||s[29]!==t||s[30]!==r?(P=()=>{r.invalidateQueries({queryKey:["messages",e]}),r.invalidateQueries({queryKey:["conversations",t.id]})},s[28]=e,s[29]=t,s[30]=r,s[31]=P):P=s[31];let A;s[32]!==S||s[33]!==C||s[34]!==E||s[35]!==P?(A={mutationFn:S,onMutate:C,onError:E,onSettled:P},s[32]=S,s[33]=C,s[34]=E,s[35]=P,s[36]=A):A=s[36];const $=pe(A);let z;s[37]!==e||s[38]!==r?(z=async I=>{const{messageId:G,content:ee}=I;await r.cancelQueries({queryKey:["messages",e]});const re=r.getQueryData(["messages",e]);return r.setQueryData(["messages",e],se=>se&&{...se,pages:se.pages.map(ce=>ce.map(de=>de.id===G?{...de,content:ee}:de))}),{previousMessages:re}},s[37]=e,s[38]=r,s[39]=z):z=s[39];let M;s[40]!==e||s[41]!==t?.id||s[42]!==r?(M=I=>{I&&(r.invalidateQueries({queryKey:["messages",e]}),r.invalidateQueries({queryKey:["conversations",t?.id]}))},s[40]=e,s[41]=t?.id,s[42]=r,s[43]=M):M=s[43];let L;s[44]!==e||s[45]!==n||s[46]!==r?(L=(I,G,ee)=>{r.setQueryData(["messages",e],ee?.previousMessages),n("Failed to edit message","error")},s[44]=e,s[45]=n,s[46]=r,s[47]=L):L=s[47];let R;s[48]!==z||s[49]!==M||s[50]!==L?(R={mutationFn:y0,onMutate:z,onSuccess:M,onError:L},s[48]=z,s[49]=M,s[50]=L,s[51]=R):R=s[51];const T=pe(R);let F;s[52]!==e||s[53]!==n||s[54]!==t||s[55]!==r?(F=async(I,G)=>{if(!t?.id||!e)return;await r.cancelQueries({queryKey:["reactions",e]});const ee=r.getQueryData(["reactions",e]),re=ee?.find(se=>se.message_id===I&&se.user_id===t.id&&se.emoji===G);r.setQueryData(["reactions",e],se=>{const ce=se===void 0?[]:se;if(re)return ce.filter(ie=>ie.id!==re.id);const de={id:`temp-${Date.now()}`,message_id:I,user_id:t.id,emoji:G,created_at:new Date().toISOString()};return[...ce,de]});try{await Po(I,t.id,G),r.invalidateQueries({queryKey:["reactions",e]})}catch(se){console.error("Failed to toggle reaction:",se),r.setQueryData(["reactions",e],ee),n("Failed to update reaction","error")}},s[52]=e,s[53]=n,s[54]=t,s[55]=r,s[56]=F):F=s[56];const K=F;let W;s[57]!==e||s[58]!==r?(W=async I=>{await r.cancelQueries({queryKey:["messages",e]});const G=r.getQueryData(["messages",e]);return r.setQueryData(["messages",e],ee=>ee&&{...ee,pages:ee.pages.map(re=>re.filter(se=>se.id!==I))}),{previousMessages:G}},s[57]=e,s[58]=r,s[59]=W):W=s[59];let J;s[60]!==e||s[61]!==t?.id||s[62]!==r?(J=()=>{r.invalidateQueries({queryKey:["messages",e]}),r.invalidateQueries({queryKey:["conversations",t?.id]})},s[60]=e,s[61]=t?.id,s[62]=r,s[63]=J):J=s[63];let X;s[64]!==e||s[65]!==n||s[66]!==r?(X=(I,G,ee)=>{r.setQueryData(["messages",e],ee?.previousMessages),n("Failed to delete message","error")},s[64]=e,s[65]=n,s[66]=r,s[67]=X):X=s[67];let te;s[68]!==W||s[69]!==J||s[70]!==X?(te={mutationFn:v0,onMutate:W,onSuccess:J,onError:X},s[68]=W,s[69]=J,s[70]=X,s[71]=te):te=s[71];const H=pe(te);let B;s[72]!==m?.pages?(B=[...m?.pages.flatMap(b0)||[]].reverse(),s[72]=m?.pages,s[73]=B):B=s[73];const V=B;let Q;s[74]!==$?(Q=(I,G,ee,re,se)=>$.mutate({convId:I,text:G,type:ee,media:re,replyToId:se}),s[74]=$,s[75]=Q):Q=s[75];let q;s[76]!==T?(q=(I,G)=>T.mutate({messageId:I,content:G}),s[76]=T,s[77]=q):q=s[77];let Y;s[78]!==H?(Y=I=>H.mutate(I),s[78]=H,s[79]=Y):Y=s[79];let O;return s[80]!==N||s[81]!==T.isPending||s[82]!==p||s[83]!==V||s[84]!==a||s[85]!==f||s[86]!==h||s[87]!==g||s[88]!==K||s[89]!==y||s[90]!==$.isPending||s[91]!==Q||s[92]!==q||s[93]!==Y?(O={messages:V,isMsgLoading:g,refetchMessages:y,fetchNextMessages:p,hasMoreMessages:f,isFetchingMoreMessages:h,sendMessage:Q,editMessage:q,isSending:$.isPending,isEditing:T.isPending,onToggleReaction:K,onDeleteMessage:Y,conversationReactions:N,formatMessages:a},s[80]=N,s[81]=T.isPending,s[82]=p,s[83]=V,s[84]=a,s[85]=f,s[86]=h,s[87]=g,s[88]=K,s[89]=y,s[90]=$.isPending,s[91]=Q,s[92]=q,s[93]=Y,s[94]=O):O=s[94],O};function x0(t){if(!(!t||t.length<20))return t[t.length-1].created_at}function y0(t){const{messageId:e,content:s}=t;return Ao(e,s)}function v0(t){return Lo(t)}function b0(t){return t}var _0=U();const w0=(t,e)=>{const s=(0,_0.c)(26),r=Fe();let n;s[0]===Symbol.for("react.memo_cache_sentinel")?(n={},s[0]=n):n=s[0];const[i,a]=(0,v.useState)(n),o=(0,v.useRef)(null);let c;s[1]===Symbol.for("react.memo_cache_sentinel")?(c={},s[1]=c):c=s[1];const d=(0,v.useRef)(c);let u;s[2]!==t||s[3]!==r?(u=async S=>{if(!(!t?.id||!S))try{await Co(S),r.invalidateQueries({queryKey:["unread_messages_count",t.id]}),r.invalidateQueries({queryKey:["conversations",t.id]})}catch(C){console.error("Failed to mark as read:",C)}},s[2]=t,s[3]=r,s[4]=u):u=s[4];const m=u,p=(0,v.useRef)(null);let f,h;s[5]!==e?(f=()=>{p.current=e||null},h=[e],s[5]=e,s[6]=f,s[7]=h):(f=s[6],h=s[7]),(0,v.useEffect)(f,h);let g;s[8]!==t||s[9]!==m||s[10]!==r?(g=()=>{if(!t?.id)return;const S=D.channel("global_messages_subscription").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},C=>{const E=C.new,P=p.current;P&&E.conversation_id===P&&(r.invalidateQueries({queryKey:["messages",P]}),E.sender_id!==t.id&&m(P)),r.invalidateQueries({queryKey:["conversations",t.id]}),E.sender_id!==t.id&&r.invalidateQueries({queryKey:["unread_messages_count",t.id]}),a(A=>({...A,[E.conversation_id]:!1}))}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"messages"},C=>{const E=C.new,P=p.current;P&&E.conversation_id===P&&r.invalidateQueries({queryKey:["messages",P]}),r.invalidateQueries({queryKey:["conversations",t.id]})}).on("postgres_changes",{event:"DELETE",schema:"public",table:"messages"},()=>{r.invalidateQueries({queryKey:["messages"]}),r.invalidateQueries({queryKey:["conversations",t.id]})}).on("postgres_changes",{event:"*",schema:"public",table:"message_reactions"},()=>{const C=p.current;C&&(r.invalidateQueries({queryKey:["reactions",C]}),r.invalidateQueries({queryKey:["messages",C]}))}).subscribe();return()=>{D.removeChannel(S).catch(j0)}},s[8]=t,s[9]=m,s[10]=r,s[11]=g):g=s[11];const y=t?.id;let x;s[12]!==m||s[13]!==r||s[14]!==y?(x=[y,r,m],s[12]=m,s[13]=r,s[14]=y,s[15]=x):x=s[15],(0,v.useEffect)(g,x);let _;s[16]!==t?(_=()=>{if(!t?.id)return;const S=D.channel("chat_typing_shared").on("broadcast",{event:"typing"},E=>{const{payload:P}=E,{conversationId:A,isTyping:$,userId:z}=P;z!==t.id&&(a(M=>({...M,[A]:$})),d.current[A]&&window.clearTimeout(d.current[A]),$&&(d.current[A]=window.setTimeout(()=>{a(M=>({...M,[A]:!1}))},5e3)))}).subscribe();o.current=S;const C=d.current;return()=>{D.removeChannel(S).catch(N0),Object.values(C).forEach(window.clearTimeout)}},s[16]=t,s[17]=_):_=s[17];const w=t?.id;let k;s[18]!==w?(k=[w],s[18]=w,s[19]=k):k=s[19],(0,v.useEffect)(_,k);let b;s[20]!==t?(b=(S,C)=>{o.current&&t&&o.current.send({type:"broadcast",event:"typing",payload:{conversationId:S,isTyping:C,userId:t.id}})},s[20]=t,s[21]=b):b=s[21];const j=b;let N;return s[22]!==m||s[23]!==j||s[24]!==i?(N={typingStatus:i,sendTypingStatus:j,markAsRead:m},s[22]=m,s[23]=j,s[24]=i,s[25]=N):N=s[25],N};function j0(){}function N0(){}var k0=U();const S0=(t,e)=>{const s=(0,k0.c)(22),{conversations:r,unreadCount:n,isConvLoading:i,refetchConversations:a}=us(t),{messages:o,isMsgLoading:c,refetchMessages:d,fetchNextMessages:u,hasMoreMessages:m,isFetchingMoreMessages:p,sendMessage:f,editMessage:h,isSending:g,isEditing:y,onToggleReaction:x,onDeleteMessage:_,conversationReactions:w,formatMessages:k}=g0(t,e),{typingStatus:b,sendTypingStatus:j,markAsRead:N}=w0(t,e);let S;return s[0]!==w||s[1]!==r||s[2]!==h||s[3]!==u||s[4]!==k||s[5]!==m||s[6]!==i||s[7]!==y||s[8]!==p||s[9]!==c||s[10]!==g||s[11]!==N||s[12]!==o||s[13]!==_||s[14]!==x||s[15]!==a||s[16]!==d||s[17]!==f||s[18]!==j||s[19]!==b||s[20]!==n?(S={conversations:r,unreadCount:n,isConvLoading:i,refetchConversations:a,refetchMessages:d,sendMessage:f,editMessage:h,sendTypingStatus:j,typingStatus:b,markAsRead:N,formatMessages:k,onToggleReaction:x,onDeleteMessage:_,conversationReactions:w,isSending:g,isEditing:y,messages:o,isMsgLoading:c,fetchNextMessages:u,hasMoreMessages:m,isFetchingMoreMessages:p},s[0]=w,s[1]=r,s[2]=h,s[3]=u,s[4]=k,s[5]=m,s[6]=i,s[7]=y,s[8]=p,s[9]=c,s[10]=g,s[11]=N,s[12]=o,s[13]=_,s[14]=x,s[15]=a,s[16]=d,s[17]=f,s[18]=j,s[19]=b,s[20]=n,s[21]=S):S=s[21],S};var C0=U();const Wh=(t,e,s)=>{const r=(0,C0.c)(85),n=Fe(),{addToast:i}=He();let a;r[0]!==e?(a=e||{comments:0,likes:0,mirrors:0,reposts:0},r[0]=e,r[1]=a):a=r[1];const[o,c]=(0,v.useState)(a),[d,u]=(0,v.useState)(e);e!==d&&(u(e),c(V=>({...V,...e})));const m=s?.id;let p;r[2]!==t||r[3]!==m?(p=["post",t,"liked",m],r[2]=t,r[3]=m,r[4]=p):p=r[4];let f,h;r[5]!==s||r[6]!==t?(f=()=>fo(t,s.id),h=!!s&&Ae(t)&&Ae(s.id),r[5]=s,r[6]=t,r[7]=f,r[8]=h):(f=r[7],h=r[8]);let g;r[9]!==p||r[10]!==f||r[11]!==h?(g={queryKey:p,queryFn:f,enabled:h,staleTime:6e5},r[9]=p,r[10]=f,r[11]=h,r[12]=g):g=r[12];const{data:y}=ve(g),x=y===void 0?!1:y,_=s?.id;let w;r[13]!==t||r[14]!==_?(w=["post",t,"reposted",_],r[13]=t,r[14]=_,r[15]=w):w=r[15];let k,b;r[16]!==s||r[17]!==t?(b=()=>po(t,s.id),k=!!s&&Ae(t)&&Ae(s.id),r[16]=s,r[17]=t,r[18]=k,r[19]=b):(k=r[18],b=r[19]);let j;r[20]!==k||r[21]!==w||r[22]!==b?(j={queryKey:w,queryFn:b,enabled:k,staleTime:6e5},r[20]=k,r[21]=w,r[22]=b,r[23]=j):j=r[23];const{data:N}=ve(j),S=N===void 0?!1:N;let C;r[24]!==s||r[25]!==t?(C=()=>mo(t,s.id),r[24]=s,r[25]=t,r[26]=C):C=r[26];let E;r[27]!==s||r[28]!==t||r[29]!==n?(E=async()=>{const V=s.id;await n.cancelQueries({queryKey:["post",t,"liked",V]});const Q=n.getQueryData(["post",t,"liked",V]);return n.setQueryData(["post",t,"liked",V],!Q),c(q=>({...q,likes:Q?(q.likes||0)-1:(q.likes||0)+1})),{previousLiked:Q}},r[27]=s,r[28]=t,r[29]=n,r[30]=E):E=r[30];let P;r[31]!==i||r[32]!==s||r[33]!==t||r[34]!==n?(P=(V,Q,q)=>{q?.previousLiked!==void 0&&(n.setQueryData(["post",t,"liked",s.id],q.previousLiked),c(Y=>({...Y,likes:q.previousLiked?(Y.likes||0)+1:(Y.likes||0)-1}))),i("Failed to update like","error")},r[31]=i,r[32]=s,r[33]=t,r[34]=n,r[35]=P):P=r[35];let A;r[36]!==s?.id||r[37]!==t||r[38]!==n?(A=()=>{n.invalidateQueries({queryKey:["post",t,"liked",s?.id]})},r[36]=s?.id,r[37]=t,r[38]=n,r[39]=A):A=r[39];let $;r[40]!==C||r[41]!==E||r[42]!==P||r[43]!==A?($={mutationFn:C,onMutate:E,onError:P,onSettled:A},r[40]=C,r[41]=E,r[42]=P,r[43]=A,r[44]=$):$=r[44];const z=pe($);let M;r[45]!==s||r[46]!==t?(M=()=>ho(t,s.id),r[45]=s,r[46]=t,r[47]=M):M=r[47];let L;r[48]!==s||r[49]!==t||r[50]!==n?(L=async()=>{const V=s.id;await n.cancelQueries({queryKey:["post",t,"reposted",V]});const Q=n.getQueryData(["post",t,"reposted",V]);return n.setQueryData(["post",t,"reposted",V],!Q),c(q=>({...q,reposts:Q?(q.reposts||0)-1:(q.reposts||0)+1,mirrors:Q?(q.mirrors||0)-1:(q.mirrors||0)+1})),{previousReposted:Q}},r[48]=s,r[49]=t,r[50]=n,r[51]=L):L=r[51];let R;r[52]!==i||r[53]!==s||r[54]!==t||r[55]!==n?(R=(V,Q,q)=>{q?.previousReposted!==void 0&&(n.setQueryData(["post",t,"reposted",s.id],q.previousReposted),c(Y=>({...Y,reposts:q.previousReposted?(Y.reposts||0)+1:(Y.reposts||0)-1,mirrors:q.previousReposted?(Y.mirrors||0)+1:(Y.mirrors||0)-1}))),i("Failed to update repost","error")},r[52]=i,r[53]=s,r[54]=t,r[55]=n,r[56]=R):R=r[56];let T;r[57]!==s?.id||r[58]!==t||r[59]!==n?(T=()=>{n.invalidateQueries({queryKey:["post",t,"reposted",s?.id]})},r[57]=s?.id,r[58]=t,r[59]=n,r[60]=T):T=r[60];let F;r[61]!==i?(F=V=>{i(V?"Reposted!":"Removed repost")},r[61]=i,r[62]=F):F=r[62];let K;r[63]!==M||r[64]!==L||r[65]!==R||r[66]!==T||r[67]!==F?(K={mutationFn:M,onMutate:L,onError:R,onSettled:T,onSuccess:F},r[63]=M,r[64]=L,r[65]=R,r[66]=T,r[67]=F,r[68]=K):K=r[68];const W=pe(K);let J;r[69]!==i||r[70]!==s||r[71]!==z||r[72]!==t?(J=async V=>{if(V&&V.stopPropagation(),!s)return i("Please login to like!","error");!Ae(t)||!Ae(s.id)||z.isPending||z.mutate()},r[69]=i,r[70]=s,r[71]=z,r[72]=t,r[73]=J):J=r[73];const X=J;let te;r[74]!==i||r[75]!==s||r[76]!==t||r[77]!==W?(te=async V=>{if(V&&V.stopPropagation(),!s)return i("Please login to repost!","error");!Ae(t)||!Ae(s.id)||W.mutate()},r[74]=i,r[75]=s,r[76]=t,r[77]=W,r[78]=te):te=r[78];const H=te;let B;return r[79]!==X||r[80]!==H||r[81]!==x||r[82]!==S||r[83]!==o?(B={liked:x,reposted:S,localStats:o,setLocalStats:c,handleLike:X,handleRepost:H},r[79]=X,r[80]=H,r[81]=x,r[82]=S,r[83]=o,r[84]=B):B=r[84],B};var Gh=U(),$0=U();const Jh=()=>{const t=(0,$0.c)(30),[e,s]=(0,v.useState)(!1),[r,n]=(0,v.useState)(!1),[i,a]=(0,v.useState)(0),[o,c]=(0,v.useState)(null),[d,u]=(0,v.useState)(null),m=(0,v.useRef)(null),p=(0,v.useRef)(null);let f;t[0]===Symbol.for("react.memo_cache_sentinel")?(f=[],t[0]=f):f=t[0];const h=(0,v.useRef)(f);let g,y;t[1]!==d?(g=()=>()=>{p.current&&clearInterval(p.current),m.current&&m.current.state!=="inactive"&&(m.current.stop(),m.current.stream.getTracks().forEach(z0)),d&&URL.revokeObjectURL(d)},y=[d],t[1]=d,t[2]=g,t[3]=y):(g=t[2],y=t[3]),(0,v.useEffect)(g,y);let x;t[4]===Symbol.for("react.memo_cache_sentinel")?(x=()=>{p.current=window.setInterval(()=>{a(E0)},1e3)},t[4]=x):x=t[4];const _=x;let w;t[5]===Symbol.for("react.memo_cache_sentinel")?(w=()=>{p.current&&(clearInterval(p.current),p.current=null)},t[5]=w):w=t[5];const k=w;let b;t[6]===Symbol.for("react.memo_cache_sentinel")?(b=async()=>{try{const T=await navigator.mediaDevices.getUserMedia({audio:!0}),F=new MediaRecorder(T);m.current=F,h.current=[],F.ondataavailable=K=>{K.data.size>0&&h.current.push(K.data)},F.onstop=()=>{const K=new Blob(h.current,{type:"audio/webm;codecs=opus"}),W=URL.createObjectURL(K);c(K),u(W),T.getTracks().forEach(P0)},F.start(),s(!0),n(!1),a(0),_()}catch(T){const F=T;throw console.error("Error accessing microphone:",F),F}},t[6]=b):b=t[6];const j=b;let N;t[7]!==e?(N=()=>{m.current&&e&&(m.current.stop(),s(!1),n(!1),k())},t[7]=e,t[8]=N):N=t[8];const S=N;let C;t[9]!==r||t[10]!==e?(C=()=>{m.current&&e&&!r&&(m.current.pause(),n(!0),k())},t[9]=r,t[10]=e,t[11]=C):C=t[11];const E=C;let P;t[12]!==r||t[13]!==e?(P=()=>{m.current&&e&&r&&(m.current.resume(),n(!1),_())},t[12]=r,t[13]=e,t[14]=P):P=t[14];const A=P;let $;t[15]!==e?($=()=>{m.current&&e&&(m.current.stop(),m.current.onstop=null,s(!1),n(!1),k(),a(0),m.current.stream&&m.current.stream.getTracks().forEach(M0))},t[15]=e,t[16]=$):$=t[16];const z=$;let M;t[17]!==d?(M=()=>{d&&URL.revokeObjectURL(d),c(null),u(null),a(0)},t[17]=d,t[18]=M):M=t[18];const L=M;let R;return t[19]!==o||t[20]!==d||t[21]!==z||t[22]!==L||t[23]!==r||t[24]!==e||t[25]!==E||t[26]!==i||t[27]!==A||t[28]!==S?(R={isRecording:e,isPaused:r,recordingTime:i,startRecording:j,stopRecording:S,pauseRecording:E,resumeRecording:A,cancelRecording:z,audioBlob:o,audioUrl:d,clearAudio:L},t[19]=o,t[20]=d,t[21]=z,t[22]=L,t[23]=r,t[24]=e,t[25]=E,t[26]=i,t[27]=A,t[28]=S,t[29]=R):R=t[29],R};function z0(t){return t.stop()}function E0(t){return t+1}function P0(t){return t.stop()}function M0(t){return t.stop()}var A0=U();const Yh=(t,e,s)=>{const r=(0,A0.c)(50),n=Fe(),{currentUser:i}=ye();let a,o;r[0]!==s||r[1]!==t?(a=["comments",t,s],o=M=>{const{pageParam:L}=M;return co(t,L,10,s)},r[0]=s,r[1]=t,r[2]=a,r[3]=o):(a=r[2],o=r[3]);let c;r[4]!==e?(c=e?{pages:[e],pageParams:[null]}:void 0,r[4]=e,r[5]=c):c=r[5];const d=!!t;let u;r[6]!==a||r[7]!==o||r[8]!==c||r[9]!==d?(u={queryKey:a,queryFn:o,initialPageParam:null,getNextPageParam:L0,initialData:c,enabled:d},r[6]=a,r[7]=o,r[8]=c,r[9]=d,r[10]=u):u=r[10];const{data:m,fetchNextPage:p,hasNextPage:f,isFetchingNextPage:h,isLoading:g,refetch:y}=qe(u);let x;r[11]!==m?.pages?(x=m?.pages.flatMap(R0)||[],r[11]=m?.pages,r[12]=x):x=r[12];const _=x;let w;r[13]!==i||r[14]!==t?(w=async M=>{const{userId:L,content:R,media:T,replyToId:F}=M;if(!i)throw new Error("User not authenticated");return uo(t,L,R,T,F)},r[13]=i,r[14]=t,r[15]=w):w=r[15];let k;r[16]!==i||r[17]!==s||r[18]!==t||r[19]!==n?(k=async M=>{if(!i)return;const L=["comments",t,s];await n.cancelQueries({queryKey:L});const R=n.getQueryData(L),T={id:`temp-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,post_id:t,user_id:i.id,content:M.content,media:M.media||null,created_at:new Date().toISOString(),parent_id:M.replyToId||s||null,stats:{likes:0,comments:0,reposts:0},user:i,timeAgo:"Just now"};return n.setQueryData(L,F=>F?{...F,pages:[[T,...F.pages[0]],...F.pages.slice(1)]}:{pages:[[T]],pageParams:[null]}),{previousComments:R}},r[16]=i,r[17]=s,r[18]=t,r[19]=n,r[20]=k):k=r[20];let b,j;r[21]!==s||r[22]!==t||r[23]!==n?(b=(M,L,R)=>{const T=["comments",t,s];R?.previousComments&&n.setQueryData(T,R.previousComments)},j=()=>{const M=["comments",t,s];n.invalidateQueries({queryKey:M}),n.invalidateQueries({queryKey:["post",t]})},r[21]=s,r[22]=t,r[23]=n,r[24]=b,r[25]=j):(b=r[24],j=r[25]);let N;r[26]!==w||r[27]!==k||r[28]!==b||r[29]!==j?(N={mutationFn:w,onMutate:k,onError:b,onSettled:j},r[26]=w,r[27]=k,r[28]=b,r[29]=j,r[30]=N):N=r[30];const S=pe(N);let C;r[31]!==t||r[32]!==n?(C={mutationFn:D0,onSuccess:()=>{n.invalidateQueries({queryKey:["comments",t]}),n.invalidateQueries({queryKey:["post",t]})}},r[31]=t,r[32]=n,r[33]=C):C=r[33];const E=pe(C);let P;r[34]!==t||r[35]!==n?(P={mutationFn:F0,onSuccess:()=>{n.invalidateQueries({queryKey:["comments",t]})}},r[34]=t,r[35]=n,r[36]=P):P=r[36];const A=pe(P);let $;r[37]!==_?($=_||[],r[37]=_,r[38]=$):$=r[38];let z;return r[39]!==S.isPending||r[40]!==S.mutateAsync||r[41]!==E.mutateAsync||r[42]!==p||r[43]!==f||r[44]!==h||r[45]!==g||r[46]!==y||r[47]!==$||r[48]!==A.mutateAsync?(z={comments:$,fetchNextPage:p,hasNextPage:f,isFetchingNextPage:h,isLoading:g,refetch:y,addComment:S.mutateAsync,deleteComment:E.mutateAsync,updateComment:A.mutateAsync,isSubmitting:S.isPending},r[39]=S.isPending,r[40]=S.mutateAsync,r[41]=E.mutateAsync,r[42]=p,r[43]=f,r[44]=h,r[45]=g,r[46]=y,r[47]=$,r[48]=A.mutateAsync,r[49]=z):z=r[49],z};function L0(t){if(!(!t||t.length<10))return t[t.length-1].created_at}function R0(t){return t}async function D0(t){return ao(t)}async function F0(t){const{commentId:e,content:s,media:r}=t;return lo(e,{content:s,media:r})}var T0=U();const Zh=()=>{const t=(0,T0.c)(61),e=Fe();let s;t[0]===Symbol.for("react.memo_cache_sentinel")?(s={queryKey:["admin","stats"],queryFn:q0},t[0]=s):s=t[0];const r=ve(s);let n;t[1]===Symbol.for("react.memo_cache_sentinel")?(n={queryKey:["admin","users"],queryFn:I0},t[1]=n):n=t[1];const i=ve(n);let a;t[2]===Symbol.for("react.memo_cache_sentinel")?(a={queryKey:["admin","posts"],queryFn:O0},t[2]=a):a=t[2];const o=ve(a);let c;t[3]===Symbol.for("react.memo_cache_sentinel")?(c={queryKey:["admin","reports"],queryFn:B0},t[3]=c):c=t[3];const d=ve(c);let u;t[4]===Symbol.for("react.memo_cache_sentinel")?(u={queryKey:["admin","analytics"],queryFn:V0},t[4]=u):u=t[4];const m=ve(u);let p;t[5]===Symbol.for("react.memo_cache_sentinel")?(p={queryKey:["admin","settings"],queryFn:H0},t[5]=p):p=t[5];const f=ve(p);let h;t[6]!==e?(h={mutationFn:K0,onSuccess:()=>{e.invalidateQueries({queryKey:["admin","settings"]}),xe.success("Settings updated")},onError:Q0},t[6]=e,t[7]=h):h=t[7];const g=pe(h);let y;t[8]!==e?(y={mutationFn:W0,onSuccess:()=>{e.invalidateQueries({queryKey:["admin","users"]}),xe.success("User role updated")},onError:G0},t[8]=e,t[9]=y):y=t[9];const x=pe(y);let _;t[10]!==e?(_={mutationFn:J0,onSuccess:()=>{e.invalidateQueries({queryKey:["admin","users"]}),xe.success("Verification status updated")},onError:Y0},t[10]=e,t[11]=_):_=t[11];const w=pe(_);let k;t[12]!==e?(k={mutationFn:Z0,onSuccess:()=>{e.invalidateQueries({queryKey:["admin","users"]}),xe.success("User ban status updated")},onError:X0},t[12]=e,t[13]=k):k=t[13];const b=pe(k);let j;t[14]!==e?(j={mutationFn:U0,onSuccess:()=>{e.invalidateQueries({queryKey:["admin","posts"]}),xe.success("Post deleted permanently")},onError:em},t[14]=e,t[15]=j):j=t[15];const N=pe(j);let S;t[16]!==e?(S={mutationFn:tm,onSuccess:()=>{e.invalidateQueries({queryKey:["admin","reports"]}),xe.success("Report status updated")},onError:sm},t[16]=e,t[17]=S):S=t[17];const C=pe(S);let E;t[18]!==e?(E={mutationFn:rm,onSuccess:()=>{e.invalidateQueries({queryKey:["admin","reports"]}),xe.success("Content removed successfully")},onError:nm},t[18]=e,t[19]=E):E=t[19];const P=pe(E);let A;t[20]!==r.data||t[21]!==r.isLoading?(A={data:r.data,isLoading:r.isLoading},t[20]=r.data,t[21]=r.isLoading,t[22]=A):A=t[22];let $;t[23]!==i.data||t[24]!==i.isLoading?($={data:i.data,isLoading:i.isLoading},t[23]=i.data,t[24]=i.isLoading,t[25]=$):$=t[25];let z;t[26]!==o.data||t[27]!==o.isLoading?(z={data:o.data,isLoading:o.isLoading},t[26]=o.data,t[27]=o.isLoading,t[28]=z):z=t[28];let M;t[29]!==d.data||t[30]!==d.isLoading?(M={data:d.data,isLoading:d.isLoading},t[29]=d.data,t[30]=d.isLoading,t[31]=M):M=t[31];let L;t[32]!==m.data||t[33]!==m.isLoading?(L={data:m.data,isLoading:m.isLoading},t[32]=m.data,t[33]=m.isLoading,t[34]=L):L=t[34];let R;t[35]!==f.data||t[36]!==f.isLoading?(R={data:f.data,isLoading:f.isLoading},t[35]=f.data,t[36]=f.isLoading,t[37]=R):R=t[37];let T;t[38]!==N.mutate||t[39]!==N.mutateAsync||t[40]!==P.mutate||t[41]!==P.mutateAsync||t[42]!==b.mutate||t[43]!==b.mutateAsync||t[44]!==w.mutate||t[45]!==w.mutateAsync||t[46]!==C.mutate||t[47]!==C.mutateAsync||t[48]!==x.mutate||t[49]!==x.mutateAsync||t[50]!==g.mutate||t[51]!==g.mutateAsync?(T={updateRole:x.mutate,updateRoleAsync:x.mutateAsync,toggleVerification:w.mutate,toggleVerificationAsync:w.mutateAsync,toggleBan:b.mutate,toggleBanAsync:b.mutateAsync,deletePost:N.mutate,deletePostAsync:N.mutateAsync,updateSettings:g.mutate,updateSettingsAsync:g.mutateAsync,updateReportStatus:C.mutate,updateReportStatusAsync:C.mutateAsync,deleteTarget:P.mutate,deleteTargetAsync:P.mutateAsync},t[38]=N.mutate,t[39]=N.mutateAsync,t[40]=P.mutate,t[41]=P.mutateAsync,t[42]=b.mutate,t[43]=b.mutateAsync,t[44]=w.mutate,t[45]=w.mutateAsync,t[46]=C.mutate,t[47]=C.mutateAsync,t[48]=x.mutate,t[49]=x.mutateAsync,t[50]=g.mutate,t[51]=g.mutateAsync,t[52]=T):T=t[52];let F;return t[53]!==A||t[54]!==$||t[55]!==z||t[56]!==M||t[57]!==L||t[58]!==R||t[59]!==T?(F={stats:A,users:$,posts:z,reports:M,analytics:L,settings:R,actions:T},t[53]=A,t[54]=$,t[55]=z,t[56]=M,t[57]=L,t[58]=R,t[59]=T,t[60]=F):F=t[60],F};function q0(){return Te.getSystemStats()}function I0(){return Te.getAllUsers()}function O0(){return Te.getLatestPosts()}function B0(){return Te.getReports()}function V0(){return Te.getAnalytics()}function H0(){return Te.getSettings()}function K0(t){return Te.updateSettings(t)}function Q0(t){console.error("Settings update error:",t),xe.error("Failed to update settings")}function W0(t){const{userId:e,role:s}=t;return Te.updateUserRole(e,s)}function G0(t){console.error("Role update error:",t),xe.error("Failed to update role")}function J0(t){const{userId:e,verified:s}=t;return Te.toggleUserVerification(e,s)}function Y0(t){console.error("Verification toggle error:",t),xe.error("Failed to update verification")}function Z0(t){const{userId:e,banned:s}=t;return Te.toggleUserBan(e,s)}function X0(t){console.error("Ban toggle error:",t),xe.error("Failed to update ban status")}function U0(t){return Te.deletePost(t)}function em(t){console.error("Delete post error:",t),xe.error("Failed to delete post")}function tm(t){const{reportId:e,status:s}=t;return Te.updateReportStatus(e,s)}function sm(t){console.error("Report status update error:",t),xe.error("Failed to update report")}function rm(t){const{type:e,id:s}=t;return Te.deleteReportTarget(e,s)}function nm(t){console.error("Delete target error:",t),xe.error("Failed to remove content")}var im=U();const Xh=()=>{const t=(0,im.c)(53),{handle:e}=jt(),s=De(),{currentUser:r}=ye(),{addToast:n}=He();let i,a;t[0]!==e?(i=["profile",e],a=()=>Ga(e),t[0]=e,t[1]=i,t[2]=a):(i=t[1],a=t[2]);const o=!!e;let c;t[3]!==i||t[4]!==a||t[5]!==o?(c={queryKey:i,queryFn:a,enabled:o,staleTime:3e5},t[3]=i,t[4]=a,t[5]=o,t[6]=c):c=t[6];const{data:d,isLoading:u}=ve(c),[m,p]=(0,v.useState)("feed"),f=d?.id;let h;t[7]!==f?(h=["posts","user",f],t[7]=f,t[8]=h):h=t[8];let g;t[9]!==d?(g=q=>{const{pageParam:Y}=q;return ro(d.id,Y,20)},t[9]=d,t[10]=g):g=t[10];const y=!!d?.id;let x;t[11]!==h||t[12]!==g||t[13]!==y?(x={queryKey:h,queryFn:g,enabled:y,initialPageParam:null,getNextPageParam:am},t[11]=h,t[12]=g,t[13]=y,t[14]=x):x=t[14];const{data:_,fetchNextPage:w,hasNextPage:k,isFetchingNextPage:b,isLoading:j}=qe(x);let N;t[15]!==_?.pages?(N=_?.pages.flatMap(om)||[],t[15]=_?.pages,t[16]=N):N=t[16];const S=N,[C,E]=(0,v.useState)(!1),[P,A]=(0,v.useState)("Followers"),{followList:$,fetchNextPage:z,hasNextPage:M,isFetchingNextPage:L,isLoading:R}=m0(d?.id,P,C);let T;t[17]===Symbol.for("react.memo_cache_sentinel")?(T=q=>{A(q),E(!0)},t[17]=T):T=t[17];const F=T;let K;e:{if(m==="feed"){let q;t[18]!==S?(q=S.filter(lm),t[18]=S,t[19]=q):q=t[19],K=q;break e}if(m==="media"){let q;t[20]!==S?(q=S.filter(cm),t[20]=S,t[21]=q):q=t[21],K=q;break e}if(m==="collections"){let q;t[22]===Symbol.for("react.memo_cache_sentinel")?(q=[],t[22]=q):q=t[22],K=q;break e}K=S}const W=K;let J;t[23]!==s?(J=q=>{s(`/p/${q}`)},t[23]=s,t[24]=J):J=t[24];const X=J;let te;t[25]!==e||t[26]!==s?(te=q=>{q!==e&&s(`/u/${q}`)},t[25]=e,t[26]=s,t[27]=te):te=t[27];const H=te;let B;t[28]!==w?(B=()=>{w()},t[28]=w,t[29]=B):B=t[29];const V=B;let Q;return t[30]!==m||t[31]!==n||t[32]!==r||t[33]!==z||t[34]!==W||t[35]!==$||t[36]!==P||t[37]!==e||t[38]!==X||t[39]!==H||t[40]!==M||t[41]!==k||t[42]!==L||t[43]!==b||t[44]!==C||t[45]!==R||t[46]!==V||t[47]!==j||t[48]!==u||t[49]!==s||t[50]!==d||t[51]!==S?(Q={handle:e,profile:d,loading:u,userPosts:S,setUserPosts:dm,activeProfileTab:m,setActiveProfileTab:p,loadingPosts:j,isFetchingMorePosts:b,hasMorePosts:k,filteredPosts:W,isFollowModalOpen:C,setIsFollowModalOpen:E,followModalType:P,followListData:$,isListLoading:R,isFetchingMoreFollows:L,hasMoreFollows:M,openFollowModal:F,fetchNextFollows:z,handlePostClick:X,handleUserClick:H,loadUserPosts:V,currentUser:r,addToast:n,navigate:s},t[30]=m,t[31]=n,t[32]=r,t[33]=z,t[34]=W,t[35]=$,t[36]=P,t[37]=e,t[38]=X,t[39]=H,t[40]=M,t[41]=k,t[42]=L,t[43]=b,t[44]=C,t[45]=R,t[46]=V,t[47]=j,t[48]=u,t[49]=s,t[50]=d,t[51]=S,t[52]=Q):Q=t[52],Q};function am(t){if(!(!t||t.length<20))return t[t.length-1].sort_timestamp||t[t.length-1].created_at}function om(t){return t}function lm(t){return t.community_id===null&&t.parent_id===null}function cm(t){return t.community_id===null&&t.parent_id===null&&(t.type==="video"||t.type==="image"||t.media&&t.media.length>0)}function dm(){return console.warn("setUserPosts is deprecated")}var um=U();const Uh=()=>{const t=(0,um.c)(75),{handle:e}=jt(),s=De(),{currentUser:r}=ye(),{addToast:n}=He(),i=Fe();let a,o;t[0]!==e?(a=["community",e],o=()=>bo(e),t[0]=e,t[1]=a,t[2]=o):(a=t[1],o=t[2]);const c=!!e;let d;t[3]!==a||t[4]!==o||t[5]!==c?(d={queryKey:a,queryFn:o,enabled:c,staleTime:6e5},t[3]=a,t[4]=o,t[5]=c,t[6]=d):d=t[6];const{data:u,isLoading:m,refetch:p}=ve(d),f=u?.id,h=r?.id;let g;t[7]!==f||t[8]!==h?(g=["community",f,"membership",h],t[7]=f,t[8]=h,t[9]=g):g=t[9];let y;t[10]!==u||t[11]!==r?(y=()=>hn(u.id,r.id),t[10]=u,t[11]=r,t[12]=y):y=t[12];const x=!!u?.id&&!!r?.id;let _;t[13]!==g||t[14]!==y||t[15]!==x?(_={queryKey:g,queryFn:y,enabled:x,staleTime:3e5},t[13]=g,t[14]=y,t[15]=x,t[16]=_):_=t[16];const{data:w}=ve(_),k=!!w,b=w?.role||null,j=u?.id;let N;t[17]!==j?(N=["posts","community",j],t[17]=j,t[18]=N):N=t[18];let S;t[19]!==u?(S=Q=>{const{pageParam:q}=Q;return _o(u.id,q,10)},t[19]=u,t[20]=S):S=t[20];const C=!!u?.id;let E;t[21]!==N||t[22]!==S||t[23]!==C?(E={queryKey:N,queryFn:S,enabled:C,initialPageParam:null,getNextPageParam:mm},t[21]=N,t[22]=S,t[23]=C,t[24]=E):E=t[24];const{data:P,fetchNextPage:A,hasNextPage:$,isFetchingNextPage:z,isLoading:M}=qe(E);let L;t[25]!==P?.pages?(L=P?.pages.flatMap(fm)||[],t[25]=P?.pages,t[26]=L):L=t[26];const R=L;let T;t[27]!==u||t[28]!==r?(T=()=>fn(u.id,r.id),t[27]=u,t[28]=r,t[29]=T):T=t[29];let F;t[30]!==u||t[31]!==r||t[32]!==e||t[33]!==i?(F=async()=>{const Q=u.id,q=r.id;await i.cancelQueries({queryKey:["community",Q,"membership",q]}),await i.cancelQueries({queryKey:["community",e]});const Y=i.getQueryData(["community",Q,"membership",q]),O=i.getQueryData(["community",e]);return i.setQueryData(["community",Q,"membership",q],Y?null:{role:"member"}),i.setQueryData(["community",e],I=>I&&{...I,membersCount:Y?I.membersCount-1:I.membersCount+1}),{previousMembership:Y,previousCommunity:O}},t[30]=u,t[31]=r,t[32]=e,t[33]=i,t[34]=F):F=t[34];let K;t[35]!==n||t[36]!==u||t[37]!==r||t[38]!==e||t[39]!==i?(K=(Q,q,Y)=>{Y?.previousMembership!==void 0&&i.setQueryData(["community",u.id,"membership",r.id],Y.previousMembership),Y?.previousCommunity&&i.setQueryData(["community",e],Y.previousCommunity),n("Failed to update membership","error")},t[35]=n,t[36]=u,t[37]=r,t[38]=e,t[39]=i,t[40]=K):K=t[40];let W;t[41]!==u?.id||t[42]!==r?.id||t[43]!==e||t[44]!==i?(W=()=>{i.invalidateQueries({queryKey:["community",u?.id,"membership",r?.id]}),i.invalidateQueries({queryKey:["community",e]})},t[41]=u?.id,t[42]=r?.id,t[43]=e,t[44]=i,t[45]=W):W=t[45];let J;t[46]!==n||t[47]!==u?(J=Q=>{u&&n(Q?`Joined ${u.name}`:`Left ${u.name}`)},t[46]=n,t[47]=u,t[48]=J):J=t[48];let X;t[49]!==T||t[50]!==F||t[51]!==K||t[52]!==W||t[53]!==J?(X={mutationFn:T,onMutate:F,onError:K,onSettled:W,onSuccess:J},t[49]=T,t[50]=F,t[51]=K,t[52]=W,t[53]=J,t[54]=X):X=t[54];const te=pe(X);let H;t[55]!==n||t[56]!==r||t[57]!==te?(H=async()=>{if(!r)return n("Please login to join communities","error");te.mutate()},t[55]=n,t[56]=r,t[57]=te,t[58]=H):H=t[58];const B=H;let V;return t[59]!==n||t[60]!==u||t[61]!==R||t[62]!==r||t[63]!==A||t[64]!==B||t[65]!==$||t[66]!==z||t[67]!==k||t[68]!==te.isPending||t[69]!==m||t[70]!==M||t[71]!==s||t[72]!==p||t[73]!==b?(V={community:u,loading:m,isMember:k,userRole:b,isJoining:te.isPending,communityPosts:R,loadingPosts:M,isFetchingMorePosts:z,hasMorePosts:$,handleJoinToggle:B,loadCommunityPosts:A,refetchCommunity:p,currentUser:r,addToast:n,navigate:s},t[59]=n,t[60]=u,t[61]=R,t[62]=r,t[63]=A,t[64]=B,t[65]=$,t[66]=z,t[67]=k,t[68]=te.isPending,t[69]=m,t[70]=M,t[71]=s,t[72]=p,t[73]=b,t[74]=V):V=t[74],V};function mm(t){if(!(!t||t.length<10))return t[t.length-1].sort_timestamp}function fm(t){return t}function Je(t){return Array.isArray?Array.isArray(t):hi(t)==="[object Array]"}var hm=1/0;function pm(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-hm?"-0":e}function gm(t){return t==null?"":pm(t)}function Qe(t){return typeof t=="string"}function mi(t){return typeof t=="number"}function xm(t){return t===!0||t===!1||ym(t)&&hi(t)=="[object Boolean]"}function fi(t){return typeof t=="object"}function ym(t){return fi(t)&&t!==null}function Le(t){return t!=null}function Ht(t){return!t.trim().length}function hi(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}var vm="Incorrect 'index' type",bm=t=>`Invalid value for key ${t}`,_m=t=>`Pattern length exceeds max of ${t}.`,wm=t=>`Missing ${t} property in key`,jm=t=>`Property 'weight' in key '${t}' must be a positive integer`,ir=Object.prototype.hasOwnProperty,Nm=class{constructor(t){this._keys=[],this._keyMap={};let e=0;t.forEach(s=>{let r=pi(s);this._keys.push(r),this._keyMap[r.id]=r,e+=r.weight}),this._keys.forEach(s=>{s.weight/=e})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}};function pi(t){let e=null,s=null,r=null,n=1,i=null;if(Qe(t)||Je(t))r=t,e=ar(t),s=Xt(t);else{if(!ir.call(t,"name"))throw new Error(wm("name"));const a=t.name;if(r=a,ir.call(t,"weight")&&(n=t.weight,n<=0))throw new Error(jm(a));e=ar(a),s=Xt(a),i=t.getFn}return{path:e,id:s,weight:n,src:r,getFn:i}}function ar(t){return Je(t)?t:t.split(".")}function Xt(t){return Je(t)?t.join("."):t}function km(t,e){let s=[],r=!1;const n=(i,a,o)=>{if(Le(i))if(!a[o])s.push(i);else{const c=i[a[o]];if(!Le(c))return;if(o===a.length-1&&(Qe(c)||mi(c)||xm(c)))s.push(gm(c));else if(Je(c)){r=!0;for(let d=0,u=c.length;d<u;d+=1)n(c[d],a,o+1)}else a.length&&n(c,a,o+1)}};return n(t,Qe(e)?e.split("."):e,0),r?s:s[0]}var Sm={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Cm={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},$m={location:0,threshold:.6,distance:100},zm={useExtendedSearch:!1,getFn:km,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1},ne={...Cm,...Sm,...$m,...zm},Em=/[^ ]+/g;function Pm(t=1,e=3){const s=new Map,r=Math.pow(10,e);return{get(n){const i=n.match(Em).length;if(s.has(i))return s.get(i);const a=1/Math.pow(i,.5*t),o=parseFloat(Math.round(a*r)/r);return s.set(i,o),o},clear(){s.clear()}}}var Cs=class{constructor({getFn:t=ne.getFn,fieldNormWeight:e=ne.fieldNormWeight}={}){this.norm=Pm(e,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((e,s)=>{this._keysMap[e.id]=s})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Qe(this.docs[0])?this.docs.forEach((t,e)=>{this._addString(t,e)}):this.docs.forEach((t,e)=>{this._addObject(t,e)}),this.norm.clear())}add(t){const e=this.size();Qe(t)?this._addString(t,e):this._addObject(t,e)}removeAt(t){this.records.splice(t,1);for(let e=t,s=this.size();e<s;e+=1)this.records[e].i-=1}getValueForItemAtKeyId(t,e){return t[this._keysMap[e]]}size(){return this.records.length}_addString(t,e){if(!Le(t)||Ht(t))return;let s={v:t,i:e,n:this.norm.get(t)};this.records.push(s)}_addObject(t,e){let s={i:e,$:{}};this.keys.forEach((r,n)=>{let i=r.getFn?r.getFn(t):this.getFn(t,r.path);if(Le(i)){if(Je(i)){let a=[];const o=[{nestedArrIndex:-1,value:i}];for(;o.length;){const{nestedArrIndex:c,value:d}=o.pop();if(Le(d))if(Qe(d)&&!Ht(d)){let u={v:d,i:c,n:this.norm.get(d)};a.push(u)}else Je(d)&&d.forEach((u,m)=>{o.push({nestedArrIndex:m,value:u})})}s.$[n]=a}else if(Qe(i)&&!Ht(i)){let a={v:i,n:this.norm.get(i)};s.$[n]=a}}}),this.records.push(s)}toJSON(){return{keys:this.keys,records:this.records}}};function gi(t,e,{getFn:s=ne.getFn,fieldNormWeight:r=ne.fieldNormWeight}={}){const n=new Cs({getFn:s,fieldNormWeight:r});return n.setKeys(t.map(pi)),n.setSources(e),n.create(),n}function Mm(t,{getFn:e=ne.getFn,fieldNormWeight:s=ne.fieldNormWeight}={}){const{keys:r,records:n}=t,i=new Cs({getFn:e,fieldNormWeight:s});return i.setKeys(r),i.setIndexRecords(n),i}function $t(t,{errors:e=0,currentLocation:s=0,expectedLocation:r=0,distance:n=ne.distance,ignoreLocation:i=ne.ignoreLocation}={}){const a=e/t.length;if(i)return a;const o=Math.abs(r-s);return n?a+o/n:o?1:a}function Am(t=[],e=ne.minMatchCharLength){let s=[],r=-1,n=-1,i=0;for(let a=t.length;i<a;i+=1){let o=t[i];o&&r===-1?r=i:!o&&r!==-1&&(n=i-1,n-r+1>=e&&s.push([r,n]),r=-1)}return t[i-1]&&i-r>=e&&s.push([r,i-1]),s}var it=32;function Lm(t,e,s,{location:r=ne.location,distance:n=ne.distance,threshold:i=ne.threshold,findAllMatches:a=ne.findAllMatches,minMatchCharLength:o=ne.minMatchCharLength,includeMatches:c=ne.includeMatches,ignoreLocation:d=ne.ignoreLocation}={}){if(e.length>it)throw new Error(_m(it));const u=e.length,m=t.length,p=Math.max(0,Math.min(r,m));let f=i,h=p;const g=o>1||c,y=g?Array(m):[];let x;for(;(x=t.indexOf(e,h))>-1;){let N=$t(e,{currentLocation:x,expectedLocation:p,distance:n,ignoreLocation:d});if(f=Math.min(N,f),h=x+u,g){let S=0;for(;S<u;)y[x+S]=1,S+=1}}h=-1;let _=[],w=1,k=u+m;const b=1<<u-1;for(let N=0;N<u;N+=1){let S=0,C=k;for(;S<C;)$t(e,{errors:N,currentLocation:p+C,expectedLocation:p,distance:n,ignoreLocation:d})<=f?S=C:k=C,C=Math.floor((k-S)/2+S);k=C;let E=Math.max(1,p-C+1),P=a?m:Math.min(p+C,m)+u,A=Array(P+2);A[P+1]=(1<<N)-1;for(let $=P;$>=E;$-=1){let z=$-1,M=s[t.charAt(z)];if(g&&(y[z]=+!!M),A[$]=(A[$+1]<<1|1)&M,N&&(A[$]|=(_[$+1]|_[$])<<1|1|_[$+1]),A[$]&b&&(w=$t(e,{errors:N,currentLocation:z,expectedLocation:p,distance:n,ignoreLocation:d}),w<=f)){if(f=w,h=z,h<=p)break;E=Math.max(1,2*p-h)}}if($t(e,{errors:N+1,currentLocation:p,expectedLocation:p,distance:n,ignoreLocation:d})>f)break;_=A}const j={isMatch:h>=0,score:Math.max(.001,w)};if(g){const N=Am(y,o);N.length?c&&(j.indices=N):j.isMatch=!1}return j}function Rm(t){let e={};for(let s=0,r=t.length;s<r;s+=1){const n=t.charAt(s);e[n]=(e[n]||0)|1<<r-s-1}return e}var Lt=String.prototype.normalize?(t=>t.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,"")):(t=>t),xi=class{constructor(t,{location:e=ne.location,threshold:s=ne.threshold,distance:r=ne.distance,includeMatches:n=ne.includeMatches,findAllMatches:i=ne.findAllMatches,minMatchCharLength:a=ne.minMatchCharLength,isCaseSensitive:o=ne.isCaseSensitive,ignoreDiacritics:c=ne.ignoreDiacritics,ignoreLocation:d=ne.ignoreLocation}={}){if(this.options={location:e,threshold:s,distance:r,includeMatches:n,findAllMatches:i,minMatchCharLength:a,isCaseSensitive:o,ignoreDiacritics:c,ignoreLocation:d},t=o?t:t.toLowerCase(),t=c?Lt(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const u=(p,f)=>{this.chunks.push({pattern:p,alphabet:Rm(p),startIndex:f})},m=this.pattern.length;if(m>it){let p=0;const f=m%it,h=m-f;for(;p<h;)u(this.pattern.substr(p,it),p),p+=it;if(f){const g=m-it;u(this.pattern.substr(g),g)}}else u(this.pattern,0)}searchIn(t){const{isCaseSensitive:e,ignoreDiacritics:s,includeMatches:r}=this.options;if(t=e?t:t.toLowerCase(),t=s?Lt(t):t,this.pattern===t){let h={isMatch:!0,score:0};return r&&(h.indices=[[0,t.length-1]]),h}const{location:n,distance:i,threshold:a,findAllMatches:o,minMatchCharLength:c,ignoreLocation:d}=this.options;let u=[],m=0,p=!1;this.chunks.forEach(({pattern:h,alphabet:g,startIndex:y})=>{const{isMatch:x,score:_,indices:w}=Lm(t,h,g,{location:n+y,distance:i,threshold:a,findAllMatches:o,minMatchCharLength:c,includeMatches:r,ignoreLocation:d});x&&(p=!0),m+=_,x&&w&&(u=[...u,...w])});let f={isMatch:p,score:p?m/this.chunks.length:1};return p&&r&&(f.indices=u),f}},rt=class{constructor(t){this.pattern=t}static isMultiMatch(t){return or(t,this.multiRegex)}static isSingleMatch(t){return or(t,this.singleRegex)}search(){}};function or(t,e){const s=t.match(e);return s?s[1]:null}var Dm=class extends rt{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const e=t===this.pattern;return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}},Fm=class extends rt{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const e=t.indexOf(this.pattern)===-1;return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},Tm=class extends rt{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const e=t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}},qm=class extends rt{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const e=!t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},Im=class extends rt{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const e=t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[t.length-this.pattern.length,t.length-1]}}},Om=class extends rt{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const e=!t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},yi=class extends rt{constructor(t,{location:e=ne.location,threshold:s=ne.threshold,distance:r=ne.distance,includeMatches:n=ne.includeMatches,findAllMatches:i=ne.findAllMatches,minMatchCharLength:a=ne.minMatchCharLength,isCaseSensitive:o=ne.isCaseSensitive,ignoreDiacritics:c=ne.ignoreDiacritics,ignoreLocation:d=ne.ignoreLocation}={}){super(t),this._bitapSearch=new xi(t,{location:e,threshold:s,distance:r,includeMatches:n,findAllMatches:i,minMatchCharLength:a,isCaseSensitive:o,ignoreDiacritics:c,ignoreLocation:d})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}},vi=class extends rt{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let e=0,s;const r=[],n=this.pattern.length;for(;(s=t.indexOf(this.pattern,e))>-1;)e=s+n,r.push([s,e-1]);const i=!!r.length;return{isMatch:i,score:i?0:1,indices:r}}},Ut=[Dm,vi,Tm,qm,Om,Im,Fm,yi],lr=Ut.length,Bm=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Vm="|";function Hm(t,e={}){return t.split(Vm).map(s=>{let r=s.trim().split(Bm).filter(i=>i&&!!i.trim()),n=[];for(let i=0,a=r.length;i<a;i+=1){const o=r[i];let c=!1,d=-1;for(;!c&&++d<lr;){const u=Ut[d];let m=u.isMultiMatch(o);m&&(n.push(new u(m,e)),c=!0)}if(!c)for(d=-1;++d<lr;){const u=Ut[d];let m=u.isSingleMatch(o);if(m){n.push(new u(m,e));break}}}return n})}var Km=new Set([yi.type,vi.type]),Qm=class{constructor(t,{isCaseSensitive:e=ne.isCaseSensitive,ignoreDiacritics:s=ne.ignoreDiacritics,includeMatches:r=ne.includeMatches,minMatchCharLength:n=ne.minMatchCharLength,ignoreLocation:i=ne.ignoreLocation,findAllMatches:a=ne.findAllMatches,location:o=ne.location,threshold:c=ne.threshold,distance:d=ne.distance}={}){this.query=null,this.options={isCaseSensitive:e,ignoreDiacritics:s,includeMatches:r,minMatchCharLength:n,findAllMatches:a,ignoreLocation:i,location:o,threshold:c,distance:d},t=e?t:t.toLowerCase(),t=s?Lt(t):t,this.pattern=t,this.query=Hm(this.pattern,this.options)}static condition(t,e){return e.useExtendedSearch}searchIn(t){const e=this.query;if(!e)return{isMatch:!1,score:1};const{includeMatches:s,isCaseSensitive:r,ignoreDiacritics:n}=this.options;t=r?t:t.toLowerCase(),t=n?Lt(t):t;let i=0,a=[],o=0;for(let c=0,d=e.length;c<d;c+=1){const u=e[c];a.length=0,i=0;for(let m=0,p=u.length;m<p;m+=1){const f=u[m],{isMatch:h,indices:g,score:y}=f.search(t);if(h){if(i+=1,o+=y,s){const x=f.constructor.type;Km.has(x)?a=[...a,...g]:a.push(g)}}else{o=0,i=0,a.length=0;break}}if(i){let m={isMatch:!0,score:o/i};return s&&(m.indices=a),m}}return{isMatch:!1,score:1}}},es=[];function Wm(...t){es.push(...t)}function ts(t,e){for(let s=0,r=es.length;s<r;s+=1){let n=es[s];if(n.condition(t,e))return new n(t,e)}return new xi(t,e)}var Rt={AND:"$and",OR:"$or"},ss={PATH:"$path",PATTERN:"$val"},rs=t=>!!(t[Rt.AND]||t[Rt.OR]),Gm=t=>!!t[ss.PATH],Jm=t=>!Je(t)&&fi(t)&&!rs(t),cr=t=>({[Rt.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function bi(t,e,{auto:s=!0}={}){const r=n=>{let i=Object.keys(n);const a=Gm(n);if(!a&&i.length>1&&!rs(n))return r(cr(n));if(Jm(n)){const c=a?n[ss.PATH]:i[0],d=a?n[ss.PATTERN]:n[c];if(!Qe(d))throw new Error(bm(c));const u={keyId:Xt(c),pattern:d};return s&&(u.searcher=ts(d,e)),u}let o={children:[],operator:i[0]};return i.forEach(c=>{const d=n[c];Je(d)&&d.forEach(u=>{o.children.push(r(u))})}),o};return rs(t)||(t=cr(t)),r(t)}function Ym(t,{ignoreFieldNorm:e=ne.ignoreFieldNorm}){t.forEach(s=>{let r=1;s.matches.forEach(({key:n,norm:i,score:a})=>{const o=n?n.weight:null;r*=Math.pow(a===0&&o?Number.EPSILON:a,(o||1)*(e?1:i))}),s.score=r})}function Zm(t,e){const s=t.matches;e.matches=[],Le(s)&&s.forEach(r=>{if(!Le(r.indices)||!r.indices.length)return;const{indices:n,value:i}=r;let a={indices:n,value:i};r.key&&(a.key=r.key.src),r.idx>-1&&(a.refIndex=r.idx),e.matches.push(a)})}function Xm(t,e){e.score=t.score}function Um(t,e,{includeMatches:s=ne.includeMatches,includeScore:r=ne.includeScore}={}){const n=[];return s&&n.push(Zm),r&&n.push(Xm),t.map(i=>{const{idx:a}=i,o={item:e[a],refIndex:a};return n.length&&n.forEach(c=>{c(i,o)}),o})}var mt=class{constructor(t,e={},s){this.options={...ne,...e},this.options.useExtendedSearch,this._keyStore=new Nm(this.options.keys),this.setCollection(t,s)}setCollection(t,e){if(this._docs=t,e&&!(e instanceof Cs))throw new Error(vm);this._myIndex=e||gi(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){Le(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const e=[];for(let s=0,r=this._docs.length;s<r;s+=1){const n=this._docs[s];t(n,s)&&(this.removeAt(s),s-=1,r-=1,e.push(n))}return e}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:e=-1}={}){const{includeMatches:s,includeScore:r,shouldSort:n,sortFn:i,ignoreFieldNorm:a}=this.options;let o=Qe(t)?Qe(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return Ym(o,{ignoreFieldNorm:a}),n&&o.sort(i),mi(e)&&e>-1&&(o=o.slice(0,e)),Um(o,this._docs,{includeMatches:s,includeScore:r})}_searchStringList(t){const e=ts(t,this.options),{records:s}=this._myIndex,r=[];return s.forEach(({v:n,i,n:a})=>{if(!Le(n))return;const{isMatch:o,score:c,indices:d}=e.searchIn(n);o&&r.push({item:n,idx:i,matches:[{score:c,value:n,norm:a,indices:d}]})}),r}_searchLogical(t){const e=bi(t,this.options),s=(a,o,c)=>{if(!a.children){const{keyId:u,searcher:m}=a,p=this._findMatches({key:this._keyStore.get(u),value:this._myIndex.getValueForItemAtKeyId(o,u),searcher:m});return p&&p.length?[{idx:c,item:o,matches:p}]:[]}const d=[];for(let u=0,m=a.children.length;u<m;u+=1){const p=a.children[u],f=s(p,o,c);if(f.length)d.push(...f);else if(a.operator===Rt.AND)return[]}return d},r=this._myIndex.records,n={},i=[];return r.forEach(({$:a,i:o})=>{if(Le(a)){let c=s(e,a,o);c.length&&(n[o]||(n[o]={idx:o,item:a,matches:[]},i.push(n[o])),c.forEach(({matches:d})=>{n[o].matches.push(...d)}))}}),i}_searchObjectList(t){const e=ts(t,this.options),{keys:s,records:r}=this._myIndex,n=[];return r.forEach(({$:i,i:a})=>{if(!Le(i))return;let o=[];s.forEach((c,d)=>{o.push(...this._findMatches({key:c,value:i[d],searcher:e}))}),o.length&&n.push({idx:a,item:i,matches:o})}),n}_findMatches({key:t,value:e,searcher:s}){if(!Le(e))return[];let r=[];if(Je(e))e.forEach(({v:n,i,n:a})=>{if(!Le(n))return;const{isMatch:o,score:c,indices:d}=s.searchIn(n);o&&r.push({score:c,key:t,value:n,idx:i,norm:a,indices:d})});else{const{v:n,n:i}=e,{isMatch:a,score:o,indices:c}=s.searchIn(n);a&&r.push({score:o,key:t,value:n,norm:i,indices:c})}return r}};mt.version="7.1.0";mt.createIndex=gi;mt.parseIndex=Mm;mt.config=ne;mt.parseQuery=bi;Wm(Qm);var ef=U();const ep=()=>{const t=(0,ef.c)(60),{currentUser:e}=ye(),s=De(),[r,n]=fr();let i;t[0]!==r?(i=r.get("q")||"",t[0]=r,t[1]=i):i=t[1];const a=i;let o;t[2]!==r||t[3]!==a?(o=r.get("tab")||(a?"posts":"communities"),t[2]=r,t[3]=a,t[4]=o):o=t[4];const c=o,[d,u]=(0,v.useState)(!1);let m,p;t[5]!==a?(m=["explore","users",a],p=()=>Wt(a||""),t[5]=a,t[6]=m,t[7]=p):(m=t[6],p=t[7]);const f=c==="users";let h;t[8]!==m||t[9]!==p||t[10]!==f?(h={queryKey:m,queryFn:p,enabled:f,initialPageParam:null,getNextPageParam:tf},t[8]=m,t[9]=p,t[10]=f,t[11]=h):h=t[11];const{data:g,fetchNextPage:y,hasNextPage:x,isFetchingNextPage:_,isLoading:w}=qe(h);let k;t[12]!==g?.pages?(k=g?.pages.flatMap(sf)||[],t[12]=g?.pages,t[13]=k):k=t[13];const b=k;let j;t[14]===Symbol.for("react.memo_cache_sentinel")?(j=["explore","communities"],t[14]=j):j=t[14];let N;t[15]===Symbol.for("react.memo_cache_sentinel")?(N={queryKey:j,queryFn:rf,initialPageParam:null,getNextPageParam:nf},t[15]=N):N=t[15];const{data:S,fetchNextPage:C,hasNextPage:E,isFetchingNextPage:P,isLoading:A}=qe(N);let $;t[16]!==S?.pages?($=S?.pages.flatMap(af)||[],t[16]=S?.pages,t[17]=$):$=t[17];const z=$;let M,L;t[18]!==a?(M=["explore","posts",a],L=ee=>{const{pageParam:re}=ee;return a?go(a,re,20,!1):xo(re,20)},t[18]=a,t[19]=M,t[20]=L):(M=t[19],L=t[20]);let R;t[21]!==M||t[22]!==L?(R={queryKey:M,queryFn:L,initialPageParam:null,getNextPageParam:of},t[21]=M,t[22]=L,t[23]=R):R=t[23];const{data:T,fetchNextPage:F,hasNextPage:K,isFetchingNextPage:W,isLoading:J}=qe(R);let X;t[24]!==T?.pages?(X=T?.pages.flatMap(lf)||[],t[24]=T?.pages,t[25]=X):X=t[25];const te=X;let H;e:{if(!a.trim()){H=z;break e}let ee;t[26]!==z||t[27]!==a?(ee=new mt(z,{keys:["name","handle","description"],threshold:.3,ignoreLocation:!0}).search(a).map(cf),t[26]=z,t[27]=a,t[28]=ee):ee=t[28],H=ee}const B=H;let V;t[29]!==s?(V=ee=>{s(`/c/${ee}`)},t[29]=s,t[30]=V):V=t[30];const Q=V;let q;t[31]!==n?(q=ee=>{n(re=>(ee?re.set("q",ee):re.delete("q"),re),{replace:!0})},t[31]=n,t[32]=q):q=t[32];const Y=q;let O;t[33]!==n?(O=ee=>{n(re=>(re.set("tab",ee),re),{replace:!0})},t[33]=n,t[34]=O):O=t[34];const I=O;let G;return t[35]!==c||t[36]!==z||t[37]!==e||t[38]!==C||t[39]!==F||t[40]!==y||t[41]!==B||t[42]!==Q||t[43]!==Y||t[44]!==I||t[45]!==E||t[46]!==K||t[47]!==x||t[48]!==A||t[49]!==d||t[50]!==P||t[51]!==W||t[52]!==_||t[53]!==J||t[54]!==w||t[55]!==s||t[56]!==te||t[57]!==a||t[58]!==b?(G={currentUser:e,searchQuery:a,setSearchQuery:Y,activeTab:c,setActiveTab:I,isCreateModalOpen:d,setIsCreateModalOpen:u,communitiesData:z,isCommunitiesLoading:A,isFetchingMoreCommunities:P,hasMoreCommunities:E,postsData:te,isPostsLoading:J,isFetchingMorePosts:W,hasMorePosts:K,filteredCommunities:B,usersData:b,isUsersLoading:w,hasMoreUsers:x,isFetchingMoreUsers:_,handleCommunityClick:Q,loadCommunities:C,loadPosts:F,loadUsers:y,navigate:s},t[35]=c,t[36]=z,t[37]=e,t[38]=C,t[39]=F,t[40]=y,t[41]=B,t[42]=Q,t[43]=Y,t[44]=I,t[45]=E,t[46]=K,t[47]=x,t[48]=A,t[49]=d,t[50]=P,t[51]=W,t[52]=_,t[53]=J,t[54]=w,t[55]=s,t[56]=te,t[57]=a,t[58]=b,t[59]=G):G=t[59],G};function tf(){}function sf(t){return t}function rf(t){const{pageParam:e}=t;return vo(e,10)}function nf(t){if(!(!t||t.length<10))return t[t.length-1].createdAt}function af(t){return t}function of(t){if(!(!t||t.length<20))return t[t.length-1].sort_timestamp}function lf(t){return t}function cf(t){return t.item}var df=U();const tp=()=>{const t=(0,df.c)(21),{currentUser:e}=ye(),{posts:s,loading:r,hasMore:n,isFetchingNextPage:i,fetchNextPage:a,refreshPosts:o}=ll(),{addToast:c}=He(),d=De();let u;t[0]===Symbol.for("react.memo_cache_sentinel")?(u=["stories"],t[0]=u):u=t[0];let m;t[1]===Symbol.for("react.memo_cache_sentinel")?(m={queryKey:u,queryFn:uf,initialPageParam:null,getNextPageParam:mf,refetchInterval:6e4},t[1]=m):m=t[1];const{data:p,isLoading:f}=qe(m);let h;if(t[2]!==p?.pages){const b=p?.pages.flatMap(ff)||[],j=JSON.parse(localStorage.getItem("seenStories")||"[]");h=b.reduce(hf,[]).map(N=>({...N,isSeen:j.includes(N.user.id)})),t[2]=p?.pages,t[3]=h}else h=t[3];const g=h;let y;t[4]!==d?(y=b=>{d(`/p/${b}`)},t[4]=d,t[5]=y):y=t[5];const x=y;let _;t[6]!==d?(_=b=>{d(`/u/${b}`)},t[6]=d,t[7]=_):_=t[7];const w=_;let k;return t[8]!==c||t[9]!==e||t[10]!==a||t[11]!==g||t[12]!==x||t[13]!==w||t[14]!==n||t[15]!==s||t[16]!==i||t[17]!==r||t[18]!==f||t[19]!==o?(k={currentUser:e,homePosts:s,groupedStories:g,isPostsLoading:r,isStoriesLoading:f,hasMore:n,isFetchingNextPage:i,fetchNextPage:a,refreshPosts:o,addToast:c,handlePostClick:x,handleUserClick:w},t[8]=c,t[9]=e,t[10]=a,t[11]=g,t[12]=x,t[13]=w,t[14]=n,t[15]=s,t[16]=i,t[17]=r,t[18]=f,t[19]=o,t[20]=k):k=t[20],k};function uf(t){const{pageParam:e}=t;return To(e,10)}function mf(t){if(!(!t||t.length<10))return t[t.length-1].created_at}function ff(t){return t}function hf(t,e){const s=t.find(r=>r.user.id===e.user_id);return s?s.stories.push(e):t.push({user:e.user,stories:[e],isSeen:!1}),t}var pf=U();const sp=()=>{const t=(0,pf.c)(60),{id:e}=jt(),s=De(),{currentUser:r}=ye(),{onlineUsers:n}=xn(),i=Fe(),[a,o]=(0,v.useState)("");let c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=[],t[0]=c):c=t[0];const[d,u]=(0,v.useState)(c),{conversations:m,isConvLoading:p,refetchConversations:f,refetchMessages:h,sendMessage:g,editMessage:y,sendTypingStatus:x,typingStatus:_,markAsRead:w,formatMessages:k,onDeleteMessage:b,onToggleReaction:j,conversationReactions:N,messages:S,isMsgLoading:C,fetchNextMessages:E,hasMoreMessages:P,isFetchingMoreMessages:A}=S0(r,e);let $;e:{if(!e||m.length===0){$=null;break e}let I;t[1]!==m||t[2]!==e?(I=m.find(G=>G.id===e)||null,t[1]=m,t[2]=e,t[3]=I):I=t[3],$=I}const z=$;let M,L;t[4]!==e||t[5]!==w?(M=()=>{e&&w(e)},L=[e,w],t[4]=e,t[5]=w,t[6]=M,t[7]=L):(M=t[6],L=t[7]),(0,v.useEffect)(M,L);let R;t[8]!==m||t[9]!==r?.id||t[10]!==a?(R=()=>{const I=setTimeout(async()=>{if(a.length>1){const G=await Wt(a),ee=m.map(gf);u(G.filter(re=>re.id!==r?.id&&!ee.includes(re.id)))}else u([])},300);return()=>clearTimeout(I)},t[8]=m,t[9]=r?.id,t[10]=a,t[11]=R):R=t[11];const T=r?.id;let F;t[12]!==m||t[13]!==a||t[14]!==T?(F=[a,m,T],t[12]=m,t[13]=a,t[14]=T,t[15]=F):F=t[15],(0,v.useEffect)(R,F);let K;t[16]!==r||t[17]!==s||t[18]!==i?(K=async I=>{if(r)try{const G=await ko(r.id,I.id);i.invalidateQueries({queryKey:["conversations",r.id]}),o(""),s(`/m/${G}`)}catch(G){console.error("Failed to start conversation:",G)}},t[16]=r,t[17]=s,t[18]=i,t[19]=K):K=t[19];const W=K;let J;t[20]!==s?(J=I=>{s(`/m/${I.id}`)},t[20]=s,t[21]=J):J=t[21];const X=J;let te;t[22]!==N||t[23]!==k||t[24]!==S?(te=k(S,N),t[22]=N,t[23]=k,t[24]=S,t[25]=te):te=t[25];const H=te;let B;e:{if(!a.trim()){B=m;break e}let I;t[26]!==m||t[27]!==a?(I=new mt(m,{keys:["user.name","user.handle","lastMessage"],threshold:.3,ignoreLocation:!0}).search(a).map(xf),t[26]=m,t[27]=a,t[28]=I):I=t[28],B=I}const V=B,Q=z&&_[z.id];let q;t[29]!==n||t[30]!==z?(q=z&&z.user?.id&&n.has(z.user.id),t[29]=n,t[30]=z,t[31]=q):q=t[31];const Y=q;let O;return t[32]!==m||t[33]!==Q||t[34]!==r||t[35]!==y||t[36]!==E||t[37]!==V||t[38]!==X||t[39]!==W||t[40]!==P||t[41]!==e||t[42]!==p||t[43]!==A||t[44]!==C||t[45]!==H||t[46]!==a||t[47]!==s||t[48]!==b||t[49]!==j||t[50]!==n||t[51]!==Y||t[52]!==f||t[53]!==h||t[54]!==z||t[55]!==g||t[56]!==x||t[57]!==_||t[58]!==d?(O={id:e,currentUser:r,onlineUsers:n,msgSearchQuery:a,setMsgSearchQuery:o,userSearchResults:d,conversations:m,filteredConversations:V,selectedConversation:z,localMessages:H,isConvLoading:p,isMsgLoading:C,currentIsTyping:Q,otherUserIsOnline:Y,handleStartConversation:W,handleSelectConversation:X,refetchConversations:f,refetchMessages:h,sendMessage:g,editMessage:y,onDeleteMessage:b,sendTypingStatus:x,typingStatus:_,onToggleReaction:j,navigate:s,fetchNextMessages:E,hasMoreMessages:P,isFetchingMoreMessages:A},t[32]=m,t[33]=Q,t[34]=r,t[35]=y,t[36]=E,t[37]=V,t[38]=X,t[39]=W,t[40]=P,t[41]=e,t[42]=p,t[43]=A,t[44]=C,t[45]=H,t[46]=a,t[47]=s,t[48]=b,t[49]=j,t[50]=n,t[51]=Y,t[52]=f,t[53]=h,t[54]=z,t[55]=g,t[56]=x,t[57]=_,t[58]=d,t[59]=O):O=t[59],O};function gf(t){return t.user?.id}function xf(t){return t.item}var yf=U();const rp=()=>{const t=(0,yf.c)(48),{currentUser:e}=ye(),s=De(),r=Fe(),n=e?.id;let i;t[0]!==n?(i=["notifications",n],t[0]=n,t[1]=i):i=t[1];let a;t[2]!==e?(a=L=>{const{pageParam:R}=L;return Ro(e.id,R,10)},t[2]=e,t[3]=a):a=t[3];const o=!!e?.id;let c;t[4]!==i||t[5]!==a||t[6]!==o?(c={queryKey:i,queryFn:a,enabled:o,initialPageParam:null,getNextPageParam:vf},t[4]=i,t[5]=a,t[6]=o,t[7]=c):c=t[7];const{data:d,fetchNextPage:u,hasNextPage:m,isFetchingNextPage:p,isLoading:f,refetch:h}=qe(c);let g;t[8]!==d?.pages?(g=d?.pages.flatMap(bf)||[],t[8]=d?.pages,t[9]=g):g=t[9];const y=g;let x;t[10]!==e||t[11]!==r?(x=()=>{if(!e?.id)return;const L=e.id,R=D.channel(`user_notifications:${L}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`recipient_id=eq.${L}`},()=>{r.invalidateQueries({queryKey:["notifications",L]})}).subscribe();return()=>{setTimeout(()=>{D.removeChannel(R).catch(_f)},500)}},t[10]=e,t[11]=r,t[12]=x):x=t[12];const _=e?.id;let w;t[13]!==r||t[14]!==_?(w=[_,r],t[13]=r,t[14]=_,t[15]=w):w=t[15],(0,v.useEffect)(x,w);let k;t[16]!==e?(k=()=>e?Do(e.id):Promise.resolve(),t[16]=e,t[17]=k):k=t[17];let b,j,N;t[18]!==e?.id||t[19]!==r?(b=async()=>{const L=e?.id;await r.cancelQueries({queryKey:["notifications",L]});const R=r.getQueryData(["notifications",L]);return r.setQueryData(["notifications",L],Nf),{previousNotifications:R}},j=(L,R,T)=>{T?.previousNotifications&&r.setQueryData(["notifications",e?.id],T.previousNotifications)},N=()=>{r.invalidateQueries({queryKey:["notifications",e?.id]})},t[18]=e?.id,t[19]=r,t[20]=b,t[21]=j,t[22]=N):(b=t[20],j=t[21],N=t[22]);let S;t[23]!==b||t[24]!==j||t[25]!==N||t[26]!==k?(S={mutationFn:k,onMutate:b,onError:j,onSettled:N},t[23]=b,t[24]=j,t[25]=N,t[26]=k,t[27]=S):S=t[27];const C=pe(S);let E;t[28]!==s?(E=L=>{L.type==="follow"?s(`/u/${L.user}`):L.post_id&&s(`/p/${L.post_id}`)},t[28]=s,t[29]=E):E=t[29];const P=E;let A;t[30]!==e?.id||t[31]!==C||t[32]!==y?(A=()=>{e?.id&&y.some(kf)&&C.mutate()},t[30]=e?.id,t[31]=C,t[32]=y,t[33]=A):A=t[33];const $=e?.id;let z;t[34]!==C||t[35]!==y||t[36]!==$?(z=[$,y,C],t[34]=C,t[35]=y,t[36]=$,t[37]=z):z=t[37],(0,v.useEffect)(A,z);let M;return t[38]!==e||t[39]!==u||t[40]!==P||t[41]!==m||t[42]!==p||t[43]!==f||t[44]!==s||t[45]!==y||t[46]!==h?(M={currentUser:e,notifications:y,isLoading:f,isFetchingMore:p,hasMore:m,loadNotifications:u,refreshNotifications:h,handleNotificationClick:P,navigate:s},t[38]=e,t[39]=u,t[40]=P,t[41]=m,t[42]=p,t[43]=f,t[44]=s,t[45]=y,t[46]=h,t[47]=M):M=t[47],M};function vf(t){if(!(!t||t.length<10))return t[t.length-1].created_at}function bf(t){return t}function _f(){}function wf(t){return{...t,is_read:!0}}function jf(t){return t.map(wf)}function Nf(t){return t&&{...t,pages:t.pages.map(jf)}}function kf(t){return!t.is_read}var Sf=U();const np=()=>{const t=(0,Sf.c)(23),{id:e}=jt(),s=De(),{currentUser:r}=ye(),{addToast:n}=He(),i=Fe();let a,o;t[0]!==e?(a=["post",e],o=async()=>{if(!e||!Ae(e))throw new Error("Invalid post ID");return so(e)},t[0]=e,t[1]=a,t[2]=o):(a=t[1],o=t[2]);const c=!!e;let d;t[3]!==a||t[4]!==o||t[5]!==c?(d={queryKey:a,queryFn:o,enabled:c,retry:!1},t[3]=a,t[4]=o,t[5]=c,t[6]=d):d=t[6];const{data:u,isLoading:m,isError:p}=ve(d);let f;t[7]!==s?(f=k=>{s(`/u/${k}`)},t[7]=s,t[8]=f):f=t[8];const h=f;let g;t[9]!==s?(g=()=>{s(-1)},t[9]=s,t[10]=g):g=t[10];const y=g;let x;t[11]!==i?(x=(k,b,j)=>{i.setQueryData(["post",k],N=>N&&{...N,content:b,media:j})},t[11]=i,t[12]=x):x=t[12];const _=x;let w;return t[13]!==n||t[14]!==r||t[15]!==y||t[16]!==_||t[17]!==h||t[18]!==p||t[19]!==m||t[20]!==s||t[21]!==u?(w={post:u,isLoading:m,isError:p,currentUser:r,addToast:n,navigate:s,handleUserClick:h,handleDelete:y,handleUpdate:_},t[13]=n,t[14]=r,t[15]=y,t[16]=_,t[17]=h,t[18]=p,t[19]=m,t[20]=s,t[21]=u,t[22]=w):w=t[22],w};var Cf=U();const ip=()=>{const t=(0,Cf.c)(44),e=De(),{id:s}=jt(),[r]=fr();let n;t[0]!==s||t[1]!==r?(n=s||r.get("id"),t[0]=s,t[1]=r,t[2]=n):n=t[2];const i=n,a=(0,v.useRef)(null);let o;t[3]===Symbol.for("react.memo_cache_sentinel")?(o=new Map,t[3]=o):o=t[3];const c=(0,v.useRef)(o),[d,u]=(0,v.useState)(null),[m,p]=(0,v.useState)(!0);let f;t[4]===Symbol.for("react.memo_cache_sentinel")?(f=["reels"],t[4]=f):f=t[4];let h;t[5]===Symbol.for("react.memo_cache_sentinel")?(h={queryKey:f,queryFn:$f,initialPageParam:null,getNextPageParam:zf},t[5]=h):h=t[5];const{data:g,fetchNextPage:y,hasNextPage:x,isFetchingNextPage:_,isLoading:w}=qe(h);let k;t[6]!==g?.pages?(k=g?.pages.flatMap(Ef)||[],t[6]=g?.pages,t[7]=k):k=t[7];const b=k,[j,N]=(0,v.useState)(0);b.length>0&&b.length!==j&&!d&&(N(b.length),i&&b.find(H=>H.id===i)?u(i):u(b[0].id));let S,C;t[8]!==b.length||t[9]!==i?(S=()=>{if(b.length>0&&i){const H=c.current.get(i);H&&H.scrollIntoView({behavior:"instant"})}},C=[b.length,i],t[8]=b.length,t[9]=i,t[10]=S,t[11]=C):(S=t[10],C=t[11]),(0,v.useEffect)(S,C);let E;t[12]===Symbol.for("react.memo_cache_sentinel")?(E=()=>{p(Pf)},t[12]=E):E=t[12];const P=E;let A;t[13]!==d||t[14]!==b?(A=()=>{if(b.length===0)return;const H=b.findIndex(B=>B.id===d);if(H<b.length-1){const B=b[H+1];c.current.get(B.id)?.scrollIntoView({behavior:"smooth"})}},t[13]=d,t[14]=b,t[15]=A):A=t[15];const $=A;let z;t[16]!==d||t[17]!==b?(z=()=>{if(b.length===0)return;const H=b.findIndex(B=>B.id===d);if(H>0){const B=b[H-1];c.current.get(B.id)?.scrollIntoView({behavior:"smooth"})}},t[16]=d,t[17]=b,t[18]=z):z=t[18];const M=z;let L,R;t[19]!==b.length?(L=()=>{if(b.length===0)return;const H={root:a.current,threshold:.6},B=Q=>{Q.forEach(q=>{if(q.isIntersecting){const Y=q.target.getAttribute("data-id");Y&&u(Y)}})},V=new IntersectionObserver(B,H);return c.current.forEach(Q=>V.observe(Q)),()=>V.disconnect()},R=[b.length],t[19]=b.length,t[20]=L,t[21]=R):(L=t[20],R=t[21]),(0,v.useEffect)(L,R);let T,F;t[22]!==d||t[23]!==$||t[24]!==M?(T=()=>{const H=B=>{const V=B.target;if(!(V.tagName==="INPUT"||V.tagName==="TEXTAREA"||V.isContentEditable)&&!(B.ctrlKey||B.altKey||B.metaKey))e:switch(B.key){case"ArrowUp":B.preventDefault(),M();break e;case"ArrowDown":B.preventDefault(),$();break e;case"m":case"M":P();break e;case" ":{B.preventDefault();const Q=c.current.get(d||"");if(Q){const q=Q.querySelector(".reel-item");q&&q.click()}}}};return window.addEventListener("keydown",H),()=>window.removeEventListener("keydown",H)},F=[d,$,M,P],t[22]=d,t[23]=$,t[24]=M,t[25]=T,t[26]=F):(T=t[25],F=t[26]),(0,v.useEffect)(T,F);let K;t[27]===Symbol.for("react.memo_cache_sentinel")?(K=(H,B)=>{B?c.current.set(H,B):c.current.delete(H)},t[27]=K):K=t[27];const W=K;let J,X;t[28]!==y||t[29]!==x||t[30]!==_?(J=()=>{const H=()=>{if(!a.current||_||!x)return;const{scrollTop:V,scrollHeight:Q,clientHeight:q}=a.current;V+q>=Q-800&&y()},B=a.current;if(B)return B.addEventListener("scroll",H),()=>B.removeEventListener("scroll",H)},X=[_,x,y],t[28]=y,t[29]=x,t[30]=_,t[31]=J,t[32]=X):(J=t[31],X=t[32]),(0,v.useEffect)(J,X);let te;return t[33]!==d||t[34]!==y||t[35]!==x||t[36]!==_||t[37]!==w||t[38]!==m||t[39]!==e||t[40]!==b||t[41]!==$||t[42]!==M?(te={reels:b,loading:w,loadingMore:_,activeReelId:d,hasMore:x,isMuted:m,containerRef:a,setReelRef:W,navigate:e,toggleMute:P,scrollToNext:$,scrollToPrev:M,loadReels:y},t[33]=d,t[34]=y,t[35]=x,t[36]=_,t[37]=w,t[38]=m,t[39]=e,t[40]=b,t[41]=$,t[42]=M,t[43]=te):te=t[43],te};function $f(t){const{pageParam:e}=t;return yo(e,10)}function zf(t){if(!t||t.length<10)return;const e=t[t.length-1];return e.score!==void 0?`${e.id}:${e.score}`:e.sort_timestamp||e.created_at}function Ef(t){return t}function Pf(t){return!t}const ap=()=>{const{currentUser:t,logout:e}=ye(),{darkMode:s,toggleDarkMode:r,fontSize:n,setFontSize:i,dataSaver:a,setDataSaver:o}=qt(),{addToast:c}=He(),[d,u]=(0,v.useState)(!1),[m,p]=(0,v.useState)({newPassword:"",confirmPassword:""}),[f,h]=(0,v.useState)(!1),g=async()=>{try{await e(),c("Logged out successfully")}catch(j){console.error("Logout error:",j),c("Failed to logout")}};return{currentUser:t,darkMode:s,toggleDarkMode:r,fontSize:n,setFontSize:i,dataSaver:a,setDataSaver:o,isChangingPassword:d,setIsChangingPassword:u,passwordData:m,setPasswordData:p,loading:f,handleLogout:g,handlePasswordChange:async j=>{if(j.preventDefault(),m.newPassword!==m.confirmPassword){c("Passwords do not match","error");return}if(m.newPassword.length<6){c("Password must be at least 6 characters","error");return}h(!0);try{const{error:N}=await D.auth.updateUser({password:m.newPassword});if(N)throw N;c("Password updated successfully!"),u(!1),p({newPassword:"",confirmPassword:""})}catch(N){console.error("Password update error:",N),c(N.message||"Failed to update password","error")}finally{h(!1)}},handlePasswordReset:async()=>{if(t?.email){h(!0);try{const{error:j}=await D.auth.resetPasswordForEmail(t.email,{redirectTo:`${window.location.origin}/settings?type=recovery`});if(j)throw j;c("Password reset email sent!")}catch(j){console.error("Reset password error:",j),c(j.message||"Failed to send reset email","error")}finally{h(!1)}}},handleClearCache:()=>{["seenStories","font-size","data-saver","theme"].forEach(j=>localStorage.removeItem(j)),c("Cache cleared! Reloading..."),setTimeout(()=>window.location.reload(),1500)},handleDownloadData:async()=>{if(t){h(!0);try{const j={user:{id:t.id,handle:t.handle,name:t.name,email:t.email},exportDate:new Date().toISOString(),note:"This is a mock export of your Sysm data."},N=new Blob([JSON.stringify(j,null,2)],{type:"application/json"}),S=URL.createObjectURL(N),C=document.createElement("a");C.href=S,C.download=`sysm-data-${t.handle}.json`,C.click(),URL.revokeObjectURL(S),c("Data export started!")}catch{c("Failed to export data","error")}finally{h(!1)}}},handleDeleteAccount:()=>{window.confirm("Are you absolutely sure? This will permanently delete your account and all associated data. This action is irreversible.")&&(c("Account deletion request submitted. Logging out..."),setTimeout(g,2e3))},handleReportBug:()=>{window.prompt("Please describe the bug you found:")&&c("Bug reported! Thank you for your feedback.")}}};var Mf=U(),Af=t=>{const e=(0,Mf.c)(16),{children:s}=t,r=Pi(),n=Sn("(max-width: 768px)");let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i={initial:{x:"100%",zIndex:10},animate:{x:0,zIndex:10},exit:{x:"-30%",opacity:.9,zIndex:0}},e[0]=i):i=e[0];const a=i;let o;e[1]===Symbol.for("react.memo_cache_sentinel")?(o={initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10}},e[1]=o):o=e[1];const c=n?a:o;let d;e[2]!==n?(d=n?{type:"spring",stiffness:300,damping:32,mass:.8}:{type:"tween",ease:"easeInOut",duration:.2},e[2]=n,e[3]=d):d=e[3];const u=n&&!r?"absolute":"relative",m=n&&r?"-10px 0 20px rgba(0,0,0,0.1)":"none";let p;e[4]!==u||e[5]!==m?(p={position:u,top:0,left:0,background:"var(--background)",boxShadow:m,willChange:"transform"},e[4]=u,e[5]=m,e[6]=p):p=e[6];let f;e[7]!==n||e[8]!==r?(f=n&&!r&&(0,l.jsx)(ge.div,{initial:{opacity:0},animate:{opacity:.3},className:"absolute inset-0 bg-black pointer-events-none z-[11]"}),e[7]=n,e[8]=r,e[9]=f):f=e[9];let h;return e[10]!==s||e[11]!==c||e[12]!==d||e[13]!==p||e[14]!==f?(h=(0,l.jsxs)(ge.div,{initial:"initial",animate:"animate",exit:"exit",variants:c,transition:d,className:"w-full h-full",style:p,children:[f,s]}),e[10]=s,e[11]=c,e[12]=d,e[13]=p,e[14]=f,e[15]=h):h=e[15],h},je=Af,_i=U(),Lf=(0,v.lazy)(()=>ue(()=>import("./Feed-Bx_sKgsc.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13]))),Rf=(0,v.lazy)(()=>ue(()=>import("./Explore-Drjs8cmY.js"),__vite__mapDeps([14,1,2,3,4,5,6,7,8,9,10,11,12,13]))),Df=(0,v.lazy)(()=>ue(()=>import("./Reels-BsKk2Nv3.js"),__vite__mapDeps([15,1,2,3,4,5,6,7,8,9,10,11,12,13]))),Ff=(0,v.lazy)(()=>ue(()=>import("./Messages-hLEHf4zm.js"),__vite__mapDeps([16,1,2,3,4,5,6,7,8,13,17]))),Tf=(0,v.lazy)(()=>ue(()=>import("./Notifications-DXyT2Msd.js"),__vite__mapDeps([18,1,2,3,4,5,6,7,8]))),qf=t=>{const e=(0,_i.c)(46),{onStoryClick:s}=t,r=ot().pathname;let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n={},e[0]=n):n=e[0];const i=(0,v.useRef)(n),a=(0,v.useRef)(r),o=(0,v.useRef)(0),c=r==="/feed"||r==="/";let d;e[1]!==r?(d=r==="/explore"||r.startsWith("/explore/")&&r.split("/").length===3&&!r.includes("/tags/"),e[1]=r,e[2]=d):d=e[2];const u=d,m=r==="/r"||r==="/r/",p=r==="/m"||r==="/m/",f=r==="/notifications";let h,g;e[3]===Symbol.for("react.memo_cache_sentinel")?(h=()=>{const X=()=>{o.current=window.scrollY};return window.addEventListener("scroll",X,{passive:!0}),()=>window.removeEventListener("scroll",X)},g=[],e[3]=h,e[4]=g):(h=e[3],g=e[4]),(0,v.useEffect)(h,g);let y,x;e[5]!==r?(y=()=>{if(a.current!==r){const X=a.current,te=X==="/feed"||X==="/",H=X==="/explore"||X.startsWith("/explore/")&&X.split("/").length===3,B=X==="/r"||X==="/r/",V=X==="/m"||X==="/m/",Q=X==="/notifications",q=o.current;te?i.current.feed=q:H?i.current.explore=q:B?i.current.reels=q:V?i.current.messages=q:Q&&(i.current.notifications=q),a.current=r;const Y=ce=>i.current[ce]||0;let O=0;const I=r==="/feed"||r==="/",G=r==="/explore"||r.startsWith("/explore/")&&r.split("/").length===3&&!r.includes("/tags/");I?O=Y("feed"):G?O=Y("explore"):r==="/r"||r==="/r/"?O=Y("reels"):r==="/m"||r==="/m/"?O=Y("messages"):r==="/notifications"&&(O=Y("notifications")),window.scrollTo(0,O),o.current=O}},x=[r],e[5]=r,e[6]=y,e[7]=x):(y=e[6],x=e[7]),(0,v.useLayoutEffect)(y,x);const _=c?"block min-h-screen":"hidden";let w;e[8]!==s?(w=(0,l.jsx)(je,{children:(0,l.jsx)(Lf,{onStoryClick:s})}),e[8]=s,e[9]=w):w=e[9];let k;e[10]!==c||e[11]!==w?(k=(0,l.jsx)(pt,{isActive:c,children:w}),e[10]=c,e[11]=w,e[12]=k):k=e[12];let b;e[13]!==_||e[14]!==k?(b=(0,l.jsx)("div",{className:_,children:k}),e[13]=_,e[14]=k,e[15]=b):b=e[15];const j=u?"block min-h-screen":"hidden";let N;e[16]===Symbol.for("react.memo_cache_sentinel")?(N=(0,l.jsx)(je,{children:(0,l.jsx)(Rf,{})}),e[16]=N):N=e[16];let S;e[17]!==u?(S=(0,l.jsx)(pt,{isActive:u,children:N}),e[17]=u,e[18]=S):S=e[18];let C;e[19]!==j||e[20]!==S?(C=(0,l.jsx)("div",{className:j,children:S}),e[19]=j,e[20]=S,e[21]=C):C=e[21];const E=m?"block min-h-screen":"hidden bg-black";let P;e[22]===Symbol.for("react.memo_cache_sentinel")?(P=(0,l.jsx)(je,{children:(0,l.jsx)(Df,{})}),e[22]=P):P=e[22];let A;e[23]!==m?(A=(0,l.jsx)(pt,{isActive:m,children:P}),e[23]=m,e[24]=A):A=e[24];let $;e[25]!==E||e[26]!==A?($=(0,l.jsx)("div",{className:E,children:A}),e[25]=E,e[26]=A,e[27]=$):$=e[27];const z=p?"block min-h-screen":"hidden";let M;e[28]===Symbol.for("react.memo_cache_sentinel")?(M=(0,l.jsx)(je,{children:(0,l.jsx)(Ff,{})}),e[28]=M):M=e[28];let L;e[29]!==p?(L=(0,l.jsx)(pt,{isActive:p,children:M}),e[29]=p,e[30]=L):L=e[30];let R;e[31]!==z||e[32]!==L?(R=(0,l.jsx)("div",{className:z,children:L}),e[31]=z,e[32]=L,e[33]=R):R=e[33];const T=f?"block min-h-screen":"hidden";let F;e[34]===Symbol.for("react.memo_cache_sentinel")?(F=(0,l.jsx)(je,{children:(0,l.jsx)(Tf,{})}),e[34]=F):F=e[34];let K;e[35]!==f?(K=(0,l.jsx)(pt,{isActive:f,children:F}),e[35]=f,e[36]=K):K=e[36];let W;e[37]!==T||e[38]!==K?(W=(0,l.jsx)("div",{className:T,children:K}),e[37]=T,e[38]=K,e[39]=W):W=e[39];let J;return e[40]!==b||e[41]!==C||e[42]!==$||e[43]!==R||e[44]!==W?(J=(0,l.jsxs)("div",{className:"relative w-full",children:[b,C,$,R,W]}),e[40]=b,e[41]=C,e[42]=$,e[43]=R,e[44]=W,e[45]=J):J=e[45],J};function pt(t){const e=(0,_i.c)(3),{isActive:s,children:r}=t,[n,i]=(0,v.useState)(s);if(s&&!n&&i(!0),!n)return null;let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=(0,l.jsx)("div",{className:"h-screen w-full bg-black"}),e[0]=a):a=e[0];let o;return e[1]!==r?(o=(0,l.jsx)(v.Suspense,{fallback:a,children:r}),e[1]=r,e[2]=o):o=e[2],o}var If=qf,Of=U(),Bf=t=>{const e=(0,Of.c)(30),{onStoryClick:s}=t,r=ot(),{darkMode:n}=qt(),i=r.pathname==="/"||r.pathname==="/feed";let a;e[0]!==r.pathname?(a=r.pathname.startsWith("/r"),e[0]=r.pathname,e[1]=a):a=e[1];const o=a;let c;e[2]!==r.pathname?(c=r.pathname.startsWith("/r")||r.pathname.startsWith("/create")||r.pathname==="/settings"||r.pathname==="/edit-profile"||r.pathname.startsWith("/m")&&r.pathname.split("/").length>2,e[2]=r.pathname,e[3]=c):c=e[3];const d=c,u=n&&"dark";let m;e[4]!==u?(m=Z("min-h-screen bg-[--background] text-[--foreground] font-sans selection:bg-violet-500 selection:text-white transition-colors duration-200 pt-[env(safe-area-inset-top)]",u),e[4]=u,e[5]=m):m=e[5];let p;e[6]===Symbol.for("react.memo_cache_sentinel")?(p=(0,l.jsx)(n0,{}),e[6]=p):p=e[6];const f=`flex w-full flex-1 justify-center px-0 gap-x-0 ${o?"":"md:px-2 md:py-3 md:gap-x-4 lg:gap-x-8"}`;let h;e[7]!==i?(h=i&&(0,l.jsx)("div",{className:"w-full max-w-full overflow-hidden",children:(0,l.jsx)(Jl,{})}),e[7]=i,e[8]=h):h=e[8];let g;e[9]!==s?(g=(0,l.jsx)(If,{onStoryClick:s}),e[9]=s,e[10]=g):g=e[10];let y;e[11]===Symbol.for("react.memo_cache_sentinel")?(y=(0,l.jsx)(Dt,{}),e[11]=y):y=e[11];let x;e[12]!==g?(x=(0,l.jsxs)("div",{className:"w-full min-w-0 relative",children:[g,y]}),e[12]=g,e[13]=x):x=e[13];let _;e[14]!==x||e[15]!==h?(_=(0,l.jsxs)("div",{className:"flex w-full min-w-0 flex-1 flex-col overflow-x-hidden",children:[h,x]}),e[14]=x,e[15]=h,e[16]=_):_=e[16];let w;e[17]!==o||e[18]!==r.pathname?(w=!r.pathname.startsWith("/m")&&!o&&(0,l.jsx)(l0,{}),e[17]=o,e[18]=r.pathname,e[19]=w):w=e[19];let k;e[20]!==_||e[21]!==w||e[22]!==f?(k=(0,l.jsxs)("div",{className:"mx-auto flex min-h-screen w-full max-w-[1500px] justify-center px-0 sm:px-0",children:[p,(0,l.jsxs)("main",{className:f,children:[_,w]})]}),e[20]=_,e[21]=w,e[22]=f,e[23]=k):k=e[23];let b;e[24]!==d?(b=!d&&(0,l.jsx)(Ol,{}),e[24]=d,e[25]=b):b=e[25];let j;return e[26]!==k||e[27]!==b||e[28]!==m?(j=(0,l.jsxs)("div",{className:m,children:[k,b]}),e[26]=k,e[27]=b,e[28]=m,e[29]=j):j=e[29],j},dr=Bf,Vf=U(),Hf=()=>{const t=(0,Vf.c)(9),e=ot();let s;t[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsxs)(Se,{to:"/feed",className:"flex items-center gap-2 text-zinc-500 hover:text-zinc-900 dark:hover:text-white transition-colors",children:[(0,l.jsx)(Tt,{size:20}),(0,l.jsx)("span",{className:"hidden sm:inline text-sm font-medium",children:"Back to Feed"})]}),(0,l.jsx)("div",{className:"h-6 w-px bg-zinc-200 dark:bg-zinc-800 mx-2"}),(0,l.jsx)("span",{className:"text-lg font-bold tracking-tight",children:"Marketplace"})]}),t[0]=s):s=t[0];const r=`flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-all ${e.pathname==="/pro"?"bg-zinc-900 text-white dark:bg-white dark:text-zinc-900":"hover:bg-zinc-100 dark:hover:bg-zinc-900 text-zinc-600 dark:text-zinc-400"}`;let n,i;t[1]===Symbol.for("react.memo_cache_sentinel")?(n=(0,l.jsx)(ea,{size:18}),i=(0,l.jsx)("span",{className:"hidden xs:inline",children:"Pro"}),t[1]=n,t[2]=i):(n=t[1],i=t[2]);let a;t[3]!==r?(a=(0,l.jsx)("header",{className:"sticky top-0 z-50 w-full border-b border-zinc-200 bg-white/80 backdrop-blur-md dark:border-zinc-800 dark:bg-black/80",children:(0,l.jsxs)("div",{className:"container mx-auto flex h-16 items-center justify-between px-4",children:[s,(0,l.jsx)("nav",{className:"flex items-center gap-1 sm:gap-4",children:(0,l.jsxs)(Se,{to:"/pro",className:r,children:[n,i]})})]})}),t[3]=r,t[4]=a):a=t[4];let o;t[5]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsx)("div",{className:"container mx-auto py-8 px-4 flex flex-col",children:(0,l.jsx)(su,{})}),t[5]=o):o=t[5];let c;t[6]===Symbol.for("react.memo_cache_sentinel")?(c=(0,l.jsx)("main",{className:"w-full",children:(0,l.jsx)(v.Suspense,{fallback:o,children:(0,l.jsx)(je,{children:(0,l.jsx)(Dt,{})})})}),t[6]=c):c=t[6];let d;return t[7]!==a?(d=(0,l.jsxs)("div",{className:"min-h-screen bg-background text-foreground",children:[a,c]}),t[7]=a,t[8]=d):d=t[8],d},Kf=Hf,op=U(),Qf=U(),Wf=t=>{const e=(0,Qf.c)(6),{children:s,allowedRoles:r}=t,n=r===void 0?["user","admin","moderator"]:r,{currentUser:i,loading:a}=ye(),o=ot();if(a){let d;return e[0]===Symbol.for("react.memo_cache_sentinel")?(d=(0,l.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,l.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-violet-500 border-t-transparent"})}),e[0]=d):d=e[0],d}if(!i){let d;return e[1]!==o?(d=(0,l.jsx)(Ls,{to:"/",state:{from:o},replace:!0}),e[1]=o,e[2]=d):d=e[2],d}if(n&&!n.includes(i.role)){let d;return e[3]===Symbol.for("react.memo_cache_sentinel")?(d=(0,l.jsx)(Ls,{to:"/",replace:!0}),e[3]=d):d=e[3],d}let c;return e[4]!==s?(c=(0,l.jsx)(l.Fragment,{children:s}),e[4]=s,e[5]=c):c=e[5],c},Gf=Wf;function lp({isOpen:t,onClose:e,community:s,onUpdate:r}){const{addToast:n}=He(),[i,a]=(0,v.useState)({name:"",handle:"",description:"",avatar:"",cover:"",isPrivate:!1}),[o,c]=(0,v.useState)(!1),d=(0,v.useRef)(null),u=(0,v.useRef)(null);(0,v.useEffect)(()=>{s&&t&&a({name:s.name||"",handle:s.handle||"",description:s.description||"",avatar:s.avatar||"",cover:s.cover||"",isPrivate:s.isPrivate||!1})},[s,t]);const m=(h,g)=>{const y=h.target.files?.[0];y&&p(y,g)},p=async(h,g)=>{c(!0);try{const y=await Qt(h);a(x=>({...x,[g]:y.url})),n(`${g.charAt(0).toUpperCase()+g.slice(1)} uploaded!`)}catch{n(`Failed to upload ${g}`,"error")}finally{c(!1)}},f=async h=>{if(h.preventDefault(),!(!i.name||!i.handle||!s)){c(!0);try{const g=await wo(s.id,{name:i.name,handle:i.handle.toLowerCase().replace(/[^a-z0-9_]/g,""),description:i.description,avatar_url:i.avatar,cover_url:i.cover,is_private:i.isPrivate});n("Community updated successfully!"),r&&r(g),e()}catch(g){console.error(g),n(g.message||"Failed to update community","error")}finally{c(!1)}}};return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(vs,{isOpen:t,onClose:()=>!o&&e(),title:"Edit Community",className:"sm:max-w-xl",children:[(0,l.jsxs)("div",{className:"max-h-[85vh] space-y-6 overflow-y-auto px-1",children:[(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)("div",{className:"group relative h-32 overflow-hidden rounded-xl bg-zinc-100 dark:bg-zinc-900 sm:h-40",children:[i.cover&&(0,l.jsx)("img",{src:i.cover,className:"h-full w-full object-cover",alt:""}),(0,l.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 opacity-0 transition-opacity group-hover:opacity-100",children:(0,l.jsx)("button",{onClick:()=>u.current?.click(),className:"rounded-full bg-black/60 p-3 text-white transition-all hover:bg-black",children:(0,l.jsx)(Rs,{size:20})})})]}),(0,l.jsx)("div",{className:"absolute -bottom-8 left-6",children:(0,l.jsxs)("div",{className:"group relative size-20 overflow-hidden rounded-2xl border-4 border-white bg-zinc-100 shadow-lg dark:border-black dark:bg-zinc-800 sm:size-24",children:[(0,l.jsx)("img",{src:i.avatar,className:"size-full object-cover",alt:""}),(0,l.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40 opacity-0 transition-opacity group-hover:opacity-100",children:(0,l.jsx)("button",{onClick:()=>d.current?.click(),className:"p-2 text-white",children:(0,l.jsx)(Rs,{size:18})})})]})})]}),(0,l.jsx)("div",{className:"pt-6",children:(0,l.jsxs)("form",{onSubmit:f,className:"space-y-5",children:[(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"space-y-1.5",children:[(0,l.jsx)("label",{className:"ml-1 text-sm font-bold",children:"Community Name"}),(0,l.jsx)("input",{type:"text",required:!0,className:"w-full rounded-xl border border-zinc-200 bg-zinc-50 px-4 py-2.5 font-medium outline-none transition-all focus:border-violet-500 focus:ring-2 focus:ring-violet-500/20 dark:border-zinc-800 dark:bg-zinc-900",value:i.name,onChange:h=>a({...i,name:h.target.value})})]}),(0,l.jsxs)("div",{className:"space-y-1.5",children:[(0,l.jsx)("label",{className:"ml-1 text-sm font-bold",children:"Handle"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-sm font-medium text-zinc-500",children:"c/"}),(0,l.jsx)("input",{type:"text",required:!0,className:"w-full rounded-xl border border-zinc-200 bg-zinc-50 pl-8 pr-4 py-2.5 text-sm font-medium outline-none transition-all focus:border-violet-500 focus:ring-2 focus:ring-violet-500/20 dark:border-zinc-800 dark:bg-zinc-900",value:i.handle,onChange:h=>a({...i,handle:h.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"")})})]})]}),(0,l.jsxs)("div",{className:"space-y-1.5",children:[(0,l.jsx)("label",{className:"ml-1 text-sm font-bold",children:"Description"}),(0,l.jsx)("textarea",{className:"min-h-[100px] w-full resize-none rounded-xl border border-zinc-200 bg-zinc-50 px-4 py-2.5 font-medium outline-none transition-all focus:border-violet-500 focus:ring-2 focus:ring-violet-500/20 dark:border-zinc-800 dark:bg-zinc-900",placeholder:"What is this community about?",value:i.description,onChange:h=>a({...i,description:h.target.value})})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between rounded-xl border border-zinc-200 bg-zinc-50 p-4 dark:border-zinc-800 dark:bg-zinc-900",children:[(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("span",{className:"text-sm font-bold",children:"Private Community"}),(0,l.jsx)("span",{className:"text-[10px] text-zinc-500",children:"Only Admins can post in private communities"})]}),(0,l.jsx)("input",{type:"checkbox",className:"size-5 cursor-pointer rounded-md accent-violet-600",checked:i.isPrivate,onChange:h=>a({...i,isPrivate:h.target.checked})})]})]}),(0,l.jsxs)("div",{className:"flex gap-3 py-2 pt-6",children:[(0,l.jsx)(We,{type:"button",variant:"outline",className:"h-11 flex-1 rounded-xl font-bold",onClick:e,disabled:o,children:"Cancel"}),(0,l.jsx)(We,{type:"submit",className:"h-11 flex-1 rounded-xl bg-zinc-900 font-bold text-white transition-all hover:bg-zinc-800 active:scale-95 dark:bg-white dark:text-black dark:hover:bg-zinc-200",disabled:o||!i.name,children:o?(0,l.jsx)("span",{className:"animate-pulse",children:"..."}):"Save Changes"})]})]})})]}),(0,l.jsx)("input",{type:"file",ref:d,className:"hidden",accept:"image/*",onChange:h=>m(h,"avatar")}),(0,l.jsx)("input",{type:"file",ref:u,className:"hidden",accept:"image/*",onChange:h=>m(h,"cover")})]})})}function cp({isOpen:t,onClose:e,community:s}){const{addToast:r}=He(),{currentUser:n}=ye(),[i,a]=(0,v.useState)([]),[o,c]=(0,v.useState)(!1),[d,u]=(0,v.useState)(""),[m,p]=(0,v.useState)("members"),[f,h]=(0,v.useState)(!1),g=n?.id===s?.creatorId,y=(0,v.useCallback)(async(b="")=>{if(s?.id){c(!0),h(!0);try{a(await jo(s.id,b))}catch(j){console.error("Failed to load members:",j),r("Failed to load members","error")}finally{c(!1)}}},[s?.id,r]);(0,v.useEffect)(()=>{t&&s?.id?y(""):(u(""),a([]),h(!1))},[t,s?.id,y]),(0,v.useEffect)(()=>{if(d.length>=2){const b=setTimeout(()=>{y(d)},500);return()=>clearTimeout(b)}else d.length===0&&f&&y("")},[d,y,f]);const x=async(b,j)=>{try{const N=j==="admin"?"member":"admin";await No(s.id,b,N),a(S=>S.map(C=>C.userId===b?{...C,role:N}:C)),r(`Role updated to ${N}`)}catch{r("Failed to update role","error")}},_=(0,v.useMemo)(()=>i.filter(b=>b.role==="admin"||b.userId===s.creatorId),[i,s.creatorId]),w=(0,v.useMemo)(()=>i.filter(b=>b.role!=="admin"&&b.userId!==s.creatorId),[i,s.creatorId]),k=b=>o?(0,l.jsx)("div",{className:"flex flex-col",children:[1,2,3,4,5].map(j=>(0,l.jsx)(nu,{},j))}):b.length>0?(0,l.jsx)("div",{className:"divide-y divide-zinc-100 dark:divide-zinc-800/50",children:b.map(j=>(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 transition-colors hover:bg-white dark:hover:bg-zinc-800/50",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsxs)(lt,{className:"size-10 border border-zinc-200 shadow-sm dark:border-zinc-700",children:[(0,l.jsx)(ct,{src:j.user.avatar_url}),(0,l.jsx)(dt,{children:j.user.username?.[0]?.toUpperCase()})]}),(0,l.jsxs)("div",{className:"min-w-0 flex flex-col",children:[(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)("span",{className:"font-bold dark:text-zinc-200",children:j.user.name}),j.user.is_verified&&(0,l.jsx)(ii,{size:14,className:"text-blue-500"})]}),(0,l.jsxs)("span",{className:"text-xs font-medium text-zinc-500",children:["@",j.user.username]})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[j.userId===s.creatorId?(0,l.jsx)("span",{className:"rounded-full bg-zinc-200 px-3 py-1 text-[10px] font-black tracking-wider text-zinc-600 dark:bg-zinc-800 dark:text-zinc-400",children:"OWNER"}):g&&(0,l.jsx)("button",{onClick:()=>x(j.userId,j.role),className:`flex items-center gap-1.5 rounded-full px-3 py-1.5 text-[11px] font-bold transition-all ${j.role==="admin"?"bg-rose-50 text-rose-600 hover:bg-rose-100 dark:bg-rose-950/20 dark:text-rose-400":"bg-zinc-100 text-zinc-600 hover:bg-zinc-200 dark:bg-zinc-800 dark:text-zinc-400 dark:hover:bg-zinc-700"}`,children:j.role==="admin"?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(kr,{size:14}),"Admin"]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Pt,{size:14}),"Make Admin"]})}),!g&&j.role==="admin"&&j.userId!==s.creatorId&&(0,l.jsx)("span",{className:"rounded-full bg-violet-50 px-3 py-1 text-[10px] font-black tracking-wider text-violet-600 dark:bg-violet-900/20 dark:text-violet-400",children:"ADMIN"})]})]},j.userId))}):(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center px-6 py-20 text-center",children:[(0,l.jsx)("div",{className:"mb-3 flex size-12 items-center justify-center rounded-full bg-zinc-100 dark:bg-zinc-800",children:(0,l.jsx)(Pt,{size:24,className:"text-zinc-400"})}),(0,l.jsxs)("p",{className:"text-sm font-bold dark:text-white",children:["No ",m," found"]}),(0,l.jsx)("p",{className:"mt-1 text-xs text-zinc-500",children:"Try a different search term"})]});return(0,l.jsx)(vs,{isOpen:t,onClose:e,title:"Manage Members",className:"sm:max-w-md",children:(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(is,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400",size:18}),(0,l.jsx)("input",{type:"text",placeholder:"Search members...",className:"w-full rounded-xl border border-zinc-200 bg-zinc-50 pl-10 pr-4 py-2.5 text-sm font-medium outline-none transition-all focus:border-violet-500 focus:ring-2 focus:ring-violet-500/20 dark:border-zinc-800 dark:bg-zinc-900",value:d,onChange:b=>u(b.target.value)})]}),(0,l.jsxs)(lu,{value:m,onValueChange:p,className:"w-full",children:[(0,l.jsxs)(ni,{className:"h-11 w-full rounded-xl bg-zinc-100 p-1 dark:bg-zinc-900",children:[(0,l.jsxs)(Gt,{value:"members",className:"flex-1 rounded-lg font-bold data-[state=active]:bg-white dark:text-zinc-400 dark:data-[state=active]:bg-zinc-800 dark:data-[state=active]:text-white",children:["Members (",w.length,")"]}),(0,l.jsxs)(Gt,{value:"admins",className:"flex-1 rounded-lg font-bold data-[state=active]:bg-white dark:text-zinc-400 dark:data-[state=active]:bg-zinc-800 dark:data-[state=active]:text-white",children:["Admins (",_.length,")"]})]}),(0,l.jsxs)("div",{className:"max-h-[400px] min-h-[300px] mt-4 overflow-y-auto overflow-hidden rounded-2xl border border-zinc-100 bg-zinc-50 dark:border-zinc-800 dark:bg-zinc-900",children:[(0,l.jsx)(Jt,{value:"members",className:"m-0",children:k(w)}),(0,l.jsx)(Jt,{value:"admins",className:"m-0",children:k(_)})]})]})]})})}const Jf={async createReport(t,e,s,r){const{data:n,error:i}=await D.from("reports").insert([{reporter_id:t,target_type:e,target_id:s,reason:r}]).select().single();if(i)throw i;return n}};var Yf=({isOpen:t,onClose:e,targetType:s,targetId:r})=>{const{currentUser:n}=ye(),[i,a]=(0,v.useState)(""),[o,c]=(0,v.useState)(!1),d=async()=>{if(!n){xe.error("You must be logged in to report content.");return}c(!0);try{await Jf.createReport(n.id,s,r,i),xe.success("Thank you for your report. Our team will review it shortly."),e(),a("")}catch(u){console.error("Report error:",u),xe.error("Failed to submit report. Please try again.")}finally{c(!1)}};return(0,l.jsx)(vs,{isOpen:t,onClose:e,title:`Report ${s?s.charAt(0).toUpperCase()+s.slice(1):""}`,className:"sm:max-w-[440px]",children:(0,l.jsxs)("div",{className:"space-y-5 px-5 pb-7 pt-2",children:[(0,l.jsxs)("div",{className:"flex flex-col items-center text-center space-y-2.5",children:[(0,l.jsx)("div",{className:"flex h-14 w-14 items-center justify-center rounded-2xl bg-violet-500/10 text-violet-600 dark:bg-violet-500/20 dark:text-violet-400 shadow-inner",children:(0,l.jsx)(os,{className:"h-7 w-7"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-base font-black tracking-tight text-[--foreground]",children:"Community Safety First"}),(0,l.jsx)("p",{className:"text-xs text-[--muted-foreground] max-w-[280px] mx-auto leading-relaxed",children:"Help us keep Sysm safe by reporting content that violates our community guidelines."})]})]}),(0,l.jsx)("div",{className:"rounded-xl border border-amber-200 bg-amber-50/50 p-3.5 dark:border-amber-900/30 dark:bg-amber-900/10",children:(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsx)(Sr,{className:"h-4 w-4 shrink-0 text-amber-600 dark:text-amber-500 mt-0.5"}),(0,l.jsxs)("div",{className:"space-y-0.5",children:[(0,l.jsx)("p",{className:"text-[10px] font-black text-amber-800 dark:text-amber-400 uppercase tracking-wider",children:"Note on Reporting"}),(0,l.jsx)("p",{className:"text-[11px] leading-relaxed text-amber-700/80 dark:text-amber-500/70",children:"Reports are handled anonymously. Abuse of the reporting system may lead to account restrictions."})]})]})}),(0,l.jsxs)("div",{className:"space-y-2.5",children:[(0,l.jsx)(Ad,{label:"Reason for reporting",placeholder:"Explain why this content should be reviewed...",textarea:!0,value:i,onChange:u=>a(u.target.value),className:"min-h-[120px] focus:ring-violet-500/30 text-sm rounded-xl"}),(0,l.jsx)("p",{className:"text-[10px] text-center text-[--muted-foreground] px-4 italic opacity-80",children:"Be as specific as possible to help our moderation team understand the issue."})]}),(0,l.jsxs)("div",{className:"flex gap-3 pt-1",children:[(0,l.jsx)(We,{variant:"outline",className:"flex-1 rounded-xl h-11 text-sm font-bold",onClick:e,disabled:o,children:"Cancel"}),(0,l.jsx)(We,{variant:"violet",className:"flex-1 rounded-xl h-11 text-sm font-black shadow-lg shadow-violet-500/20 active:scale-95 transition-all",onClick:d,disabled:o,loading:o,children:"Submit"})]})]})})},Zf=Yf,Xf=U(),Uf=()=>{const t=(0,Xf.c)(7),{isOpen:e,targetType:s,targetId:r,closeReport:n}=wl();let i;t[0]!==n||t[1]!==e||t[2]!==r||t[3]!==s?(i=s&&r&&(0,l.jsx)(Zf,{isOpen:e,onClose:n,targetType:s,targetId:r}),t[0]=n,t[1]=e,t[2]=r,t[3]=s,t[4]=i):i=t[4];let a;return t[5]!==i?(a=(0,l.jsx)(l.Fragment,{children:i}),t[5]=i,t[6]=a):a=t[6],a},e1=Uf,t1=U(),s1=t=>{const e=(0,t1.c)(103),{story:s,onClose:r}=t,[n,i]=(0,v.useState)(0),[a,o]=(0,v.useState)(0),[c,d]=(0,v.useState)(!1),u=ns(0);let m,p;e[0]===Symbol.for("react.memo_cache_sentinel")?(m=[0,200],p=[1,.5],e[0]=m,e[1]=p):(m=e[0],p=e[1]);const f=yt(u,m,p);let h,g;e[2]===Symbol.for("react.memo_cache_sentinel")?(h=[0,200],g=[1,.9],e[2]=h,e[3]=g):(h=e[2],g=e[3]);const y=yt(u,h,g),x=s.stories,_=x[n];let w;e[4]!==n||e[5]!==r||e[6]!==x.length||e[7]!==s.user.id?(w=()=>{n<x.length-1?(i(n1),o(0)):r(s.user.id)},e[4]=n,e[5]=r,e[6]=x.length,e[7]=s.user.id,e[8]=w):w=e[8];const k=w;let b;e[9]!==n?(b=()=>{n>0&&(i(i1),o(0))},e[9]=n,e[10]=b):b=e[10];const j=b;let N;e[11]===Symbol.for("react.memo_cache_sentinel")?(N=oe=>{oe.stopPropagation(),d(a1)},e[11]=N):N=e[11];const S=N;let C;e[12]!==k||e[13]!==c?(C=()=>{if(c)return;const oe=setInterval(()=>{o($e=>$e>=100?(k(),100):$e+1)},50);return()=>clearInterval(oe)},e[12]=k,e[13]=c,e[14]=C):C=e[14];let E;e[15]!==n||e[16]!==k||e[17]!==c?(E=[k,n,c],e[15]=n,e[16]=k,e[17]=c,e[18]=E):E=e[18],(0,v.useEffect)(C,E);let P,A,$;e[19]===Symbol.for("react.memo_cache_sentinel")?(P={opacity:0},A={opacity:1},$={opacity:0},e[19]=P,e[20]=A,e[21]=$):(P=e[19],A=e[20],$=e[21]);let z;if(e[22]!==n||e[23]!==a||e[24]!==x){let oe;e[26]!==n||e[27]!==a?(oe=($e,Ge)=>(0,l.jsx)("div",{className:"h-full flex-1 overflow-hidden rounded-full bg-white/30",children:(0,l.jsx)("div",{className:"h-full bg-white transition-all duration-100",style:{width:Ge<n?"100%":Ge===n?`${a}%`:"0%"}})},Ge),e[26]=n,e[27]=a,e[28]=oe):oe=e[28],z=x.map(oe),e[22]=n,e[23]=a,e[24]=x,e[25]=z}else z=e[25];let M;e[29]!==z?(M=(0,l.jsx)("div",{className:"flex h-0.5 w-full gap-1.5 bg-transparent",children:z}),e[29]=z,e[30]=M):M=e[30];const L=`/u/${s.user.handle}`;let R;e[31]!==s.user.avatar||e[32]!==s.user.handle?(R=(0,l.jsx)(ct,{src:s.user.avatar,alt:s.user.handle,className:"object-cover"}),e[31]=s.user.avatar,e[32]=s.user.handle,e[33]=R):R=e[33];let T;e[34]!==s.user.handle?.[0]?(T=s.user.handle?.[0]?.toUpperCase(),e[34]=s.user.handle?.[0],e[35]=T):T=e[35];let F;e[36]!==T?(F=(0,l.jsx)(dt,{children:T}),e[36]=T,e[37]=F):F=e[37];let K;e[38]!==R||e[39]!==F?(K=(0,l.jsxs)(lt,{className:"size-10 border border-white/20 shadow-sm",children:[R,F]}),e[38]=R,e[39]=F,e[40]=K):K=e[40];let W;e[41]!==s.user.handle?(W=(0,l.jsx)("span",{className:"text-sm font-bold shadow-black drop-shadow-md",children:s.user.handle}),e[41]=s.user.handle,e[42]=W):W=e[42];let J;e[43]!==_.created_at?(J=new Date(_.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),e[43]=_.created_at,e[44]=J):J=e[44];let X;e[45]!==J?(X=(0,l.jsx)("span",{className:"text-[10px] text-white/60 shadow-black drop-shadow-md",children:J}),e[45]=J,e[46]=X):X=e[46];let te;e[47]!==W||e[48]!==X?(te=(0,l.jsxs)("div",{className:"flex flex-col text-white",children:[W,X]}),e[47]=W,e[48]=X,e[49]=te):te=e[49];let H;e[50]!==L||e[51]!==K||e[52]!==te?(H=(0,l.jsxs)(Se,{to:L,className:"flex items-center gap-3 transition-opacity hover:opacity-80",onClick:o1,children:[K,te]}),e[50]=L,e[51]=K,e[52]=te,e[53]=H):H=e[53];let B;e[54]!==r||e[55]!==s.user.id?(B=()=>r(s.user.id),e[54]=r,e[55]=s.user.id,e[56]=B):B=e[56];let V;e[57]===Symbol.for("react.memo_cache_sentinel")?(V=(0,l.jsx)(Nt,{size:24}),e[57]=V):V=e[57];let Q;e[58]!==B?(Q=(0,l.jsx)("button",{onClick:B,className:"rounded-full p-2 text-white transition-colors hover:bg-white/10 active:scale-90",children:V}),e[58]=B,e[59]=Q):Q=e[59];let q;e[60]!==H||e[61]!==Q?(q=(0,l.jsxs)("div",{className:"flex items-center justify-between pointer-events-auto",children:[H,Q]}),e[60]=H,e[61]=Q,e[62]=q):q=e[62];let Y;e[63]!==M||e[64]!==q?(Y=(0,l.jsxs)("div",{className:"absolute left-0 right-0 top-0 z-[110] flex flex-col gap-4 p-4 pointer-events-none",children:[M,q]}),e[63]=M,e[64]=q,e[65]=Y):Y=e[65];let O,I;e[66]===Symbol.for("react.memo_cache_sentinel")?(O={top:0,bottom:0},I={top:0,bottom:.8},e[66]=O,e[67]=I):(O=e[66],I=e[67]);let G;e[68]!==u||e[69]!==f||e[70]!==y?(G={y:u,opacity:f,scale:y},e[68]=u,e[69]=f,e[70]=y,e[71]=G):G=e[71];let ee;e[72]!==r||e[73]!==s.user.id?(ee=(oe,$e)=>{($e.offset.y>100||$e.velocity.y>500)&&r(s.user.id)},e[72]=r,e[73]=s.user.id,e[74]=ee):ee=e[74];let re,se,ce,de;e[75]===Symbol.for("react.memo_cache_sentinel")?(re={opacity:0,scale:.9,x:20},se={opacity:1,scale:1,x:0},ce={opacity:0,scale:1.1,x:-20},de={type:"spring",stiffness:300,damping:30},e[75]=re,e[76]=se,e[77]=ce,e[78]=de):(re=e[75],se=e[76],ce=e[77],de=e[78]);let ie;e[79]!==_.media?(ie=(0,l.jsx)("img",{src:_.media,className:"h-full max-h-full w-full object-contain rounded-xl shadow-2xl",alt:""}),e[79]=_.media,e[80]=ie):ie=e[80];let fe;e[81]!==c?(fe=c&&(0,l.jsx)("div",{className:"pointer-events-none absolute inset-0 z-10 flex items-center justify-center",children:(0,l.jsx)(ge.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"rounded-full border border-white/10 bg-black/40 px-4 py-2 text-xs font-bold text-white backdrop-blur-md",children:"PAUSED"})}),e[81]=c,e[82]=fe):fe=e[82];let be;e[83]!==_.id||e[84]!==ie||e[85]!==fe?(be=(0,l.jsx)(Et,{mode:"wait",children:(0,l.jsxs)(ge.div,{initial:re,animate:se,exit:ce,transition:de,className:"relative flex h-full w-full items-center justify-center",children:[ie,fe]},_.id)}),e[83]=_.id,e[84]=ie,e[85]=fe,e[86]=be):be=e[86];let _e;e[87]!==j?(_e=(0,l.jsx)("div",{className:"w-[30%] cursor-w-resize",onClick:j}),e[87]=j,e[88]=_e):_e=e[88];let Ee;e[89]===Symbol.for("react.memo_cache_sentinel")?(Ee=(0,l.jsx)("div",{className:"flex w-[40%] cursor-pointer items-center justify-center",onClick:S}),e[89]=Ee):Ee=e[89];let Ne;e[90]!==k?(Ne=(0,l.jsx)("div",{className:"w-[30%] cursor-e-resize",onClick:k}),e[90]=k,e[91]=Ne):Ne=e[91];let Ce;e[92]!==_e||e[93]!==Ne?(Ce=(0,l.jsxs)("div",{className:"absolute inset-0 z-20 flex",children:[_e,Ee,Ne]}),e[92]=_e,e[93]=Ne,e[94]=Ce):Ce=e[94];let Pe;e[95]!==G||e[96]!==ee||e[97]!==be||e[98]!==Ce?(Pe=(0,l.jsxs)(ge.div,{drag:"y",dragConstraints:O,dragElastic:I,style:G,onDragEnd:ee,className:"relative flex h-full w-full max-w-xl items-center justify-center p-2 touch-none",children:[be,Ce]}),e[95]=G,e[96]=ee,e[97]=be,e[98]=Ce,e[99]=Pe):Pe=e[99];let me;return e[100]!==Y||e[101]!==Pe?(me=(0,l.jsxs)(ge.div,{initial:P,animate:A,exit:$,className:"fixed inset-0 z-[100] flex flex-col items-center justify-center bg-black",children:[Y,Pe]}),e[100]=Y,e[101]=Pe,e[102]=me):me=e[102],me},r1=s1;function n1(t){return t+1}function i1(t){return t-1}function a1(t){return!t}function o1(t){return t.stopPropagation()}var l1=U();const c1=()=>{const t=(0,l1.c)(1);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],t[0]=e):e=t[0],(0,v.useEffect)(u1,e)};function d1(t){const e=t.target;e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable||t.ctrlKey||t.altKey||t.metaKey||t.key.toLowerCase()}function u1(){const t=d1;return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)}var m1=U(),f1=(0,v.lazy)(()=>ue(()=>import("./Profile-BRLH_zI4.js"),__vite__mapDeps([19,1,2,3,4,5,6,7,8,9,10,11,12,13,20]))),h1=(0,v.lazy)(()=>ue(()=>import("./Community-CyCB4F28.js"),__vite__mapDeps([21,1,2,3,4,5,6,7,8,9,10,11,12,13,20]))),p1=(0,v.lazy)(()=>ue(()=>import("./PostDetails-BzYkm2Vc.js"),__vite__mapDeps([22,1,2,3,4,5,6,7,8,9,10,11,12,13]))),g1=(0,v.lazy)(()=>ue(()=>import("./Settings-DIJ0UABr.js"),__vite__mapDeps([23,1,2,3,4,5,6,7,8]))),x1=(0,v.lazy)(()=>ue(()=>import("./HashtagFeed-DyNC6vss.js"),__vite__mapDeps([24,1,2,3,4,5,6,10,7,8,9,11,12,13]))),y1=(0,v.lazy)(()=>ue(()=>import("./CreatePost-C7yALKCq.js"),__vite__mapDeps([25,1,2,3,4,5,6,10,7,8,26,12,17]))),v1=(0,v.lazy)(()=>ue(()=>import("./CreateCommunity-aZP_-Mvj.js"),__vite__mapDeps([27,1,2,3,4,5,6,10,7,8]))),b1=(0,v.lazy)(()=>ue(()=>import("./CreateGroup-DngLPqtS.js"),__vite__mapDeps([28,1,2,3,4,5,6,10,7,8]))),_1=(0,v.lazy)(()=>ue(()=>import("./EditProfile-B6_1Joo_.js"),__vite__mapDeps([29,1,2,3,4,5,6,7,8,26]))),w1=(0,v.lazy)(()=>ue(()=>import("./page-BZ_FMkDr.js"),__vite__mapDeps([30,1,2,3,4,5,6,7,8,31]))),j1=(0,v.lazy)(()=>ue(()=>import("./page-D5zxkLyn.js"),__vite__mapDeps([32,1,2,3,4,5,6,7,8,31]))),N1=(0,v.lazy)(()=>ue(()=>import("./onboarding-B9q_nJ7W.js"),__vite__mapDeps([33,1,2,3,4,5,6,10,7,8]))),k1=(0,v.lazy)(()=>ue(()=>import("./page-C39CZu4x.js"),__vite__mapDeps([34,1,2,3,4,5,6,7,8]))),S1=(0,v.lazy)(()=>ue(()=>import("./UserManagement-KJejnv_X.js"),__vite__mapDeps([35,1,2,3,4,5,6,7,8]))),C1=(0,v.lazy)(()=>ue(()=>import("./ReportsManagement-0svvSTtf.js"),__vite__mapDeps([36,1,2,3,4,5,6,7,8]))),$1=(0,v.lazy)(()=>ue(()=>import("./Terms-CvuH1n82.js"),__vite__mapDeps([37,1,2,3,4,5]))),z1=(0,v.lazy)(()=>ue(()=>import("./Privacy-BFeWyA25.js"),__vite__mapDeps([38,1,2,3,4,5]))),E1=(0,v.lazy)(()=>ue(()=>import("./Guidelines-DZ34C20-.js"),__vite__mapDeps([39,1,2,3,4,5]))),P1=(0,v.lazy)(()=>ue(()=>import("./Support-CGlfeGf8.js"),__vite__mapDeps([40,1,2,3,4,5,6]))),M1=(0,v.lazy)(()=>ue(()=>import("./Status-Dw6Eo735.js"),__vite__mapDeps([41,1,2,3,4,5,6]))),A1=(0,v.lazy)(()=>ue(()=>import("./NotFoundPage-DLTmbjGz.js"),__vite__mapDeps([42,1,2,3,4,5,6]))),L1=(0,v.lazy)(()=>ue(()=>import("./Reels-BsKk2Nv3.js"),__vite__mapDeps([15,1,2,3,4,5,6,7,8,9,10,11,12,13]))),R1=(0,v.lazy)(()=>ue(()=>import("./Messages-hLEHf4zm.js"),__vite__mapDeps([16,1,2,3,4,5,6,7,8,13,17])));function D1(){const t=(0,m1.c)(55),e=De(),{currentUser:s}=ye(),{isOpen:r,images:n,currentIndex:i,closeLightbox:a,setIndex:o}=yl(),[c,d]=(0,v.useState)(null);c1();let u;t[0]===Symbol.for("react.memo_cache_sentinel")?(u=(0,l.jsx)(Oa,{}),t[0]=u):u=t[0];let m;t[1]===Symbol.for("react.memo_cache_sentinel")?(m=(0,l.jsx)(ae,{path:"/login",element:(0,l.jsx)(w1,{})}),t[1]=m):m=t[1];let p;t[2]===Symbol.for("react.memo_cache_sentinel")?(p=(0,l.jsx)(ae,{path:"/register",element:(0,l.jsx)(j1,{})}),t[2]=p):p=t[2];let f;t[3]===Symbol.for("react.memo_cache_sentinel")?(f=(0,l.jsx)(ae,{path:"/onboarding",element:(0,l.jsx)(N1,{})}),t[3]=f):f=t[3];let h;t[4]!==s?(h=s?(0,l.jsx)(dr,{onStoryClick:d}):(0,l.jsx)(dr,{onStoryClick:d}),t[4]=s,t[5]=h):h=t[5];let g,y,x,_,w,k,b;t[6]===Symbol.for("react.memo_cache_sentinel")?(x=(0,l.jsx)(ae,{path:"/",element:null}),_=(0,l.jsx)(ae,{path:"/feed",element:null}),w=(0,l.jsx)(ae,{path:"/home",element:null}),k=(0,l.jsx)(ae,{path:"/explore",element:null}),b=(0,l.jsx)(ae,{path:"/r",element:null}),g=(0,l.jsx)(ae,{path:"/m",element:null}),y=(0,l.jsx)(ae,{path:"/notifications",element:null}),t[6]=g,t[7]=y,t[8]=x,t[9]=_,t[10]=w,t[11]=k,t[12]=b):(g=t[6],y=t[7],x=t[8],_=t[9],w=t[10],k=t[11],b=t[12]);let j;t[13]===Symbol.for("react.memo_cache_sentinel")?(j=(0,l.jsx)(ae,{path:"/r/:id",element:(0,l.jsx)(je,{children:(0,l.jsx)(L1,{})})}),t[13]=j):j=t[13];let N;t[14]===Symbol.for("react.memo_cache_sentinel")?(N=(0,l.jsx)(ae,{path:"/m/:id",element:(0,l.jsx)(je,{children:(0,l.jsx)(R1,{})})}),t[14]=N):N=t[14];let S;t[15]===Symbol.for("react.memo_cache_sentinel")?(S=(0,l.jsx)(ae,{path:"/settings",element:(0,l.jsx)(je,{children:(0,l.jsx)(g1,{})})}),t[15]=S):S=t[15];let C;t[16]===Symbol.for("react.memo_cache_sentinel")?(C=(0,l.jsx)(ae,{path:"/p/:id",element:(0,l.jsx)(je,{children:(0,l.jsx)(p1,{})})}),t[16]=C):C=t[16];let E;t[17]===Symbol.for("react.memo_cache_sentinel")?(E=(0,l.jsx)(ae,{path:"/create",element:(0,l.jsx)(je,{children:(0,l.jsx)(y1,{})})}),t[17]=E):E=t[17];let P;t[18]===Symbol.for("react.memo_cache_sentinel")?(P=(0,l.jsx)(ae,{path:"/create-community",element:(0,l.jsx)(je,{children:(0,l.jsx)(v1,{})})}),t[18]=P):P=t[18];let A;t[19]===Symbol.for("react.memo_cache_sentinel")?(A=(0,l.jsx)(ae,{path:"/create-group",element:(0,l.jsx)(je,{children:(0,l.jsx)(b1,{})})}),t[19]=A):A=t[19];let $;t[20]!==e?($=(0,l.jsx)(ae,{path:"/c/:handle",element:(0,l.jsx)(je,{children:(0,l.jsx)(h1,{onPostInCommunity:re=>{e("/create",{state:{initialCommunity:re}})}})})}),t[20]=e,t[21]=$):$=t[21];let z;t[22]===Symbol.for("react.memo_cache_sentinel")?(z=(0,l.jsx)(ae,{path:"/tags/:tag",element:(0,l.jsx)(je,{children:(0,l.jsx)(x1,{})})}),t[22]=z):z=t[22];let M;t[23]===Symbol.for("react.memo_cache_sentinel")?(M=(0,l.jsx)(ae,{path:"/u/:handle",element:(0,l.jsx)(je,{children:(0,l.jsx)(f1,{})})}),t[23]=M):M=t[23];let L;t[24]===Symbol.for("react.memo_cache_sentinel")?(L=(0,l.jsx)(ae,{path:"/edit-profile",element:(0,l.jsx)(je,{children:(0,l.jsx)(_1,{})})}),t[24]=L):L=t[24];let R;t[25]===Symbol.for("react.memo_cache_sentinel")?(R=(0,l.jsx)(Kf,{}),t[25]=R):R=t[25];let T;t[26]===Symbol.for("react.memo_cache_sentinel")?(T=(0,l.jsx)(ae,{element:R,children:(0,l.jsx)(ae,{path:"/pro",element:(0,l.jsx)(k1,{})})}),t[26]=T):T=t[26];let F;t[27]!==$||t[28]!==h?(F=(0,l.jsxs)(ae,{element:h,children:[x,_,w,k,b,g,y,j,N,S,C,E,P,A,$,z,M,L,T]}),t[27]=$,t[28]=h,t[29]=F):F=t[29];let K;t[30]===Symbol.for("react.memo_cache_sentinel")?(K=(0,l.jsx)(Gf,{allowedRoles:["admin"],children:(0,l.jsx)(Rl,{})}),t[30]=K):K=t[30];let W;t[31]===Symbol.for("react.memo_cache_sentinel")?(W=(0,l.jsx)(ae,{path:"users",element:(0,l.jsx)(S1,{})}),t[31]=W):W=t[31];let J;t[32]===Symbol.for("react.memo_cache_sentinel")?(J=(0,l.jsxs)(ae,{path:"/syspanel",element:K,children:[W,(0,l.jsx)(ae,{path:"reports",element:(0,l.jsx)(C1,{})})]}),t[32]=J):J=t[32];let X;t[33]===Symbol.for("react.memo_cache_sentinel")?(X=(0,l.jsx)(Ul,{}),t[33]=X):X=t[33];let te;t[34]===Symbol.for("react.memo_cache_sentinel")?(te=(0,l.jsx)(ae,{path:"terms",element:(0,l.jsx)($1,{})}),t[34]=te):te=t[34];let H;t[35]===Symbol.for("react.memo_cache_sentinel")?(H=(0,l.jsx)(ae,{path:"privacy",element:(0,l.jsx)(z1,{})}),t[35]=H):H=t[35];let B;t[36]===Symbol.for("react.memo_cache_sentinel")?(B=(0,l.jsx)(ae,{path:"guidelines",element:(0,l.jsx)(E1,{})}),t[36]=B):B=t[36];let V;t[37]===Symbol.for("react.memo_cache_sentinel")?(V=(0,l.jsx)(ae,{path:"support",element:(0,l.jsx)(P1,{})}),t[37]=V):V=t[37];let Q;t[38]===Symbol.for("react.memo_cache_sentinel")?(Q=(0,l.jsxs)(ae,{path:"/info",element:X,children:[te,H,B,V,(0,l.jsx)(ae,{path:"status",element:(0,l.jsx)(M1,{})})]}),t[38]=Q):Q=t[38];let q;t[39]===Symbol.for("react.memo_cache_sentinel")?(q=(0,l.jsx)(ae,{path:"*",element:(0,l.jsx)(A1,{})}),t[39]=q):q=t[39];let Y;t[40]!==F?(Y=(0,l.jsx)(v.Suspense,{fallback:null,children:(0,l.jsxs)(Ri,{children:[m,p,f,F,J,Q,q]})}),t[40]=F,t[41]=Y):Y=t[41];let O;t[42]!==a||t[43]!==i||t[44]!==n||t[45]!==r||t[46]!==o?(O=r&&(0,l.jsx)($d,{media:n,currentIndex:i,onClose:a,onNavigate:o}),t[42]=a,t[43]=i,t[44]=n,t[45]=r,t[46]=o,t[47]=O):O=t[47];let I;t[48]!==c?(I=c&&(0,l.jsx)(r1,{story:c,onClose:()=>d(null)}),t[48]=c,t[49]=I):I=t[49];let G;t[50]===Symbol.for("react.memo_cache_sentinel")?(G=(0,l.jsx)(e1,{}),t[50]=G):G=t[50];let ee;return t[51]!==Y||t[52]!==O||t[53]!==I?(ee=(0,l.jsxs)($l,{children:[u,Y,O,I,G]}),t[51]=Y,t[52]=O,t[53]=I,t[54]=ee):ee=t[54],ee}var F1=new Oi({defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:1e3*60*30,retry:1,refetchOnWindowFocus:!1}}}),ur=document.getElementById("root");ur&&(0,Fa.createRoot)(ur).render((0,l.jsx)(v.StrictMode,{children:(0,l.jsx)(Sl,{children:(0,l.jsx)(Ii,{client:F1,children:(0,l.jsx)(Fi,{children:(0,l.jsx)(Qo,{children:(0,l.jsx)(Oo,{children:(0,l.jsx)(Vo,{children:(0,l.jsx)(ol,{children:(0,l.jsx)(nl,{children:(0,l.jsx)(_l,{children:(0,l.jsx)(xl,{children:(0,l.jsx)(D1,{})})})})})})})})})})})}));export{Sh as $,ko as $t,Rh as A,ph as At,ni as B,dt as Bt,Qh as C,fs as Ct,Ah as D,dc as Dt,Fh as E,hh as Et,ii as F,ic as Ft,nu as G,yl as Gt,zh as H,mh as Ht,Eh as I,rc as It,Ud as J,qt as Jt,su as K,ll as Kt,du as L,sc as Lt,Th as M,ac as Mt,Mh as N,oc as Nt,Xs as O,uc as Ot,Dh as P,tc as Pt,Qd as Q,$o as Qt,lu as R,nc as Rt,Kh as S,zn as St,hu as T,Sn as Tt,$h as U,We as Ut,Gt as V,ct as Vt,Ch as W,wl as Wt,Wd as X,dh as Xt,kh as Y,ye as Yt,Jd as Z,ch as Zt,qh as _,Qt as _n,jc as _t,ip as a,fo as an,wh as at,Vh as b,dn as bn,Cn as bt,sp as c,go as cn,_h as ct,Uh as d,Za as dn,Ad as dt,Mo as en,Zs as et,Xh as f,rh as fn,bh as ft,Wh as g,Ja as gn,yh as gt,Jh as h,Ya as hn,wc as ht,ap as i,uo as in,Od as it,Lh as j,fh as jt,Us as k,pc as kt,tp as l,mo as ln,vs as lt,Yh as m,Wt as mn,gh as mt,lp as n,oh as nn,ti as nt,np as o,co as on,qd as ot,Zh as p,sh as pn,vh as pt,le as q,He as qt,je as r,ah as rn,Nh as rt,rp as s,nh as sn,jh as st,cp as t,lh as tn,Vd as tt,ep as u,ih as un,Un as ut,Ih as v,Z as vn,Cc as vt,Bh as w,ps as wt,Hh as x,eh as xn,ms as xt,Oh as y,th as yn,xh as yt,Jt as z,lt as zt};
