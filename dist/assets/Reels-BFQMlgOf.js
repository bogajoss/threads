import{a as y}from"./rolldown-runtime-BaZ8gS7u.js";import{c as z,d as R}from"./framework-CsA6nn9m.js";import"./database-t9niRmCR.js";import{It as M,Lt as S,Sn as w,tr as $}from"./ui-libs-Ba37rTFj.js";import{t as C}from"./post-BbzsvO2o.js";import"./linkify-CDs92yJ8.js";import{n as I}from"./hooks-lHue6y2h.js";var L=z(),t=y(R(),1),W=()=>{const e=(0,L.c)(36),{reels:x,loading:_,loadingMore:j,activeReelId:h,isMuted:i,containerRef:g,setReelRef:b,navigate:r,toggleMute:a}=I();if(_){let l;return e[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)("div",{className:"flex h-[100dvh] w-full items-center justify-center bg-black",children:(0,t.jsx)(w,{size:40,className:"animate-spin text-white"})}),e[0]=l):l=e[0],l}if(x.length===0){let l;e[1]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)("p",{className:"text-zinc-500",children:"No reels found."}),e[1]=l):l=e[1];let s;return e[2]!==r?(s=(0,t.jsxs)("div",{className:"flex h-[100dvh] w-full flex-col items-center justify-center gap-4 bg-black text-white",children:[l,(0,t.jsx)("button",{onClick:()=>r(-1),className:"rounded-full bg-white px-4 py-2 text-sm font-bold text-black",children:"Go Back"})]}),e[2]=r,e[3]=s):s=e[3],s}let o;e[4]!==r?(o=()=>r(-1),e[4]=r,e[5]=o):o=e[5];let p;e[6]===Symbol.for("react.memo_cache_sentinel")?(p=(0,t.jsx)($,{size:24,strokeWidth:2.5}),e[6]=p):p=e[6];let c;e[7]!==o?(c=(0,t.jsx)("button",{onClick:o,className:"absolute left-6 top-6 z-50 rounded-full border border-white/10 bg-black/20 p-2.5 text-white shadow-xl backdrop-blur-md transition-all hover:bg-black/40 active:scale-90",title:"Back",children:p}),e[7]=o,e[8]=c):c=e[8];const k=i?"Unmute":"Mute";let n;e[9]!==i?(n=i?(0,t.jsx)(M,{size:24,strokeWidth:2.5}):(0,t.jsx)(S,{size:24,strokeWidth:2.5}),e[9]=i,e[10]=n):n=e[10];let d;e[11]!==k||e[12]!==n||e[13]!==a?(d=(0,t.jsx)("button",{onClick:a,className:"absolute right-6 top-6 z-50 rounded-full border border-white/10 bg-black/20 p-2.5 text-white shadow-xl backdrop-blur-md transition-all hover:bg-black/40 active:scale-90",title:k,children:n}),e[11]=k,e[12]=n,e[13]=a,e[14]=d):d=e[14];let m;if(e[15]!==h||e[16]!==i||e[17]!==x||e[18]!==b||e[19]!==a){let l;e[21]!==h||e[22]!==i||e[23]!==b||e[24]!==a?(l=s=>(0,t.jsx)("div",{ref:N=>b(s.id,N),"data-id":s.id,className:"snap-start h-full w-full",children:(0,t.jsx)(C,{reel:s,isActive:h===s.id,isMuted:i,onToggleMute:a})},s.feed_id||s.id),e[21]=h,e[22]=i,e[23]=b,e[24]=a,e[25]=l):l=e[25],m=x.map(l),e[15]=h,e[16]=i,e[17]=x,e[18]=b,e[19]=a,e[20]=m}else m=e[20];let f;e[26]!==j?(f=j&&(0,t.jsx)("div",{className:"flex h-[100dvh] w-full snap-start items-center justify-center bg-black",children:(0,t.jsx)(w,{size:40,className:"animate-spin text-white"})}),e[26]=j,e[27]=f):f=e[27];let u;e[28]!==g||e[29]!==m||e[30]!==f?(u=(0,t.jsxs)("div",{ref:g,className:"no-scrollbar h-full w-full snap-y snap-mandatory overflow-y-auto scroll-smooth",children:[m,f]}),e[28]=g,e[29]=m,e[30]=f,e[31]=u):u=e[31];let v;return e[32]!==c||e[33]!==d||e[34]!==u?(v=(0,t.jsxs)("div",{className:"relative h-[100dvh] w-full overflow-hidden bg-black md:rounded-xl",children:[c,d,u]}),e[32]=c,e[33]=d,e[34]=u,e[35]=v):v=e[35],v},U=W;export{U as default};
