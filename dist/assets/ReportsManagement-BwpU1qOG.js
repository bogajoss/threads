import{a as m}from"./rolldown-runtime-BaZ8gS7u.js";import{o as x,s as u}from"./animations-pEILWrFP.js";import{c as p}from"./framework-di2JoXyY.js";import"./database-CdmW3A7f.js";import{Bn as f,En as h,Gn as g,Rt as j,rr as b}from"./ui-libs-CeA_mvKJ.js";import{Sn as v,St as o,bn as N}from"./index-z9RTDLkj.js";import{t as _}from"./useAdmin-aSUjnQQA.js";var y=p(),A=m(u(),1),e=m(x(),1),w=()=>{const t=(0,y.c)(9),{reports:l,actions:a}=_();if(l.isLoading){let s;return t[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,e.jsx)("div",{className:"flex h-64 items-center justify-center",children:(0,e.jsx)(h,{className:"h-8 w-8 animate-spin text-violet-500"})}),t[0]=s):s=t[0],s}let i;t[1]!==l.data?(i=l.data||[],t[1]=l.data,t[2]=i):i=t[2];const n=i;let d;t[3]===Symbol.for("react.memo_cache_sentinel")?(d=(0,e.jsxs)("div",{children:[(0,e.jsx)("h1",{className:"text-3xl font-black lg:text-4xl text-[--foreground]",children:"Reports Queue"}),(0,e.jsx)("p",{className:"text-sm text-[--muted-foreground] sm:text-base",children:"Review and resolve content reports from users."})]}),t[3]=d):d=t[3];let r;t[4]!==a||t[5]!==n?(r=n.length===0?(0,e.jsxs)("div",{className:"flex flex-col items-center justify-center rounded-3xl border-2 border-dashed border-[--border] p-12 text-center bg-[--card]",children:[(0,e.jsx)("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-emerald-500/10 text-emerald-500 mb-6",children:(0,e.jsx)(b,{className:"h-10 w-10"})}),(0,e.jsx)("h3",{className:"text-xl font-bold",children:"Clear Queue!"}),(0,e.jsx)("p",{className:"text-sm text-[--muted-foreground] max-w-xs mx-auto mt-2",children:"Great job! All reports have been processed. The platform is clean."})]}):n.map(s=>(0,e.jsxs)("div",{className:"group rounded-3xl border border-[--border] bg-[--card] p-5 sm:p-6 transition-all hover:border-violet-500/30 shadow-sm",children:[(0,e.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,e.jsxs)("div",{className:"flex items-center gap-4",children:[(0,e.jsx)("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-2xl bg-rose-500/10 text-rose-500",children:(0,e.jsx)(f,{className:"h-6 w-6"})}),(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsxs)("span",{className:"text-xs font-black uppercase tracking-widest text-rose-500",children:["Reported ",s.target_type]}),(0,e.jsx)("span",{className:"text-xs text-[--muted-foreground]",children:"â€¢"}),(0,e.jsx)("span",{className:"text-xs text-[--muted-foreground]",children:v(s.created_at)})]}),(0,e.jsxs)("h3",{className:"text-sm font-bold sm:text-base mt-0.5",children:["Reported by @",s.reporter?.username||"anonymous"]})]})]}),(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)("span",{className:N("text-[10px] font-black uppercase tracking-widest px-2 py-1 rounded-lg mr-2",s.status==="pending"?"bg-amber-500/10 text-amber-500":s.status==="resolved"?"bg-emerald-500/10 text-emerald-500":"bg-zinc-500/10 text-zinc-500"),children:s.status}),s.status==="pending"&&(0,e.jsxs)("div",{className:"flex gap-2",children:[(0,e.jsx)(o,{variant:"outline",size:"sm",className:"h-9 px-4 rounded-xl border-emerald-500/20 text-emerald-500 hover:bg-emerald-500/10",onClick:()=>a.updateReportStatus({reportId:s.id,status:"dismissed"}),children:"Dismiss"}),(0,e.jsx)(o,{variant:"danger",size:"sm",className:"h-9 px-4 rounded-xl",onClick:async()=>{confirm(`Do you want to DELETE the reported ${s.target_type} and resolve this report?`)?(await a.deleteTarget({type:s.target_type,id:s.target_id}),a.updateReportStatus({reportId:s.id,status:"resolved"})):a.updateReportStatus({reportId:s.id,status:"resolved"})},children:"Resolve"})]})]})]}),(0,e.jsxs)("div",{className:"mt-6 rounded-2xl bg-[--secondary]/50 p-4 border border-[--border]",children:[(0,e.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,e.jsx)(j,{className:"h-4 w-4 text-amber-500"}),(0,e.jsx)("span",{className:"text-xs font-bold uppercase tracking-tight text-[--muted-foreground]",children:"Reason / Context"})]}),(0,e.jsxs)("p",{className:"text-sm text-[--foreground] leading-relaxed italic",children:['"',s.reason||"No specific reason provided.",'"']}),(0,e.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,e.jsxs)("div",{className:"flex flex-col",children:[(0,e.jsx)("span",{className:"text-[10px] font-black uppercase tracking-widest text-[--muted-foreground]",children:"Target ID"}),(0,e.jsx)("span",{className:"text-[10px] font-mono opacity-50",children:s.target_id})]}),(0,e.jsxs)("button",{className:"flex items-center gap-2 text-xs font-bold text-violet-500 hover:underline",children:[(0,e.jsx)(g,{className:"h-3 w-3"}),"View Content"]})]})]})]},s.id)),t[4]=a,t[5]=n,t[6]=r):r=t[6];let c;return t[7]!==r?(c=(0,e.jsxs)("div",{className:"space-y-6 sm:space-y-8",children:[d,(0,e.jsx)("div",{className:"grid gap-4",children:r})]}),t[7]=r,t[8]=c):c=t[8],c},D=w;export{D as default};
