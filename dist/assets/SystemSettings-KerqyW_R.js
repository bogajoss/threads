import{a as Q}from"./rolldown-runtime-BaZ8gS7u.js";import{o as V,s as W}from"./animations-pEILWrFP.js";import{c as X}from"./framework-di2JoXyY.js";import"./database-CdmW3A7f.js";import{En as ee,In as te,Mt as se,Tn as le,Yt as ae,tn as ie}from"./ui-libs-CeA_mvKJ.js";import{St as H,Y as J,bn as P}from"./index-D6iWZPjq.js";import{t as re}from"./useAdmin-CrIFp0Ht.js";var R=X(),K=Q(W(),1),t=Q(V(),1),O=e=>{const s=(0,R.c)(17),{title:u,description:l,children:f,icon:x}=e;let r;s[0]!==x?(r=(0,t.jsx)("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-xl bg-[--secondary] text-[--foreground]",children:(0,t.jsx)(x,{className:"h-5 w-5"})}),s[0]=x,s[1]=r):r=s[1];let n;s[2]!==u?(n=(0,t.jsx)("h3",{className:"text-sm font-black sm:text-base",children:u}),s[2]=u,s[3]=n):n=s[3];let a;s[4]!==l?(a=(0,t.jsx)("p",{className:"text-xs text-[--muted-foreground] sm:text-sm",children:l}),s[4]=l,s[5]=a):a=s[5];let o;s[6]!==n||s[7]!==a?(o=(0,t.jsxs)("div",{children:[n,a]}),s[6]=n,s[7]=a,s[8]=o):o=s[8];let i;s[9]!==r||s[10]!==o?(i=(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[r,o]}),s[9]=r,s[10]=o,s[11]=i):i=s[11];let c;s[12]!==f?(c=(0,t.jsx)("div",{className:"flex shrink-0 items-center gap-2 pl-14 sm:pl-0",children:f}),s[12]=f,s[13]=c):c=s[13];let d;return s[14]!==i||s[15]!==c?(d=(0,t.jsxs)("div",{className:"flex flex-col gap-4 py-6 first:pt-0 last:pb-0 sm:flex-row sm:items-center sm:justify-between sm:gap-8",children:[i,c]}),s[14]=i,s[15]=c,s[16]=d):d=s[16],d},ne=()=>{const e=(0,R.c)(65),{settings:s,actions:u}=re(),[l,f]=(0,K.useState)(null);let x,r;if(e[0]!==l||e[1]!==s.data?(x=()=>{s.data&&!l&&f(s.data)},r=[s.data,l],e[0]=l,e[1]=s.data,e[2]=x,e[3]=r):(x=e[2],r=e[3]),K.useEffect(x,r),s.isLoading||!l){let m;return e[4]===Symbol.for("react.memo_cache_sentinel")?(m=(0,t.jsx)("div",{className:"flex h-64 items-center justify-center",children:(0,t.jsx)(ee,{className:"h-8 w-8 animate-spin text-violet-500"})}),e[4]=m):m=e[4],m}let n;e[5]!==l?(n=m=>{f({...l,[m]:!l[m]})},e[5]=l,e[6]=n):n=e[6];const a=n;let o;e[7]===Symbol.for("react.memo_cache_sentinel")?(o=(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-black lg:text-4xl",children:"System Settings"}),(0,t.jsx)("p",{className:"text-sm text-[--muted-foreground] sm:text-base",children:"Global configuration and platform controls."})]}),e[7]=o):o=e[7];let i;e[8]!==u||e[9]!==l?(i=()=>u.updateSettings(l),e[8]=u,e[9]=l,e[10]=i):i=e[10];let c;e[11]===Symbol.for("react.memo_cache_sentinel")?(c=(0,t.jsx)(ie,{className:"mr-2 h-4 w-4"}),e[11]=c):c=e[11];let d;e[12]!==i?(d=(0,t.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[o,(0,t.jsxs)(H,{onClick:i,className:"rounded-2xl shadow-lg shadow-violet-500/20",children:[c,"Save Changes"]})]}),e[12]=i,e[13]=d):d=e[13];let T;e[14]===Symbol.for("react.memo_cache_sentinel")?(T=(0,t.jsxs)("div",{className:"mb-6 flex items-center gap-2",children:[(0,t.jsx)(ae,{className:"h-5 w-5 text-violet-500"}),(0,t.jsx)("h2",{className:"text-lg font-black uppercase tracking-tight",children:"Access & Security"})]}),e[14]=T):T=e[14];let h;e[15]!==a?(h=()=>a("maintenance_mode"),e[15]=a,e[16]=h):h=e[16];const U=l.maintenance_mode?"bg-violet-500":"bg-[--secondary]";let p;e[17]!==U?(p=P("relative inline-flex h-6 w-11 shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none",U),e[17]=U,e[18]=p):p=e[18];const Y=l.maintenance_mode?"translate-x-5":"translate-x-0";let g;e[19]!==Y?(g=P("pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",Y),e[19]=Y,e[20]=g):g=e[20];let b;e[21]!==g?(b=(0,t.jsx)("span",{className:g}),e[21]=g,e[22]=b):b=e[22];let j;e[23]!==p||e[24]!==b||e[25]!==h?(j=(0,t.jsx)(O,{icon:le,title:"Maintenance Mode",description:"Temporarily disable platform access for all non-admin users.",children:(0,t.jsx)("button",{onClick:h,className:p,children:b})}),e[23]=p,e[24]=b,e[25]=h,e[26]=j):j=e[26];let v;e[27]!==a?(v=()=>a("allow_signups"),e[27]=a,e[28]=v):v=e[28];const B=l.allow_signups?"bg-violet-500":"bg-[--secondary]";let N;e[29]!==B?(N=P("relative inline-flex h-6 w-11 shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none",B),e[29]=B,e[30]=N):N=e[30];const Z=l.allow_signups?"translate-x-5":"translate-x-0";let _;e[31]!==Z?(_=P("pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",Z),e[31]=Z,e[32]=_):_=e[32];let w;e[33]!==_?(w=(0,t.jsx)("span",{className:_}),e[33]=_,e[34]=w):w=e[34];let y;e[35]!==v||e[36]!==N||e[37]!==w?(y=(0,t.jsx)(O,{icon:se,title:"Allow New Signups",description:"Control whether new users can create accounts on the platform.",children:(0,t.jsx)("button",{onClick:v,className:N,children:w})}),e[35]=v,e[36]=N,e[37]=w,e[38]=y):y=e[38];let S;e[39]!==j||e[40]!==y?(S=(0,t.jsxs)("section",{className:"rounded-3xl border border-[--border] bg-[--card] p-6 sm:p-8",children:[T,(0,t.jsxs)("div",{className:"divide-y divide-[--border]",children:[j,y]})]}),e[39]=j,e[40]=y,e[41]=S):S=e[41];let q;e[42]===Symbol.for("react.memo_cache_sentinel")?(q=(0,t.jsxs)("div",{className:"mb-6 flex items-center gap-2",children:[(0,t.jsx)(te,{className:"h-5 w-5 text-violet-500"}),(0,t.jsx)("h2",{className:"text-lg font-black uppercase tracking-tight",children:"Platform Details"})]}),e[42]=q):q=e[42];let A;e[43]===Symbol.for("react.memo_cache_sentinel")?(A=(0,t.jsx)("label",{className:"text-xs font-black uppercase tracking-widest text-[--muted-foreground]",children:"Site Title"}),e[43]=A):A=e[43];const z=l.site_title||"Sysm";let k;e[44]!==l?(k=m=>f({...l,site_title:m.target.value}),e[44]=l,e[45]=k):k=e[45];let C;e[46]!==z||e[47]!==k?(C=(0,t.jsxs)("div",{className:"space-y-2",children:[A,(0,t.jsx)(J,{value:z,onChange:k,className:"rounded-xl border-[--border] bg-[--secondary]/30 font-bold"})]}),e[46]=z,e[47]=k,e[48]=C):C=e[48];let $;e[49]===Symbol.for("react.memo_cache_sentinel")?($=(0,t.jsx)("label",{className:"text-xs font-black uppercase tracking-widest text-[--muted-foreground]",children:"Support Email"}),e[49]=$):$=e[49];const F=l.support_email||"admin@sysm.app";let E;e[50]!==l?(E=m=>f({...l,support_email:m.target.value}),e[50]=l,e[51]=E):E=e[51];let I;e[52]!==F||e[53]!==E?(I=(0,t.jsxs)("div",{className:"space-y-2",children:[$,(0,t.jsx)(J,{value:F,onChange:E,className:"rounded-xl border-[--border] bg-[--secondary]/30 font-bold"})]}),e[52]=F,e[53]=E,e[54]=I):I=e[54];let L;e[55]!==C||e[56]!==I?(L=(0,t.jsxs)("section",{className:"rounded-3xl border border-[--border] bg-[--card] p-6 sm:p-8",children:[q,(0,t.jsxs)("div",{className:"grid gap-6 sm:grid-cols-2",children:[C,I]})]}),e[55]=C,e[56]=I,e[57]=L):L=e[57];let D;e[58]===Symbol.for("react.memo_cache_sentinel")?(D=(0,t.jsx)("section",{className:"rounded-3xl border border-rose-500/20 bg-rose-500/5 p-6 sm:p-8",children:(0,t.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-black text-rose-500",children:"Danger Zone"}),(0,t.jsx)("p",{className:"text-xs text-rose-500/60 font-medium",children:"Critical system operations. Use with extreme caution."})]}),(0,t.jsx)(H,{variant:"danger",className:"rounded-2xl",children:"Purge System Cache"})]})}),e[58]=D):D=e[58];let M;e[59]!==S||e[60]!==L?(M=(0,t.jsxs)("div",{className:"grid gap-8",children:[S,L,D]}),e[59]=S,e[60]=L,e[61]=M):M=e[61];let G;return e[62]!==M||e[63]!==d?(G=(0,t.jsxs)("div",{className:"space-y-8",children:[d,M]}),e[62]=M,e[63]=d,e[64]=G):G=e[64],G},he=ne;export{he as default};
