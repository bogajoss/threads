import{a as h}from"./rolldown-runtime-BaZ8gS7u.js";import{c as b,s as g}from"./animations-Kp4r2r5F.js";import{c as N}from"./framework-BjssErrK.js";import"./database-CdmW3A7f.js";import{fn as v,kn as j,sr as k,wn as w}from"./ui-libs-EpJdbQFE.js";import"./media-libs-DyQ6Lt1T.js";import{Bt as y,Ut as z,Vt as _,W as S,bn as A,k as C,s as q,zt as F}from"./index-xp3ajAXe.js";var L=N(),Y=h(b(),1),t=h(g(),1),M=()=>{const e=(0,L.c)(17),{notifications:r,isLoading:u,isFetchingMore:o,hasMore:a,loadNotifications:m,handleNotificationClick:x}=q(),p=I,f=$;if(u&&r.length===0){let s;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)("div",{className:"flex flex-col",children:[1,2,3,4,5,6].map(B)}),e[0]=s):s=e[0],s}let l;e[1]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)("div",{className:"sticky top-0 z-10 border-b border-zinc-100 bg-white/80 p-4 backdrop-blur-md dark:bg-black/80 dark:border-zinc-800",children:(0,t.jsx)("h2",{className:"text-xl font-bold dark:text-white",children:"Notifications"})}),e[1]=l):l=e[1];let i;e[2]!==x||e[3]!==r?(i=r.length>0?(0,t.jsx)("div",{className:"divide-y divide-zinc-100 dark:divide-zinc-800",children:r.map(s=>(0,t.jsxs)("div",{onClick:()=>x(s),className:`flex cursor-pointer gap-4 p-4 transition-colors hover:bg-zinc-50 dark:hover:bg-zinc-900/50 ${s.is_read?"":"bg-violet-50/30 dark:bg-violet-900/10"}`,children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)(F,{className:"h-12 w-12 border border-zinc-100 dark:border-zinc-800",children:[(0,t.jsx)(_,{src:s.avatar}),(0,t.jsx)(y,{children:s.user?.[0]?.toUpperCase()||"?"})]}),(0,t.jsx)("div",{className:"absolute -bottom-1 -right-1 rounded-full bg-white p-1 shadow-sm dark:bg-zinc-900",children:p(s.type)})]}),(0,t.jsx)("div",{className:"flex flex-1 flex-col gap-1",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"text-sm dark:text-zinc-100",children:[(0,t.jsxs)("span",{className:"font-bold",children:["@",s.user]})," ",f(s)]}),(0,t.jsx)("span",{className:"text-xs text-zinc-500",children:A(s.created_at)})]})})]},s.id))}):(0,t.jsx)("div",{className:"p-16 text-center text-zinc-500",children:(0,t.jsx)("p",{className:"font-medium",children:"No notifications yet."})}),e[2]=x,e[3]=r,e[4]=i):i=e[4];let n;e[5]!==a||e[6]!==o||e[7]!==m||e[8]!==r.length?(n=r.length>0&&a&&(0,t.jsx)("div",{className:"flex justify-center p-4",children:(0,t.jsx)(z,{variant:"ghost",onClick:()=>m(),disabled:o,className:"text-sm",children:o?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"mr-2 animate-pulse",children:"..."}),"Loading..."]}):"Load more"})}),e[5]=a,e[6]=o,e[7]=m,e[8]=r.length,e[9]=n):n=e[9];let c;e[10]!==a||e[11]!==r.length?(c=r.length>0&&!a&&(0,t.jsx)("div",{className:"p-8 text-center text-sm text-zinc-500",children:"You've caught up with everything!"}),e[10]=a,e[11]=r.length,e[12]=c):c=e[12];let d;return e[13]!==i||e[14]!==n||e[15]!==c?(d=(0,t.jsxs)("div",{className:"min-h-screen rounded-none border-y border-zinc-100 bg-white pb-20 shadow-sm dark:bg-black dark:border-zinc-800 md:rounded-xl md:border",children:[l,i,n,c]}),e[13]=i,e[14]=n,e[15]=c,e[16]=d):d=e[16],d},D=M;function I(e){switch(e){case"like":return(0,t.jsx)(j,{className:"h-4 w-4 fill-red-500 text-red-500"});case"mention":return(0,t.jsx)(k,{className:"h-4 w-4 text-violet-500"});case"repost":return(0,t.jsx)(w,{className:"h-4 w-4 text-green-500"});case"comment":return(0,t.jsx)(v,{className:"h-4 w-4 text-blue-500"});case"follow":return(0,t.jsx)(C,{className:"h-4 w-4 text-zinc-500"});default:return null}}function $(e){switch(e.type){case"like":return"liked your post";case"mention":return"mentioned you in a post";case"repost":return"reposted your post";case"comment":return"replied to your post";case"follow":return"started following you";default:return"interacted with you"}}function B(e){return(0,t.jsx)(S,{},e)}export{D as default};
