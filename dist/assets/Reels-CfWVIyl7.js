import{o as E}from"./rolldown-runtime-CIzSbf4l.js";import{c as P,l as B,w as D}from"./framework-i0QTTZ5z.js";import"./database-OCX2jLsI.js";import{Mt as G,ar as K,fr as U,jt as X,nr as Z}from"./ui-libs-BsCs0W7b.js";import"./media-libs-CSO2-zwb.js";import{Kt as F,Z as A,qt as H,s as J}from"./index-BonaZtey.js";import"./VideoPlayer-ClQqFL9m.js";import{t as O}from"./post-BVKLLvxb.js";import"./text-processing-53UaexJb.js";import"./rich-text-CtgfxHVI.js";import"./actionsheet-0NupOGEN.js";var Q=P(),$=E(D(),1),t=E(B(),1),Y=()=>{const e=(0,Q.c)(47),{reels:a,loading:L,loadingMore:z,activeReelId:g,volume:s,setVolume:C,containerRef:M,setReelRef:T,navigate:i,scrollToNext:V,scrollToPrev:W}=J(),[I,k]=(0,$.useState)(!1),o=(0,$.useRef)(null);let j;e[0]===Symbol.for("react.memo_cache_sentinel")?(j=l=>{l?.type==="click"?k(ee):k(!0),o.current&&clearTimeout(o.current),o.current=setTimeout(()=>k(!1),4e3)},e[0]=j):j=e[0];const q=j;if(L){let l;return e[1]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)("div",{className:"flex h-[100dvh] w-full items-center justify-center bg-black",children:(0,t.jsx)(A,{})}),e[1]=l):l=e[1],l}if(a.length===0){let l;e[2]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)("p",{className:"text-zinc-500",children:"No reels found."}),e[2]=l):l=e[2];let r;return e[3]!==i?(r=(0,t.jsxs)("div",{className:"flex h-[100dvh] w-full flex-col items-center justify-center gap-4 bg-black text-white",children:[l,(0,t.jsx)("button",{onClick:()=>i(-1),className:"rounded-full bg-white px-4 py-2 text-sm font-bold text-black",children:"Go Back"})]}),e[3]=i,e[4]=r):r=e[4],r}let n;e[5]!==i?(n=()=>i(-1),e[5]=i,e[6]=n):n=e[6];let _;e[7]===Symbol.for("react.memo_cache_sentinel")?(_=(0,t.jsx)(U,{size:24,strokeWidth:2.5}),e[7]=_):_=e[7];let c;e[8]!==n?(c=(0,t.jsx)("button",{onClick:n,className:"absolute left-6 top-[max(1.5rem,env(safe-area-inset-top)+1.5rem)] z-50 rounded-full border border-white/10 bg-black/20 p-2.5 text-white shadow-xl backdrop-blur-md transition-all hover:bg-black/40 active:scale-90",title:"Back",children:_}),e[8]=n,e[9]=c):c=e[9];let y;e[10]===Symbol.for("react.memo_cache_sentinel")?(y=()=>q(),e[10]=y):y=e[10];let d;e[11]!==s?(d=(0,t.jsx)("button",{onClick:q,onMouseEnter:y,className:"rounded-full border border-white/10 bg-black/20 p-2.5 text-white shadow-xl backdrop-blur-md transition-all hover:bg-black/40 active:scale-90",title:"Volume",children:s===0?(0,t.jsx)(X,{size:24,strokeWidth:2.5}):(0,t.jsx)(G,{size:24,strokeWidth:2.5})}),e[11]=s,e[12]=d):d=e[12];let m;e[13]!==C||e[14]!==I||e[15]!==s?(m=I&&(0,t.jsx)(F.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},onMouseEnter:()=>{o.current&&clearTimeout(o.current)},onMouseLeave:()=>{o.current=setTimeout(()=>k(!1),2e3)},className:"flex h-32 w-10 items-center justify-center rounded-full border border-white/10 bg-black/20 p-2 shadow-xl backdrop-blur-md",children:(0,t.jsx)("input",{type:"range",min:"0",max:"100",value:s*100,onChange:l=>{C(Number(l.target.value)/100),q()},className:"h-24 w-1 cursor-pointer appearance-none rounded-lg bg-white/20 accent-white transition-all hover:bg-white/30",style:{writingMode:"vertical-lr",direction:"rtl",WebkitAppearance:"slider-vertical"}})}),e[13]=C,e[14]=I,e[15]=s,e[16]=m):m=e[16];let u;e[17]!==m?(u=(0,t.jsx)(H,{children:m}),e[17]=m,e[18]=u):u=e[18];let f;e[19]!==d||e[20]!==u?(f=(0,t.jsxs)("div",{className:"absolute right-6 top-[max(1.5rem,env(safe-area-inset-top)+1.5rem)] z-50 flex flex-col items-center gap-2",children:[d,u]}),e[19]=d,e[20]=u,e[21]=f):f=e[21];let N;e[22]===Symbol.for("react.memo_cache_sentinel")?(N=(0,t.jsx)(Z,{size:28,strokeWidth:3,className:"transition-transform group-hover:-translate-y-0.5"}),e[22]=N):N=e[22];let h;e[23]!==W?(h=(0,t.jsx)("button",{onClick:W,className:"group rounded-full border border-white/10 bg-black/20 p-3 text-white shadow-xl backdrop-blur-md transition-all hover:bg-black/40 active:scale-90",title:"Previous Reel",children:N}),e[23]=W,e[24]=h):h=e[24];let S;e[25]===Symbol.for("react.memo_cache_sentinel")?(S=(0,t.jsx)(K,{size:28,strokeWidth:3,className:"transition-transform group-hover:translate-y-0.5"}),e[25]=S):S=e[25];let b;e[26]!==V?(b=(0,t.jsx)("button",{onClick:V,className:"group rounded-full border border-white/10 bg-black/20 p-3 text-white shadow-xl backdrop-blur-md transition-all hover:bg-black/40 active:scale-90",title:"Next Reel",children:S}),e[26]=V,e[27]=b):b=e[27];let p;e[28]!==h||e[29]!==b?(p=(0,t.jsxs)("div",{className:"absolute right-6 top-1/2 z-50 hidden -translate-y-1/2 flex-col gap-4 md:flex",children:[h,b]}),e[28]=h,e[29]=b,e[30]=p):p=e[30];let x;e[31]!==g||e[32]!==a||e[33]!==T||e[34]!==s?(x=a.map(l=>(0,t.jsx)("div",{ref:r=>T(l.id,r),"data-id":l.id,className:"snap-start snap-always h-full w-full",children:(0,t.jsx)(O,{reel:l,isActive:g===l.id,volume:s,shouldLoad:Math.abs(a.findIndex(r=>r.id===g)-a.findIndex(r=>r.id===l.id))<=1})},l.feed_id||l.id)),e[31]=g,e[32]=a,e[33]=T,e[34]=s,e[35]=x):x=e[35];let v;e[36]!==z?(v=z&&(0,t.jsx)("div",{className:"flex h-[100dvh] w-full snap-start items-center justify-center bg-black",children:(0,t.jsx)(A,{})}),e[36]=z,e[37]=v):v=e[37];let w;e[38]!==M||e[39]!==x||e[40]!==v?(w=(0,t.jsxs)("div",{ref:M,className:"no-scrollbar h-full w-full snap-y snap-mandatory overflow-y-auto",children:[x,v]}),e[38]=M,e[39]=x,e[40]=v,e[41]=w):w=e[41];let R;return e[42]!==p||e[43]!==w||e[44]!==c||e[45]!==f?(R=(0,t.jsxs)("div",{className:"relative h-[100dvh] w-full overflow-hidden bg-black md:rounded-xl",children:[c,f,p,w]}),e[42]=p,e[43]=w,e[44]=c,e[45]=f,e[46]=R):R=e[46],R},ue=Y;function ee(e){return!e}export{ue as default};
