import{a as $}from"./rolldown-runtime-BaZ8gS7u.js";import{c as q,d as I}from"./framework-CsA6nn9m.js";import"./database-t9niRmCR.js";import{It as L,Lt as T,Sn as S,Wn as A,qn as B,tr as P}from"./ui-libs-iJ4uMYcB.js";import{t as U}from"./post-DxpbvoBd.js";import"./linkify-CDs92yJ8.js";import{n as V}from"./hooks-CvRtEtMt.js";var D=q(),t=$(I(),1),E=()=>{const e=(0,D.c)(46),{reels:g,loading:M,loadingMore:N,activeReelId:p,isMuted:a,containerRef:y,setReelRef:v,navigate:i,toggleMute:r,scrollToNext:z,scrollToPrev:R}=V();if(M){let l;return e[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)("div",{className:"flex h-[100dvh] w-full items-center justify-center bg-black",children:(0,t.jsx)(S,{size:40,className:"animate-spin text-white"})}),e[0]=l):l=e[0],l}if(g.length===0){let l;e[1]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)("p",{className:"text-zinc-500",children:"No reels found."}),e[1]=l):l=e[1];let s;return e[2]!==i?(s=(0,t.jsxs)("div",{className:"flex h-[100dvh] w-full flex-col items-center justify-center gap-4 bg-black text-white",children:[l,(0,t.jsx)("button",{onClick:()=>i(-1),className:"rounded-full bg-white px-4 py-2 text-sm font-bold text-black",children:"Go Back"})]}),e[2]=i,e[3]=s):s=e[3],s}let o;e[4]!==i?(o=()=>i(-1),e[4]=i,e[5]=o):o=e[5];let k;e[6]===Symbol.for("react.memo_cache_sentinel")?(k=(0,t.jsx)(P,{size:24,strokeWidth:2.5}),e[6]=k):k=e[6];let n;e[7]!==o?(n=(0,t.jsx)("button",{onClick:o,className:"absolute left-6 top-6 z-50 rounded-full border border-white/10 bg-black/20 p-2.5 text-white shadow-xl backdrop-blur-md transition-all hover:bg-black/40 active:scale-90",title:"Back",children:k}),e[7]=o,e[8]=n):n=e[8];const C=a?"Unmute":"Mute";let c;e[9]!==a?(c=a?(0,t.jsx)(L,{size:24,strokeWidth:2.5}):(0,t.jsx)(T,{size:24,strokeWidth:2.5}),e[9]=a,e[10]=c):c=e[10];let d;e[11]!==C||e[12]!==c||e[13]!==r?(d=(0,t.jsx)("button",{onClick:r,className:"absolute right-6 top-6 z-50 rounded-full border border-white/10 bg-black/20 p-2.5 text-white shadow-xl backdrop-blur-md transition-all hover:bg-black/40 active:scale-90",title:C,children:c}),e[11]=C,e[12]=c,e[13]=r,e[14]=d):d=e[14];let w;e[15]===Symbol.for("react.memo_cache_sentinel")?(w=(0,t.jsx)(A,{size:28,strokeWidth:3,className:"transition-transform group-hover:-translate-y-0.5"}),e[15]=w):w=e[15];let m;e[16]!==R?(m=(0,t.jsx)("button",{onClick:R,className:"group rounded-full border border-white/10 bg-black/20 p-3 text-white shadow-xl backdrop-blur-md transition-all hover:bg-black/40 active:scale-90",title:"Previous Reel",children:w}),e[16]=R,e[17]=m):m=e[17];let j;e[18]===Symbol.for("react.memo_cache_sentinel")?(j=(0,t.jsx)(B,{size:28,strokeWidth:3,className:"transition-transform group-hover:translate-y-0.5"}),e[18]=j):j=e[18];let f;e[19]!==z?(f=(0,t.jsx)("button",{onClick:z,className:"group rounded-full border border-white/10 bg-black/20 p-3 text-white shadow-xl backdrop-blur-md transition-all hover:bg-black/40 active:scale-90",title:"Next Reel",children:j}),e[19]=z,e[20]=f):f=e[20];let h;e[21]!==m||e[22]!==f?(h=(0,t.jsxs)("div",{className:"absolute right-6 top-1/2 z-50 flex -translate-y-1/2 flex-col gap-4",children:[m,f]}),e[21]=m,e[22]=f,e[23]=h):h=e[23];let u;if(e[24]!==p||e[25]!==a||e[26]!==g||e[27]!==v||e[28]!==r){let l;e[30]!==p||e[31]!==a||e[32]!==v||e[33]!==r?(l=s=>(0,t.jsx)("div",{ref:W=>v(s.id,W),"data-id":s.id,className:"snap-start snap-always h-full w-full",children:(0,t.jsx)(U,{reel:s,isActive:p===s.id,isMuted:a,onToggleMute:r})},s.feed_id||s.id),e[30]=p,e[31]=a,e[32]=v,e[33]=r,e[34]=l):l=e[34],u=g.map(l),e[24]=p,e[25]=a,e[26]=g,e[27]=v,e[28]=r,e[29]=u}else u=e[29];let b;e[35]!==N?(b=N&&(0,t.jsx)("div",{className:"flex h-[100dvh] w-full snap-start items-center justify-center bg-black",children:(0,t.jsx)(S,{size:40,className:"animate-spin text-white"})}),e[35]=N,e[36]=b):b=e[36];let x;e[37]!==y||e[38]!==u||e[39]!==b?(x=(0,t.jsxs)("div",{ref:y,className:"no-scrollbar h-full w-full snap-y snap-mandatory overflow-y-auto",children:[u,b]}),e[37]=y,e[38]=u,e[39]=b,e[40]=x):x=e[40];let _;return e[41]!==h||e[42]!==x||e[43]!==n||e[44]!==d?(_=(0,t.jsxs)("div",{className:"relative h-[100dvh] w-full overflow-hidden bg-black md:rounded-xl",children:[n,d,h,x]}),e[41]=h,e[42]=x,e[43]=n,e[44]=d,e[45]=_):_=e[45],_},Q=E;export{Q as default};
