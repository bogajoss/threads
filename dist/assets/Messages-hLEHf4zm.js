import{a as ke}from"./rolldown-runtime-BaZ8gS7u.js";import{a as Te,c as Re,i as re,n as be,r as $e,s as Ae}from"./animations-Kp4r2r5F.js";import{_ as Se,c as ce}from"./framework-BjssErrK.js";import"./database-CdmW3A7f.js";import{$t as _e,At as De,Bn as Pe,Dt as ve,Et as Ee,Hn as Ie,Ht as ze,In as Ge,Ut as Ue,Vn as Fe,Xt as Le,an as Oe,cr as Ve,dn as qe,mn as We,nn as he,nr as Be,on as He,pn as ye,rn as Ke,rr as Qe,sn as Xe,zt as Ne}from"./ui-libs-EpJdbQFE.js";import{t as Ye}from"./media-libs-DyQ6Lt1T.js";import{At as Je,Bt as pe,Dt as Ze,Et as et,I as tt,Ot as de,P as st,Ut as ne,Vt as ge,_n as we,_t as fe,at,bn as Ce,c as it,h as lt,ht as rt,kt as nt,mt as ct,ot,pt as dt,q as xe,st as xt,tt as Me,vn as E,yt as mt,zt as je}from"./index-xp3ajAXe.js";import{t as ut}from"./VideoPlayer-Dg4Ry3y9.js";import{t as ft}from"./useAutoResizeTextArea-Cm4Zj4LO.js";var ht=ce(),T=ke(Re(),1),t=ke(Ae(),1),pt=T.memo(s=>{const e=(0,ht.c)(52),{conv:a,isSelected:i,isOnline:N,isTyping:j,onClick:d}=s,z=a.isGroup?a.name:a.user?.name||"Unknown User",r=a.isGroup?a.avatar:a.user?.avatar;let f="";try{if(a.created_at){let _;e[0]!==a.created_at?(_=Ce(a.created_at),e[0]=a.created_at,e[1]=_):_=e[1],f=_}}catch{f=""}const $=i?"bg-violet-600/10 dark:bg-violet-500/10":"hover:bg-zinc-100 dark:hover:bg-zinc-800/50";let l;e[2]!==$?(l=E("group relative flex w-full cursor-pointer items-center gap-3 rounded-xl p-3 transition-all",$),e[2]=$,e[3]=l):l=e[3];let y;e[4]!==r?(y=(0,t.jsx)(ge,{src:r,className:"object-cover"}),e[4]=r,e[5]=y):y=e[5];let k;e[6]!==z[0]?(k=z[0]?.toUpperCase(),e[6]=z[0],e[7]=k):k=e[7];let D;e[8]!==k?(D=(0,t.jsx)(pe,{className:"bg-gradient-to-br from-violet-500 to-fuchsia-600 text-white text-lg font-bold",children:k}),e[8]=k,e[9]=D):D=e[9];let S;e[10]!==y||e[11]!==D?(S=(0,t.jsxs)(je,{className:"h-12 w-12 border border-zinc-200 dark:border-zinc-800",children:[y,D]}),e[10]=y,e[11]=D,e[12]=S):S=e[12];let b;e[13]!==a.isGroup||e[14]!==N?(b=N&&!a.isGroup&&(0,t.jsx)("span",{className:"absolute bottom-0 right-0 h-3.5 w-3.5 rounded-full border-[2px] border-white bg-emerald-500 ring-0 dark:border-zinc-950"}),e[13]=a.isGroup,e[14]=N,e[15]=b):b=e[15];let x;e[16]!==S||e[17]!==b?(x=(0,t.jsxs)("div",{className:"relative shrink-0",children:[S,b]}),e[16]=S,e[17]=b,e[18]=x):x=e[18];const R=i?"text-violet-900 dark:text-violet-100":"text-zinc-900 dark:text-zinc-100";let M;e[19]!==R?(M=E("truncate text-[15px] font-semibold",R),e[19]=R,e[20]=M):M=e[20];let w;e[21]!==z||e[22]!==M?(w=(0,t.jsx)("h4",{className:M,children:z}),e[21]=z,e[22]=M,e[23]=w):w=e[23];let o;e[24]!==f?(o=(0,t.jsx)("span",{className:"text-[11px] font-medium text-zinc-400 dark:text-zinc-500 shrink-0",children:f}),e[24]=f,e[25]=o):o=e[25];let m;e[26]!==w||e[27]!==o?(m=(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[w,o]}),e[26]=w,e[27]=o,e[28]=m):m=e[28];let u;e[29]!==a.currentUserSent||e[30]!==a.isGroup||e[31]!==a.lastMessage||e[32]!==a.lastMessageSender||e[33]!==a.unread||e[34]!==j?(u=(0,t.jsx)("div",{className:"flex-1 min-w-0 flex items-center gap-1",children:j?(0,t.jsx)("p",{className:"truncate text-[13px] leading-relaxed text-violet-600 dark:text-violet-400 font-medium italic",children:"Typing..."}):(0,t.jsxs)("p",{className:E("truncate text-[13px] leading-relaxed",a.unread>0?"font-semibold text-zinc-900 dark:text-zinc-100":"text-zinc-500 dark:text-zinc-400"),children:[a.lastMessageSender&&a.isGroup&&(0,t.jsxs)("span",{className:"mr-1 font-medium",children:[a.lastMessageSender,":"]}),a.currentUserSent&&(0,t.jsx)("span",{className:"mr-1",children:"You:"}),a.lastMessage||"Start a conversation"]})}),e[29]=a.currentUserSent,e[30]=a.isGroup,e[31]=a.lastMessage,e[32]=a.lastMessageSender,e[33]=a.unread,e[34]=j,e[35]=u):u=e[35];let v;e[36]!==a.unread?(v=a.unread>0&&(0,t.jsx)("span",{className:"flex h-5 w-auto min-w-[20px] items-center justify-center rounded-full bg-violet-600 px-1.5 text-[10px] font-bold text-white shadow-sm ring-1 ring-violet-500 dark:bg-violet-500",children:a.unread}),e[36]=a.unread,e[37]=v):v=e[37];let n;e[38]!==u||e[39]!==v?(n=(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[u,v]}),e[38]=u,e[39]=v,e[40]=n):n=e[40];let h;e[41]!==m||e[42]!==n?(h=(0,t.jsxs)("div",{className:"flex min-w-0 flex-1 flex-col justify-center gap-0.5",children:[m,n]}),e[41]=m,e[42]=n,e[43]=h):h=e[43];let c;e[44]!==i?(c=i&&(0,t.jsx)("div",{className:"absolute left-0 top-1/2 h-8 w-1 -translate-y-1/2 rounded-r-full bg-violet-600 dark:bg-violet-500"}),e[44]=i,e[45]=c):c=e[45];let p;return e[46]!==d||e[47]!==h||e[48]!==c||e[49]!==l||e[50]!==x?(p=(0,t.jsxs)("div",{onClick:d,className:l,children:[x,h,c]}),e[46]=d,e[47]=h,e[48]=c,e[49]=l,e[50]=x,e[51]=p):p=e[51],p}),gt=({conversations:s,onSelect:e,selectedId:a,searchQuery:i,onSearchChange:N,onlineUsers:j=new Set,typingStatus:d={}})=>{const z=Se(),[r,f]=(0,T.useState)("all"),$=(0,T.useMemo)(()=>{let l=s;return r==="unread"&&(l=l.filter(y=>y.unread>0)),r==="groups"&&(l=l.filter(y=>y.isGroup)),l},[s,r]);return(0,t.jsxs)("div",{className:"flex h-full w-full flex-col bg-white dark:bg-[#09090b] overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-4 border-b border-zinc-100 p-4 dark:border-zinc-800/50 shrink-0",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-xl font-bold tracking-tight text-zinc-900 dark:text-white",children:"Messages"}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(ne,{variant:"ghost",size:"icon",className:"rounded-full text-zinc-500 dark:text-zinc-400 hover:bg-zinc-100 dark:hover:bg-zinc-800",onClick:()=>z("/create-group"),title:"New Group",children:(0,t.jsx)(ye,{size:20})}),(0,t.jsxs)(ct,{children:[(0,t.jsx)(mt,{asChild:!0,children:(0,t.jsx)(ne,{variant:"ghost",size:"icon",className:"rounded-full text-zinc-500 dark:text-zinc-400 hover:bg-zinc-100 dark:hover:bg-zinc-800",children:(0,t.jsx)(Fe,{size:20})})}),(0,t.jsxs)(rt,{align:"end",className:"w-48",children:[(0,t.jsxs)(fe,{onClick:()=>f("all"),children:[(0,t.jsx)("span",{children:"All Chats"}),r==="all"&&(0,t.jsx)("span",{className:"ml-auto text-violet-500",children:"✓"})]}),(0,t.jsxs)(fe,{onClick:()=>f("unread"),children:[(0,t.jsx)("span",{children:"Unread"}),r==="unread"&&(0,t.jsx)("span",{className:"ml-auto text-violet-500",children:"✓"})]}),(0,t.jsxs)(fe,{onClick:()=>f("groups"),children:[(0,t.jsx)("span",{children:"Groups"}),r==="groups"&&(0,t.jsx)("span",{className:"ml-auto text-violet-500",children:"✓"})]})]})]})]})]}),(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsx)(Le,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-zinc-400 transition-colors group-focus-within:text-violet-500"}),(0,t.jsx)("input",{type:"text",placeholder:"Search messages...",value:i,onChange:l=>N(l.target.value),className:"w-full rounded-2xl border-none bg-zinc-100 py-2.5 pl-9 pr-4 text-sm font-medium text-zinc-900 outline-none placeholder:text-zinc-500 transition-all focus:ring-2 focus:ring-violet-500/20 dark:bg-zinc-900 dark:text-white dark:focus:bg-zinc-800"})]})]}),(0,t.jsx)(Me,{className:"flex-1",children:(0,t.jsxs)("div",{className:"flex flex-col gap-1 p-2",children:[s.length===0&&!i&&(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center gap-2 py-12 text-center",children:[(0,t.jsx)("div",{className:"rounded-full bg-zinc-100 p-4 dark:bg-zinc-800",children:(0,t.jsx)(ye,{size:24,className:"text-zinc-400"})}),(0,t.jsx)("h3",{className:"text-sm font-semibold text-zinc-900 dark:text-white",children:"No messages yet"}),(0,t.jsx)("p",{className:"max-w-[180px] text-xs text-zinc-500",children:"Start a conversation with a friend or create a group."}),(0,t.jsx)(ne,{size:"sm",className:"mt-2 rounded-full bg-violet-600 hover:bg-violet-700 text-white",onClick:()=>z("/explore"),children:"Start New Chat"})]}),s.length>0&&$.length===0&&(0,t.jsx)("div",{className:"py-8 text-center text-sm text-zinc-500",children:"No messages found"}),$.map(l=>(0,t.jsx)(pt,{conv:l,isSelected:a===l.id,isOnline:!l.isGroup&&l.user&&j.has(l.user.id),isTyping:!!d[l.id],onClick:()=>e(l)},l.id))]})})]})},jt=gt,bt=ce(),vt=s=>{const e=(0,bt.c)(68),{onSendMessage:a,onTyping:i,replyingTo:N,setReplyingTo:j,editingMessage:d,setEditingMessage:z}=s,[r,f]=(0,T.useState)("");let $;e[0]===Symbol.for("react.memo_cache_sentinel")?($=[],e[0]=$):$=e[0];const[l,y]=(0,T.useState)($),[k,D]=(0,T.useState)(!1),S=(0,T.useRef)(null),b=(0,T.useRef)(null),x=ft(r);let R,M;e[1]!==d||e[2]!==j||e[3]!==x?(R=()=>{d&&(f(d.text),j(null),x.current&&x.current.focus())},M=[d,j,x],e[1]=d,e[2]=j,e[3]=x,e[4]=R,e[5]=M):(R=e[4],M=e[5]),T.useEffect(R,M);const{isRecording:w,recordingTime:o,startRecording:m,stopRecording:u,cancelRecording:v,audioBlob:n,audioUrl:h,clearAudio:c}=lt(),[p,_]=(0,T.useState)(!1),g=(0,T.useRef)(null),C=yt,ee=(0,T.useRef)(0);let H;e[6]!==i?(H=A=>{const I=A.target.value;if(f(I),i){const B=Date.now();B-ee.current>3e3&&(i(!0),ee.current=B),b.current&&clearTimeout(b.current),b.current=setTimeout(()=>{i(!1),ee.current=0},2e3)}},e[6]=i,e[7]=H):H=e[7];const ie=H;let K;e[8]!==l||e[9]!==n||e[10]!==c||e[11]!==a||e[12]!==i||e[13]!==o||e[14]!==j||e[15]!==r||e[16]!==x?(K=A=>{if(A&&A.preventDefault(),n){a("",[],n,o),c();return}!r.trim()&&l.length===0||(i&&(b.current&&clearTimeout(b.current),i(!1)),a(r,l),f(""),y([]),j(null),setTimeout(()=>{x.current?.focus()},10))},e[8]=l,e[9]=n,e[10]=c,e[11]=a,e[12]=i,e[13]=o,e[14]=j,e[15]=r,e[16]=x,e[17]=K):K=e[17];const G=K;let ae;e[18]!==h||e[19]!==p?(ae=()=>{h&&(g.current||(g.current=new Audio(h),g.current.onended=()=>_(!1)),p?g.current.pause():g.current.play(),_(!p))},e[18]=h,e[19]=p,e[20]=ae):ae=e[20];const le=ae;let Q,X;e[21]!==n?(Q=()=>{!n&&g.current&&(g.current.pause(),g.current=null,_(!1))},X=[n],e[21]=n,e[22]=Q,e[23]=X):(Q=e[22],X=e[23]),T.useEffect(Q,X);let Y;e[24]===Symbol.for("react.memo_cache_sentinel")?(Y=A=>{if(!A.target.files)return;const I=Array.from(A.target.files);y(B=>[...B,...I])},e[24]=Y):Y=e[24];const me=Y;let te;e[25]!==l?(te=l.length>0&&(0,t.jsx)(re.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},exit:{y:20,opacity:0},className:"flex gap-2 overflow-x-auto mx-auto mb-2 px-2 py-2 bg-white dark:bg-[#212121] rounded-2xl shadow-lg border border-zinc-100 dark:border-zinc-800 max-w-3xl no-scrollbar",children:l.map((A,I)=>(0,t.jsxs)("div",{className:"relative size-20 shrink-0 rounded-xl overflow-hidden border border-zinc-200 dark:border-zinc-700 group",children:[A.type.startsWith("video/")?(0,t.jsx)("div",{className:"size-full bg-black flex items-center justify-center",children:(0,t.jsx)(he,{size:20,className:"text-white opacity-50"})}):(0,t.jsx)("img",{src:URL.createObjectURL(A),className:"size-full object-cover"}),(0,t.jsx)("button",{type:"button",onClick:()=>y(B=>B.filter((oe,P)=>P!==I)),className:"absolute top-1 right-1 size-6 flex items-center justify-center rounded-full bg-black/50 text-white hover:bg-black/70 transition-colors",children:(0,t.jsx)(ve,{size:14})})]},I))}),e[25]=l,e[26]=te):te=e[26];let U;e[27]!==d||e[28]!==N||e[29]!==z||e[30]!==j?(U=(N||d)&&(0,t.jsxs)(re.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},exit:{y:20,opacity:0},className:"flex items-center justify-between mx-auto mb-1.5 px-4 py-2 bg-white dark:bg-[#212121] rounded-2xl shadow-lg border border-zinc-100 dark:border-zinc-800 max-w-3xl",children:[(0,t.jsxs)("div",{className:"text-sm flex items-center gap-3 min-w-0",children:[(0,t.jsx)("div",{className:"size-8 flex items-center justify-center rounded-full bg-violet-500/10 text-violet-500",children:d?(0,t.jsx)(Oe,{size:16}):(0,t.jsx)(_e,{size:16})}),(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("span",{className:"text-[13px] font-bold text-violet-500 block leading-tight",children:d?"Edit Message":`Reply to ${N.sender==="me"?"yourself":N.senderName}`}),(0,t.jsx)("p",{className:"truncate text-xs text-zinc-500 dark:text-[#aaaaaa]",children:d?d.text:N.text})]})]}),(0,t.jsx)("button",{onClick:()=>{j(null),z(null),d&&f("")},className:"p-1 rounded-full hover:bg-zinc-100 dark:hover:bg-white/10",children:(0,t.jsx)(ve,{size:18,className:"text-zinc-400"})})]}),e[27]=d,e[28]=N,e[29]=z,e[30]=j,e[31]=U):U=e[31];let F;e[32]!==te||e[33]!==U?(F=(0,t.jsxs)(Te,{children:[te,U]}),e[32]=te,e[33]=U,e[34]=F):F=e[34];const se=(w||n)&&"bg-zinc-900 ring-red-500/50";let L;e[35]!==se?(L=E("flex-1 flex items-center gap-1 rounded-[24px] px-1.5 py-1.5 transition-all bg-white dark:bg-[#212121] shadow-md border-0 ring-1 ring-zinc-200 dark:ring-zinc-800 focus-within:ring-violet-500/30",se),e[35]=se,e[36]=L):L=e[36];let O;e[37]!==n||e[38]!==v||e[39]!==c||e[40]!==G||e[41]!==ie||e[42]!==k||e[43]!==p||e[44]!==w||e[45]!==o||e[46]!==r||e[47]!==x||e[48]!==le?(O=w?(0,t.jsxs)("div",{className:"flex-1 flex items-center gap-4 px-3 py-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(re.div,{animate:{scale:[1,1.2,1]},transition:{repeat:1/0},className:"size-2 rounded-full bg-red-500"}),(0,t.jsx)("span",{className:"text-[15px] font-medium tabular-nums text-red-500",children:C(o)})]}),(0,t.jsx)("div",{className:"flex-1 text-center text-sm text-zinc-500",children:"Recording..."}),(0,t.jsx)("button",{type:"button",onClick:v,className:"p-2 text-zinc-400 hover:text-red-500",children:(0,t.jsx)(Ne,{size:20})})]}):n?(0,t.jsxs)("div",{className:"flex-1 flex items-center gap-3 px-3 py-1",children:[(0,t.jsx)("button",{type:"button",onClick:le,className:"size-10 flex items-center justify-center rounded-full bg-[#8774e1] text-white",children:p?(0,t.jsx)(ze,{size:16,fill:"currentColor"}):(0,t.jsx)(he,{size:20,fill:"currentColor",className:"ml-0.5"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"h-1 bg-zinc-800 rounded-full overflow-hidden",children:(0,t.jsx)(re.div,{initial:{width:0},animate:{width:p?"100%":"0%"},transition:{duration:o,ease:"linear"},className:"h-full bg-[#8774e1]"})}),(0,t.jsxs)("div",{className:"flex justify-between mt-1",children:[(0,t.jsx)("span",{className:"text-[10px] text-zinc-500",children:"Voice message"}),(0,t.jsx)("span",{className:"text-[10px] text-zinc-500 tabular-nums",children:C(o)})]})]}),(0,t.jsx)("button",{type:"button",onClick:c,className:"p-2 text-zinc-400 hover:text-red-500",children:(0,t.jsx)(Ne,{size:20})})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(at,{open:k,onOpenChange:D,children:[(0,t.jsx)(xt,{asChild:!0,children:(0,t.jsx)("button",{type:"button",className:"p-2 text-zinc-400 hover:text-violet-500 dark:text-[#aaaaaa] dark:hover:text-[#8774e1] transition-colors",children:(0,t.jsx)(Ue,{size:24})})}),(0,t.jsx)(ot,{className:"p-0 border-none bg-transparent",side:"top",align:"start",children:(0,t.jsx)(dt,{onEmojiSelect:A=>f(I=>I+A.emoji)})})]}),(0,t.jsx)("textarea",{ref:x,value:r,onChange:ie,onKeyDown:A=>{A.key==="Enter"&&!A.shiftKey&&(A.preventDefault(),G())},placeholder:"Message",className:"flex-1 bg-transparent border-none outline-none text-[16px] resize-none py-2 px-1 text-zinc-900 dark:text-white placeholder:text-zinc-500 dark:placeholder:text-[#aaaaaa] min-h-[40px] max-h-[200px]",rows:1}),(0,t.jsx)("button",{type:"button",onClick:()=>S.current?.click(),className:"p-2 text-zinc-400 hover:text-violet-500 dark:text-[#aaaaaa] dark:hover:text-[#8774e1] transition-colors",children:(0,t.jsx)(Xe,{size:24,className:"-rotate-45"})})]}),e[37]=n,e[38]=v,e[39]=c,e[40]=G,e[41]=ie,e[42]=k,e[43]=p,e[44]=w,e[45]=o,e[46]=r,e[47]=x,e[48]=le,e[49]=O):O=e[49];let V;e[50]!==L||e[51]!==O?(V=(0,t.jsx)("div",{className:L,children:O}),e[50]=L,e[51]=O,e[52]=V):V=e[52];let q;e[53]!==l.length||e[54]!==n||e[55]!==G||e[56]!==w||e[57]!==m||e[58]!==u||e[59]!==r?(q=r.trim()||l.length>0||n?(0,t.jsx)("button",{onClick:G,className:"size-[50px] shrink-0 flex items-center justify-center rounded-full bg-[#8774e1] text-white shadow-md hover:scale-105 transition-transform",children:(0,t.jsx)(st,{size:24})}):w?(0,t.jsx)("button",{onClick:u,className:"size-[50px] shrink-0 flex items-center justify-center rounded-full bg-red-500 text-white shadow-md hover:scale-105 transition-transform",children:(0,t.jsx)(ze,{size:20,fill:"currentColor"})}):(0,t.jsx)("button",{onClick:m,className:"size-[50px] shrink-0 flex items-center justify-center rounded-full bg-zinc-200 dark:bg-[#212121] text-zinc-500 dark:text-[#aaaaaa] shadow-md hover:scale-105 transition-transform",children:(0,t.jsx)(qe,{size:24})}),e[53]=l.length,e[54]=n,e[55]=G,e[56]=w,e[57]=m,e[58]=u,e[59]=r,e[60]=q):q=e[60];let W;e[61]!==V||e[62]!==q?(W=(0,t.jsxs)("div",{className:"flex items-end gap-2 max-w-3xl mx-auto",children:[V,q]}),e[61]=V,e[62]=q,e[63]=W):W=e[63];let J;e[64]===Symbol.for("react.memo_cache_sentinel")?(J=(0,t.jsx)("input",{type:"file",ref:S,onChange:me,className:"hidden",multiple:!0,accept:"image/*,video/*"}),e[64]=J):J=e[64];let Z;return e[65]!==F||e[66]!==W?(Z=(0,t.jsxs)("div",{className:"shrink-0 p-2 md:p-3 relative z-20",children:[F,W,J]}),e[65]=F,e[66]=W,e[67]=Z):Z=e[67],Z},zt=vt;function yt(s){return`${Math.floor(s/60)}:${(s%60).toString().padStart(2,"0")}`}var Nt=ce(),wt=s=>{const e=(0,Nt.c)(24),{url:a,duration:i,isMe:N}=s,j=(0,T.useRef)(null),d=(0,T.useRef)(null),[z,r]=(0,T.useState)(!1),[f,$]=(0,T.useState)(!1),[l,y]=(0,T.useState)(0),[k,D]=(0,T.useState)(i||0);let S,b;e[0]!==i||e[1]!==N||e[2]!==a?(S=()=>{if(!j.current)return;const C=Ye.create({container:j.current,waveColor:N?"rgba(255, 255, 255, 0.35)":"rgba(135, 116, 225, 0.25)",progressColor:N?"#ffffff":"#8774e1",cursorColor:"transparent",barWidth:2,barGap:3,barRadius:2,height:28,normalize:!0,url:a});return d.current=C,C.on("ready",()=>{$(!0),i||D(C.getDuration())}),C.on("play",()=>r(!0)),C.on("pause",()=>r(!1)),C.on("finish",()=>{r(!1),C.setTime(0),y(0)}),C.on("audioprocess",()=>y(C.getCurrentTime())),C.on("interaction",()=>y(C.getCurrentTime())),()=>C.destroy()},b=[a,N,i],e[0]=i,e[1]=N,e[2]=a,e[3]=S,e[4]=b):(S=e[3],b=e[4]),(0,T.useEffect)(S,b);let x;e[5]===Symbol.for("react.memo_cache_sentinel")?(x=C=>{C.stopPropagation(),d.current?.playPause()},e[5]=x):x=e[5];const R=x,M=St,w=!f,o=N?"bg-white/20 text-white":"bg-[#8774e1] text-white";let m;e[6]!==o?(m=E("size-10 flex shrink-0 items-center justify-center rounded-full transition-all active:scale-90",o),e[6]=o,e[7]=m):m=e[7];let u;e[8]!==z||e[9]!==f?(u=f?z?(0,t.jsx)(He,{size:20,fill:"currentColor"}):(0,t.jsx)(he,{size:20,fill:"currentColor",className:"ml-0.5"}):(0,t.jsx)("span",{className:"animate-pulse font-bold",children:"..."}),e[8]=z,e[9]=f,e[10]=u):u=e[10];let v;e[11]!==w||e[12]!==m||e[13]!==u?(v=(0,t.jsx)("button",{type:"button",onClick:R,disabled:w,className:m,children:u}),e[11]=w,e[12]=m,e[13]=u,e[14]=v):v=e[14];let n;e[15]===Symbol.for("react.memo_cache_sentinel")?(n=(0,t.jsx)("div",{className:"h-7 w-full overflow-hidden",children:(0,t.jsx)("div",{ref:j,className:"w-full cursor-pointer"})}),e[15]=n):n=e[15];const h=N?"text-white/80":"text-[#8774e1]";let c;e[16]!==h?(c=E("text-[11px] font-medium mt-0.5 select-none tabular-nums",h),e[16]=h,e[17]=c):c=e[17];const p=z||l>0?M(l):M(k);let _;e[18]!==c||e[19]!==p?(_=(0,t.jsxs)("div",{className:"flex-1 flex flex-col justify-center min-w-0",children:[n,(0,t.jsx)("div",{className:c,children:p})]}),e[18]=c,e[19]=p,e[20]=_):_=e[20];let g;return e[21]!==_||e[22]!==v?(g=(0,t.jsxs)("div",{className:"flex items-center gap-3 py-1 min-w-[220px] md:min-w-[280px]",children:[v,_]}),e[21]=_,e[22]=v,e[23]=g):g=e[23],g},kt=wt;function St(s){return`${Math.floor(s/60)}:${Math.floor(s%60).toString().padStart(2,"0")}`}var _t=ce(),Ct=s=>{const e=(0,_t.c)(98),{message:a,isMe:i,isLastInGroup:N,showAvatar:j,onReply:d,onEdit:z,onDelete:r}=s,f=$e(0);let $,l;e[0]===Symbol.for("react.memo_cache_sentinel")?($=[0,-50],l=[0,1],e[0]=$,e[1]=l):($=e[0],l=e[1]);const y=be(f,$,l);let k,D;e[2]===Symbol.for("react.memo_cache_sentinel")?(k=[0,-50],D=[.5,1],e[2]=k,e[3]=D):(k=e[2],D=e[3]);const S=be(f,k,D);let b;e[4]!==a||e[5]!==d?(b=(P,ue)=>{ue.offset.x<-50&&(d(a),window.navigator.vibrate&&window.navigator.vibrate(10))},e[4]=a,e[5]=d,e[6]=b):b=e[6];const x=b;let R;e[7]!==a.updatedAt?(R=new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"numeric",hour12:!0}).format(new Date(a.updatedAt||Date.now())),e[7]=a.updatedAt,e[8]=R):R=e[8];const M=R,w=i?"justify-end":"justify-start",o=N?"mb-4":"mb-1";let m;e[9]!==w||e[10]!==o?(m=E("group relative flex w-full items-end gap-2 mb-1",w,o),e[9]=w,e[10]=o,e[11]=m):m=e[11];let u,v,n;e[12]===Symbol.for("react.memo_cache_sentinel")?(u={opacity:0,y:10},v={opacity:1,y:0},n={duration:.2},e[12]=u,e[13]=v,e[14]=n):(u=e[12],v=e[13],n=e[14]);let h;e[15]!==y||e[16]!==S?(h={opacity:y,scale:S,right:10},e[15]=y,e[16]=S,e[17]=h):h=e[17];let c;e[18]===Symbol.for("react.memo_cache_sentinel")?(c=(0,t.jsx)(_e,{size:16}),e[18]=c):c=e[18];let p;e[19]!==h?(p=(0,t.jsx)(re.div,{style:h,className:"absolute top-1/2 -translate-y-1/2 flex items-center justify-center size-8 rounded-full bg-violet-500/20 text-violet-600 dark:text-violet-400 z-0 pointer-events-none",children:c}),e[19]=h,e[20]=p):p=e[20];let _;e[21]===Symbol.for("react.memo_cache_sentinel")?(_={left:-50,right:0},e[21]=_):_=e[21];let g;e[22]!==f?(g={x:f},e[22]=f,e[23]=g):g=e[23];const C=i?"flex-row-reverse":"flex-row";let ee;e[24]!==C?(ee=E("flex max-w-[75%] items-end gap-2 relative z-10",C),e[24]=C,e[25]=ee):ee=e[25];let H;e[26]!==i||e[27]!==a.senderAvatar||e[28]!==a.senderName||e[29]!==j?(H=!i&&(0,t.jsx)("div",{className:"w-8 flex-shrink-0",children:j?(0,t.jsx)("img",{src:a.senderAvatar||"/placeholder-avatar.png",alt:a.senderName,className:"size-8 rounded-full object-cover bg-zinc-200 dark:bg-zinc-800"}):(0,t.jsx)("div",{className:"w-8"})}),e[26]=i,e[27]=a.senderAvatar,e[28]=a.senderName,e[29]=j,e[30]=H):H=e[30];const ie=i?"items-end":"items-start";let K;e[31]!==ie?(K=E("flex flex-col min-w-0",ie),e[31]=ie,e[32]=K):K=e[32];let G;e[33]!==i||e[34]!==a.replyTo?(G=a.replyTo&&(0,t.jsxs)("div",{className:E("mb-1 flex items-center gap-2 rounded-lg bg-zinc-100 px-3 py-2 text-xs text-zinc-500 dark:bg-zinc-800 dark:text-zinc-400 max-w-full truncate opacity-80 hover:opacity-100 cursor-pointer transition-opacity",i?"self-end":"self-start"),children:[(0,t.jsx)("div",{className:"w-0.5 h-full bg-zinc-300 dark:bg-zinc-600 rounded-full"}),(0,t.jsxs)("span",{className:"font-semibold",children:[a.replyTo.senderName,":"]}),(0,t.jsx)("span",{className:"truncate max-w-[150px]",children:a.replyTo.text})]}),e[33]=i,e[34]=a.replyTo,e[35]=G):G=e[35];const ae=i?"rounded-2xl rounded-tr-sm bg-violet-600 text-white dark:bg-violet-600":"rounded-2xl rounded-tl-sm bg-zinc-100 text-zinc-900 dark:bg-zinc-800 dark:text-zinc-100",le=a.isOptimistic&&"opacity-70";let Q;e[36]!==ae||e[37]!==le?(Q=E("relative px-4 py-2 text-[15px] leading-relaxed break-words",ae,le),e[36]=ae,e[37]=le,e[38]=Q):Q=e[38];let X;e[39]!==i||e[40]!==a.media||e[41]!==a.text?(X=a.media&&a.media.length>0&&(0,t.jsx)("div",{className:E("mb-2 -mx-2 -mt-2 overflow-hidden rounded-xl",a.text?"mb-2":"-mb-2"),children:a.media.map((P,ue)=>(0,t.jsx)("div",{className:"relative",children:P.type==="video"||typeof P.url=="string"&&P.url.endsWith(".mp4")?(0,t.jsx)(ut,{src:P.url}):P.type==="audio"||P.type==="voice"||typeof P.url=="string"&&(P.url.endsWith(".webm")||P.url.endsWith(".mp3"))?(0,t.jsx)("div",{className:"px-2 py-1",children:(0,t.jsx)(kt,{url:P.url,isMe:i,duration:P.duration})}):P.type==="image"||typeof P.url=="string"&&P.url.match(/\.(jpeg|jpg|gif|png|webp)$/i)?(0,t.jsx)("img",{src:P.url,className:"w-full h-auto object-cover max-h-[300px]",alt:"Attachment"}):(0,t.jsxs)("a",{href:P.url,target:"_blank",rel:"noopener noreferrer",className:E("flex items-center gap-3 p-3 rounded-lg border hover:bg-black/5 transition-colors",i?"border-white/20 bg-white/10":"border-zinc-200 bg-white dark:border-zinc-700 dark:bg-zinc-900"),children:[(0,t.jsx)("div",{className:E("p-2 rounded-full",i?"bg-white/20":"bg-zinc-100 dark:bg-zinc-800"),children:(0,t.jsx)(Ge,{size:20})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-sm font-medium truncate",children:P.name||"Attachment"}),(0,t.jsx)("p",{className:"text-xs opacity-70",children:P.size?`${(P.size/1024).toFixed(0)} KB`:"File"})]}),(0,t.jsx)(Ie,{size:16,className:"opacity-70"})]})},ue))}),e[39]=i,e[40]=a.media,e[41]=a.text,e[42]=X):X=e[42];let Y;e[43]!==a.media||e[44]!==a.type?(Y=a.type==="voice"&&(!a.media||a.media.length===0)&&(0,t.jsx)("div",{className:"py-1",children:(0,t.jsx)("p",{className:"text-xs opacity-70 italic",children:"Voice message unavailable"})}),e[43]=a.media,e[44]=a.type,e[45]=Y):Y=e[45];const me=a.text,te=i?"text-white/80":"text-zinc-500 dark:text-zinc-400";let U;e[46]!==te?(U=E("mt-1 flex items-center justify-end gap-1 text-[10px] opacity-70",te),e[46]=te,e[47]=U):U=e[47];let F;e[48]!==M?(F=(0,t.jsx)("span",{children:M}),e[48]=M,e[49]=F):F=e[49];let se;e[50]!==i||e[51]!==a.isRead?(se=i&&(0,t.jsx)("span",{children:a.isRead?(0,t.jsx)(Qe,{size:12}):(0,t.jsx)(Be,{size:12})}),e[50]=i,e[51]=a.isRead,e[52]=se):se=e[52];let L;e[53]!==U||e[54]!==F||e[55]!==se?(L=(0,t.jsxs)("div",{className:U,children:[F,se]}),e[53]=U,e[54]=F,e[55]=se,e[56]=L):L=e[56];let O;e[57]!==a.text||e[58]!==Q||e[59]!==X||e[60]!==Y||e[61]!==L?(O=(0,t.jsx)(Je,{children:(0,t.jsxs)("div",{className:Q,children:[X,Y,me,L]})}),e[57]=a.text,e[58]=Q,e[59]=X,e[60]=Y,e[61]=L,e[62]=O):O=e[62];let V;e[63]!==a||e[64]!==d?(V=(0,t.jsx)(de,{onClick:()=>d(a),children:"Reply"}),e[63]=a,e[64]=d,e[65]=V):V=e[65];let q;e[66]!==a.text?(q=a.text&&(0,t.jsx)(de,{onClick:()=>navigator.clipboard.writeText(a.text),children:"Copy"}),e[66]=a.text,e[67]=q):q=e[67];let W;e[68]!==i||e[69]!==a||e[70]!==r||e[71]!==z?(W=i&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(nt,{}),z&&a.type==="text"&&(0,t.jsx)(de,{onClick:()=>z(a),children:"Edit"}),r&&(0,t.jsx)(de,{className:"text-red-500 focus:text-red-500",onClick:()=>r(a),children:"Delete"})]}),e[68]=i,e[69]=a,e[70]=r,e[71]=z,e[72]=W):W=e[72];let J;e[73]!==V||e[74]!==q||e[75]!==W?(J=(0,t.jsxs)(Ze,{className:"w-48",children:[V,q,W]}),e[73]=V,e[74]=q,e[75]=W,e[76]=J):J=e[76];let Z;e[77]!==O||e[78]!==J?(Z=(0,t.jsxs)(et,{children:[O,J]}),e[77]=O,e[78]=J,e[79]=Z):Z=e[79];let A;e[80]!==i||e[81]!==a.reactions?(A=a.reactions&&a.reactions.length>0&&(0,t.jsx)("div",{className:E("mt-1 flex flex-wrap gap-1",i?"justify-end":"justify-start"),children:a.reactions.map(Tt)}),e[80]=i,e[81]=a.reactions,e[82]=A):A=e[82];let I;e[83]!==K||e[84]!==G||e[85]!==Z||e[86]!==A?(I=(0,t.jsxs)("div",{className:K,children:[G,Z,A]}),e[83]=K,e[84]=G,e[85]=Z,e[86]=A,e[87]=I):I=e[87];let B;e[88]!==x||e[89]!==g||e[90]!==ee||e[91]!==H||e[92]!==I?(B=(0,t.jsxs)(re.div,{drag:"x",dragConstraints:_,dragElastic:.1,onDragEnd:x,style:g,className:ee,children:[H,I]}),e[88]=x,e[89]=g,e[90]=ee,e[91]=H,e[92]=I,e[93]=B):B=e[93];let oe;return e[94]!==p||e[95]!==B||e[96]!==m?(oe=(0,t.jsxs)(re.div,{className:m,initial:u,animate:v,transition:n,children:[p,B]}),e[94]=p,e[95]=B,e[96]=m,e[97]=oe):oe=e[97],oe},Mt=T.memo(Ct);function Tt(s,e){return(0,t.jsx)("span",{className:"px-1.5 py-0.5 text-xs bg-zinc-100 dark:bg-zinc-800 rounded-full border border-zinc-200 dark:border-zinc-700",children:s.emoji},e)}var Rt=({conversation:s,messages:e,currentUser:a,onBack:i,onSendMessage:N,onEditMessage:j,onDeleteMessage:d,onToggleReaction:z,onTyping:r,isLoading:f,isTyping:$,isOnline:l})=>{const y=Se(),k=(0,T.useRef)(null),[D,S]=(0,T.useState)(null),[b,x]=(0,T.useState)(null);(0,T.useEffect)(()=>{k.current&&(k.current.scrollTop=k.current.scrollHeight)},[e.length,$]);const R=s.isGroup?s.name:s.user?.name,M=s.isGroup?s.avatar:s.user?.avatar,w=async(o,m,u,v)=>{if(b){j?.(b.id,o),x(null);return}let n=[],h="text";try{if(m.length>0){const c=await Promise.all(m.map(p=>we(p)));n=c,h=c[0].type==="video"?"video":"image"}if(u){const c=await we(new File([u],`voice-${Date.now()}.webm`,{type:"audio/webm"}));n.push(c),h="voice"}}catch(c){console.error("Failed to upload media:",c);return}N(s.id,o,h,n,D?.id),S(null)};return(0,t.jsxs)("div",{className:"flex h-full w-full flex-col bg-white dark:bg-[#09090b]",children:[(0,t.jsxs)("div",{className:"flex shrink-0 items-center justify-between border-b border-zinc-100 bg-white/80 px-4 py-3 backdrop-blur-md dark:border-zinc-800 dark:bg-[#09090b]/80",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(ne,{variant:"ghost",size:"icon",className:"md:hidden -ml-2",onClick:i,children:(0,t.jsx)(Ve,{size:20})}),(0,t.jsxs)("div",{className:"relative cursor-pointer",onClick:()=>s.user&&y(`/u/${s.user.handle}`),children:[(0,t.jsxs)(je,{className:"h-10 w-10 border border-zinc-200 dark:border-zinc-800",children:[(0,t.jsx)(ge,{src:M}),(0,t.jsx)(pe,{children:R?.[0]})]}),l&&!s.isGroup&&(0,t.jsx)("span",{className:"absolute bottom-0 right-0 h-3 w-3 rounded-full border-[2px] border-white bg-emerald-500 dark:border-zinc-950"})]}),(0,t.jsxs)("div",{className:"flex flex-col cursor-pointer",onClick:()=>s.user&&y(`/u/${s.user.handle}`),children:[(0,t.jsx)("h3",{className:"text-sm font-bold text-zinc-900 dark:text-zinc-100 leading-none",children:R}),(0,t.jsx)("span",{className:"text-xs text-zinc-500 dark:text-zinc-400 mt-0.5",children:s.isGroup?`${s.members?.length||0} members`:l||s.user?.lastSeen&&new Date().getTime()-new Date(s.user.lastSeen).getTime()<6e4?"Active now":s.user?.lastSeen?`Last seen ${Ce(s.user.lastSeen)}`:"Offline"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(ne,{variant:"ghost",size:"icon",className:"text-zinc-500 dark:text-zinc-400",children:(0,t.jsx)(Ke,{size:20})}),(0,t.jsx)(ne,{variant:"ghost",size:"icon",className:"text-zinc-500 dark:text-zinc-400",children:(0,t.jsx)(De,{size:20})}),(0,t.jsx)(ne,{variant:"ghost",size:"icon",className:"text-zinc-500 dark:text-zinc-400",children:(0,t.jsx)(Pe,{size:20})})]})]}),(0,t.jsx)(Me,{className:"flex-1 bg-zinc-50/50 dark:bg-[#09090b]",children:(0,t.jsxs)("div",{ref:k,className:"absolute inset-0 overflow-y-auto p-4 flex flex-col gap-1",style:{overscrollBehavior:"contain"},children:[e.length===0&&!f&&(0,t.jsxs)("div",{className:"flex h-full flex-col items-center justify-center gap-4 text-center opacity-50",children:[(0,t.jsxs)(je,{className:"h-24 w-24 grayscale opacity-50",children:[(0,t.jsx)(ge,{src:M}),(0,t.jsx)(pe,{children:R?.[0]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Say hello!"}),(0,t.jsxs)("p",{className:"text-sm",children:["Start the conversation with ",R.split(" ")[0],"."]})]})]}),f&&e.length===0&&(0,t.jsx)("div",{className:"py-10 text-center text-sm text-zinc-500",children:"Loading messages..."}),e.map((o,m)=>{const u=o.sender==="me"||o.sender_id===a.id,v=m===e.length-1||e[m+1]?.sender!==o.sender;return(0,t.jsx)(Mt,{message:o,isMe:u,isLastInGroup:v,showAvatar:!u&&v,onReply:S,onEdit:u?()=>x(o):void 0,onDelete:u?d:void 0,onReaction:z},o.id||m)}),$&&(0,t.jsx)("div",{className:"flex items-end gap-2 mb-2 ml-10",children:(0,t.jsx)("div",{className:"rounded-2xl bg-zinc-100 px-4 py-3 dark:bg-zinc-800 rounded-tl-sm",children:(0,t.jsx)(tt,{})})}),(0,t.jsx)("div",{className:"h-4"})," "]})}),(0,t.jsx)("div",{className:"shrink-0 bg-white p-3 dark:bg-[#09090b]",children:(0,t.jsx)(zt,{onSendMessage:w,onTyping:r,replyingTo:D,setReplyingTo:S,editingMessage:b,setEditingMessage:x})})]})},$t=Rt,At=ce();function Dt(){const s=(0,At.c)(1);let e;return s[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("div",{className:"flex flex-col",children:[1,2,3,4,5,6].map(Pt)}),s[0]=e):e=s[0],e}function Pt(s){return(0,t.jsxs)("div",{className:"flex items-center gap-3 p-4 border-b border-zinc-50 dark:border-zinc-900",children:[(0,t.jsx)(xe,{className:"h-12 w-12 rounded-full"}),(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)(xe,{className:"h-4 w-24 rounded"}),(0,t.jsx)(xe,{className:"h-3 w-12 rounded"})]}),(0,t.jsx)(xe,{className:"h-3 w-32 rounded"})]})]},s)}var Et=ce(),It=()=>{const s=(0,Et.c)(33),{id:e,currentUser:a,onlineUsers:i,msgSearchQuery:N,setMsgSearchQuery:j,userSearchResults:d,filteredConversations:z,selectedConversation:r,localMessages:f,isConvLoading:$,isMsgLoading:l,currentIsTyping:y,otherUserIsOnline:k,handleStartConversation:D,handleSelectConversation:S,sendMessage:b,editMessage:x,onDeleteMessage:R,onToggleReaction:M,sendTypingStatus:w,typingStatus:o,navigate:m}=it();if(!a){let g;s[0]===Symbol.for("react.memo_cache_sentinel")?(g=(0,t.jsx)("div",{className:"rounded-3xl bg-zinc-50 p-6 dark:bg-zinc-900",children:(0,t.jsx)(Ee,{size:48,className:"text-zinc-300 dark:text-zinc-600"})}),s[0]=g):g=s[0];let C;return s[1]===Symbol.for("react.memo_cache_sentinel")?(C=(0,t.jsxs)("div",{className:"flex h-[100dvh] flex-col items-center justify-center gap-6 border-zinc-100 bg-white p-8 text-center dark:border-zinc-800 dark:bg-black md:h-[calc(100vh-1.5rem)] md:rounded-2xl md:border",children:[g,(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h3",{className:"text-2xl font-black tracking-tight dark:text-white",children:"Sign in to message"}),(0,t.jsx)("p",{className:"max-w-xs text-zinc-500 font-medium",children:"Join the conversation. Sign up or log in to start chatting."})]})]}),s[1]=C):C=s[1],C}if($){let g;return s[2]===Symbol.for("react.memo_cache_sentinel")?(g=(0,t.jsx)("div",{className:"flex h-[100dvh] pt-4 md:h-[calc(100vh-1.5rem)] md:rounded-2xl border-zinc-100 bg-white dark:border-zinc-800 dark:bg-black md:border",children:(0,t.jsx)("div",{className:"w-full md:w-[420px]",children:(0,t.jsx)(Dt,{})})}),s[2]=g):g=s[2],g}const u=`flex ${e?"h-[100dvh]":"h-[calc(100dvh-4rem)]"} w-full max-w-full box-border overscroll-none overflow-x-hidden overflow-y-hidden bg-white shadow-2xl shadow-zinc-200/50 dark:border-zinc-800 dark:bg-[#0f0f0f] dark:shadow-none md:h-[calc(100vh-1.5rem)] md:rounded-3xl md:border md:border-zinc-200/50`,v=`flex-col md:flex md:w-[420px] ${r?"hidden":"flex"} h-full min-h-0 min-w-0 flex-1 md:flex-none bg-white dark:bg-[#0f0f0f] border-r border-zinc-100 dark:border-zinc-800 z-10`,n=e??null;let h;s[3]!==z||s[4]!==S||s[5]!==D||s[6]!==N||s[7]!==i||s[8]!==j||s[9]!==n||s[10]!==o||s[11]!==d?(h=(0,t.jsx)(jt,{conversations:z,userResults:d,onSelect:S,onStartNew:D,selectedId:n,searchQuery:N,onSearchChange:j,onlineUsers:i,typingStatus:o}),s[3]=z,s[4]=S,s[5]=D,s[6]=N,s[7]=i,s[8]=j,s[9]=n,s[10]=o,s[11]=d,s[12]=h):h=s[12];let c;s[13]!==v||s[14]!==h?(c=(0,t.jsx)("div",{className:v,children:h}),s[13]=v,s[14]=h,s[15]=c):c=s[15];let p;s[16]!==y||s[17]!==a||s[18]!==x||s[19]!==l||s[20]!==f||s[21]!==m||s[22]!==R||s[23]!==M||s[24]!==k||s[25]!==r||s[26]!==b||s[27]!==w?(p=r?(0,t.jsx)($t,{conversation:r,messages:f,currentUser:a,onBack:()=>m("/m"),onSendMessage:b,onEditMessage:x,onDeleteMessage:R,onToggleReaction:M,onTyping:g=>w(r.id,g),isLoading:l,isTyping:!!y,isOnline:!!k}):(0,t.jsxs)("div",{className:"hidden flex-1 flex-col items-center justify-center gap-6 text-zinc-500 md:flex bg-zinc-50/30 dark:bg-zinc-900/10",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute -inset-10 rounded-full bg-violet-500/5 blur-3xl dark:bg-violet-500/10"}),(0,t.jsx)("div",{className:"relative rounded-[2.5rem] bg-white p-10 shadow-xl shadow-zinc-200/50 dark:bg-zinc-900/50 dark:shadow-none ring-1 ring-zinc-100 dark:ring-zinc-800",children:(0,t.jsx)(We,{size:80,className:"text-violet-500 stroke-[1.5]"})})]}),(0,t.jsxs)("div",{className:"text-center max-w-sm px-4 space-y-3",children:[(0,t.jsx)("h3",{className:"text-3xl font-black tracking-tighter text-zinc-900 dark:text-white",children:"Your Messages"}),(0,t.jsx)("p",{className:"text-zinc-500 font-medium text-lg",children:"Send private photos and messages to a friend or group."})]})]}),s[16]=y,s[17]=a,s[18]=x,s[19]=l,s[20]=f,s[21]=m,s[22]=R,s[23]=M,s[24]=k,s[25]=r,s[26]=b,s[27]=w,s[28]=p):p=s[28];let _;return s[29]!==u||s[30]!==c||s[31]!==p?(_=(0,t.jsxs)("div",{className:u,children:[c,p]}),s[29]=u,s[30]=c,s[31]=p,s[32]=_):_=s[32],_},Ht=It;export{Ht as default};
