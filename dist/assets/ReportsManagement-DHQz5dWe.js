import{a as p}from"./rolldown-runtime-BaZ8gS7u.js";import{o as u,s as f}from"./animations-pEILWrFP.js";import{c as h}from"./framework-di2JoXyY.js";import"./database-CdmW3A7f.js";import{Pn as g,Zn as b,zn as j}from"./ui-libs-DxumVphN.js";import"./media-libs-D2H42K39.js";import{M as o,Sn as N,St as x,bn as v}from"./index-Dkit3Yh6.js";import{t as _}from"./useAdmin-BSOhdcBl.js";var k=h(),A=p(f(),1),e=p(u(),1),y=()=>{const s=(0,k.c)(10),{reports:l,actions:a}=_();if(l.isLoading){let t;s[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)(o,{className:"h-10 w-64"}),(0,e.jsx)(o,{className:"h-4 w-48"})]}),s[0]=t):t=s[0];let m;return s[1]===Symbol.for("react.memo_cache_sentinel")?(m=(0,e.jsxs)("div",{className:"space-y-8",children:[t,(0,e.jsx)("div",{className:"grid gap-4",children:[1,2,3].map(w)})]}),s[1]=m):m=s[1],m}let d;s[2]!==l.data?(d=l.data||[],s[2]=l.data,s[3]=d):d=s[3];const n=d;let i;s[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,e.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,e.jsx)("h1",{className:"text-3xl font-black tracking-tight",children:"Reports Queue"}),(0,e.jsx)("p",{className:"text-sm text-muted-foreground",children:"Monitor and resolve community reported content."})]}),s[4]=i):i=s[4];let r;s[5]!==a||s[6]!==n?(r=n.length===0?(0,e.jsxs)("div",{className:"flex flex-col items-center justify-center rounded-3xl border border-border bg-card p-12 text-center",children:[(0,e.jsx)("div",{className:"flex h-16 w-16 items-center justify-center rounded-2xl bg-emerald-50 text-emerald-500 mb-4 dark:bg-emerald-500/10",children:(0,e.jsx)(b,{className:"h-8 w-8"})}),(0,e.jsx)("h3",{className:"text-lg font-bold",children:"Queue is empty"}),(0,e.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Great job! All reports have been cleared."})]}):n.map(t=>(0,e.jsxs)("div",{className:"rounded-3xl border border-border bg-card p-5 shadow-sm sm:p-6",children:[(0,e.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,e.jsxs)("div",{className:"flex items-center gap-4",children:[(0,e.jsx)("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-2xl bg-rose-50 text-rose-500 dark:bg-rose-500/10",children:(0,e.jsx)(g,{className:"h-6 w-6"})}),(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsxs)("span",{className:"text-[10px] font-black uppercase tracking-widest text-rose-500",children:["Reported ",t.target_type]}),(0,e.jsxs)("span",{className:"text-[10px] text-muted-foreground",children:["â€¢ ",N(t.created_at)]})]}),(0,e.jsxs)("h3",{className:"text-base font-bold mt-0.5",children:["Report by @",t.reporter?.username||"anonymous"]})]})]}),(0,e.jsxs)("div",{className:"flex items-center gap-3",children:[(0,e.jsx)("span",{className:v("text-[10px] font-black uppercase tracking-widest px-2.5 py-1 rounded-lg",t.status==="pending"?"bg-amber-100 text-amber-700 dark:bg-amber-500/10 dark:text-amber-500":t.status==="resolved"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-500/10 dark:text-emerald-500":"bg-zinc-100 text-zinc-600 dark:bg-zinc-500/10 dark:text-zinc-500"),children:t.status}),t.status==="pending"&&(0,e.jsxs)("div",{className:"flex gap-2",children:[(0,e.jsx)(x,{variant:"outline",size:"sm",className:"h-9 px-4 rounded-xl font-bold",onClick:()=>a.updateReportStatus({reportId:t.id,status:"dismissed"}),children:"Dismiss"}),(0,e.jsx)(x,{variant:"danger",size:"sm",className:"h-9 px-4 rounded-xl font-bold",onClick:async()=>{confirm(`Delete the reported ${t.target_type} and resolve?`)?(await a.deleteTarget({type:t.target_type,id:t.target_id}),a.updateReportStatus({reportId:t.id,status:"resolved"})):a.updateReportStatus({reportId:t.id,status:"resolved"})},children:"Resolve"})]})]})]}),(0,e.jsxs)("div",{className:"mt-6 rounded-2xl bg-zinc-50 p-4 dark:bg-zinc-900/50",children:[(0,e.jsx)("p",{className:"text-[10px] font-black uppercase tracking-widest text-muted-foreground mb-2",children:"Reporter's Context"}),(0,e.jsxs)("p",{className:"text-sm font-medium leading-relaxed italic text-foreground",children:['"',t.reason||"No additional context provided.",'"']}),(0,e.jsxs)("div",{className:"mt-4 flex items-center justify-between border-t border-border pt-4",children:[(0,e.jsxs)("div",{className:"flex flex-col",children:[(0,e.jsx)("span",{className:"text-[9px] font-bold text-muted-foreground uppercase",children:"Target ID"}),(0,e.jsx)("span",{className:"text-[10px] font-mono text-muted-foreground/60",children:t.target_id})]}),(0,e.jsxs)("button",{className:"flex items-center gap-1.5 text-xs font-bold text-violet-600 hover:underline",children:[(0,e.jsx)(j,{className:"h-3 w-3"}),"View Content"]})]})]})]},t.id)),s[5]=a,s[6]=n,s[7]=r):r=s[7];let c;return s[8]!==r?(c=(0,e.jsxs)("div",{className:"space-y-8",children:[i,(0,e.jsx)("div",{className:"grid gap-4",children:r})]}),s[8]=r,s[9]=c):c=s[9],c},D=y;function w(s){return(0,e.jsx)(o,{className:"h-40 rounded-3xl"},s)}export{D as default};
