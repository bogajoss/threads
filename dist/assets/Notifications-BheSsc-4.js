import{o as h}from"./rolldown-runtime-CIzSbf4l.js";import{c as b,l as g,w as v}from"./framework-i0QTTZ5z.js";import"./database-OCX2jLsI.js";import{Dn as N,Mn as j,lr as k,mn as w}from"./ui-libs-CBFZd3CP.js";import"./media-libs-CSO2-zwb.js";import{F as y,Q as z,Rn as _,Ut as S,in as A,l as C,nn as M,rn as q}from"./index-ChLbt0A9.js";var F=b(),R=h(v(),1),t=h(g(),1),I=()=>{const e=(0,F.c)(17),{notifications:s,isLoading:u,isFetchingMore:d,hasMore:a,loadNotifications:m,handleNotificationClick:x}=C(),p=L,f=$;if(u&&s.length===0){let r;return e[0]===Symbol.for("react.memo_cache_sentinel")?(r=(0,t.jsx)("div",{className:"flex flex-col",children:[1,2,3,4,5,6].map(U)}),e[0]=r):r=e[0],r}let l;e[1]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)("div",{className:"sticky top-0 z-10 border-b border-zinc-100 bg-white/80 p-4 backdrop-blur-md dark:bg-black/80 dark:border-zinc-800",children:(0,t.jsx)("h2",{className:"text-xl font-bold dark:text-white",children:"Notifications"})}),e[1]=l):l=e[1];let i;e[2]!==x||e[3]!==s?(i=s.length>0?(0,t.jsx)("div",{className:"divide-y divide-zinc-100 dark:divide-zinc-800",children:s.map(r=>(0,t.jsxs)("div",{onClick:()=>x(r),className:`flex cursor-pointer gap-4 p-4 transition-colors hover:bg-zinc-50 dark:hover:bg-zinc-900/50 ${r.is_read?"":"bg-violet-50/30 dark:bg-violet-900/10"}`,children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)(M,{className:"h-12 w-12 border border-zinc-100 dark:border-zinc-800",children:[(0,t.jsx)(A,{src:r.avatar}),(0,t.jsx)(q,{children:r.user?.[0]?.toUpperCase()||"?"})]}),(0,t.jsx)("div",{className:"absolute -bottom-1 -right-1 rounded-full bg-white p-1 shadow-sm dark:bg-zinc-900",children:p(r.type)})]}),(0,t.jsx)("div",{className:"flex flex-1 flex-col gap-1",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"text-sm dark:text-zinc-100",children:[(0,t.jsxs)("span",{className:"font-bold",children:["@",r.user]})," ",f(r)]}),(0,t.jsx)("span",{className:"text-xs text-zinc-500",children:_(r.created_at)})]})})]},r.id))}):(0,t.jsx)("div",{className:"p-16 text-center text-zinc-500",children:(0,t.jsx)("p",{className:"font-medium",children:"No notifications yet."})}),e[2]=x,e[3]=s,e[4]=i):i=e[4];let n;e[5]!==a||e[6]!==d||e[7]!==m||e[8]!==s.length?(n=s.length>0&&a&&(0,t.jsx)("div",{className:"flex justify-center p-4",children:(0,t.jsx)(S,{variant:"ghost",onClick:()=>m(),loading:d,className:"text-sm",children:"Load more"})}),e[5]=a,e[6]=d,e[7]=m,e[8]=s.length,e[9]=n):n=e[9];let o;e[10]!==a||e[11]!==s.length?(o=s.length>0&&!a&&(0,t.jsx)("div",{className:"p-8 text-center text-sm text-zinc-500",children:"You've caught up with everything!"}),e[10]=a,e[11]=s.length,e[12]=o):o=e[12];let c;return e[13]!==i||e[14]!==n||e[15]!==o?(c=(0,t.jsxs)("div",{className:"min-h-screen rounded-none border-y border-zinc-100 bg-white pb-20 shadow-sm dark:bg-black dark:border-zinc-800 md:rounded-xl md:border",children:[l,i,n,o]}),e[13]=i,e[14]=n,e[15]=o,e[16]=c):c=e[16],c},T=I;function L(e){switch(e){case"like":return(0,t.jsx)(j,{className:"h-4 w-4 fill-red-500 text-red-500"});case"mention":return(0,t.jsx)(k,{className:"h-4 w-4 text-violet-500"});case"repost":return(0,t.jsx)(N,{className:"h-4 w-4 text-green-500"});case"comment":return(0,t.jsx)(w,{className:"h-4 w-4 text-blue-500"});case"follow":return(0,t.jsx)(y,{className:"h-4 w-4 text-zinc-500"});default:return null}}function $(e){switch(e.type){case"like":return"liked your post";case"mention":return"mentioned you in a post";case"repost":return"reposted your post";case"comment":return"replied to your post";case"follow":return"started following you";default:return"interacted with you"}}function U(e){return(0,t.jsx)(z,{},e)}export{T as default};
