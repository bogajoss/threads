const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-Dcf1l2il.js","assets/framework-pMVb9Z5_.js","assets/rolldown-runtime-2JzG8er9.js","assets/framework-sg0yWRLc.css","assets/ui-libs-DQt2aSCK.js","assets/ui-libs-CqCaMccn.css","assets/database-ApDMvJcm.js","assets/linkify-fXGRsD3N.js","assets/post-DWgfbLWp.js","assets/query-CYcBlx0y.js","assets/hooks-4XEyeo5_.js","assets/Explore-xGRn4dRb.js","assets/Reels-BHXgEryH.js","assets/Messages-D8gKbG8O.js","assets/Notifications-Bn2aNkyN.js","assets/Profile-BM_-0tb-.js","assets/Community-7Mztjetr.js","assets/PostDetails-CKvRAPHR.js","assets/Settings-Co5DowLd.js","assets/HashtagFeed-lXITIgK7.js"])))=>i.map(i=>d[i]);
import{n as Un}from"./rolldown-runtime-2JzG8er9.js";import{C as Xr,S as La,_ as Fa,a as Oa,d as Ua,f as Qr,g as We,h as Ha,i as Ba,m as ir,p as Kr,r as qa,s as ie,u as Wa,v as gn,w as Va,x as ut,y as vn}from"./framework-pMVb9Z5_.js";import{a as Ya,i as Hn,n as It,r as Xa,t as Qa}from"./query-CYcBlx0y.js";import{t as Ka}from"./database-ApDMvJcm.js";import{$ as Za,$t as Ja,A as Ga,At as Vt,B as $a,C as eo,Ct as to,D as no,Dt as ro,E as so,Et as Zr,F as ao,G as oo,Gt as io,H as lo,Ht as ft,I as co,It as uo,J as fo,K as mo,Kt as Bn,L as ho,M as po,N as go,O as vo,P as bo,Pt as xo,Q as yo,R as wo,S as jo,T as ko,U as _o,V as Co,W as So,Wt as No,X as Ao,Y as zo,Yt as lr,Z as Eo,Zt as Jr,_ as Gr,_n as Ro,_t as Io,a as Mo,an as Do,at as To,b as Po,bt as Lo,c as Fo,cn as $r,d as Oo,dn as Uo,et as Ho,f as es,ft as bn,g as ts,h as ns,hn as rs,i as Bo,it as qo,j as Wo,k as Vo,l as ss,ln as as,lt as Dt,m as Yo,mn as cr,n as Xo,nt as Qo,o as os,on as is,ot as Ko,p as Zo,pn as Jo,pt as Mn,q as Go,r as $o,rn as ei,rt as ti,s as W0,sn as ni,st as ri,tt as si,u as ai,un as ls,v as cs,vn as oi,w as ii,x as li,y as ci,yn as di,yt as ui,z as fi,zt as ds}from"./ui-libs-DQt2aSCK.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();var mi=La(),g=Un(Va(),1),hi="https://dbkcedktqhueqnulnosq.supabase.co",pi="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRia2NlZGt0cWh1ZXFudWxub3NxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg5NzE1NTQsImV4cCI6MjA4NDU0NzU1NH0.m_Tv-H7o5mL1Nac6TH-S1JkS1x7ZN1AK_4Mt1hZlkvU";const Y=Ka(hi,pi);var gi=ie();function oe(...t){return oi(di(t))}const vi=()=>{const t=(0,gi.c)(2),{pathname:e}=gn();let n;return t[0]!==e?(n=[e],t[0]=e,t[1]=n):n=t[1],(0,g.useEffect)(xi,n),null},tn=t=>typeof t!="string"?!1:/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t),bi=(t,e)=>{const n=document.createElement("canvas"),s=t.naturalWidth/t.width,r=t.naturalHeight/t.height;n.width=e.width*s,n.height=e.height*r;const a=n.getContext("2d");return a.imageSmoothingEnabled=!0,a.imageSmoothingQuality="high",a.drawImage(t,e.x*s,e.y*r,e.width*s,e.height*r,0,0,e.width*s,e.height*r),new Promise((o,i)=>{n.toBlob(u=>{if(!u){i(new Error("Canvas is empty"));return}o(u)},"image/jpeg",.95)})},us=t=>{if(!t)return"";const e=new Date-new Date(t),n=Math.floor(e/1e3),s=Math.floor(n/60),r=Math.floor(s/60),a=Math.floor(r/24);return n<60?"Just now":s<60?`${s}m ago`:r<24?`${r}h ago`:a<7?`${a}d ago`:new Date(t).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit",year:"2-digit"})},V0=t=>typeof t!="string"?!1:/[\u0980-\u09FF]/.test(t),Y0=t=>{if(!t)return null;const e=t.match(/(https?:\/\/[^\s]+)/g);return e?e[0]:null};function xi(){window.scrollTo(0,0)}const xt=t=>t?{id:t.id,handle:t.username,name:t.display_name,avatar:t.avatar_url||"/default-avatar.webp",cover:t.cover_url||"/welcome-banner.webp",verified:t.is_verified,bio:t.bio,location:t.location,website:t.website,follower_count:t.follower_count||0,following_count:t.following_count||0,lastSeen:t.last_seen_at}:null,yt=t=>{if(!t)return null;const e=t.reposter_id||t.reposter_data?.id||t.reposted_by?.id,n=Math.random().toString(36).substring(2,9),s=`${t.feed_id||(e?`${t.id}-${e}`:`${t.id}-orig`)}-${n}`;return{...t,feed_id:s,stats:{comments:t.comments_count||0,likes:t.likes_count||0,mirrors:t.mirrors_count||0},user:xt(t.author_data||t.user),community:t.community_data||t.communities?{...t.community_data||t.communities,avatar:(t.community_data||t.communities).avatar_url||(t.community_data||t.communities).avatar}:null,repostedBy:t.reposter_data?{handle:t.reposter_data.username,name:t.reposter_data.display_name,id:t.reposter_data.id}:t.reposted_by?{handle:t.reposted_by.username,name:t.reposted_by.display_name,id:t.reposted_by.id}:null,timeAgo:us(t.created_at)}},fs=t=>t?{...t,stats:{likes:t.likes_count||0},user:xt(t.user),timeAgo:us(t.created_at)}:null,yi=t=>t?{...t,user:t.actor?.username,avatar:t.actor?.avatar_url||"/default-avatar.webp"}:null,ms=t=>t?{...t,media:t.media_url,user:xt(t.user)}:null,Zt=t=>t?{id:t.id,handle:t.handle,name:t.name,description:t.description,avatar:t.avatar_url||"/default-avatar.webp",cover:t.cover_url||"/welcome-banner.webp",membersCount:t.members_count||0,postsCount:t.posts_count||0,isPrivate:t.is_private,createdAt:t.created_at,type:"community",creatorId:t.creator_id}:null,wi=t=>t?{id:t.id,conversation_id:t.conversation_id,sender_id:t.sender_id,content:t.content,type:t.type||"text",media:t.media||[],reply_to_id:t.reply_to_id,is_read:t.is_read,created_at:t.created_at}:null,ji=(t,e)=>{if(!t||!t.conversation)return null;const n=t.conversation,s=n.participants.find(a=>a.user?.id!==e)||n.participants[0],r=n.messages?.filter(a=>!a.is_read&&a.sender_id!==e).length||0;return{id:n.id,user:xt(s?.user),lastMessage:n.last_message_content||"No messages yet",lastMessageAt:n.last_message_at,time:n.last_message_at?new Date(n.last_message_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"",unread:r}},X0=async(t,e=10)=>{const{data:n,error:s}=await Y.from("users").select("*").or(`username.ilike.%${t}%,display_name.ilike.%${t}%`).limit(e);if(s)throw s;return n.map(xt)},hs=async(t,e="id")=>{let n=Y.from("users").select("*");e==="id"?n=n.eq("id",t):n=n.ilike("username",t);const{data:s,error:r}=await n.maybeSingle();if(r)throw r;return s?xt(s):null},ki=t=>hs(t,"username"),kt=async t=>{if(!t)return;const{error:e}=await Y.from("users").update({last_seen_at:new Date().toISOString()}).eq("id",t);if(e)throw e},_i=async(t,e)=>{const n={display_name:e.name,username:e.handle,avatar_url:e.avatar,bio:e.bio,cover_url:e.cover,website:e.website,location:e.location};Object.keys(n).forEach(r=>n[r]===void 0&&delete n[r]);const{error:s}=await Y.from("users").update(n).eq("id",t);if(s)throw s},Ci=async(t,e)=>{const{data:n}=await Y.from("follows").select("*").eq("follower_id",t).eq("following_id",e).maybeSingle();return n?(await Y.from("follows").delete().eq("follower_id",t).eq("following_id",e),!1):(await Y.from("follows").insert([{follower_id:t,following_id:e}]),!0)},Si=async(t,e)=>{if(!t)return!1;const{data:n}=await Y.from("follows").select("*").eq("follower_id",t).eq("following_id",e).maybeSingle();return!!n},Q0=async(t,e=null,n=10)=>{let s=Y.from("follows").select(`
      created_at,
      user:users!follower_id (
        id,
        username,
        display_name,
        avatar_url,
        is_verified,
        bio
      )
    `).eq("following_id",t).order("created_at",{ascending:!1}).limit(n);e&&(s=s.lt("created_at",e));const{data:r,error:a}=await s;if(a)throw a;return r.map(o=>({...xt(o.user),followed_at:o.created_at}))},K0=async(t,e=null,n=10)=>{let s=Y.from("follows").select(`
      created_at,
      user:users!following_id (
        id,
        username,
        display_name,
        avatar_url,
        is_verified,
        bio
      )
    `).eq("follower_id",t).order("created_at",{ascending:!1}).limit(n);e&&(s=s.lt("created_at",e));const{data:r,error:a}=await s;if(a)throw a;return r.map(o=>({...xt(o.user),followed_at:o.created_at}))},Ni=async t=>{const{data:e,error:n}=await Y.from("users").select("follower_count, following_count").eq("id",t).maybeSingle();return n||!e?{followers:0,following:0}:{followers:e.follower_count||0,following:e.following_count||0}},Ai=async(t=null,e=10)=>{let n=Y.from("unified_posts").select("*").order("sort_timestamp",{ascending:!1}).limit(e);t&&(n=n.lt("sort_timestamp",t));const{data:s,error:r}=await n;if(r)throw r;return s.map(yt)},Z0=async t=>{const{data:e,error:n}=await Y.from("posts").select(`
            *,
            user:users!user_id (
                id,
                username,
                display_name,
                avatar_url,
                is_verified,
                bio,
                location,
                website,
                follower_count,
                following_count
            ),
            communities (
                id,
                handle,
                name,
                avatar_url
            ),
            quoted_post:posts!quoted_post_id (
                *,
                user:users!user_id (
                    id,
                    username,
                    display_name,
                    avatar_url,
                    is_verified
                )
            )
        `).eq("id",t).single();if(n)throw n;return yt(e)},J0=async(t,e=null,n=10)=>{let s=Y.from("unified_posts").select("*").or(`user_id.eq.${t},reposter_id.eq.${t}`).order("sort_timestamp",{ascending:!1}).limit(n);e&&(s=s.lt("sort_timestamp",e));const{data:r,error:a}=await s;if(a)throw a;return r.map(yt)},zi=async({content:t,media:e=[],type:n="text",userId:s,poll:r=null,parentId:a=null,communityId:o=null})=>{const{data:i,error:u}=await Y.from("posts").insert([{user_id:s,content:t,media:e,type:n,poll:r,parent_id:a,community_id:o}]).select(`
            *,
            user:users!user_id (
                id,
                username,
                display_name,
                avatar_url,
                is_verified
            ),
            communities:community_id (
                id,
                handle,
                name,
                avatar_url
            )
        `);if(u)throw u;return yt(i[0])},Ei=async t=>{const{error:e}=await Y.from("posts").delete().eq("id",t);if(e)throw e},Ri=async(t,e)=>{const{error:n}=await Y.from("posts").update(e).eq("id",t);if(n)throw n},G0=async(t,e=null,n=10)=>{let s=Y.from("comments").select(`
            *,
            user:users!user_id (
                id,
                username,
                display_name,
                avatar_url,
                is_verified
            )
        `).eq("post_id",t).order("created_at",{ascending:!0}).limit(n);e&&(s=s.gt("created_at",e));const{data:r,error:a}=await s;if(a)throw a;return r.map(fs)},$0=async(t,e,n,s=[])=>{const{data:r,error:a}=await Y.from("comments").insert([{post_id:t,user_id:e,content:n,media:s}]).select(`
            *,
            user:users!user_id (
                id,
                username,
                display_name,
                avatar_url,
                is_verified
            )
        `);if(a)throw a;return fs(r[0])},em=async(t,e)=>{const{data:n}=await Y.from("likes").select("*").eq("post_id",t).eq("user_id",e).maybeSingle();return n?(await Y.from("likes").delete().eq("post_id",t).eq("user_id",e),!1):(await Y.from("likes").insert([{post_id:t,user_id:e}]),!0)},tm=async(t,e)=>{if(!e)return!1;const{data:n}=await Y.from("likes").select("*").eq("post_id",t).eq("user_id",e).maybeSingle();return!!n},nm=async(t,e)=>{const{data:n}=await Y.from("reposts").select("*").eq("post_id",t).eq("user_id",e).maybeSingle();return n?(await Y.from("reposts").delete().eq("post_id",t).eq("user_id",e),!1):(await Y.from("reposts").insert([{post_id:t,user_id:e}]),!0)},rm=async(t,e)=>{if(!e)return!1;const{data:n}=await Y.from("reposts").select("*").eq("post_id",t).eq("user_id",e).maybeSingle();return!!n},sm=async(t,e=null,n=10,s=!1)=>{let r=Y.from("unified_posts").select("*").ilike("content",`%${t}%`);s&&(r=r.not("community_id","is",null).is("reposter_id",null)),r=r.order("sort_timestamp",{ascending:!1}).limit(n),e&&(r=r.lt("sort_timestamp",e));const{data:a,error:o}=await r;if(o)throw o;return a.map(yt)},am=async(t=null,e=10)=>{let n=Y.from("unified_posts").select("*").not("community_id","is",null).is("reposter_id",null).order("sort_timestamp",{ascending:!1}).limit(e);t&&(n=n.lt("sort_timestamp",t));const{data:s,error:r}=await n;if(r)throw r;return s.map(yt)},om=async(t=null,e=10)=>{let n=Y.from("unified_posts").select("*").eq("type","video").order("sort_timestamp",{ascending:!1}).limit(e);t&&(n=n.lt("sort_timestamp",t));const{data:s,error:r}=await n;if(r)throw r;return s.map(yt)},im=async(t,e)=>{const{data:n}=await Y.from("conversation_participants").select("conversation_id").eq("user_id",t),s=n.map(i=>i.conversation_id),{data:r}=await Y.from("conversation_participants").select("conversation_id").eq("user_id",e).in("conversation_id",s).maybeSingle();if(r)return r.conversation_id;const{data:a,error:o}=await Y.from("conversations").insert([{}]).select().single();if(o)throw o;return await Y.from("conversation_participants").insert([{conversation_id:a.id,user_id:t},{conversation_id:a.id,user_id:e}]),a.id},Ii=async t=>{if(!t)return 0;const{data:e}=await Y.from("conversation_participants").select("conversation_id").eq("user_id",t),n=e?.map(a=>a.conversation_id)||[];if(n.length===0)return 0;const{count:s,error:r}=await Y.from("messages").select("*",{count:"exact",head:!0}).eq("is_read",!1).neq("sender_id",t).in("conversation_id",n);if(r)throw r;return s||0},Mi=async(t,e)=>{if(!t||!e)return;const{error:n}=await Y.from("messages").update({is_read:!0}).eq("conversation_id",t).neq("sender_id",e).eq("is_read",!1);if(n)throw n},Di=async t=>{if(!t)return[];const{data:e,error:n}=await Y.from("conversation_participants").select(`
            conversation:conversations (
                id,
                last_message_at,
                last_message_content,
                participants:conversation_participants (
                    user:users (
                        id,
                        username,
                        display_name,
                        avatar_url,
                        last_seen_at
                    )
                ),
                messages (
                    id,
                    is_read,
                    sender_id
                )
            )
        `).eq("user_id",t);if(n)throw n;return e.map(s=>ji(s,t)).sort((s,r)=>s.lastMessageAt?r.lastMessageAt?new Date(r.lastMessageAt)-new Date(s.lastMessageAt):-1:1)},lm=async t=>{const{data:e,error:n}=await Y.from("messages").select("*").eq("conversation_id",t).order("created_at",{ascending:!0});if(n)throw n;return e.map(wi)},Ti=async()=>{const{data:t,error:e}=await Y.from("message_reactions").select("*");if(e)throw e;return t||[]},Pi=async(t,e,n)=>{const{data:s}=await Y.from("message_reactions").select("*").eq("message_id",t).eq("user_id",e).maybeSingle();return s?s.emoji===n?(await Y.from("message_reactions").delete().eq("id",s.id),{action:"removed",emoji:n}):(await Y.from("message_reactions").update({emoji:n}).eq("id",s.id),{action:"updated",emoji:n}):(await Y.from("message_reactions").insert([{message_id:t,user_id:e,emoji:n}]),{action:"added",emoji:n})},Li=async(t,e,n,s="text",r=[],a=null)=>{const{data:o,error:i}=await Y.from("messages").insert([{conversation_id:t,sender_id:e,content:n,type:s,media:r,reply_to_id:a}]).select();if(i)throw i;return await Y.from("conversations").update({last_message_at:new Date,last_message_content:s==="image"||r&&r.length>0?"Sent an image":n}).eq("id",t),o[0]},Fi=async t=>{const{error:e}=await Y.from("messages").delete().eq("id",t);if(e)throw e},cm=async(t,e=null,n=10)=>{if(!t)return[];let s=Y.from("notifications").select(`
            *,
            actor:users!actor_id (
                username,
                avatar_url
            )
        `).eq("recipient_id",t).order("created_at",{ascending:!1}).limit(n);e&&(s=s.lt("created_at",e));const{data:r,error:a}=await s;if(a)throw a;return r.map(yi)},dm=async t=>{const{error:e}=await Y.from("notifications").update({is_read:!0}).eq("recipient_id",t).eq("is_read",!1);if(e)throw e},Oi=async t=>{if(!t)return 0;const{count:e,error:n}=await Y.from("notifications").select("*",{count:"exact",head:!0}).eq("recipient_id",t).eq("is_read",!1);if(n)throw n;return e||0},um=async()=>{const{data:t,error:e}=await Y.from("stories").select(`
            *,
            user:users!user_id (
                id,
                username,
                display_name,
                avatar_url,
                is_verified
            )
        `).gt("expires_at",new Date().toISOString()).order("created_at",{ascending:!1});if(e)throw e;return t.map(ms)},Ui=async(t,e,n="image")=>{const{data:s,error:r}=await Y.from("stories").insert([{user_id:t,media_url:e,type:n}]).select(`
            *,
            user:users!user_id (
                id,
                username,
                display_name,
                avatar_url,
                is_verified
            )
        `);if(r)throw r;return ms(s[0])},fm=async(t=null,e=10)=>{let n=Y.from("communities").select("*").order("created_at",{ascending:!1}).limit(e);t&&(n=n.lt("created_at",t));const{data:s,error:r}=await n;if(r)throw r;return s.map(Zt)},mm=async t=>{const{data:e,error:n}=await Y.from("communities").select("*").eq("handle",t).single();if(n)throw n;return Zt(e)},hm=async(t,e=null,n=10)=>{let s=Y.from("unified_posts").select("*").eq("community_id",t).is("reposter_id",null).order("sort_timestamp",{ascending:!1}).limit(n);e&&(s=s.lt("sort_timestamp",e));const{data:r,error:a}=await s;if(a)throw a;return r.map(yt)},Hi=async(t,e)=>{const{data:n}=await Y.from("community_members").select("*").eq("community_id",t).eq("user_id",e).maybeSingle();if(n){const{error:s}=await Y.from("community_members").delete().eq("community_id",t).eq("user_id",e);if(s)throw s;return!1}else{const{error:s}=await Y.from("community_members").insert([{community_id:t,user_id:e}]);if(s)throw s;return!0}},Bi=async(t,e)=>{if(!e)return null;const{data:n}=await Y.from("community_members").select("*").eq("community_id",t).eq("user_id",e).maybeSingle();return n},qi=async t=>{if(!t)return[];const{data:e,error:n}=await Y.from("community_members").select(`
      role,
      communities (*)
    `).eq("user_id",t);if(n)throw n;return e.map(s=>({...Zt(s.communities),myRole:s.role}))},Wi=async t=>{const{data:e,error:n}=await Y.from("communities").insert([t]).select().single();if(n)throw n;return Zt(e)},Vi=async(t,e)=>{const{data:n,error:s}=await Y.from("communities").update(e).eq("id",t).select().single();if(s)throw s;return Zt(n)},Yi=async(t,e="")=>{let n=Y.from("community_members").select(`
      role,
      user_id,
      users:user_id!inner (
        id,
        username,
        display_name,
        avatar_url,
        is_verified
      )
    `).eq("community_id",t);e&&(n=n.or(`username.ilike.%${e}%,display_name.ilike.%${e}%`,{foreignTable:"users"}));const{data:s,error:r}=await n.limit(20);if(r)throw r;return s.map(a=>({role:a.role,userId:a.user_id,user:a.users}))},Xi=async(t,e,n)=>{const{data:s,error:r}=await Y.from("community_members").update({role:n}).eq("community_id",t).eq("user_id",e).select().single();if(r)throw r;return s},Qi=async(t=5)=>{const{data:e,error:n}=await Y.from("hashtags").select("*").order("usage_count",{ascending:!1}).limit(t);if(n)throw n;return e},Ki=async t=>{try{const e=`https://api.allorigins.win/raw?url=${encodeURIComponent(t)}`,n=await fetch(e);if(!n.ok)throw new Error("Failed to fetch preview");const s=await n.text(),r=new DOMParser().parseFromString(s,"text/html"),a=o=>r.querySelector(`meta[property="${o}"]`)?.getAttribute("content")||r.querySelector(`meta[name="${o}"]`)?.getAttribute("content");return{title:a("og:title")||r.title||t,description:a("og:description")||a("description")||"",image:a("og:image")||a("twitter:image")||"",siteName:a("og:site_name")||new URL(t).hostname,url:t}}catch(e){return console.error("Link preview error:",e),null}},pm=async t=>{if(!t)return null;try{const{data:e}=await Y.from("link_previews").select("*").eq("url",t).maybeSingle();if(e)return Y.from("link_previews").update({last_used_at:new Date().toISOString()}).eq("url",t).then(()=>{}),{title:e.title,description:e.description,image:e.image,siteName:e.site_name,url:e.url};const n=await Ki(t);return n?(Y.from("link_previews").insert([{url:n.url,title:n.title,description:n.description,image:n.image,site_name:n.siteName}]).then(({error:s})=>{s&&console.error("Cache save error:",s)}),n):null}catch(e){return console.error("Link preview cache error:",e),null}};function Zi(t,e){return e.forEach((function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach((function(s){if(s!=="default"&&!(s in t)){var r=Object.getOwnPropertyDescriptor(n,s);Object.defineProperty(t,s,r.get?r:{enumerable:!0,get:function(){return n[s]}})}}))})),Object.freeze(t)}function ps(t,e){return new Promise((function(n,s){let r;return Ji(t).then((function(a){try{return r=a,n(new Blob([e.slice(0,2),r,e.slice(2)],{type:"image/jpeg"}))}catch(o){return s(o)}}),s)}))}var Ji=t=>new Promise(((e,n)=>{const s=new FileReader;s.addEventListener("load",(({target:{result:r}})=>{const a=new DataView(r);let o=0;if(a.getUint16(o)!==65496)return n("not a valid JPEG");for(o+=2;;){const i=a.getUint16(o);if(i===65498)break;const u=a.getUint16(o+2);if(i===65505&&a.getUint32(o+4)===1165519206){const h=o+10;let d;switch(a.getUint16(h)){case 18761:d=!0;break;case 19789:d=!1;break;default:return n("TIFF header contains invalid endian")}if(a.getUint16(h+2,d)!==42)return n("TIFF header contains invalid version");const l=a.getUint32(h+4,d),f=h+l+2+12*a.getUint16(h+l,d);for(let m=h+l+2;m<f;m+=12)if(a.getUint16(m,d)==274){if(a.getUint16(m+2,d)!==3)return n("Orientation data type is invalid");if(a.getUint32(m+4,d)!==1)return n("Orientation data count is invalid");a.setUint16(m+8,1,d);break}return e(r.slice(o,o+2+u))}o+=2+u}return e(new Blob)})),s.readAsArrayBuffer(t)})),ln={},Gi={get exports(){return ln},set exports(t){ln=t}};(function(t){var e,n,s={};Gi.exports=s,s.parse=function(r,a){for(var o=s.bin.readUshort,i=s.bin.readUint,u=0,h={},d=new Uint8Array(r),l=d.length-4;i(d,l)!=101010256;)l--;u=l,u+=4;var f=o(d,u+=4);o(d,u+=2);var m=i(d,u+=2),p=i(d,u+=4);u+=4,u=p;for(var b=0;b<f;b++){i(d,u),u+=4,u+=4,u+=4,i(d,u+=4),m=i(d,u+=4);var x=i(d,u+=4),v=o(d,u+=4),C=o(d,u+2),z=o(d,u+4);u+=6;var S=i(d,u+=8);u+=4,u+=v+C+z,s._readLocal(d,S,h,m,x,a)}return h},s._readLocal=function(r,a,o,i,u,h){var d=s.bin.readUshort,l=s.bin.readUint;l(r,a),d(r,a+=4),d(r,a+=2);var f=d(r,a+=2);l(r,a+=2),l(r,a+=4),a+=4;var m=d(r,a+=8),p=d(r,a+=2);a+=2;var b=s.bin.readUTF8(r,a,m);if(a+=m,a+=p,h)o[b]={size:u,csize:i};else{var x=new Uint8Array(r.buffer,a);if(f==0)o[b]=new Uint8Array(x.buffer.slice(a,a+i));else{if(f!=8)throw"unknown compression method: "+f;var v=new Uint8Array(u);s.inflateRaw(x,v),o[b]=v}}},s.inflateRaw=function(r,a){return s.F.inflate(r,a)},s.inflate=function(r,a){return r[0],r[1],s.inflateRaw(new Uint8Array(r.buffer,r.byteOffset+2,r.length-6),a)},s.deflate=function(r,a){a??={level:6};var o=0,i=new Uint8Array(50+Math.floor(1.1*r.length));i[o]=120,i[o+1]=156,o+=2,o=s.F.deflateRaw(r,i,o,a.level);var u=s.adler(r,0,r.length);return i[o+0]=u>>>24&255,i[o+1]=u>>>16&255,i[o+2]=u>>>8&255,i[o+3]=u>>>0&255,new Uint8Array(i.buffer,0,o+4)},s.deflateRaw=function(r,a){a??={level:6};var o=new Uint8Array(50+Math.floor(1.1*r.length)),i=s.F.deflateRaw(r,o,i,a.level);return new Uint8Array(o.buffer,0,i)},s.encode=function(r,a){a??=!1;var o=0,i=s.bin.writeUint,u=s.bin.writeUshort,h={};for(var d in r){var l=!s._noNeed(d)&&!a,f=r[d],m=s.crc.crc(f,0,f.length);h[d]={cpr:l,usize:f.length,crc:m,file:l?s.deflateRaw(f):f}}for(var d in h)o+=h[d].file.length+30+46+2*s.bin.sizeUTF8(d);o+=22;var p=new Uint8Array(o),b=0,x=[];for(var d in h){var v=h[d];x.push(b),b=s._writeHeader(p,b,d,v,0)}var C=0,z=b;for(var d in h)v=h[d],x.push(b),b=s._writeHeader(p,b,d,v,1,x[C++]);var S=b-z;return i(p,b,101010256),b+=4,u(p,b+=4,C),u(p,b+=2,C),i(p,b+=2,S),i(p,b+=4,z),b+=4,b+=2,p.buffer},s._noNeed=function(r){var a=r.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(a)!=-1},s._writeHeader=function(r,a,o,i,u,h){var d=s.bin.writeUint,l=s.bin.writeUshort,f=i.file;return d(r,a,u==0?67324752:33639248),a+=4,u==1&&(a+=2),l(r,a,20),l(r,a+=2,0),l(r,a+=2,i.cpr?8:0),d(r,a+=2,0),d(r,a+=4,i.crc),d(r,a+=4,f.length),d(r,a+=4,i.usize),l(r,a+=4,s.bin.sizeUTF8(o)),l(r,a+=2,0),a+=2,u==1&&(a+=2,a+=2,d(r,a+=6,h),a+=4),a+=s.bin.writeUTF8(r,a,o),u==0&&(r.set(f,a),a+=f.length),a},s.crc={table:(function(){for(var r=new Uint32Array(256),a=0;a<256;a++){for(var o=a,i=0;i<8;i++)1&o?o=3988292384^o>>>1:o>>>=1;r[a]=o}return r})(),update:function(r,a,o,i){for(var u=0;u<i;u++)r=s.crc.table[255&(r^a[o+u])]^r>>>8;return r},crc:function(r,a,o){return 4294967295^s.crc.update(4294967295,r,a,o)}},s.adler=function(r,a,o){for(var i=1,u=0,h=a,d=a+o;h<d;){for(var l=Math.min(h+5552,d);h<l;)u+=i+=r[h++];i%=65521,u%=65521}return u<<16|i},s.bin={readUshort:function(r,a){return r[a]|r[a+1]<<8},writeUshort:function(r,a,o){r[a]=255&o,r[a+1]=o>>8&255},readUint:function(r,a){return 16777216*r[a+3]+(r[a+2]<<16|r[a+1]<<8|r[a])},writeUint:function(r,a,o){r[a]=255&o,r[a+1]=o>>8&255,r[a+2]=o>>16&255,r[a+3]=o>>24&255},readASCII:function(r,a,o){for(var i="",u=0;u<o;u++)i+=String.fromCharCode(r[a+u]);return i},writeASCII:function(r,a,o){for(var i=0;i<o.length;i++)r[a+i]=o.charCodeAt(i)},pad:function(r){return r.length<2?"0"+r:r},readUTF8:function(r,a,o){for(var i,u="",h=0;h<o;h++)u+="%"+s.bin.pad(r[a+h].toString(16));try{i=decodeURIComponent(u)}catch{return s.bin.readASCII(r,a,o)}return i},writeUTF8:function(r,a,o){for(var i=o.length,u=0,h=0;h<i;h++){var d=o.charCodeAt(h);if((4294967168&d)==0)r[a+u]=d,u++;else if((4294965248&d)==0)r[a+u]=192|d>>6,r[a+u+1]=128|d>>0&63,u+=2;else if((4294901760&d)==0)r[a+u]=224|d>>12,r[a+u+1]=128|d>>6&63,r[a+u+2]=128|d>>0&63,u+=3;else{if((4292870144&d)!=0)throw"e";r[a+u]=240|d>>18,r[a+u+1]=128|d>>12&63,r[a+u+2]=128|d>>6&63,r[a+u+3]=128|d>>0&63,u+=4}}return u},sizeUTF8:function(r){for(var a=r.length,o=0,i=0;i<a;i++){var u=r.charCodeAt(i);if((4294967168&u)==0)o++;else if((4294965248&u)==0)o+=2;else if((4294901760&u)==0)o+=3;else{if((4292870144&u)!=0)throw"e";o+=4}}return o}},s.F={},s.F.deflateRaw=function(r,a,o,i){var u=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][i],h=s.F.U,d=s.F._goodIndex;s.F._hash;var l=s.F._putsE,f=0,m=o<<3,p=0,b=r.length;if(i==0){for(;f<b;)l(a,m,f+(R=Math.min(65535,b-f))==b?1:0),m=s.F._copyExact(r,f,R,a,m+8),f+=R;return m>>>3}var x=h.lits,v=h.strt,C=h.prev,z=0,S=0,M=0,_=0,D=0,w=0;for(b>2&&(v[w=s.F._hash(r,0)]=0),f=0;f<b;f++){if(D=w,f+1<b-2){w=s.F._hash(r,f+1);var y=f+1&32767;C[y]=v[w],v[w]=y}if(p<=f){(z>14e3||S>26697)&&b-f>100&&(p<f&&(x[z]=f-p,z+=2,p=f),m=s.F._writeBlock(f==b-1||p==b?1:0,x,z,_,r,M,f-M,a,m),z=S=_=0,M=f);var A=0;f<b-2&&(A=s.F._bestMatch(r,f,C,D,Math.min(u[2],b-f),u[3]));var R=A>>>16,E=65535&A;if(A!=0){E=65535&A;var I=d(R=A>>>16,h.of0);h.lhst[257+I]++;var N=d(E,h.df0);h.dhst[N]++,_+=h.exb[I]+h.dxb[N],x[z]=R<<23|f-p,x[z+1]=E<<16|I<<8|N,z+=2,p=f+R}else h.lhst[r[f]]++;S++}}for(M==f&&r.length!=0||(p<f&&(x[z]=f-p,z+=2,p=f),m=s.F._writeBlock(1,x,z,_,r,M,f-M,a,m),z=0,S=0,z=S=_=0,M=f);(7&m)!=0;)m++;return m>>>3},s.F._bestMatch=function(r,a,o,i,u,h){var d=32767&a,l=o[d],f=d-l+32768&32767;if(l==d||i!=s.F._hash(r,a-f))return 0;for(var m=0,p=0,b=Math.min(32767,a);f<=b&&--h!=0&&l!=d;){if(m==0||r[a+m]==r[a+m-f]){var x=s.F._howLong(r,a,f);if(x>m){if(p=f,(m=x)>=u)break;f+2<x&&(x=f+2);for(var v=0,C=0;C<x-2;C++){var z=a-f+C+32768&32767,S=z-o[z]+32768&32767;S>v&&(v=S,l=z)}}}f+=(d=l)-(l=o[d])+32768&32767}return m<<16|p},s.F._howLong=function(r,a,o){if(r[a]!=r[a-o]||r[a+1]!=r[a+1-o]||r[a+2]!=r[a+2-o])return 0;var i=a,u=Math.min(r.length,a+258);for(a+=3;a<u&&r[a]==r[a-o];)a++;return a-i},s.F._hash=function(r,a){return(r[a]<<8|r[a+1])+(r[a+2]<<4)&65535},s.saved=0,s.F._writeBlock=function(r,a,o,i,u,h,d,l,f){var m,p,b,x,v,C,z,S,M,_=s.F.U,D=s.F._putsF,w=s.F._putsE;_.lhst[256]++,p=(m=s.F.getTrees())[0],b=m[1],x=m[2],v=m[3],C=m[4],z=m[5],S=m[6],M=m[7];var y=32+((f+3&7)==0?0:8-(f+3&7))+(d<<3),A=i+s.F.contSize(_.fltree,_.lhst)+s.F.contSize(_.fdtree,_.dhst),R=i+s.F.contSize(_.ltree,_.lhst)+s.F.contSize(_.dtree,_.dhst);R+=14+3*z+s.F.contSize(_.itree,_.ihst)+(2*_.ihst[16]+3*_.ihst[17]+7*_.ihst[18]);for(var E=0;E<286;E++)_.lhst[E]=0;for(E=0;E<30;E++)_.dhst[E]=0;for(E=0;E<19;E++)_.ihst[E]=0;var I=y<A&&y<R?0:A<R?1:2;if(D(l,f,r),D(l,f+1,I),f+=3,I==0){for(;(7&f)!=0;)f++;f=s.F._copyExact(u,h,d,l,f)}else{var N,L;if(I==1&&(N=_.fltree,L=_.fdtree),I==2){s.F.makeCodes(_.ltree,p),s.F.revCodes(_.ltree,p),s.F.makeCodes(_.dtree,b),s.F.revCodes(_.dtree,b),s.F.makeCodes(_.itree,x),s.F.revCodes(_.itree,x),N=_.ltree,L=_.dtree,w(l,f,v-257),w(l,f+=5,C-1),w(l,f+=5,z-4),f+=4;for(var j=0;j<z;j++)w(l,f+3*j,_.itree[1+(_.ordr[j]<<1)]);f+=3*z,f=s.F._codeTiny(S,_.itree,l,f),f=s.F._codeTiny(M,_.itree,l,f)}for(var k=h,P=0;P<o;P+=2){for(var T=a[P],F=T>>>23,q=k+(8388607&T);k<q;)f=s.F._writeLit(u[k++],N,l,f);if(F!=0){var H=a[P+1],B=H>>16,U=H>>8&255,O=255&H;w(l,f=s.F._writeLit(257+U,N,l,f),F-_.of0[U]),f+=_.exb[U],D(l,f=s.F._writeLit(O,L,l,f),B-_.df0[O]),f+=_.dxb[O],k+=F}}f=s.F._writeLit(256,N,l,f)}return f},s.F._copyExact=function(r,a,o,i,u){var h=u>>>3;return i[h]=o,i[h+1]=o>>>8,i[h+2]=255-i[h],i[h+3]=255-i[h+1],h+=4,i.set(new Uint8Array(r.buffer,a,o),h),u+(o+4<<3)},s.F.getTrees=function(){for(var r=s.F.U,a=s.F._hufTree(r.lhst,r.ltree,15),o=s.F._hufTree(r.dhst,r.dtree,15),i=[],u=s.F._lenCodes(r.ltree,i),h=[],d=s.F._lenCodes(r.dtree,h),l=0;l<i.length;l+=2)r.ihst[i[l]]++;for(l=0;l<h.length;l+=2)r.ihst[h[l]]++;for(var f=s.F._hufTree(r.ihst,r.itree,7),m=19;m>4&&r.itree[1+(r.ordr[m-1]<<1)]==0;)m--;return[a,o,f,u,d,m,i,h]},s.F.getSecond=function(r){for(var a=[],o=0;o<r.length;o+=2)a.push(r[o+1]);return a},s.F.nonZero=function(r){for(var a="",o=0;o<r.length;o+=2)r[o+1]!=0&&(a+=(o>>1)+",");return a},s.F.contSize=function(r,a){for(var o=0,i=0;i<a.length;i++)o+=a[i]*r[1+(i<<1)];return o},s.F._codeTiny=function(r,a,o,i){for(var u=0;u<r.length;u+=2){var h=r[u],d=r[u+1];i=s.F._writeLit(h,a,o,i);var l=h==16?2:h==17?3:7;h>15&&(s.F._putsE(o,i,d,l),i+=l)}return i},s.F._lenCodes=function(r,a){for(var o=r.length;o!=2&&r[o-1]==0;)o-=2;for(var i=0;i<o;i+=2){var u=r[i+1],h=i+3<o?r[i+3]:-1,d=i+5<o?r[i+5]:-1,l=i==0?-1:r[i-1];if(u==0&&h==u&&d==u){for(var f=i+5;f+2<o&&r[f+2]==u;)f+=2;(m=Math.min(f+1-i>>>1,138))<11?a.push(17,m-3):a.push(18,m-11),i+=2*m-2}else if(u==l&&h==u&&d==u){for(f=i+5;f+2<o&&r[f+2]==u;)f+=2;var m=Math.min(f+1-i>>>1,6);a.push(16,m-3),i+=2*m-2}else a.push(u,0)}return o>>>1},s.F._hufTree=function(r,a,o){var i=[],u=r.length,h=a.length,d=0;for(d=0;d<h;d+=2)a[d]=0,a[d+1]=0;for(d=0;d<u;d++)r[d]!=0&&i.push({lit:d,f:r[d]});var l=i.length,f=i.slice(0);if(l==0)return 0;if(l==1){var m=i[0].lit;return f=m==0?1:0,a[1+(m<<1)]=1,a[1+(f<<1)]=1,1}i.sort((function(S,M){return S.f-M.f}));var p=i[0],b=i[1],x=0,v=1,C=2;for(i[0]={lit:-1,f:p.f+b.f,l:p,r:b,d:0};v!=l-1;)p=x!=v&&(C==l||i[x].f<i[C].f)?i[x++]:i[C++],b=x!=v&&(C==l||i[x].f<i[C].f)?i[x++]:i[C++],i[v++]={lit:-1,f:p.f+b.f,l:p,r:b};var z=s.F.setDepth(i[v-1],0);for(z>o&&(s.F.restrictDepth(f,o,z),z=o),d=0;d<l;d++)a[1+(f[d].lit<<1)]=f[d].d;return z},s.F.setDepth=function(r,a){return r.lit!=-1?(r.d=a,a):Math.max(s.F.setDepth(r.l,a+1),s.F.setDepth(r.r,a+1))},s.F.restrictDepth=function(r,a,o){var i=0,u=1<<o-a,h=0;for(r.sort((function(l,f){return f.d==l.d?l.f-f.f:f.d-l.d})),i=0;i<r.length&&r[i].d>a;i++){var d=r[i].d;r[i].d=a,h+=u-(1<<o-d)}for(h>>>=o-a;h>0;)(d=r[i].d)<a?(r[i].d++,h-=1<<a-d-1):i++;for(;i>=0;i--)r[i].d==a&&h<0&&(r[i].d--,h++);h!=0&&console.log("debt left")},s.F._goodIndex=function(r,a){var o=0;return a[16|o]<=r&&(o|=16),a[8|o]<=r&&(o|=8),a[4|o]<=r&&(o|=4),a[2|o]<=r&&(o|=2),a[1|o]<=r&&(o|=1),o},s.F._writeLit=function(r,a,o,i){return s.F._putsF(o,i,a[r<<1]),i+a[1+(r<<1)]},s.F.inflate=function(r,a){var o=Uint8Array;if(r[0]==3&&r[1]==0)return a||new o(0);var i=s.F,u=i._bitsF,h=i._bitsE,d=i._decodeTiny,l=i.makeCodes,f=i.codes2map,m=i._get17,p=i.U,b=a==null;b&&(a=new o(r.length>>>2<<3));for(var x,v,C=0,z=0,S=0,M=0,_=0,D=0,w=0,y=0,A=0;C==0;)if(C=u(r,A,1),z=u(r,A+1,2),A+=3,z!=0){if(b&&(a=s.F._check(a,y+(1<<17))),z==1&&(x=p.flmap,v=p.fdmap,D=511,w=31),z==2){S=h(r,A,5)+257,M=h(r,A+5,5)+1,_=h(r,A+10,4)+4,A+=14;for(var R=0;R<38;R+=2)p.itree[R]=0,p.itree[R+1]=0;var E=1;for(R=0;R<_;R++){var I=h(r,A+3*R,3);p.itree[1+(p.ordr[R]<<1)]=I,I>E&&(E=I)}A+=3*_,l(p.itree,E),f(p.itree,E,p.imap),x=p.lmap,v=p.dmap,A=d(p.imap,(1<<E)-1,S+M,r,A,p.ttree);var N=i._copyOut(p.ttree,0,S,p.ltree);D=(1<<N)-1;var L=i._copyOut(p.ttree,S,M,p.dtree);w=(1<<L)-1,l(p.ltree,N),f(p.ltree,N,x),l(p.dtree,L),f(p.dtree,L,v)}for(;;){var j=x[m(r,A)&D];A+=15&j;var k=j>>>4;if(!(k>>>8))a[y++]=k;else{if(k==256)break;var P=y+k-254;if(k>264){var T=p.ldef[k-257];P=y+(T>>>3)+h(r,A,7&T),A+=7&T}var F=v[m(r,A)&w];A+=15&F;var q=F>>>4,H=p.ddef[q],B=(H>>>4)+u(r,A,15&H);for(A+=15&H,b&&(a=s.F._check(a,y+(1<<17)));y<P;)a[y]=a[y++-B],a[y]=a[y++-B],a[y]=a[y++-B],a[y]=a[y++-B];y=P}}}else{(7&A)!=0&&(A+=8-(7&A));var U=4+(A>>>3),O=r[U-4]|r[U-3]<<8;b&&(a=s.F._check(a,y+O)),a.set(new o(r.buffer,r.byteOffset+U,O),y),A=U+O<<3,y+=O}return a.length==y?a:a.slice(0,y)},s.F._check=function(r,a){var o=r.length;if(a<=o)return r;var i=new Uint8Array(Math.max(o<<1,a));return i.set(r,0),i},s.F._decodeTiny=function(r,a,o,i,u,h){for(var d=s.F._bitsE,l=s.F._get17,f=0;f<o;){var m=r[l(i,u)&a];u+=15&m;var p=m>>>4;if(p<=15)h[f]=p,f++;else{var b=0,x=0;p==16?(x=3+d(i,u,2),u+=2,b=h[f-1]):p==17?(x=3+d(i,u,3),u+=3):p==18&&(x=11+d(i,u,7),u+=7);for(var v=f+x;f<v;)h[f]=b,f++}}return u},s.F._copyOut=function(r,a,o,i){for(var u=0,h=0,d=i.length>>>1;h<o;){var l=r[h+a];i[h<<1]=0,i[1+(h<<1)]=l,l>u&&(u=l),h++}for(;h<d;)i[h<<1]=0,i[1+(h<<1)]=0,h++;return u},s.F.makeCodes=function(r,a){for(var o,i,u,h,d=s.F.U,l=r.length,f=d.bl_count,m=0;m<=a;m++)f[m]=0;for(m=1;m<l;m+=2)f[r[m]]++;var p=d.next_code;for(o=0,f[0]=0,i=1;i<=a;i++)o=o+f[i-1]<<1,p[i]=o;for(u=0;u<l;u+=2)(h=r[u+1])!=0&&(r[u]=p[h],p[h]++)},s.F.codes2map=function(r,a,o){for(var i=r.length,u=s.F.U.rev15,h=0;h<i;h+=2)if(r[h+1]!=0)for(var d=h>>1,l=r[h+1],f=d<<4|l,m=a-l,p=r[h]<<m,b=p+(1<<m);p!=b;)o[u[p]>>>15-a]=f,p++},s.F.revCodes=function(r,a){for(var o=s.F.U.rev15,i=15-a,u=0;u<r.length;u+=2)r[u]=o[r[u]<<a-r[u+1]]>>>i},s.F._putsE=function(r,a,o){o<<=7&a;var i=a>>>3;r[i]|=o,r[i+1]|=o>>>8},s.F._putsF=function(r,a,o){o<<=7&a;var i=a>>>3;r[i]|=o,r[i+1]|=o>>>8,r[i+2]|=o>>>16},s.F._bitsE=function(r,a,o){return(r[a>>>3]|r[1+(a>>>3)]<<8)>>>(7&a)&(1<<o)-1},s.F._bitsF=function(r,a,o){return(r[a>>>3]|r[1+(a>>>3)]<<8|r[2+(a>>>3)]<<16)>>>(7&a)&(1<<o)-1},s.F._get17=function(r,a){return(r[a>>>3]|r[1+(a>>>3)]<<8|r[2+(a>>>3)]<<16)>>>(7&a)},s.F._get25=function(r,a){return(r[a>>>3]|r[1+(a>>>3)]<<8|r[2+(a>>>3)]<<16|r[3+(a>>>3)]<<24)>>>(7&a)},s.F.U=(e=Uint16Array,n=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new e(65536),prev:new e(32768)}),(function(){for(var r=s.F.U,a=0;a<32768;a++){var o=a;o=(4278255360&(o=(4042322160&(o=(3435973836&(o=(2863311530&o)>>>1|(1431655765&o)<<1))>>>2|(858993459&o)<<2))>>>4|(252645135&o)<<4))>>>8|(16711935&o)<<8,r.rev15[a]=(o>>>16|o<<16)>>>17}function i(u,h,d){for(;h--!=0;)u.push(0,d)}for(a=0;a<32;a++)r.ldef[a]=r.of0[a]<<3|r.exb[a],r.ddef[a]=r.df0[a]<<4|r.dxb[a];i(r.fltree,144,8),i(r.fltree,112,9),i(r.fltree,24,7),i(r.fltree,8,8),s.F.makeCodes(r.fltree,9),s.F.codes2map(r.fltree,9,r.flmap),s.F.revCodes(r.fltree,9),i(r.fdtree,32,5),s.F.makeCodes(r.fdtree,5),s.F.codes2map(r.fdtree,5,r.fdmap),s.F.revCodes(r.fdtree,5),i(r.itree,19,0),i(r.ltree,286,0),i(r.dtree,30,0),i(r.ttree,320,0)})()})();var $i=Zi({__proto__:null,default:ln},[ln]),st=(function(){var t={nextZero(d,l){for(;d[l]!=0;)l++;return l},readUshort:(d,l)=>d[l]<<8|d[l+1],writeUshort(d,l,f){d[l]=f>>8&255,d[l+1]=255&f},readUint:(d,l)=>16777216*d[l]+(d[l+1]<<16|d[l+2]<<8|d[l+3]),writeUint(d,l,f){d[l]=f>>24&255,d[l+1]=f>>16&255,d[l+2]=f>>8&255,d[l+3]=255&f},readASCII(d,l,f){let m="";for(let p=0;p<f;p++)m+=String.fromCharCode(d[l+p]);return m},writeASCII(d,l,f){for(let m=0;m<f.length;m++)d[l+m]=f.charCodeAt(m)},readBytes(d,l,f){const m=[];for(let p=0;p<f;p++)m.push(d[l+p]);return m},pad:d=>d.length<2?`0${d}`:d,readUTF8(d,l,f){let m,p="";for(let b=0;b<f;b++)p+=`%${t.pad(d[l+b].toString(16))}`;try{m=decodeURIComponent(p)}catch{return t.readASCII(d,l,f)}return m}};function e(d,l,f,m){const p=l*f,b=a(m),x=Math.ceil(l*b/8),v=new Uint8Array(4*p),C=new Uint32Array(v.buffer),{ctype:z}=m,{depth:S}=m,M=t.readUshort;if(z==6){const T=p<<2;if(S==8)for(var _=0;_<T;_+=4)v[_]=d[_],v[_+1]=d[_+1],v[_+2]=d[_+2],v[_+3]=d[_+3];if(S==16)for(_=0;_<T;_++)v[_]=d[_<<1]}else if(z==2){const T=m.tabs.tRNS;if(T==null){if(S==8)for(_=0;_<p;_++){var D=3*_;C[_]=255<<24|d[D+2]<<16|d[D+1]<<8|d[D]}if(S==16)for(_=0;_<p;_++)D=6*_,C[_]=255<<24|d[D+4]<<16|d[D+2]<<8|d[D]}else{var w=T[0];const F=T[1],q=T[2];if(S==8)for(_=0;_<p;_++){var y=_<<2;D=3*_,C[_]=255<<24|d[D+2]<<16|d[D+1]<<8|d[D],d[D]==w&&d[D+1]==F&&d[D+2]==q&&(v[y+3]=0)}if(S==16)for(_=0;_<p;_++)y=_<<2,D=6*_,C[_]=255<<24|d[D+4]<<16|d[D+2]<<8|d[D],M(d,D)==w&&M(d,D+2)==F&&M(d,D+4)==q&&(v[y+3]=0)}}else if(z==3){const T=m.tabs.PLTE,F=m.tabs.tRNS,q=F?F.length:0;if(S==1)for(var A=0;A<f;A++){var R=A*x,E=A*l;for(_=0;_<l;_++){y=E+_<<2;var I=3*(N=d[R+(_>>3)]>>7-((7&_)<<0)&1);v[y]=T[I],v[y+1]=T[I+1],v[y+2]=T[I+2],v[y+3]=N<q?F[N]:255}}if(S==2)for(A=0;A<f;A++)for(R=A*x,E=A*l,_=0;_<l;_++)y=E+_<<2,I=3*(N=d[R+(_>>2)]>>6-((3&_)<<1)&3),v[y]=T[I],v[y+1]=T[I+1],v[y+2]=T[I+2],v[y+3]=N<q?F[N]:255;if(S==4)for(A=0;A<f;A++)for(R=A*x,E=A*l,_=0;_<l;_++)y=E+_<<2,I=3*(N=d[R+(_>>1)]>>4-((1&_)<<2)&15),v[y]=T[I],v[y+1]=T[I+1],v[y+2]=T[I+2],v[y+3]=N<q?F[N]:255;if(S==8)for(_=0;_<p;_++){var N;y=_<<2,I=3*(N=d[_]),v[y]=T[I],v[y+1]=T[I+1],v[y+2]=T[I+2],v[y+3]=N<q?F[N]:255}}else if(z==4){if(S==8)for(_=0;_<p;_++){y=_<<2;var L=d[j=_<<1];v[y]=L,v[y+1]=L,v[y+2]=L,v[y+3]=d[j+1]}if(S==16)for(_=0;_<p;_++){var j;y=_<<2,L=d[j=_<<2],v[y]=L,v[y+1]=L,v[y+2]=L,v[y+3]=d[j+2]}}else if(z==0)for(w=m.tabs.tRNS?m.tabs.tRNS:-1,A=0;A<f;A++){const T=A*x,F=A*l;if(S==1)for(var k=0;k<l;k++){var P=(L=255*(d[T+(k>>>3)]>>>7-(7&k)&1))==255*w?0:255;C[F+k]=P<<24|L<<16|L<<8|L}else if(S==2)for(k=0;k<l;k++)P=(L=85*(d[T+(k>>>2)]>>>6-((3&k)<<1)&3))==85*w?0:255,C[F+k]=P<<24|L<<16|L<<8|L;else if(S==4)for(k=0;k<l;k++)P=(L=17*(d[T+(k>>>1)]>>>4-((1&k)<<2)&15))==17*w?0:255,C[F+k]=P<<24|L<<16|L<<8|L;else if(S==8)for(k=0;k<l;k++)P=(L=d[T+k])==w?0:255,C[F+k]=P<<24|L<<16|L<<8|L;else if(S==16)for(k=0;k<l;k++)L=d[T+(k<<1)],P=M(d,T+(k<<1))==w?0:255,C[F+k]=P<<24|L<<16|L<<8|L}return v}function n(d,l,f,m){const p=a(d),b=Math.ceil(f*p/8),x=new Uint8Array((b+1+d.interlace)*m);return l=d.tabs.CgBI?r(l,x):s(l,x),d.interlace==0?l=o(l,d,0,f,m):d.interlace==1&&(l=(function(C,z){const S=z.width,M=z.height,_=a(z),D=_>>3,w=Math.ceil(S*_/8),y=new Uint8Array(M*w);let A=0;const R=[0,0,4,0,2,0,1],E=[0,4,0,2,0,1,0],I=[8,8,8,4,4,2,2],N=[8,8,4,4,2,2,1];let L=0;for(;L<7;){const k=I[L],P=N[L];let T=0,F=0,q=R[L];for(;q<M;)q+=k,F++;let H=E[L];for(;H<S;)H+=P,T++;const B=Math.ceil(T*_/8);o(C,z,A,T,F);let U=0,O=R[L];for(;O<M;){let V=E[L],Z=A+U*B<<3;for(;V<S;){var j;if(_==1&&(j=(j=C[Z>>3])>>7-(7&Z)&1,y[O*w+(V>>3)]|=j<<7-((7&V)<<0)),_==2&&(j=(j=C[Z>>3])>>6-(7&Z)&3,y[O*w+(V>>2)]|=j<<6-((3&V)<<1)),_==4&&(j=(j=C[Z>>3])>>4-(7&Z)&15,y[O*w+(V>>1)]|=j<<4-((1&V)<<2)),_>=8){const X=O*w+V*D;for(let W=0;W<D;W++)y[X+W]=C[(Z>>3)+W]}Z+=_,V+=P}U++,O+=k}T*F!=0&&(A+=F*(1+B)),L+=1}return y})(l,d)),l}function s(d,l){return r(new Uint8Array(d.buffer,2,d.length-6),l)}var r=(function(){const d={H:{}};return d.H.N=function(l,f){const m=Uint8Array;let p,b,x=0,v=0,C=0,z=0,S=0,M=0,_=0,D=0,w=0;if(l[0]==3&&l[1]==0)return f||new m(0);const y=d.H,A=y.b,R=y.e,E=y.R,I=y.n,N=y.A,L=y.Z,j=y.m,k=f==null;for(k&&(f=new m(l.length>>>2<<5));x==0;)if(x=A(l,w,1),v=A(l,w+1,2),w+=3,v!=0){if(k&&(f=d.H.W(f,D+(1<<17))),v==1&&(p=j.J,b=j.h,M=511,_=31),v==2){C=R(l,w,5)+257,z=R(l,w+5,5)+1,S=R(l,w+10,4)+4,w+=14;let T=1;for(var P=0;P<38;P+=2)j.Q[P]=0,j.Q[P+1]=0;for(P=0;P<S;P++){const H=R(l,w+3*P,3);j.Q[1+(j.X[P]<<1)]=H,H>T&&(T=H)}w+=3*S,I(j.Q,T),N(j.Q,T,j.u),p=j.w,b=j.d,w=E(j.u,(1<<T)-1,C+z,l,w,j.v);const F=y.V(j.v,0,C,j.C);M=(1<<F)-1;const q=y.V(j.v,C,z,j.D);_=(1<<q)-1,I(j.C,F),N(j.C,F,p),I(j.D,q),N(j.D,q,b)}for(;;){const T=p[L(l,w)&M];w+=15&T;const F=T>>>4;if(!(F>>>8))f[D++]=F;else{if(F==256)break;{let q=D+F-254;if(F>264){const V=j.q[F-257];q=D+(V>>>3)+R(l,w,7&V),w+=7&V}const H=b[L(l,w)&_];w+=15&H;const B=H>>>4,U=j.c[B],O=(U>>>4)+A(l,w,15&U);for(w+=15&U;D<q;)f[D]=f[D++-O],f[D]=f[D++-O],f[D]=f[D++-O],f[D]=f[D++-O];D=q}}}}else{(7&w)!=0&&(w+=8-(7&w));const T=4+(w>>>3),F=l[T-4]|l[T-3]<<8;k&&(f=d.H.W(f,D+F)),f.set(new m(l.buffer,l.byteOffset+T,F),D),w=T+F<<3,D+=F}return f.length==D?f:f.slice(0,D)},d.H.W=function(l,f){const m=l.length;if(f<=m)return l;const p=new Uint8Array(m<<1);return p.set(l,0),p},d.H.R=function(l,f,m,p,b,x){const v=d.H.e,C=d.H.Z;let z=0;for(;z<m;){const S=l[C(p,b)&f];b+=15&S;const M=S>>>4;if(M<=15)x[z]=M,z++;else{let _=0,D=0;M==16?(D=3+v(p,b,2),b+=2,_=x[z-1]):M==17?(D=3+v(p,b,3),b+=3):M==18&&(D=11+v(p,b,7),b+=7);const w=z+D;for(;z<w;)x[z]=_,z++}}return b},d.H.V=function(l,f,m,p){let b=0,x=0;const v=p.length>>>1;for(;x<m;){const C=l[x+f];p[x<<1]=0,p[1+(x<<1)]=C,C>b&&(b=C),x++}for(;x<v;)p[x<<1]=0,p[1+(x<<1)]=0,x++;return b},d.H.n=function(l,f){const m=d.H.m,p=l.length;let b,x,v,C;const z=m.j;for(var S=0;S<=f;S++)z[S]=0;for(S=1;S<p;S+=2)z[l[S]]++;const M=m.K;for(b=0,z[0]=0,x=1;x<=f;x++)b=b+z[x-1]<<1,M[x]=b;for(v=0;v<p;v+=2)C=l[v+1],C!=0&&(l[v]=M[C],M[C]++)},d.H.A=function(l,f,m){const p=l.length,b=d.H.m.r;for(let x=0;x<p;x+=2)if(l[x+1]!=0){const v=x>>1,C=l[x+1],z=v<<4|C,S=f-C;let M=l[x]<<S;const _=M+(1<<S);for(;M!=_;)m[b[M]>>>15-f]=z,M++}},d.H.l=function(l,f){const m=d.H.m.r,p=15-f;for(let b=0;b<l.length;b+=2)l[b]=m[l[b]<<f-l[b+1]]>>>p},d.H.M=function(l,f,m){m<<=7&f;const p=f>>>3;l[p]|=m,l[p+1]|=m>>>8},d.H.I=function(l,f,m){m<<=7&f;const p=f>>>3;l[p]|=m,l[p+1]|=m>>>8,l[p+2]|=m>>>16},d.H.e=function(l,f,m){return(l[f>>>3]|l[1+(f>>>3)]<<8)>>>(7&f)&(1<<m)-1},d.H.b=function(l,f,m){return(l[f>>>3]|l[1+(f>>>3)]<<8|l[2+(f>>>3)]<<16)>>>(7&f)&(1<<m)-1},d.H.Z=function(l,f){return(l[f>>>3]|l[1+(f>>>3)]<<8|l[2+(f>>>3)]<<16)>>>(7&f)},d.H.i=function(l,f){return(l[f>>>3]|l[1+(f>>>3)]<<8|l[2+(f>>>3)]<<16|l[3+(f>>>3)]<<24)>>>(7&f)},d.H.m=(function(){const l=Uint16Array,f=Uint32Array;return{K:new l(16),j:new l(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new l(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new f(32),J:new l(512),_:[],h:new l(32),$:[],w:new l(32768),C:[],v:[],d:new l(32768),D:[],u:new l(512),Q:[],r:new l(32768),s:new f(286),Y:new f(30),a:new f(19),t:new f(15e3),k:new l(65536),g:new l(32768)}})(),(function(){const l=d.H.m;for(var f=0;f<32768;f++){let p=f;p=(2863311530&p)>>>1|(1431655765&p)<<1,p=(3435973836&p)>>>2|(858993459&p)<<2,p=(4042322160&p)>>>4|(252645135&p)<<4,p=(4278255360&p)>>>8|(16711935&p)<<8,l.r[f]=(p>>>16|p<<16)>>>17}function m(p,b,x){for(;b--!=0;)p.push(0,x)}for(f=0;f<32;f++)l.q[f]=l.S[f]<<3|l.T[f],l.c[f]=l.p[f]<<4|l.z[f];m(l._,144,8),m(l._,112,9),m(l._,24,7),m(l._,8,8),d.H.n(l._,9),d.H.A(l._,9,l.J),d.H.l(l._,9),m(l.$,32,5),d.H.n(l.$,5),d.H.A(l.$,5,l.h),d.H.l(l.$,5),m(l.Q,19,0),m(l.C,286,0),m(l.D,30,0),m(l.v,320,0)})(),d.H.N})();function a(d){return[1,null,3,1,2,null,4][d.ctype]*d.depth}function o(d,l,f,m,p){let b=a(l);const x=Math.ceil(m*b/8);let v,C;b=Math.ceil(b/8);let z=d[f],S=0;if(z>1&&(d[f]=[0,0,1][z-2]),z==3)for(S=b;S<x;S++)d[S+1]=d[S+1]+(d[S+1-b]>>>1)&255;for(let M=0;M<p;M++)if(v=f+M*x,C=v+M+1,z=d[C-1],S=0,z==0)for(;S<x;S++)d[v+S]=d[C+S];else if(z==1){for(;S<b;S++)d[v+S]=d[C+S];for(;S<x;S++)d[v+S]=d[C+S]+d[v+S-b]}else if(z==2)for(;S<x;S++)d[v+S]=d[C+S]+d[v+S-x];else if(z==3){for(;S<b;S++)d[v+S]=d[C+S]+(d[v+S-x]>>>1);for(;S<x;S++)d[v+S]=d[C+S]+(d[v+S-x]+d[v+S-b]>>>1)}else{for(;S<b;S++)d[v+S]=d[C+S]+i(0,d[v+S-x],0);for(;S<x;S++)d[v+S]=d[C+S]+i(d[v+S-b],d[v+S-x],d[v+S-b-x])}return d}function i(d,l,f){const m=d+l-f,p=m-d,b=m-l,x=m-f;return p*p<=b*b&&p*p<=x*x?d:b*b<=x*x?l:f}function u(d,l,f){f.width=t.readUint(d,l),l+=4,f.height=t.readUint(d,l),l+=4,f.depth=d[l],l++,f.ctype=d[l],l++,f.compress=d[l],l++,f.filter=d[l],l++,f.interlace=d[l],l++}function h(d,l,f,m,p,b,x,v,C){const z=Math.min(l,p),S=Math.min(f,b);let M=0,_=0;for(let L=0;L<S;L++)for(let j=0;j<z;j++)if(x>=0&&v>=0?(M=L*l+j<<2,_=(v+L)*p+x+j<<2):(M=(-v+L)*l-x+j<<2,_=L*p+j<<2),C==0)m[_]=d[M],m[_+1]=d[M+1],m[_+2]=d[M+2],m[_+3]=d[M+3];else if(C==1){var D=d[M+3]*.00392156862745098,w=d[M]*D,y=d[M+1]*D,A=d[M+2]*D,R=m[_+3]*(1/255),E=m[_]*R,I=m[_+1]*R,N=m[_+2]*R;const k=1-D,P=D+R*k,T=P==0?0:1/P;m[_+3]=255*P,m[_+0]=(w+E*k)*T,m[_+1]=(y+I*k)*T,m[_+2]=(A+N*k)*T}else if(C==2)D=d[M+3],w=d[M],y=d[M+1],A=d[M+2],R=m[_+3],E=m[_],I=m[_+1],N=m[_+2],D==R&&w==E&&y==I&&A==N?(m[_]=0,m[_+1]=0,m[_+2]=0,m[_+3]=0):(m[_]=w,m[_+1]=y,m[_+2]=A,m[_+3]=D);else if(C==3){if(D=d[M+3],w=d[M],y=d[M+1],A=d[M+2],R=m[_+3],E=m[_],I=m[_+1],N=m[_+2],D==R&&w==E&&y==I&&A==N)continue;if(D<220&&R>20)return!1}return!0}return{decode:function(l){const f=new Uint8Array(l);let m=8;const p=t,b=p.readUshort,x=p.readUint,v={tabs:{},frames:[]},C=new Uint8Array(f.length);let z,S=0,M=0;const _=[137,80,78,71,13,10,26,10];for(var D=0;D<8;D++)if(f[D]!=_[D])throw"The input is not a PNG file!";for(;m<f.length;){const L=p.readUint(f,m);m+=4;const j=p.readASCII(f,m,4);if(m+=4,j=="IHDR")u(f,m,v);else if(j=="iCCP"){for(var w=m;f[w]!=0;)w++;p.readASCII(f,m,w-m),f[w+1];const k=f.slice(w+2,m+L);let P=null;try{P=s(k)}catch{P=r(k)}v.tabs[j]=P}else if(j=="CgBI")v.tabs[j]=f.slice(m,m+4);else if(j=="IDAT"){for(D=0;D<L;D++)C[S+D]=f[m+D];S+=L}else if(j=="acTL")v.tabs[j]={num_frames:x(f,m),num_plays:x(f,m+4)},z=new Uint8Array(f.length);else if(j=="fcTL"){M!=0&&((N=v.frames[v.frames.length-1]).data=n(v,z.slice(0,M),N.rect.width,N.rect.height),M=0);const k={x:x(f,m+12),y:x(f,m+16),width:x(f,m+4),height:x(f,m+8)};let P=b(f,m+22);P=b(f,m+20)/(P==0?100:P);const T={rect:k,delay:Math.round(1e3*P),dispose:f[m+24],blend:f[m+25]};v.frames.push(T)}else if(j=="fdAT"){for(D=0;D<L-4;D++)z[M+D]=f[m+D+4];M+=L-4}else if(j=="pHYs")v.tabs[j]=[p.readUint(f,m),p.readUint(f,m+4),f[m+8]];else if(j=="cHRM")for(v.tabs[j]=[],D=0;D<8;D++)v.tabs[j].push(p.readUint(f,m+4*D));else if(j=="tEXt"||j=="zTXt"){v.tabs[j]??(v.tabs[j]={});var y=p.nextZero(f,m),A=p.readASCII(f,m,y-m),R=m+L-y-1;if(j=="tEXt")I=p.readASCII(f,y+1,R);else{var E=s(f.slice(y+2,y+2+R));I=p.readUTF8(E,0,E.length)}v.tabs[j][A]=I}else if(j=="iTXt"){v.tabs[j]??(v.tabs[j]={}),y=0,w=m,y=p.nextZero(f,w),A=p.readASCII(f,w,y-w);const k=f[w=y+1];var I;f[w+1],w+=2,y=p.nextZero(f,w),p.readASCII(f,w,y-w),w=y+1,y=p.nextZero(f,w),p.readUTF8(f,w,y-w),R=L-((w=y+1)-m),k==0?I=p.readUTF8(f,w,R):(E=s(f.slice(w,w+R)),I=p.readUTF8(E,0,E.length)),v.tabs[j][A]=I}else if(j=="PLTE")v.tabs[j]=p.readBytes(f,m,L);else if(j=="hIST"){const k=v.tabs.PLTE.length/3;for(v.tabs[j]=[],D=0;D<k;D++)v.tabs[j].push(b(f,m+2*D))}else if(j=="tRNS")v.ctype==3?v.tabs[j]=p.readBytes(f,m,L):v.ctype==0?v.tabs[j]=b(f,m):v.ctype==2&&(v.tabs[j]=[b(f,m),b(f,m+2),b(f,m+4)]);else if(j=="gAMA")v.tabs[j]=p.readUint(f,m)/1e5;else if(j=="sRGB")v.tabs[j]=f[m];else if(j=="bKGD")v.ctype==0||v.ctype==4?v.tabs[j]=[b(f,m)]:v.ctype==2||v.ctype==6?v.tabs[j]=[b(f,m),b(f,m+2),b(f,m+4)]:v.ctype==3&&(v.tabs[j]=f[m]);else if(j=="IEND")break;m+=L,p.readUint(f,m),m+=4}var N;return M!=0&&((N=v.frames[v.frames.length-1]).data=n(v,z.slice(0,M),N.rect.width,N.rect.height)),v.data=n(v,C,v.width,v.height),delete v.compress,delete v.interlace,delete v.filter,v},toRGBA8:function(l){const f=l.width,m=l.height;if(l.tabs.acTL==null)return[e(l.data,f,m,l).buffer];const p=[];l.frames[0].data??(l.frames[0].data=l.data);const b=f*m*4,x=new Uint8Array(b),v=new Uint8Array(b),C=new Uint8Array(b);for(let S=0;S<l.frames.length;S++){const M=l.frames[S],_=M.rect.x,D=M.rect.y,w=M.rect.width,y=M.rect.height,A=e(M.data,w,y,l);if(S!=0)for(var z=0;z<b;z++)C[z]=x[z];if(M.blend==0?h(A,w,y,x,f,m,_,D,0):M.blend==1&&h(A,w,y,x,f,m,_,D,1),p.push(x.buffer.slice(0)),M.dispose!=0){if(M.dispose==1)h(v,w,y,x,f,m,_,D,0);else if(M.dispose==2)for(z=0;z<b;z++)x[z]=C[z]}}return p},_paeth:i,_copyTile:h,_bin:t}})();(function(){const{_copyTile:t}=st,{_bin:e}=st,n=st._paeth;var s={table:(function(){const w=new Uint32Array(256);for(let y=0;y<256;y++){let A=y;for(let R=0;R<8;R++)1&A?A=3988292384^A>>>1:A>>>=1;w[y]=A}return w})(),update(w,y,A,R){for(let E=0;E<R;E++)w=s.table[255&(w^y[A+E])]^w>>>8;return w},crc:(w,y,A)=>4294967295^s.update(4294967295,w,y,A)};function r(w,y,A,R){y[A]+=w[0]*R>>4,y[A+1]+=w[1]*R>>4,y[A+2]+=w[2]*R>>4,y[A+3]+=w[3]*R>>4}function a(w){return Math.max(0,Math.min(255,w))}function o(w,y){const A=w[0]-y[0],R=w[1]-y[1],E=w[2]-y[2],I=w[3]-y[3];return A*A+R*R+E*E+I*I}function i(w,y,A,R,E,I,N){N??=1;const L=R.length,j=[];for(var k=0;k<L;k++){const O=R[k];j.push([O>>>0&255,O>>>8&255,O>>>16&255,O>>>24&255])}for(k=0;k<L;k++){let O=4294967295;for(var P=0,T=0;T<L;T++){var F=o(j[k],j[T]);T!=k&&F<O&&(O=F,P=T)}}const q=new Uint32Array(E.buffer),H=new Int16Array(y*A*4),B=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(k=0;k<B.length;k++)B[k]=255*((B[k]+.5)/16-.5);for(let O=0;O<A;O++)for(let V=0;V<y;V++){var U;k=4*(O*y+V),N!=2?U=[a(w[k]+H[k]),a(w[k+1]+H[k+1]),a(w[k+2]+H[k+2]),a(w[k+3]+H[k+3])]:(F=B[4*(3&O)+(3&V)],U=[a(w[k]+F),a(w[k+1]+F),a(w[k+2]+F),a(w[k+3]+F)]),P=0;let Z=16777215;for(T=0;T<L;T++){const ee=o(U,j[T]);ee<Z&&(Z=ee,P=T)}const X=j[P],W=[U[0]-X[0],U[1]-X[1],U[2]-X[2],U[3]-X[3]];N==1&&(V!=y-1&&r(W,H,k+4,7),O!=A-1&&(V!=0&&r(W,H,k+4*y-4,3),r(W,H,k+4*y,5),V!=y-1&&r(W,H,k+4*y+4,1))),I[k>>2]=P,q[k>>2]=R[P]}}function u(w,y,A,R,E){E??={};const{crc:I}=s,N=e.writeUint,L=e.writeUshort,j=e.writeASCII;let k=8;const P=w.frames.length>1;let T,F=!1,q=33+(P?20:0);if(E.sRGB!=null&&(q+=13),E.pHYs!=null&&(q+=21),E.iCCP!=null&&(T=pako.deflate(E.iCCP),q+=21+T.length+4),w.ctype==3){for(var H=w.plte.length,B=0;B<H;B++)w.plte[B]>>>24!=255&&(F=!0);q+=8+3*H+4+(F?8+1*H+4:0)}for(var U=0;U<w.frames.length;U++)P&&(q+=38),q+=(X=w.frames[U]).cimg.length+12,U!=0&&(q+=4);q+=12;const O=new Uint8Array(q),V=[137,80,78,71,13,10,26,10];for(B=0;B<8;B++)O[B]=V[B];if(N(O,k,13),k+=4,j(O,k,"IHDR"),k+=4,N(O,k,y),k+=4,N(O,k,A),k+=4,O[k]=w.depth,k++,O[k]=w.ctype,k++,O[k]=0,k++,O[k]=0,k++,O[k]=0,k++,N(O,k,I(O,k-17,17)),k+=4,E.sRGB!=null&&(N(O,k,1),k+=4,j(O,k,"sRGB"),k+=4,O[k]=E.sRGB,k++,N(O,k,I(O,k-5,5)),k+=4),E.iCCP!=null){const W=13+T.length;N(O,k,W),k+=4,j(O,k,"iCCP"),k+=4,j(O,k,"ICC profile"),k+=11,k+=2,O.set(T,k),k+=T.length,N(O,k,I(O,k-(W+4),W+4)),k+=4}if(E.pHYs!=null&&(N(O,k,9),k+=4,j(O,k,"pHYs"),k+=4,N(O,k,E.pHYs[0]),k+=4,N(O,k,E.pHYs[1]),k+=4,O[k]=E.pHYs[2],k++,N(O,k,I(O,k-13,13)),k+=4),P&&(N(O,k,8),k+=4,j(O,k,"acTL"),k+=4,N(O,k,w.frames.length),k+=4,N(O,k,E.loop!=null?E.loop:0),k+=4,N(O,k,I(O,k-12,12)),k+=4),w.ctype==3){for(N(O,k,3*(H=w.plte.length)),k+=4,j(O,k,"PLTE"),k+=4,B=0;B<H;B++){const W=3*B,ee=w.plte[B],K=255&ee,Q=ee>>>8&255,te=ee>>>16&255;O[k+W+0]=K,O[k+W+1]=Q,O[k+W+2]=te}if(k+=3*H,N(O,k,I(O,k-3*H-4,3*H+4)),k+=4,F){for(N(O,k,H),k+=4,j(O,k,"tRNS"),k+=4,B=0;B<H;B++)O[k+B]=w.plte[B]>>>24&255;k+=H,N(O,k,I(O,k-H-4,H+4)),k+=4}}let Z=0;for(U=0;U<w.frames.length;U++){var X=w.frames[U];P&&(N(O,k,26),k+=4,j(O,k,"fcTL"),k+=4,N(O,k,Z++),k+=4,N(O,k,X.rect.width),k+=4,N(O,k,X.rect.height),k+=4,N(O,k,X.rect.x),k+=4,N(O,k,X.rect.y),k+=4,L(O,k,R[U]),k+=2,L(O,k,1e3),k+=2,O[k]=X.dispose,k++,O[k]=X.blend,k++,N(O,k,I(O,k-30,30)),k+=4);const W=X.cimg;N(O,k,(H=W.length)+(U==0?0:4)),k+=4;const ee=k;j(O,k,U==0?"IDAT":"fdAT"),k+=4,U!=0&&(N(O,k,Z++),k+=4),O.set(W,k),k+=H,N(O,k,I(O,ee,k-ee)),k+=4}return N(O,k,0),k+=4,j(O,k,"IEND"),k+=4,N(O,k,I(O,k-4,4)),k+=4,O.buffer}function h(w,y,A){for(let R=0;R<w.frames.length;R++){const E=w.frames[R];E.rect.width;const I=E.rect.height,N=new Uint8Array(I*E.bpl+I);E.cimg=m(E.img,I,E.bpp,E.bpl,N,y,A)}}function d(w,y,A,R,E){const I=E[0],N=E[1],L=E[2],j=E[3],k=E[4],P=E[5];let T=6,F=8,q=255;for(var H=0;H<w.length;H++){const ne=new Uint8Array(w[H]);for(var B=ne.length,U=0;U<B;U+=4)q&=ne[U+3]}const O=q!=255,V=(function(re,le,ae,be,ye,ce){const ve=[];for(var me=0;me<re.length;me++){const de=new Uint8Array(re[me]),Se=new Uint32Array(de.buffer);var _e;let ke=0,ze=0,Ee=le,Me=ae,Ke=be?1:0;if(me!=0){const se=ce||be||me==1||ve[me-2].dispose!=0?1:2;let xe=0,je=1e9;for(let Ae=0;Ae<se;Ae++){var Ce=new Uint8Array(re[me-1-Ae]);const Te=new Uint32Array(re[me-1-Ae]);let De=le,Ne=ae,$=-1,he=-1;for(let ge=0;ge<ae;ge++)for(let fe=0;fe<le;fe++)Se[Re=ge*le+fe]!=Te[Re]&&(fe<De&&(De=fe),fe>$&&($=fe),ge<Ne&&(Ne=ge),ge>he&&(he=ge));$==-1&&(De=Ne=$=he=0),ye&&((1&De)==1&&De--,(1&Ne)==1&&Ne--);const ue=($-De+1)*(he-Ne+1);ue<je&&(je=ue,xe=Ae,ke=De,ze=Ne,Ee=$-De+1,Me=he-Ne+1)}Ce=new Uint8Array(re[me-1-xe]),xe==1&&(ve[me-1].dispose=2),_e=new Uint8Array(Ee*Me*4),t(Ce,le,ae,_e,Ee,Me,-ke,-ze,0),Ke=t(de,le,ae,_e,Ee,Me,-ke,-ze,3)?1:0,Ke==1?f(de,le,ae,_e,{x:ke,y:ze,width:Ee,height:Me}):t(de,le,ae,_e,Ee,Me,-ke,-ze,0)}else _e=de.slice(0);ve.push({rect:{x:ke,y:ze,width:Ee,height:Me},img:_e,blend:Ke,dispose:0})}if(be)for(me=0;me<ve.length;me++){if((Ie=ve[me]).blend==1)continue;const de=Ie.rect,Se=ve[me-1].rect,ke=Math.min(de.x,Se.x),ze=Math.min(de.y,Se.y),Ee={x:ke,y:ze,width:Math.max(de.x+de.width,Se.x+Se.width)-ke,height:Math.max(de.y+de.height,Se.y+Se.height)-ze};ve[me-1].dispose=1,me-1!=0&&l(re,le,ae,ve,me-1,Ee,ye),l(re,le,ae,ve,me,Ee,ye)}let we=0;if(re.length!=1)for(var Re=0;Re<ve.length;Re++){var Ie;we+=(Ie=ve[Re]).rect.width*Ie.rect.height}return ve})(w,y,A,I,N,L),Z={},X=[],W=[];if(R!=0){const ne=[];for(U=0;U<V.length;U++)ne.push(V[U].img.buffer);const re=b((function(be){let ye=0;for(var ce=0;ce<be.length;ce++)ye+=be[ce].byteLength;const ve=new Uint8Array(ye);let me=0;for(ce=0;ce<be.length;ce++){const _e=new Uint8Array(be[ce]),Ce=_e.length;for(let we=0;we<Ce;we+=4){let Re=_e[we],Ie=_e[we+1],de=_e[we+2];const Se=_e[we+3];Se==0&&(Re=Ie=de=0),ve[me+we]=Re,ve[me+we+1]=Ie,ve[me+we+2]=de,ve[me+we+3]=Se}me+=Ce}return ve.buffer})(ne),R);for(U=0;U<re.plte.length;U++)X.push(re.plte[U].est.rgba);let le=0;for(U=0;U<V.length;U++){const ae=(K=V[U]).img.length;var ee=new Uint8Array(re.inds.buffer,le>>2,ae>>2);W.push(ee);const be=new Uint8Array(re.abuf,le,ae);P&&i(K.img,K.rect.width,K.rect.height,X,be,ee),K.img.set(be),le+=ae}}else for(H=0;H<V.length;H++){var K=V[H];const ne=new Uint32Array(K.img.buffer);var Q=K.rect.width;for(B=ne.length,ee=new Uint8Array(B),W.push(ee),U=0;U<B;U++){const re=ne[U];if(U!=0&&re==ne[U-1])ee[U]=ee[U-1];else if(U>Q&&re==ne[U-Q])ee[U]=ee[U-Q];else{let le=Z[re];if(le==null&&(Z[re]=le=X.length,X.push(re),X.length>=300))break;ee[U]=le}}}const te=X.length;for(te<=256&&k==0&&(F=te<=2?1:te<=4?2:te<=16?4:8,F=Math.max(F,j)),H=0;H<V.length;H++){(K=V[H]).rect.x,K.rect.y,Q=K.rect.width;const ne=K.rect.height;let re=K.img;new Uint32Array(re.buffer);let le=4*Q,ae=4;if(te<=256&&k==0){le=Math.ceil(F*Q/8);var J=new Uint8Array(le*ne);const be=W[H];for(let ye=0;ye<ne;ye++){U=ye*le;const ce=ye*Q;if(F==8)for(var G=0;G<Q;G++)J[U+G]=be[ce+G];else if(F==4)for(G=0;G<Q;G++)J[U+(G>>1)]|=be[ce+G]<<4-4*(1&G);else if(F==2)for(G=0;G<Q;G++)J[U+(G>>2)]|=be[ce+G]<<6-2*(3&G);else if(F==1)for(G=0;G<Q;G++)J[U+(G>>3)]|=be[ce+G]<<7-1*(7&G)}re=J,T=3,ae=1}else if(O==0&&V.length==1){J=new Uint8Array(Q*ne*3);const be=Q*ne;for(U=0;U<be;U++){const ye=3*U,ce=4*U;J[ye]=re[ce],J[ye+1]=re[ce+1],J[ye+2]=re[ce+2]}re=J,T=2,ae=3,le=3*Q}K.img=re,K.bpl=le,K.bpp=ae}return{ctype:T,depth:F,plte:X,frames:V}}function l(w,y,A,R,E,I,N){const L=Uint8Array,j=Uint32Array,k=new L(w[E-1]),P=new j(w[E-1]),T=E+1<w.length?new L(w[E+1]):null,F=new L(w[E]),q=new j(F.buffer);let H=y,B=A,U=-1,O=-1;for(let Z=0;Z<I.height;Z++)for(let X=0;X<I.width;X++){const W=I.x+X,ee=I.y+Z,K=ee*y+W,Q=q[K];Q==0||R[E-1].dispose==0&&P[K]==Q&&(T==null||T[4*K+3]!=0)||(W<H&&(H=W),W>U&&(U=W),ee<B&&(B=ee),ee>O&&(O=ee))}U==-1&&(H=B=U=O=0),N&&((1&H)==1&&H--,(1&B)==1&&B--),I={x:H,y:B,width:U-H+1,height:O-B+1};const V=R[E];V.rect=I,V.blend=1,V.img=new Uint8Array(I.width*I.height*4),R[E-1].dispose==0?(t(k,y,A,V.img,I.width,I.height,-I.x,-I.y,0),f(F,y,A,V.img,I)):t(F,y,A,V.img,I.width,I.height,-I.x,-I.y,0)}function f(w,y,A,R,E){t(w,y,A,R,E.width,E.height,-E.x,-E.y,2)}function m(w,y,A,R,E,I,N){const L=[];let j,k=[0,1,2,3,4];I!=-1?k=[I]:(y*R>5e5||A==1)&&(k=[0]),N&&(j={level:0});const P=$i;for(var T=0;T<k.length;T++){for(let H=0;H<y;H++)p(E,w,H,R,A,k[T]);L.push(P.deflate(E,j))}let F,q=1e9;for(T=0;T<L.length;T++)L[T].length<q&&(F=T,q=L[T].length);return L[F]}function p(w,y,A,R,E,I){const N=A*R;let L=N+A;if(w[L]=I,L++,I==0)if(R<500)for(var j=0;j<R;j++)w[L+j]=y[N+j];else w.set(new Uint8Array(y.buffer,N,R),L);else if(I==1){for(j=0;j<E;j++)w[L+j]=y[N+j];for(j=E;j<R;j++)w[L+j]=y[N+j]-y[N+j-E]+256&255}else if(A==0){for(j=0;j<E;j++)w[L+j]=y[N+j];if(I==2)for(j=E;j<R;j++)w[L+j]=y[N+j];if(I==3)for(j=E;j<R;j++)w[L+j]=y[N+j]-(y[N+j-E]>>1)+256&255;if(I==4)for(j=E;j<R;j++)w[L+j]=y[N+j]-n(y[N+j-E],0,0)+256&255}else{if(I==2)for(j=0;j<R;j++)w[L+j]=y[N+j]+256-y[N+j-R]&255;if(I==3){for(j=0;j<E;j++)w[L+j]=y[N+j]+256-(y[N+j-R]>>1)&255;for(j=E;j<R;j++)w[L+j]=y[N+j]+256-(y[N+j-R]+y[N+j-E]>>1)&255}if(I==4){for(j=0;j<E;j++)w[L+j]=y[N+j]+256-n(0,y[N+j-R],0)&255;for(j=E;j<R;j++)w[L+j]=y[N+j]+256-n(y[N+j-E],y[N+j-R],y[N+j-E-R])&255}}}function b(w,y){const A=new Uint8Array(w),R=A.slice(0),E=new Uint32Array(R.buffer),I=x(R,y),N=I[0],L=I[1],j=A.length,k=new Uint8Array(j>>2);let P;if(A.length<2e7)for(var T=0;T<j;T+=4)P=v(N,F=A[T]*(1/255),q=A[T+1]*(1/255),H=A[T+2]*(1/255),B=A[T+3]*(1/255)),k[T>>2]=P.ind,E[T>>2]=P.est.rgba;else for(T=0;T<j;T+=4){var F=A[T]*.00392156862745098,q=A[T+1]*(1/255),H=A[T+2]*(1/255),B=A[T+3]*(1/255);for(P=N;P.left;)P=C(P.est,F,q,H,B)<=0?P.left:P.right;k[T>>2]=P.ind,E[T>>2]=P.est.rgba}return{abuf:R.buffer,inds:k,plte:L}}function x(w,y,A){A??=1e-4;const R=new Uint32Array(w.buffer),E={i0:0,i1:w.length,bst:null,est:null,tdst:0,left:null,right:null};E.bst=M(w,E.i0,E.i1),E.est=_(E.bst);const I=[E];for(;I.length<y;){let L=0,j=0;for(var N=0;N<I.length;N++)I[N].est.L>L&&(L=I[N].est.L,j=N);if(L<A)break;const k=I[j],P=z(w,R,k.i0,k.i1,k.est.e,k.est.eMq255);if(k.i0>=P||k.i1<=P){k.est.L=0;continue}const T={i0:k.i0,i1:P,bst:null,est:null,tdst:0,left:null,right:null};T.bst=M(w,T.i0,T.i1),T.est=_(T.bst);const F={i0:P,i1:k.i1,bst:null,est:null,tdst:0,left:null,right:null};for(F.bst={R:[],m:[],N:k.bst.N-T.bst.N},N=0;N<16;N++)F.bst.R[N]=k.bst.R[N]-T.bst.R[N];for(N=0;N<4;N++)F.bst.m[N]=k.bst.m[N]-T.bst.m[N];F.est=_(F.bst),k.left=T,k.right=F,I[j]=T,I.push(F)}for(I.sort(((L,j)=>j.bst.N-L.bst.N)),N=0;N<I.length;N++)I[N].ind=N;return[E,I]}function v(w,y,A,R,E){if(w.left==null)return w.tdst=(function(T,F,q,H,B){const U=F-T[0],O=q-T[1],V=H-T[2],Z=B-T[3];return U*U+O*O+V*V+Z*Z})(w.est.q,y,A,R,E),w;const I=C(w.est,y,A,R,E);let N=w.left,L=w.right;I>0&&(N=w.right,L=w.left);const j=v(N,y,A,R,E);if(j.tdst<=I*I)return j;const k=v(L,y,A,R,E);return k.tdst<j.tdst?k:j}function C(w,y,A,R,E){const{e:I}=w;return I[0]*y+I[1]*A+I[2]*R+I[3]*E-w.eMq}function z(w,y,A,R,E,I){for(R-=4;A<R;){for(;S(w,A,E)<=I;)A+=4;for(;S(w,R,E)>I;)R-=4;if(A>=R)break;const N=y[A>>2];y[A>>2]=y[R>>2],y[R>>2]=N,A+=4,R-=4}for(;S(w,A,E)>I;)A-=4;return A+4}function S(w,y,A){return w[y]*A[0]+w[y+1]*A[1]+w[y+2]*A[2]+w[y+3]*A[3]}function M(w,y,A){const R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],E=[0,0,0,0],I=A-y>>2;for(let N=y;N<A;N+=4){const L=w[N]*.00392156862745098,j=w[N+1]*(1/255),k=w[N+2]*(1/255),P=w[N+3]*(1/255);E[0]+=L,E[1]+=j,E[2]+=k,E[3]+=P,R[0]+=L*L,R[1]+=L*j,R[2]+=L*k,R[3]+=L*P,R[5]+=j*j,R[6]+=j*k,R[7]+=j*P,R[10]+=k*k,R[11]+=k*P,R[15]+=P*P}return R[4]=R[1],R[8]=R[2],R[9]=R[6],R[12]=R[3],R[13]=R[7],R[14]=R[11],{R,m:E,N:I}}function _(w){const{R:y}=w,{m:A}=w,{N:R}=w,E=A[0],I=A[1],N=A[2],L=A[3],j=R==0?0:1/R,k=[y[0]-E*E*j,y[1]-E*I*j,y[2]-E*N*j,y[3]-E*L*j,y[4]-I*E*j,y[5]-I*I*j,y[6]-I*N*j,y[7]-I*L*j,y[8]-N*E*j,y[9]-N*I*j,y[10]-N*N*j,y[11]-N*L*j,y[12]-L*E*j,y[13]-L*I*j,y[14]-L*N*j,y[15]-L*L*j],P=k,T=D;let F=[Math.random(),Math.random(),Math.random(),Math.random()],q=0,H=0;if(R!=0)for(let U=0;U<16&&(F=T.multVec(P,F),H=Math.sqrt(T.dot(F,F)),F=T.sml(1/H,F),!(U!=0&&Math.abs(H-q)<1e-9));U++)q=H;const B=[E*j,I*j,N*j,L*j];return{Cov:k,q:B,e:F,L:q,eMq255:T.dot(T.sml(255,B),F),eMq:T.dot(F,B),rgba:(Math.round(255*B[3])<<24|Math.round(255*B[2])<<16|Math.round(255*B[1])<<8|Math.round(255*B[0])<<0)>>>0}}var D={multVec:(w,y)=>[w[0]*y[0]+w[1]*y[1]+w[2]*y[2]+w[3]*y[3],w[4]*y[0]+w[5]*y[1]+w[6]*y[2]+w[7]*y[3],w[8]*y[0]+w[9]*y[1]+w[10]*y[2]+w[11]*y[3],w[12]*y[0]+w[13]*y[1]+w[14]*y[2]+w[15]*y[3]],dot:(w,y)=>w[0]*y[0]+w[1]*y[1]+w[2]*y[2]+w[3]*y[3],sml:(w,y)=>[w*y[0],w*y[1],w*y[2],w*y[3]]};st.encode=function(y,A,R,E,I,N,L){E??=0,L??=!1;const j=d(y,A,R,E,[!1,!1,!1,0,L,!1]);return h(j,-1),u(j,A,R,I,N)},st.encodeLL=function(y,A,R,E,I,N,L,j){const k={ctype:0+(E==1?0:2)+(I==0?0:4),depth:N,frames:[]},P=(E+I)*N,T=P*A;for(let F=0;F<y.length;F++)k.frames.push({rect:{x:0,y:0,width:A,height:R},img:new Uint8Array(y[F]),blend:0,dispose:1,bpp:Math.ceil(P/8),bpl:Math.ceil(T/8)});return h(k,0,!0),u(k,A,R,L,j)},st.encode.compress=d,st.encode.dither=i,st.quantize=b,st.quantize.getKDtree=x,st.quantize.getNearest=v})();var gs={toArrayBuffer(t,e){const n=t.width,s=t.height,r=n<<2,a=t.getContext("2d").getImageData(0,0,n,s),o=new Uint32Array(a.data.buffer),i=(32*n+31)/32<<2,u=i*s,h=122+u,d=new ArrayBuffer(h),l=new DataView(d),f=1<<20;let m,p,b,x,v=f,C=0,z=0,S=0;function M(w){l.setUint16(z,w,!0),z+=2}function _(w){l.setUint32(z,w,!0),z+=4}function D(w){z+=w}M(19778),_(h),D(4),_(122),_(108),_(n),_(-s>>>0),M(1),M(32),_(3),_(u),_(2835),_(2835),D(8),_(16711680),_(65280),_(255),_(4278190080),_(1466527264),(function w(){for(;C<s&&v>0;){for(x=122+C*i,m=0;m<r;)v--,p=o[S++],b=p>>>24,l.setUint32(x+m,p<<8|b),m+=4;C++}S<o.length?(v=f,setTimeout(w,gs._dly)):e(d)})()},toBlob(t,e){this.toArrayBuffer(t,(n=>{e(new Blob([n],{type:"image/bmp"}))}))},_dly:9},Ye={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},el={[Ye.CHROME]:16384,[Ye.FIREFOX]:11180,[Ye.DESKTOP_SAFARI]:16384,[Ye.IE]:8192,[Ye.IOS]:4096,[Ye.ETC]:8192},qn=typeof window<"u",vs=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,cn=qn&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),tl=(qn||vs)&&(cn&&cn.getOriginalSymbol(window,"File")||typeof File<"u"&&File),bs=(qn||vs)&&(cn&&cn.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Wn(t,e,n=Date.now()){return new Promise((s=>{const r=t.split(","),a=r[0].match(/:(.*?);/)[1],o=globalThis.atob(r[1]);let i=o.length;const u=new Uint8Array(i);for(;i--;)u[i]=o.charCodeAt(i);const h=new Blob([u],{type:a});h.name=e,h.lastModified=n,s(h)}))}function xs(t){return new Promise(((e,n)=>{const s=new bs;s.onload=()=>e(s.result),s.onerror=r=>n(r),s.readAsDataURL(t)}))}function ys(t){return new Promise(((e,n)=>{const s=new Image;s.onload=()=>e(s),s.onerror=r=>n(r),s.src=t}))}function _t(){if(_t.cachedResult!==void 0)return _t.cachedResult;let t=Ye.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=Ye.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=Ye.IOS:/Safari/i.test(e)?t=Ye.DESKTOP_SAFARI:/Firefox/i.test(e)?t=Ye.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=Ye.IE),_t.cachedResult=t,_t.cachedResult}function ws(t,e){const n=el[_t()];let s=t,r=e,a=s*r;const o=s>r?r/s:s/r;for(;a>n*n;){const i=(n+s)/2,u=(n+r)/2;i<u?(r=u,s=u*o):(r=i*o,s=i),a=s*r}return{width:s,height:r}}function xn(t,e){let n,s;try{if(n=new OffscreenCanvas(t,e),s=n.getContext("2d"),s===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),s=n.getContext("2d")}return n.width=t,n.height=e,[n,s]}function js(t,e){const{width:n,height:s}=ws(t.width,t.height),[r,a]=xn(n,s);return e&&/jpe?g/.test(e)&&(a.fillStyle="white",a.fillRect(0,0,r.width,r.height)),a.drawImage(t,0,0,r.width,r.height),r}function sn(){return sn.cachedResult!==void 0||(sn.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),sn.cachedResult}function dn(t,e={}){return new Promise((function(n,s){let r,a;var o=function(){try{return a=js(r,e.fileType||t.type),n([r,a])}catch(u){return s(u)}},i=function(u){try{var h=function(d){try{throw d}catch(l){return s(l)}};try{let d;return xs(t).then((function(l){try{return d=l,ys(d).then((function(f){try{return r=f,(function(){try{return o()}catch(m){return s(m)}})()}catch(m){return h(m)}}),h)}catch(f){return h(f)}}),h)}catch(d){h(d)}}catch(d){return s(d)}};try{if(sn()||[Ye.DESKTOP_SAFARI,Ye.MOBILE_SAFARI].includes(_t()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then((function(u){try{return r=u,o()}catch{return i()}}),i)}catch{i()}}))}function un(t,e,n,s,r=1){return new Promise((function(a,o){let i;if(e==="image/png"){let h,d,l;return h=t.getContext("2d"),{data:d}=h.getImageData(0,0,t.width,t.height),l=st.encode([d.buffer],t.width,t.height,4096*r),i=new Blob([l],{type:e}),i.name=n,i.lastModified=s,u.call(this)}{let h=function(){return u.call(this)};if(e==="image/bmp")return new Promise((d=>gs.toBlob(t,d))).then(function(d){try{return i=d,i.name=n,i.lastModified=s,h.call(this)}catch(l){return o(l)}}.bind(this),o);{let d=function(){return h.call(this)};if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:r}).then(function(l){try{return i=l,i.name=n,i.lastModified=s,d.call(this)}catch(f){return o(f)}}.bind(this),o);{let l;return l=t.toDataURL(e,r),Wn(l,n,s).then(function(f){try{return i=f,d.call(this)}catch(m){return o(m)}}.bind(this),o)}}}function u(){return a(i)}}))}function lt(t){t.width=0,t.height=0}function Rt(){return new Promise((function(t,e){let n,s,r,a;return Rt.cachedResult!==void 0?t(Rt.cachedResult):Wn("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then((function(o){try{return n=o,dn(n).then((function(i){try{return s=i[1],un(s,n.type,n.name,n.lastModified).then((function(u){try{return r=u,lt(s),dn(r).then((function(h){try{return a=h[0],Rt.cachedResult=a.width===1&&a.height===2,t(Rt.cachedResult)}catch(d){return e(d)}}),e)}catch(h){return e(h)}}),e)}catch(u){return e(u)}}),e)}catch(i){return e(i)}}),e)}))}function ks(t){return new Promise(((e,n)=>{const s=new bs;s.onload=r=>{const a=new DataView(r.target.result);if(a.getUint16(0,!1)!=65496)return e(-2);const o=a.byteLength;let i=2;for(;i<o;){if(a.getUint16(i+2,!1)<=8)return e(-1);const u=a.getUint16(i,!1);if(i+=2,u==65505){if(a.getUint32(i+=2,!1)!=1165519206)return e(-1);const h=a.getUint16(i+=6,!1)==18761;i+=a.getUint32(i+4,h);const d=a.getUint16(i,h);i+=2;for(let l=0;l<d;l++)if(a.getUint16(i+12*l,h)==274)return e(a.getUint16(i+12*l+8,h))}else{if((65280&u)!=65280)break;i+=a.getUint16(i,!1)}}return e(-1)},s.onerror=r=>n(r),s.readAsArrayBuffer(t)}))}function _s(t,e){const{width:n}=t,{height:s}=t,{maxWidthOrHeight:r}=e;let a,o=t;return isFinite(r)&&(n>r||s>r)&&([o,a]=xn(n,s),n>s?(o.width=r,o.height=s/n*r):(o.width=n/s*r,o.height=r),a.drawImage(t,0,0,o.width,o.height),lt(t)),o}function Cs(t,e){const{width:n}=t,{height:s}=t,[r,a]=xn(n,s);switch(e>4&&e<9?(r.width=s,r.height=n):(r.width=n,r.height=s),e){case 2:a.transform(-1,0,0,1,n,0);break;case 3:a.transform(-1,0,0,-1,n,s);break;case 4:a.transform(1,0,0,-1,0,s);break;case 5:a.transform(0,1,1,0,0,0);break;case 6:a.transform(0,1,-1,0,s,0);break;case 7:a.transform(0,-1,-1,0,s,n);break;case 8:a.transform(0,-1,1,0,0,n)}return a.drawImage(t,0,0,n,s),lt(t),r}function dr(t,e,n=0){return new Promise((function(s,r){let a,o,i,u,h,d,l,f,m,p,b,x,v,C,z,S,M,_,D,w;function y(R=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;a+=R,e.onProgress(Math.min(a,100))}function A(R){if(e.signal&&e.signal.aborted)throw e.signal.reason;a=Math.min(Math.max(R,a),100),e.onProgress(a)}return a=n,o=e.maxIteration||10,i=1024*e.maxSizeMB*1024,y(),dn(t,e).then(function(R){try{return[,u]=R,y(),h=_s(u,e),y(),new Promise((function(E,I){var N;if(!(N=e.exifOrientation))return ks(t).then(function(j){try{return N=j,L.call(this)}catch(k){return I(k)}}.bind(this),I);function L(){return E(N)}return L.call(this)})).then(function(E){try{return d=E,y(),Rt().then(function(I){try{return l=I?h:Cs(h,d),y(),f=e.initialQuality||1,m=e.fileType||t.type,un(l,m,t.name,t.lastModified,f).then(function(N){try{{let j=function(){if(o--&&(z>i||z>v)){let P,T;return P=w?.95*D.width:D.width,T=w?.95*D.height:D.height,[M,_]=xn(P,T),_.drawImage(D,0,0,P,T),f*=m==="image/png"?.85:.95,un(M,m,t.name,t.lastModified,f).then((function(F){try{return S=F,lt(D),D=M,z=S.size,A(Math.min(99,Math.floor((C-z)/(C-i)*100))),j}catch(q){return r(q)}}),r)}return[1]},k=function(){return lt(D),lt(M),lt(h),lt(l),lt(u),A(100),s(S)};if(p=N,y(),b=p.size>i,x=p.size>t.size,!b&&!x)return A(100),s(p);var L;return v=t.size,C=p.size,z=C,D=l,w=!e.alwaysKeepResolution&&b,(L=function(P){for(;P;){if(P.then)return void P.then(L,r);try{if(P.pop){if(P.length)return P.pop()?k.call(this):P;P=j}else P=P.call(this)}catch(T){return r(T)}}}.bind(this))(j)}}catch(j){return r(j)}}.bind(this),r)}catch(N){return r(N)}}.bind(this),r)}catch(I){return r(I)}}.bind(this),r)}catch(E){return r(E)}}.bind(this),r)}))}var nl=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`,Cn;function rl(t,e){return new Promise(((n,s)=>{Cn||(Cn=(function(o){const i=[];return typeof o=="function"?i.push(`(${o})()`):i.push(o),URL.createObjectURL(new Blob(i))})(nl));const r=new Worker(Cn);r.addEventListener("message",(function(o){if(e.signal&&e.signal.aborted)r.terminate();else if(o.data.progress===void 0){if(o.data.error)return s(new Error(o.data.error)),void r.terminate();n(o.data.file),r.terminate()}else e.onProgress(o.data.progress)})),r.addEventListener("error",s),e.signal&&e.signal.addEventListener("abort",(()=>{s(e.signal.reason),r.terminate()})),r.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})}))}function qe(t,e){return new Promise((function(n,s){let r,a,o,i,u,h;if(r={...e},o=0,{onProgress:i}=r,r.maxSizeMB=r.maxSizeMB||Number.POSITIVE_INFINITY,u=typeof r.useWebWorker!="boolean"||r.useWebWorker,delete r.useWebWorker,r.onProgress=m=>{o=m,typeof i=="function"&&i(o)},!(t instanceof Blob||t instanceof tl))return s(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return s(new Error("The file given is not an image"));if(h=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!u||typeof Worker!="function"||h)return dr(t,r).then(function(m){try{return a=m,f.call(this)}catch(p){return s(p)}}.bind(this),s);var d=function(){try{return f.call(this)}catch(m){return s(m)}}.bind(this),l=function(m){try{return dr(t,r).then((function(p){try{return a=p,d()}catch(b){return s(b)}}),s)}catch(p){return s(p)}};try{return r.libURL=r.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",rl(t,r).then((function(m){try{return a=m,d()}catch{return l()}}),l)}catch{l()}function f(){try{a.name=t.name,a.lastModified=t.lastModified}catch{}try{r.preserveExif&&t.type==="image/jpeg"&&(!r.fileType||r.fileType&&r.fileType===t.type)&&(a=ps(t,a))}catch{}return n(a)}}))}qe.getDataUrlFromFile=xs,qe.getFilefromDataUrl=Wn,qe.loadImage=ys,qe.drawImageInCanvas=js,qe.drawFileInCanvas=dn,qe.canvasToFile=un,qe.getExifOrientation=ks,qe.handleMaxWidthOrHeight=_s,qe.followExifOrientation=Cs,qe.cleanupCanvasMemory=lt,qe.isAutoOrientationInBrowser=Rt,qe.approximateBelowMaximumCanvasSizeOfBrowser=ws,qe.copyExifWithoutOrientation=ps,qe.getBrowserName=_t,qe.version="2.0.2";const sl=async(t,e={})=>{if(!t.type.startsWith("image/"))return t;const n={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0,initialQuality:.8,fileType:"image/webp",...e};try{const s=await qe(t,n);return console.log(`Original size: ${(t.size/1024/1024).toFixed(2)} MB`),console.log(`Compressed size: ${(s.size/1024/1024).toFixed(2)} MB`),s}catch(s){return console.error("Image compression failed:",s),t}},al=(t,e=1)=>new Promise((n,s)=>{const r=document.createElement("video");r.preload="metadata",r.src=URL.createObjectURL(t),r.muted=!0,r.playsInline=!0,r.onloadedmetadata=()=>{r.currentTime=e},r.onseeked=()=>{const a=document.createElement("canvas");a.width=r.videoWidth,a.height=r.videoHeight,a.getContext("2d").drawImage(r,0,0,a.width,a.height),a.toBlob(o=>{const i=new File([o],"thumbnail.webp",{type:"image/webp"});URL.revokeObjectURL(r.src),n(i)},"image/webp",.7)},r.onerror=a=>s(a)}),Ct=async(t,e="media",n=null)=>{let s=t,r=t.name.split(".").pop(),a=null;if(t.type.startsWith("image/"))try{s=await sl(t),r="webp"}catch(d){console.error("Image compression failed, uploading original:",d)}if(t.type.startsWith("video/"))try{n?a=(await Ct(n,e)).url:a=(await Ct(await al(t),e)).url}catch(d){console.error("Failed to handle video poster:",d)}const o=`${`${crypto.randomUUID()}.${r}`}`,{data:i,error:u}=await Y.storage.from(e).upload(o,s);if(u)throw u;const{data:{publicUrl:h}}=Y.storage.from(e).getPublicUrl(i.path);return{url:h,poster:a,name:t.name,type:t.type.startsWith("image/")?"image":t.type.startsWith("video/")?"video":"file",size:s.size}};var c=Un(Wa(),1),Ss=(0,g.createContext)();const ol=({children:t})=>{const[e,n]=(0,g.useState)(null),[s,r]=(0,g.useState)(null),[a,o]=(0,g.useState)({}),[i,u]=(0,g.useState)(!0),h=async b=>{try{const x=await hs(b.id);x?(n(x),o(v=>({...v,[x.handle.toLowerCase()]:x}))):n({id:b.id,email:b.email,name:b.email.split("@")[0],handle:b.email.split("@")[0],avatar:"/default-avatar.webp",verified:!1})}catch(x){console.error("Error fetching user profile:",x)}finally{u(!1)}};(0,g.useEffect)(()=>{if(!e?.id)return;kt(e.id);const b=setInterval(()=>kt(e.id),3e4),x=()=>{document.visibilityState==="visible"&&kt(e.id)};return window.addEventListener("visibilitychange",x),window.addEventListener("beforeunload",()=>kt(e.id)),()=>{clearInterval(b),window.removeEventListener("visibilitychange",x),window.removeEventListener("beforeunload",()=>kt(e.id))}},[e?.id]),(0,g.useEffect)(()=>{Y.auth.getSession().then(({data:{session:x}})=>{x?h(x.user):u(!1)});const{data:{subscription:b}}=Y.auth.onAuthStateChange((x,v)=>{v?h(v.user):(n(null),u(!1))});return()=>b.unsubscribe()},[]);const d=async({email:b,password:x})=>{const{data:v,error:C}=await Y.auth.signInWithPassword({email:b,password:x});if(C)throw C;return r(null),v},l=async({email:b,password:x,username:v,name:C})=>{const{data:{user:z},error:S}=await Y.auth.signUp({email:b,password:x,options:{data:{username:v.toLowerCase(),name:C}}});if(S)throw S;return r(null),z},f=async()=>{await Y.auth.signOut(),n(null),r(null)},m=async b=>{e&&(await _i(e.id,b),await h(e))},p=async b=>{const x=b.toLowerCase();if(a[x])return a[x];const v=await ki(b);return v?(o(C=>({...C,[x]:v})),v):null};return(0,c.jsx)(Ss.Provider,{value:{currentUser:e,authMode:s,setAuthMode:r,profiles:a,login:d,signup:l,logout:f,updateProfile:m,getProfileByHandle:p,loading:i},children:!i&&t})},Ge=()=>{const t=(0,g.useContext)(Ss);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t};var il=ie(),Ns=(0,g.createContext)();const ll=t=>{const e=(0,il.c)(10),{children:n}=t,{currentUser:s}=Ge();let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=new Set,e[0]=r):r=e[0];const[a,o]=(0,g.useState)(r);let i;e[1]!==s?(i=()=>{if(!s?.id)return;const f=Y.channel("global_presence",{config:{presence:{key:s.id}}});return f.on("presence",{event:"sync"},()=>{const m=f.presenceState(),p=new Set;Object.keys(m).forEach(b=>p.add(b)),o(p)}).subscribe(async m=>{m==="SUBSCRIBED"&&(await f.track({userId:s.id,online_at:new Date().toISOString()}),kt(s.id))}),()=>{s?.id&&kt(s.id),Y.removeChannel(f),o(new Set)}},e[1]=s,e[2]=i):i=e[2];const u=s?.id;let h;e[3]!==u?(h=[u],e[3]=u,e[4]=h):h=e[4],(0,g.useEffect)(i,h);let d;e[5]!==a?(d={onlineUsers:a},e[5]=a,e[6]=d):d=e[6];let l;return e[7]!==n||e[8]!==d?(l=(0,c.jsx)(Ns.Provider,{value:d,children:n}),e[7]=n,e[8]=d,e[9]=l):l=e[9],l},cl=()=>{const t=(0,g.useContext)(Ns);if(!t)throw new Error("usePresence must be used within a PresenceProvider");return t};var dl=ie(),As=(0,g.createContext)();const ul=t=>{const e=(0,dl.c)(19),{children:n}=t,[s,r]=(0,g.useState)(fl),[a,o]=(0,g.useState)(ml),[i,u]=(0,g.useState)(hl);let h,d;e[0]!==s?(h=()=>{localStorage.setItem("theme",s?"dark":"light"),s?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},d=[s],e[0]=s,e[1]=h,e[2]=d):(h=e[1],d=e[2]),(0,g.useEffect)(h,d);let l,f;e[3]!==a?(l=()=>{localStorage.setItem("font-size",a),document.documentElement.style.setProperty("--app-font-size",{small:"14px",base:"16px",large:"18px"}[a])},f=[a],e[3]=a,e[4]=l,e[5]=f):(l=e[4],f=e[5]),(0,g.useEffect)(l,f);let m,p;e[6]!==i?(m=()=>{localStorage.setItem("data-saver",i)},p=[i],e[6]=i,e[7]=m,e[8]=p):(m=e[7],p=e[8]),(0,g.useEffect)(m,p);let b;e[9]!==s?(b=()=>r(!s),e[9]=s,e[10]=b):b=e[10];const x=b;let v;e[11]!==s||e[12]!==i||e[13]!==a||e[14]!==x?(v={darkMode:s,setDarkMode:r,toggleDarkMode:x,fontSize:a,setFontSize:o,dataSaver:i,setDataSaver:u},e[11]=s,e[12]=i,e[13]=a,e[14]=x,e[15]=v):v=e[15];let C;return e[16]!==n||e[17]!==v?(C=(0,c.jsx)(As.Provider,{value:v,children:n}),e[16]=n,e[17]=v,e[18]=C):C=e[18],C},Vn=()=>{const t=(0,g.useContext)(As);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t};function fl(){const t=localStorage.getItem("theme");return t==="dark"||!t&&window.matchMedia("(prefers-color-scheme: dark)").matches}function ml(){return localStorage.getItem("font-size")||"base"}function hl(){return localStorage.getItem("data-saver")==="true"}var pl=Un(Xr(),1);function gl(t){if(!t||typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}var vl=t=>{switch(t){case"success":return yl;case"info":return jl;case"warning":return wl;case"error":return kl;default:return null}},bl=Array(12).fill(0),xl=({visible:t,className:e})=>g.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},g.createElement("div",{className:"sonner-spinner"},bl.map((n,s)=>g.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),yl=g.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},g.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),wl=g.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},g.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),jl=g.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},g.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),kl=g.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},g.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),_l=g.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},g.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),g.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Cl=()=>{const[t,e]=g.useState(document.hidden);return g.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Dn=1,Sl=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;const{message:n,...s}=t,r=typeof t?.id=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Dn++,a=this.toasts.find(i=>i.id===r),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(r)&&this.dismissedToasts.delete(r),a?this.toasts=this.toasts.map(i=>i.id===r?(this.publish({...i,...t,id:r,title:n}),{...i,...t,id:r,dismissible:o,title:n}):i):this.addToast({title:n,...s,dismissible:o,id:r}),r},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(e=>e({id:t,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));const s=Promise.resolve(t instanceof Function?t():t);let r=n!==void 0,a;const o=s.then(async u=>{if(a=["resolve",u],g.isValidElement(u))r=!1,this.create({id:n,type:"default",message:u});else if(Al(u)&&!u.ok){r=!1;const h=typeof e.error=="function"?await e.error(`HTTP error! status: ${u.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${u.status}`):e.description,l=typeof h=="object"&&!g.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:d,...l})}else if(u instanceof Error){r=!1;const h=typeof e.error=="function"?await e.error(u):e.error,d=typeof e.description=="function"?await e.description(u):e.description,l=typeof h=="object"&&!g.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:d,...l})}else if(e.success!==void 0){r=!1;const h=typeof e.success=="function"?await e.success(u):e.success,d=typeof e.description=="function"?await e.description(u):e.description,l=typeof h=="object"&&!g.isValidElement(h)?h:{message:h};this.create({id:n,type:"success",description:d,...l})}}).catch(async u=>{if(a=["reject",u],e.error!==void 0){r=!1;const h=typeof e.error=="function"?await e.error(u):e.error,d=typeof e.description=="function"?await e.description(u):e.description,l=typeof h=="object"&&!g.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:d,...l})}}).finally(()=>{r&&(this.dismiss(n),n=void 0),e.finally==null||e.finally.call(e)}),i=()=>new Promise((u,h)=>o.then(()=>a[0]==="reject"?h(a[1]):u(a[1])).catch(h));return typeof n!="string"&&typeof n!="number"?{unwrap:i}:Object.assign(n,{unwrap:i})},this.custom=(t,e)=>{const n=e?.id||Dn++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ve=new Sl,Nl=(t,e)=>{const n=e?.id||Dn++;return Ve.addToast({title:t,...e,id:n}),n},Al=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",zl=Nl,El=()=>Ve.toasts,Rl=()=>Ve.getActiveToasts(),Sn=Object.assign(zl,{success:Ve.success,info:Ve.info,warning:Ve.warning,error:Ve.error,custom:Ve.custom,message:Ve.message,promise:Ve.promise,dismiss:Ve.dismiss,loading:Ve.loading},{getHistory:El,getToasts:Rl});gl("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function nn(t){return t.label!==void 0}var Il=3,Ml="24px",Dl="16px",ur=4e3,Tl=356,Pl=14,Ll=45,Fl=200;function it(...t){return t.filter(Boolean).join(" ")}function Ol(t){const[e,n]=t.split("-"),s=[];return e&&s.push(e),n&&s.push(n),s}var Ul=t=>{var e,n,s,r,a,o,i,u,h;const{invert:d,toast:l,unstyled:f,interacting:m,setHeights:p,visibleToasts:b,heights:x,index:v,toasts:C,expanded:z,removeToast:S,defaultRichColors:M,closeButton:_,style:D,cancelButtonStyle:w,actionButtonStyle:y,className:A="",descriptionClassName:R="",duration:E,position:I,gap:N,expandByDefault:L,classNames:j,icons:k,closeButtonAriaLabel:P="Close toast"}=t,[T,F]=g.useState(null),[q,H]=g.useState(null),[B,U]=g.useState(!1),[O,V]=g.useState(!1),[Z,X]=g.useState(!1),[W,ee]=g.useState(!1),[K,Q]=g.useState(!1),[te,J]=g.useState(0),[G,ne]=g.useState(0),re=g.useRef(l.duration||E||ur),le=g.useRef(null),ae=g.useRef(null),be=v===0,ye=v+1<=b,ce=l.type,ve=l.dismissible!==!1,me=l.className||"",_e=l.descriptionClassName||"",Ce=g.useMemo(()=>x.findIndex($=>$.toastId===l.id)||0,[x,l.id]),we=g.useMemo(()=>{var $;return($=l.closeButton)!=null?$:_},[l.closeButton,_]),Re=g.useMemo(()=>l.duration||E||ur,[l.duration,E]),Ie=g.useRef(0),de=g.useRef(0),Se=g.useRef(0),ke=g.useRef(null),[ze,Ee]=I.split("-"),Me=g.useMemo(()=>x.reduce(($,he,ue)=>ue>=Ce?$:$+he.height,0),[x,Ce]),Ke=Cl(),se=l.invert||d,xe=ce==="loading";de.current=g.useMemo(()=>Ce*N+Me,[Ce,Me]),g.useEffect(()=>{re.current=Re},[Re]),g.useEffect(()=>{U(!0)},[]),g.useEffect(()=>{const $=ae.current;if($){const he=$.getBoundingClientRect().height;return ne(he),p(ue=>[{toastId:l.id,height:he,position:l.position},...ue]),()=>p(ue=>ue.filter(ge=>ge.toastId!==l.id))}},[p,l.id]),g.useLayoutEffect(()=>{if(!B)return;const $=ae.current,he=$.style.height;$.style.height="auto";const ue=$.getBoundingClientRect().height;$.style.height=he,ne(ue),p(ge=>ge.find(fe=>fe.toastId===l.id)?ge.map(fe=>fe.toastId===l.id?{...fe,height:ue}:fe):[{toastId:l.id,height:ue,position:l.position},...ge])},[B,l.title,l.description,p,l.id,l.jsx,l.action,l.cancel]);const je=g.useCallback(()=>{V(!0),J(de.current),p($=>$.filter(he=>he.toastId!==l.id)),setTimeout(()=>{S(l)},Fl)},[l,S,p,de]);g.useEffect(()=>{if(l.promise&&ce==="loading"||l.duration===1/0||l.type==="loading")return;let $;return z||m||Ke?(()=>{if(Se.current<Ie.current){const ge=new Date().getTime()-Ie.current;re.current=re.current-ge}Se.current=new Date().getTime()})():re.current!==1/0&&(Ie.current=new Date().getTime(),$=setTimeout(()=>{l.onAutoClose==null||l.onAutoClose.call(l,l),je()},re.current)),()=>clearTimeout($)},[z,m,l,ce,Ke,je]),g.useEffect(()=>{l.delete&&(je(),l.onDismiss==null||l.onDismiss.call(l,l))},[je,l.delete]);function Ae(){var $;if(k?.loading){var he;return g.createElement("div",{className:it(j?.loader,l==null||(he=l.classNames)==null?void 0:he.loader,"sonner-loader"),"data-visible":ce==="loading"},k.loading)}return g.createElement(xl,{className:it(j?.loader,l==null||($=l.classNames)==null?void 0:$.loader),visible:ce==="loading"})}const Te=l.icon||k?.[ce]||vl(ce);var De,Ne;return g.createElement("li",{tabIndex:0,ref:ae,className:it(A,me,j?.toast,l==null||(e=l.classNames)==null?void 0:e.toast,j?.default,j?.[ce],l==null||(n=l.classNames)==null?void 0:n[ce]),"data-sonner-toast":"","data-rich-colors":(De=l.richColors)!=null?De:M,"data-styled":!(l.jsx||l.unstyled||f),"data-mounted":B,"data-promise":!!l.promise,"data-swiped":K,"data-removed":O,"data-visible":ye,"data-y-position":ze,"data-x-position":Ee,"data-index":v,"data-front":be,"data-swiping":Z,"data-dismissible":ve,"data-type":ce,"data-invert":se,"data-swipe-out":W,"data-swipe-direction":q,"data-expanded":!!(z||L&&B),"data-testid":l.testId,style:{"--index":v,"--toasts-before":v,"--z-index":C.length-v,"--offset":`${O?te:de.current}px`,"--initial-height":L?"auto":`${G}px`,...D,...l.style},onDragEnd:()=>{X(!1),F(null),ke.current=null},onPointerDown:$=>{$.button!==2&&(xe||!ve||(le.current=new Date,J(de.current),$.target.setPointerCapture($.pointerId),$.target.tagName!=="BUTTON"&&(X(!0),ke.current={x:$.clientX,y:$.clientY})))},onPointerUp:()=>{var $,he,ue;if(W||!ve)return;ke.current=null;const ge=Number((($=ae.current)==null?void 0:$.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),fe=Number(((he=ae.current)==null?void 0:he.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Fe=new Date().getTime()-((ue=le.current)==null?void 0:ue.getTime()),$e=T==="x"?ge:fe,He=Math.abs($e)/Fe;if(Math.abs($e)>=Ll||He>.11){J(de.current),l.onDismiss==null||l.onDismiss.call(l,l),H(T==="x"?ge>0?"right":"left":fe>0?"down":"up"),je(),ee(!0);return}else{var Oe,nt;(Oe=ae.current)==null||Oe.style.setProperty("--swipe-amount-x","0px"),(nt=ae.current)==null||nt.style.setProperty("--swipe-amount-y","0px")}Q(!1),X(!1),F(null)},onPointerMove:$=>{var he,ue,ge;if(!ke.current||!ve||((he=window.getSelection())==null?void 0:he.toString().length)>0)return;const fe=$.clientY-ke.current.y,Fe=$.clientX-ke.current.x;var $e;const He=($e=t.swipeDirections)!=null?$e:Ol(I);!T&&(Math.abs(Fe)>1||Math.abs(fe)>1)&&F(Math.abs(Fe)>Math.abs(fe)?"x":"y");let Oe={x:0,y:0};const nt=ht=>1/(1.5+Math.abs(ht)/20);if(T==="y"){if(He.includes("top")||He.includes("bottom"))if(He.includes("top")&&fe<0||He.includes("bottom")&&fe>0)Oe.y=fe;else{const ht=fe*nt(fe);Oe.y=Math.abs(ht)<Math.abs(fe)?ht:fe}}else if(T==="x"&&(He.includes("left")||He.includes("right")))if(He.includes("left")&&Fe<0||He.includes("right")&&Fe>0)Oe.x=Fe;else{const ht=Fe*nt(Fe);Oe.x=Math.abs(ht)<Math.abs(Fe)?ht:Fe}(Math.abs(Oe.x)>0||Math.abs(Oe.y)>0)&&Q(!0),(ue=ae.current)==null||ue.style.setProperty("--swipe-amount-x",`${Oe.x}px`),(ge=ae.current)==null||ge.style.setProperty("--swipe-amount-y",`${Oe.y}px`)}},we&&!l.jsx&&ce!=="loading"?g.createElement("button",{"aria-label":P,"data-disabled":xe,"data-close-button":!0,onClick:xe||!ve?()=>{}:()=>{je(),l.onDismiss==null||l.onDismiss.call(l,l)},className:it(j?.closeButton,l==null||(s=l.classNames)==null?void 0:s.closeButton)},(Ne=k?.close)!=null?Ne:_l):null,(ce||l.icon||l.promise)&&l.icon!==null&&(k?.[ce]!==null||l.icon)?g.createElement("div",{"data-icon":"",className:it(j?.icon,l==null||(r=l.classNames)==null?void 0:r.icon)},l.promise||l.type==="loading"&&!l.icon?l.icon||Ae():null,l.type!=="loading"?Te:null):null,g.createElement("div",{"data-content":"",className:it(j?.content,l==null||(a=l.classNames)==null?void 0:a.content)},g.createElement("div",{"data-title":"",className:it(j?.title,l==null||(o=l.classNames)==null?void 0:o.title)},l.jsx?l.jsx:typeof l.title=="function"?l.title():l.title),l.description?g.createElement("div",{"data-description":"",className:it(R,_e,j?.description,l==null||(i=l.classNames)==null?void 0:i.description)},typeof l.description=="function"?l.description():l.description):null),g.isValidElement(l.cancel)?l.cancel:l.cancel&&nn(l.cancel)?g.createElement("button",{"data-button":!0,"data-cancel":!0,style:l.cancelButtonStyle||w,onClick:$=>{nn(l.cancel)&&ve&&(l.cancel.onClick==null||l.cancel.onClick.call(l.cancel,$),je())},className:it(j?.cancelButton,l==null||(u=l.classNames)==null?void 0:u.cancelButton)},l.cancel.label):null,g.isValidElement(l.action)?l.action:l.action&&nn(l.action)?g.createElement("button",{"data-button":!0,"data-action":!0,style:l.actionButtonStyle||y,onClick:$=>{nn(l.action)&&(l.action.onClick==null||l.action.onClick.call(l.action,$),!$.defaultPrevented&&je())},className:it(j?.actionButton,l==null||(h=l.classNames)==null?void 0:h.actionButton)},l.action.label):null)};function fr(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function Hl(t,e){const n={};return[t,e].forEach((s,r)=>{const a=r===1,o=a?"--mobile-offset":"--offset",i=a?Dl:Ml;function u(h){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof h=="number"?`${h}px`:h})}typeof s=="number"||typeof s=="string"?u(s):typeof s=="object"?["top","right","bottom","left"].forEach(h=>{s[h]===void 0?n[`${o}-${h}`]=i:n[`${o}-${h}`]=typeof s[h]=="number"?`${s[h]}px`:s[h]}):u(i)}),n}var Bl=g.forwardRef(function(e,n){const{id:s,invert:r,position:a="bottom-right",hotkey:o=["altKey","KeyT"],expand:i,closeButton:u,className:h,offset:d,mobileOffset:l,theme:f="light",richColors:m,duration:p,style:b,visibleToasts:x=Il,toastOptions:v,dir:C=fr(),gap:z=Pl,icons:S,containerAriaLabel:M="Notifications"}=e,[_,D]=g.useState([]),w=g.useMemo(()=>s?_.filter(B=>B.toasterId===s):_.filter(B=>!B.toasterId),[_,s]),y=g.useMemo(()=>Array.from(new Set([a].concat(w.filter(B=>B.position).map(B=>B.position)))),[w,a]),[A,R]=g.useState([]),[E,I]=g.useState(!1),[N,L]=g.useState(!1),[j,k]=g.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),P=g.useRef(null),T=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=g.useRef(null),q=g.useRef(!1),H=g.useCallback(B=>{D(U=>{var O;return(O=U.find(V=>V.id===B.id))!=null&&O.delete||Ve.dismiss(B.id),U.filter(({id:V})=>V!==B.id)})},[]);return g.useEffect(()=>Ve.subscribe(B=>{if(B.dismiss){requestAnimationFrame(()=>{D(U=>U.map(O=>O.id===B.id?{...O,delete:!0}:O))});return}setTimeout(()=>{pl.flushSync(()=>{D(U=>{const O=U.findIndex(V=>V.id===B.id);return O!==-1?[...U.slice(0,O),{...U[O],...B},...U.slice(O+1)]:[B,...U]})})})}),[_]),g.useEffect(()=>{if(f!=="system"){k(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?k("dark"):k("light")),typeof window>"u")return;const B=window.matchMedia("(prefers-color-scheme: dark)");try{B.addEventListener("change",({matches:U})=>{k(U?"dark":"light")})}catch{B.addListener(({matches:O})=>{try{k(O?"dark":"light")}catch(V){console.error(V)}})}},[f]),g.useEffect(()=>{_.length<=1&&I(!1)},[_]),g.useEffect(()=>{const B=U=>{var O;if(o.every(Z=>U[Z]||U.code===Z)){var V;I(!0),(V=P.current)==null||V.focus()}U.code==="Escape"&&(document.activeElement===P.current||(O=P.current)!=null&&O.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)},[o]),g.useEffect(()=>{if(P.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,q.current=!1)}},[P.current]),g.createElement("section",{ref:n,"aria-label":`${M} ${T}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},y.map((B,U)=>{var O;const[V,Z]=B.split("-");return w.length?g.createElement("ol",{key:B,dir:C==="auto"?fr():C,tabIndex:-1,ref:P,className:h,"data-sonner-toaster":!0,"data-sonner-theme":j,"data-y-position":V,"data-x-position":Z,style:{"--front-toast-height":`${((O=A[0])==null?void 0:O.height)||0}px`,"--width":`${Tl}px`,"--gap":`${z}px`,...b,...Hl(d,l)},onBlur:X=>{q.current&&!X.currentTarget.contains(X.relatedTarget)&&(q.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:X=>{X.target instanceof HTMLElement&&X.target.dataset.dismissible==="false"||q.current||(q.current=!0,F.current=X.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{N||I(!1)},onDragEnd:()=>I(!1),onPointerDown:X=>{X.target instanceof HTMLElement&&X.target.dataset.dismissible==="false"||L(!0)},onPointerUp:()=>L(!1)},w.filter(X=>!X.position&&U===0||X.position===B).map((X,W)=>{var ee,K;return g.createElement(Ul,{key:X.id,icons:S,index:W,toast:X,defaultRichColors:m,duration:(ee=v?.duration)!=null?ee:p,className:v?.className,descriptionClassName:v?.descriptionClassName,invert:r,visibleToasts:x,closeButton:(K=v?.closeButton)!=null?K:u,interacting:N,position:B,style:v?.style,unstyled:v?.unstyled,classNames:v?.classNames,cancelButtonStyle:v?.cancelButtonStyle,actionButtonStyle:v?.actionButtonStyle,closeButtonAriaLabel:v?.closeButtonAriaLabel,removeToast:H,toasts:w.filter(Q=>Q.position==X.position),heights:A.filter(Q=>Q.position==X.position),setHeights:R,expandByDefault:i,gap:z,expanded:E,swipeDirections:e.swipeDirections})})):null}))}),ql=(t,e,n,s,r,a,o,i)=>{let u=document.documentElement,h=["light","dark"];function d(m){(Array.isArray(t)?t:[t]).forEach(p=>{let b=p==="class",x=b&&a?r.map(v=>a[v]||v):r;b?(u.classList.remove(...x),u.classList.add(a&&a[m]?a[m]:m)):u.setAttribute(p,m)}),l(m)}function l(m){i&&h.includes(m)&&(u.style.colorScheme=m)}function f(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(s)d(s);else try{let m=localStorage.getItem(e)||n;d(o&&m==="system"?f():m)}catch{}};var Wl=g.createContext(void 0),Vl={setTheme:t=>{},themes:[]},Yl=()=>{var t;return(t=g.useContext(Wl))!=null?t:Vl};var gm=g.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:s,enableColorScheme:r,defaultTheme:a,value:o,themes:i,nonce:u,scriptProps:h})=>{let d=JSON.stringify([n,e,a,t,i,o,s,r]).slice(1,-1);return g.createElement("script",{...h,suppressHydrationWarning:!0,nonce:typeof window>"u"?u:"",dangerouslySetInnerHTML:{__html:`(${ql.toString()})(${d})`}})});var Xl=ie(),Ql=t=>{const e=(0,Xl.c)(7);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];const{theme:s}=Yl(),r=s===void 0?"system":s;let a,o;e[2]===Symbol.for("react.memo_cache_sentinel")?(a={success:(0,c.jsx)(Do,{className:"size-4"}),info:(0,c.jsx)(No,{className:"size-4"}),warning:(0,c.jsx)(Io,{className:"size-4"}),error:(0,c.jsx)(xo,{className:"size-4"}),loading:(0,c.jsx)(ft,{className:"size-4 animate-spin"})},o={"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)","--border-radius":"var(--radius)"},e[2]=a,e[3]=o):(a=e[2],o=e[3]);let i;return e[4]!==n||e[5]!==r?(i=(0,c.jsx)(Bl,{theme:r,className:"toaster group",icons:a,style:o,...n}),e[4]=n,e[5]=r,e[6]=i):i=e[6],i},Kl=ie(),zs=(0,g.createContext)();const Zl=t=>{const e=(0,Kl.c)(4),{children:n}=t,s=Jl;let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r={addToast:s},e[0]=r):r=e[0];let a;e[1]===Symbol.for("react.memo_cache_sentinel")?(a=(0,c.jsx)(Ql,{position:"bottom-center",toastOptions:{className:"rounded-full font-bold"}}),e[1]=a):a=e[1];let o;return e[2]!==n?(o=(0,c.jsxs)(zs.Provider,{value:r,children:[n,a]}),e[2]=n,e[3]=o):o=e[3],o},wt=()=>{const t=(0,g.useContext)(zs);if(!t)throw new Error("useToast must be used within a ToastProvider");return t};function Jl(t,e){const n=e===void 0?"success":e;n==="error"?Sn.error(t):n==="info"?Sn.info(t):Sn.success(t)}var Es=(0,g.createContext)();const Gl=({children:t})=>{const[e,n]=(0,g.useState)([]),[s,r]=(0,g.useState)(!0),[a,o]=(0,g.useState)(!0),[i,u]=(0,g.useState)(!1),h=(0,g.useRef)(e);(0,g.useEffect)(()=>{h.current=e},[e]);const d=(0,g.useCallback)(async(v=!1)=>{v?u(!0):r(!0);try{const C=h.current,z=await Ai(v&&C.length>0?C[C.length-1].created_at:null,10);z.length<10?o(!1):o(!0),n(v?S=>[...S,...z]:z)}catch(C){console.error("Failed to load posts:",C)}finally{r(!1),u(!1)}},[]),l=()=>{!a||i||d(!0)};(0,g.useEffect)(()=>{d()},[d]);const f=async v=>{const C=await zi(v);return d(),C},m=async v=>{await Ei(v),n(C=>C.filter(z=>z.id!==v))},p=async(v,C)=>{await Ri(v,C),n(z=>z.map(S=>S.id===v?{...S,...C}:S))},b=v=>e.find(C=>C.id===v),x=(v,C="feed")=>{let z=e.filter(S=>!!(S.user?.handle===v||S.repostedBy&&S.repostedBy.handle===v));return C==="feed"?z.filter(S=>S.parent_id===null):C==="media"?z.filter(S=>S.parent_id===null&&(S.type==="video"||S.type==="image"||S.media?.length>0)):z};return(0,c.jsx)(Es.Provider,{value:{posts:e,setPosts:n,addPost:f,deletePost:m,updatePost:p,getPostById:b,getUserPosts:x,loading:s,hasMore:a,isFetchingNextPage:i,fetchNextPage:l,refreshPosts:()=>d(!1)},children:t})},$l=()=>{const t=(0,g.useContext)(Es);if(!t)throw new Error("usePosts must be used within a PostProvider");return t};var ec=ie(),Rs=(0,g.createContext)();const tc=t=>{const e=(0,ec.c)(9),{children:n}=t;let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s={isOpen:!1,images:[],currentIndex:0},e[0]=s):s=e[0];const[r,a]=(0,g.useState)(s);let o;e[1]===Symbol.for("react.memo_cache_sentinel")?(o=(p,b)=>{const x=b===void 0?0:b;a({isOpen:!0,images:Array.isArray(p)?p:[p],currentIndex:x})},e[1]=o):o=e[1];const i=o;let u;e[2]===Symbol.for("react.memo_cache_sentinel")?(u=()=>{a(rc)},e[2]=u):u=e[2];const h=u;let d;e[3]===Symbol.for("react.memo_cache_sentinel")?(d=p=>{a(b=>({...b,currentIndex:p}))},e[3]=d):d=e[3];const l=d;let f;e[4]!==r?(f={...r,openLightbox:i,closeLightbox:h,setIndex:l},e[4]=r,e[5]=f):f=e[5];let m;return e[6]!==n||e[7]!==f?(m=(0,c.jsx)(Rs.Provider,{value:f,children:n}),e[6]=n,e[7]=f,e[8]=m):m=e[8],m},nc=()=>{const t=(0,g.useContext)(Rs);if(!t)throw new Error("useLightbox must be used within a LightboxProvider");return t};function rc(t){return{...t,isOpen:!1}}var sc=ie(),Is=(0,g.createContext)();const ac=t=>{const e=(0,sc.c)(15),{children:n}=t,[s,r]=(0,g.useState)(null);let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=new Map,e[0]=a):a=e[0];const o=(0,g.useRef)(a);let i;e[1]!==s?(i=(b,x,v)=>{x===0?o.current.has(b)&&o.current.delete(b):o.current.set(b,{ratio:x,...v});let C=null,z=.5;for(const[S,M]of o.current.entries())M.ratio>z&&(z=M.ratio,C=S);C!==s&&r(C)},e[1]=s,e[2]=i):i=e[2];const u=i;let h,d;e[3]!==s?(h=()=>{o.current.forEach((b,x)=>{x===s?b.play():b.pause()})},d=[s],e[3]=s,e[4]=h,e[5]=d):(h=e[4],d=e[5]),(0,g.useEffect)(h,d);let l;e[6]!==s?(l=b=>{o.current.delete(b),s===b&&r(null)},e[6]=s,e[7]=l):l=e[7];const f=l;let m;e[8]!==s||e[9]!==u||e[10]!==f?(m={reportVisibility:u,unregister:f,activeVideoId:s},e[8]=s,e[9]=u,e[10]=f,e[11]=m):m=e[11];let p;return e[12]!==n||e[13]!==m?(p=(0,c.jsx)(Is.Provider,{value:m,children:n}),e[12]=n,e[13]=m,e[14]=p):p=e[14],p},vm=()=>{const t=(0,g.useContext)(Is);if(!t)throw new Error("useVideoPlayback must be used within a VideoPlaybackProvider");return t};var oc=ie();const Ms=t=>{const e=(0,oc.c)(16),n=Hn(),s=t?.id;let r;e[0]!==s?(r=["unread_notifications_count",s],e[0]=s,e[1]=r):r=e[1];let a;e[2]!==t?.id?(a=()=>Oi(t?.id),e[2]=t?.id,e[3]=a):a=e[3];const o=!!t?.id;let i;e[4]!==r||e[5]!==a||e[6]!==o?(i={queryKey:r,queryFn:a,enabled:o},e[4]=r,e[5]=a,e[6]=o,e[7]=i):i=e[7];const{data:u}=It(i),h=u===void 0?0:u;let d;e[8]!==t||e[9]!==n?(d=()=>{if(!t?.id)return;const p=Y.channel(`unread_count:${t.id}`).on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`recipient_id=eq.${t.id}`},()=>{n.invalidateQueries({queryKey:["unread_notifications_count",t.id]}),n.invalidateQueries({queryKey:["notifications",t.id]})}).subscribe();return()=>Y.removeChannel(p)},e[8]=t,e[9]=n,e[10]=d):d=e[10];const l=t?.id;let f;e[11]!==n||e[12]!==l?(f=[l,n],e[11]=n,e[12]=l,e[13]=f):f=e[13],(0,g.useEffect)(d,f);let m;return e[14]!==h?(m={unreadCount:h},e[14]=h,e[15]=m):m=e[15],m};var ic=ie();const Ds=t=>{const e=(0,ic.c)(65),n=Hn();let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s={},e[0]=s):s=e[0];const[r,a]=(0,g.useState)(s),o=(0,g.useRef)(null),i=t?.id;let u;e[1]!==i?(u=["conversations",i],e[1]=i,e[2]=u):u=e[2];let h;e[3]!==t?.id?(h=()=>Di(t?.id),e[3]=t?.id,e[4]=h):h=e[4];const d=!!t?.id;let l;e[5]!==u||e[6]!==h||e[7]!==d?(l={queryKey:u,queryFn:h,enabled:d},e[5]=u,e[6]=h,e[7]=d,e[8]=l):l=e[8];const{data:f,isLoading:m}=It(l);let p;e[9]!==f?(p=f===void 0?[]:f,e[9]=f,e[10]=p):p=e[10];const b=p,x=t?.id;let v;e[11]!==x?(v=["unread_messages_count",x],e[11]=x,e[12]=v):v=e[12];let C;e[13]!==t?.id?(C=()=>Ii(t?.id),e[13]=t?.id,e[14]=C):C=e[14];const z=!!t?.id;let S;e[15]!==C||e[16]!==z||e[17]!==v?(S={queryKey:v,queryFn:C,enabled:z},e[15]=C,e[16]=z,e[17]=v,e[18]=S):S=e[18];const{data:M}=It(S),_=M===void 0?0:M;let D;e[19]===Symbol.for("react.memo_cache_sentinel")?(D=["reactions"],e[19]=D):D=e[19];const w=!!t?.id;let y;e[20]!==w?(y={queryKey:D,queryFn:Ti,enabled:w},e[20]=w,e[21]=y):y=e[21];const{data:A}=It(y);let R;e[22]!==A?(R=A===void 0?[]:A,e[22]=A,e[23]=R):R=e[23];const E=R;let I;e[24]!==t||e[25]!==n?(I=()=>{if(!t?.id)return;const Q=Y.channel(`user_messages:${t.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},J=>{const G=J.new;n.setQueryData(["messages",G.conversation_id],ne=>ne?ne.find(re=>re.id===G.id)?ne:[...ne,G]:[G]),G.sender_id!==t.id&&n.invalidateQueries({queryKey:["unread_messages_count",t.id]}),n.invalidateQueries(["conversations",t.id]),a(ne=>({...ne,[G.conversation_id]:!1}))}).on("postgres_changes",{event:"DELETE",schema:"public",table:"messages"},J=>{n.invalidateQueries({queryKey:["messages"]}),n.invalidateQueries({queryKey:["conversations",t.id]})}).on("postgres_changes",{event:"*",schema:"public",table:"message_reactions"},()=>{n.invalidateQueries({queryKey:["reactions"]})}).subscribe(),te=Y.channel("chat_typing_shared").on("broadcast",{event:"typing"},J=>{const{payload:G}=J,{conversationId:ne,isTyping:re,userId:le}=G;le!==t.id&&a(ae=>({...ae,[ne]:re}))}).subscribe();return o.current=te,()=>{Y.removeChannel(Q),Y.removeChannel(te)}},e[24]=t,e[25]=n,e[26]=I):I=e[26];const N=t?.id;let L;e[27]!==n||e[28]!==N?(L=[N,n],e[27]=n,e[28]=N,e[29]=L):L=e[29],(0,g.useEffect)(I,L);let j;e[30]!==t?(j=Q=>{const{convId:te,text:J,type:G,media:ne,replyToId:re}=Q,le=G===void 0?"text":G,ae=ne===void 0?[]:ne,be=re===void 0?null:re;return Li(te,t.id,J,le,ae,be)},e[30]=t,e[31]=j):j=e[31];let k;e[32]!==t||e[33]!==n?(k=Q=>{n.setQueryData(["messages",Q.conversation_id],te=>te?te.find(J=>J.id===Q.id)?te:[...te,Q]:[Q]),n.invalidateQueries(["conversations",t.id])},e[32]=t,e[33]=n,e[34]=k):k=e[34];let P;e[35]!==j||e[36]!==k?(P={mutationFn:j,onSuccess:k},e[35]=j,e[36]=k,e[37]=P):P=e[37];const T=Qa(P);let F;e[38]!==t?(F=(Q,te)=>{o.current&&o.current.send({type:"broadcast",event:"typing",payload:{conversationId:Q,isTyping:te,userId:t.id}})},e[38]=t,e[39]=F):F=e[39];const q=F;let H;e[40]!==t||e[41]!==n?(H=async Q=>{!t?.id||!Q||(await Mi(Q,t.id),n.invalidateQueries({queryKey:["unread_messages_count",t.id]}),n.invalidateQueries({queryKey:["conversations",t.id]}))},e[40]=t,e[41]=n,e[42]=H):H=e[42];const B=H;let U;e[43]!==t||e[44]!==n?(U=async(Q,te)=>{if(t?.id)try{await Pi(Q,t.id,te),n.invalidateQueries({queryKey:["reactions"]})}catch(J){console.error("Failed to toggle reaction:",J)}},e[43]=t,e[44]=n,e[45]=U):U=e[45];const O=U;let V;e[46]!==n?(V=async Q=>{try{await Fi(Q),n.invalidateQueries({queryKey:["messages"]})}catch(te){console.error("Failed to delete message:",te)}},e[46]=n,e[47]=V):V=e[47];const Z=V;let X;e[48]!==t?.id?(X=(Q,te)=>{const J=Q===void 0?[]:Q,G=te===void 0?[]:te;return J.map(ne=>({id:ne.id,sender:ne.sender_id===t?.id?"me":"them",text:ne.content,type:ne.type||"text",media:ne.media||[],isRead:ne.is_read,replyToId:ne.reply_to_id,reactions:G.filter(re=>re.message_id===ne.id),time:new Date(ne.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}))},e[48]=t?.id,e[49]=X):X=e[49];const W=X;let ee;e[50]!==T?(ee=(Q,te,J,G,ne)=>T.mutate({convId:Q,text:te,type:J,media:G,replyToId:ne}),e[50]=T,e[51]=ee):ee=e[51];let K;return e[52]!==E||e[53]!==b||e[54]!==W||e[55]!==m||e[56]!==B||e[57]!==Z||e[58]!==O||e[59]!==T.isPending||e[60]!==q||e[61]!==ee||e[62]!==r||e[63]!==_?(K={conversations:b,unreadCount:_,isConvLoading:m,sendMessage:ee,sendTypingStatus:q,typingStatus:r,markAsRead:B,formatMessages:W,onToggleReaction:O,onDeleteMessage:Z,allReactions:E,isSending:T.isPending},e[52]=E,e[53]=b,e[54]=W,e[55]=m,e[56]=B,e[57]=Z,e[58]=O,e[59]=T.isPending,e[60]=q,e[61]=ee,e[62]=r,e[63]=_,e[64]=K):K=e[64],K};var Yn=ie();function St(t){const e=(0,Yn.c)(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=oe("relative flex size-8 shrink-0 overflow-hidden rounded-full",n),e[3]=n,e[4]=r):r=e[4];let a;return e[5]!==s||e[6]!==r?(a=(0,c.jsx)(To,{"data-slot":"avatar",className:r,...s}),e[5]=s,e[6]=r,e[7]=a):a=e[7],a}function Nt(t){const e=(0,Yn.c)(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=oe("aspect-square size-full",n),e[3]=n,e[4]=r):r=e[4];let a;return e[5]!==s||e[6]!==r?(a=(0,c.jsx)(qo,{"data-slot":"avatar-image",className:r,...s}),e[5]=s,e[6]=r,e[7]=a):a=e[7],a}function At(t){const e=(0,Yn.c)(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=oe("bg-muted flex size-full items-center justify-center rounded-full",n),e[3]=n,e[4]=r):r=e[4];let a;return e[5]!==s||e[6]!==r?(a=(0,c.jsx)(ti,{"data-slot":"avatar-fallback",className:r,...s}),e[5]=s,e[6]=r,e[7]=a):a=e[7],a}var lc=ie(),cc=t=>{const e=(0,lc.c)(23),{handleProfileClick:n}=t,{currentUser:s}=Ge(),{unreadCount:r}=Ms(s),{unreadCount:a}=Ds(s),o=gn();let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=[{id:"home",icon:Bn,path:"/"},{id:"community",icon:bn,path:"/community"},{id:"reels",icon:Jr,path:"/reels"},{id:"messages",icon:ds,path:"/messages"},{id:"notifications",icon:rs,path:"/notifications"}],e[0]=i):i=e[0];const u=i;let h;e[1]!==a||e[2]!==r?(h=u.map(z=>(0,c.jsx)(Kr,{to:z.path,"aria-label":z.id,className:uc,children:S=>{const{isActive:M}=S;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(z.icon,{size:26,strokeWidth:M?2.5:2}),z.id==="notifications"&&r>0&&(0,c.jsx)("span",{className:"absolute top-3 right-[30%] size-2 bg-rose-500 rounded-full ring-2 ring-white dark:ring-black"}),z.id==="messages"&&a>0&&(0,c.jsx)("span",{className:"absolute top-3 right-[30%] size-2 bg-rose-500 rounded-full ring-2 ring-white dark:ring-black"})]})}},z.id)),e[1]=a,e[2]=r,e[3]=h):h=e[3];let d;e[4]!==s||e[5]!==n?(d=()=>{s&&n(s.handle)},e[4]=s,e[5]=n,e[6]=d):d=e[6];const l=`size-7 border-2 ${o.pathname.startsWith("/u/")?"border-black dark:border-white":"border-transparent opacity-70"}`,f=s?.avatar||"/default-avatar.webp";let m;e[7]!==f?(m=(0,c.jsx)(Nt,{src:f,alt:"Profile",className:"object-cover"}),e[7]=f,e[8]=m):m=e[8];let p;e[9]!==s?.handle?.[0]?(p=s?.handle?.[0]?.toUpperCase(),e[9]=s?.handle?.[0],e[10]=p):p=e[10];let b;e[11]!==p?(b=(0,c.jsx)(At,{children:p}),e[11]=p,e[12]=b):b=e[12];let x;e[13]!==l||e[14]!==m||e[15]!==b?(x=(0,c.jsxs)(St,{className:l,children:[m,b]}),e[13]=l,e[14]=m,e[15]=b,e[16]=x):x=e[16];let v;e[17]!==d||e[18]!==x?(v=(0,c.jsx)("button",{onClick:d,"aria-label":"My Profile",className:"flex-1 flex flex-col items-center justify-center h-full",children:x}),e[17]=d,e[18]=x,e[19]=v):v=e[19];let C;return e[20]!==v||e[21]!==h?(C=(0,c.jsxs)("nav",{className:"fixed bottom-0 left-0 right-0 z-[40] flex h-16 items-center border-t border-zinc-100 bg-white/90 pb-safe backdrop-blur-md dark:border-zinc-800 dark:bg-black/90 md:hidden",children:[h,v]}),e[20]=v,e[21]=h,e[22]=C):C=e[22],C},dc=cc;function uc(t){const{isActive:e}=t;return`flex flex-1 flex-col items-center justify-center h-full transition-all duration-200 relative ${e?"text-black dark:text-white":"text-zinc-400 opacity-70"}`}var fc=ie(),mc=()=>{const t=(0,fc.c)(5);let e,n;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,c.jsx)("img",{src:"/welcome-banner.webp",alt:"Welcome Banner",fetchPriority:"high",loading:"eager",decoding:"async",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-700"}),n=(0,c.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"}),t[0]=e,t[1]=n):(e=t[0],n=t[1]);let s;t[2]===Symbol.for("react.memo_cache_sentinel")?(s=(0,c.jsx)("h1",{className:"text-3xl sm:text-4xl font-black mb-1 drop-shadow-lg",children:"Welcome to Sysm"}),t[2]=s):s=t[2];let r;t[3]===Symbol.for("react.memo_cache_sentinel")?(r=(0,c.jsxs)("div",{className:"absolute bottom-6 left-8 text-white",children:[s,(0,c.jsxs)("p",{className:"text-sm sm:text-base font-medium opacity-90 tracking-wide drop-shadow-md",children:["a social network built by"," ",(0,c.jsx)("a",{href:"https://t.me/systemadminbd",target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:"@Systemadminbd"})]})]}),t[3]=r):r=t[3];let a;return t[4]===Symbol.for("react.memo_cache_sentinel")?(a=(0,c.jsxs)("div",{className:"relative w-full aspect-[21/9] sm:aspect-[2.5/1] rounded-3xl overflow-hidden mb-6 group cursor-pointer",children:[e,n,r,(0,c.jsx)("div",{className:"absolute bottom-4 right-8",children:(0,c.jsx)("img",{src:"/logo.webp",className:"size-12 animate-pulse opacity-80 rounded-xl",alt:"",loading:"lazy",decoding:"async"})})]}),t[4]=a):a=t[4],a},hc=mc,pc=ie(),gc=t=>{const e=(0,pc.c)(26),{onPostClick:n}=t,s=gn(),r=vn(),{darkMode:a}=Vn(),o=s.pathname==="/";let i;e[0]!==s.pathname?(i=s.pathname.startsWith("/reels")||s.pathname.startsWith("/messages")&&s.pathname.split("/").length>2,e[0]=s.pathname,e[1]=i):i=e[1];const u=i;let h;e[2]!==r?(h=M=>{r(`/u/${M}`)},e[2]=r,e[3]=h):h=e[3];const d=h,l=`min-h-screen bg-[--background] text-[--foreground] font-sans selection:bg-violet-500 selection:text-white transition-colors duration-200 ${a?"dark":""}`;let f;e[4]!==n?(f=(0,c.jsx)(jc,{onPostClick:n}),e[4]=n,e[5]=f):f=e[5];let m;e[6]!==o?(m=o&&(0,c.jsx)("div",{className:"w-full max-w-full overflow-hidden",children:(0,c.jsx)(hc,{})}),e[6]=o,e[7]=m):m=e[7];let p;e[8]===Symbol.for("react.memo_cache_sentinel")?(p=(0,c.jsx)("div",{className:"w-full",children:(0,c.jsx)(Ha,{})}),e[8]=p):p=e[8];let b;e[9]!==m?(b=(0,c.jsxs)("div",{className:"flex flex-col flex-1 w-0 overflow-x-hidden",children:[m,p]}),e[9]=m,e[10]=b):b=e[10];let x;e[11]!==s.pathname?(x=!s.pathname.startsWith("/messages")&&(0,c.jsx)(gu,{}),e[11]=s.pathname,e[12]=x):x=e[12];let v;e[13]!==b||e[14]!==x?(v=(0,c.jsxs)("main",{className:"flex-1 flex justify-center gap-x-2 md:gap-x-8 py-0 md:py-5 px-0 md:px-4",children:[b,x]}),e[13]=b,e[14]=x,e[15]=v):v=e[15];let C;e[16]!==f||e[17]!==v?(C=(0,c.jsxs)("div",{className:"flex justify-center w-full max-w-[1300px] mx-auto min-h-screen px-0 sm:px-0",children:[f,v]}),e[16]=f,e[17]=v,e[18]=C):C=e[18];let z;e[19]!==d||e[20]!==u?(z=!u&&(0,c.jsx)(dc,{handleProfileClick:d}),e[19]=d,e[20]=u,e[21]=z):z=e[21];let S;return e[22]!==C||e[23]!==z||e[24]!==l?(S=(0,c.jsxs)("div",{className:l,children:[C,z]}),e[22]=C,e[23]=z,e[24]=l,e[25]=S):S=e[25],S},vc=gc,bc=ie(),xc=t=>{const e=(0,bc.c)(2),{children:n}=t;let s;return e[0]!==n?(s=(0,c.jsx)("div",{className:"w-full animate-in fade-in slide-in-from-bottom-2 duration-300 ease-out",children:n}),e[0]=n,e[1]=s):s=e[1],s},et=xc,yc=ie(),wc=t=>{const e=(0,yc.c)(18),{onPostClick:n}=t,{currentUser:s}=Ge(),{unreadCount:r}=Ms(s),{unreadCount:a}=Ds(s);let o,i,u,h,d;e[0]===Symbol.for("react.memo_cache_sentinel")?(o={id:"home",icon:Bn,path:"/"},i={id:"community",icon:bn,path:"/community"},u={id:"reels",icon:Jr,path:"/reels"},h={id:"messages",icon:ds,path:"/messages"},d={id:"notifications",icon:rs,path:"/notifications"},e[0]=o,e[1]=i,e[2]=u,e[3]=h,e[4]=d):(o=e[0],i=e[1],u=e[2],h=e[3],d=e[4]);const l=s?`/u/${s.handle}`:"/community";let f;e[5]!==l?(f=[o,i,u,h,d,{id:"profile",icon:Mn,path:l}],e[5]=l,e[6]=f):f=e[6];const m=f;let p;e[7]===Symbol.for("react.memo_cache_sentinel")?(p=(0,c.jsx)(Qr,{to:"/",className:"mb-8 hover:scale-110 transition-transform",children:(0,c.jsx)("img",{src:"/logo.webp",alt:"Logo",className:"size-8 rounded-lg"})}),e[7]=p):p=e[7];let b;e[8]!==a||e[9]!==m||e[10]!==r?(b=m.map(C=>(0,c.jsxs)(Kr,{to:C.path,"aria-label":C.id,className:kc,children:[(0,c.jsx)(C.icon,{size:26,strokeWidth:2.5}),C.id==="notifications"&&r>0&&(0,c.jsx)("span",{className:"absolute top-2 right-2 size-2 bg-rose-500 rounded-full ring-2 ring-white dark:ring-black"}),C.id==="messages"&&a>0&&(0,c.jsx)("span",{className:"absolute top-2 right-2 size-2 bg-rose-500 rounded-full ring-2 ring-white dark:ring-black"})]},C.id)),e[8]=a,e[9]=m,e[10]=r,e[11]=b):b=e[11];let x;e[12]!==s||e[13]!==n?(x=s&&(0,c.jsx)("button",{onClick:n,"aria-label":"Create Post",className:"p-2.5 mt-2 rounded-xl text-white bg-zinc-950 dark:bg-white dark:text-zinc-950 hover:scale-110 active:scale-95 transition-all duration-200 shadow-lg cursor-pointer",title:"Create Post",children:(0,c.jsx)(Vt,{size:26,strokeWidth:2.5})}),e[12]=s,e[13]=n,e[14]=x):x=e[14];let v;return e[15]!==x||e[16]!==b?(v=(0,c.jsxs)("aside",{className:"sticky top-0 hidden md:flex h-screen w-[68px] flex-col items-center py-5 border-r border-zinc-100 dark:border-zinc-800 shrink-0 bg-white dark:bg-black transition-colors duration-200",children:[p,(0,c.jsxs)("nav",{className:"flex flex-col gap-y-4 w-full items-center",children:[b,x]})]}),e[15]=x,e[16]=b,e[17]=v):v=e[17],v},jc=wc;function kc(t){const{isActive:e}=t;return`p-2.5 rounded-xl transition-all duration-200 border border-transparent relative ${e?"text-black dark:text-white bg-zinc-100 dark:bg-zinc-900 border-zinc-200 dark:border-zinc-800":"text-zinc-500 hover:bg-zinc-50 dark:hover:bg-zinc-900"}`}var mt=ie();function bm(t){const e=(0,mt.c)(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let s;return e[2]!==n?(s=(0,c.jsx)(zo,{"data-slot":"alert-dialog",...n}),e[2]=n,e[3]=s):s=e[3],s}function _c(t){const e=(0,mt.c)(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let s;return e[2]!==n?(s=(0,c.jsx)(fo,{"data-slot":"alert-dialog-portal",...n}),e[2]=n,e[3]=s):s=e[3],s}function Cc(t){const e=(0,mt.c)(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=oe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),e[3]=n,e[4]=r):r=e[4];let a;return e[5]!==s||e[6]!==r?(a=(0,c.jsx)(Go,{"data-slot":"alert-dialog-overlay",className:r,...s}),e[5]=s,e[6]=r,e[7]=a):a=e[7],a}function xm(t){const e=(0,mt.c)(9);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]===Symbol.for("react.memo_cache_sentinel")?(r=(0,c.jsx)(Cc,{}),e[3]=r):r=e[3];let a;e[4]!==n?(a=oe("bg-white dark:bg-zinc-950 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-2xl border border-zinc-100 dark:border-zinc-800 p-6 shadow-xl duration-200 sm:max-w-md",n),e[4]=n,e[5]=a):a=e[5];let o;return e[6]!==s||e[7]!==a?(o=(0,c.jsxs)(_c,{children:[r,(0,c.jsx)(oo,{"data-slot":"alert-dialog-content","aria-describedby":void 0,className:a,...s})]}),e[6]=s,e[7]=a,e[8]=o):o=e[8],o}function ym(t){const e=(0,mt.c)(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=oe("flex flex-col gap-2 text-center sm:text-left",n),e[3]=n,e[4]=r):r=e[4];let a;return e[5]!==s||e[6]!==r?(a=(0,c.jsx)("div",{"data-slot":"alert-dialog-header",className:r,...s}),e[5]=s,e[6]=r,e[7]=a):a=e[7],a}function wm(t){const e=(0,mt.c)(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=oe("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",n),e[3]=n,e[4]=r):r=e[4];let a;return e[5]!==s||e[6]!==r?(a=(0,c.jsx)("div",{"data-slot":"alert-dialog-footer",className:r,...s}),e[5]=s,e[6]=r,e[7]=a):a=e[7],a}function jm(t){const e=(0,mt.c)(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=oe("text-lg font-semibold",n),e[3]=n,e[4]=r):r=e[4];let a;return e[5]!==s||e[6]!==r?(a=(0,c.jsx)(Ao,{"data-slot":"alert-dialog-title",className:r,...s}),e[5]=s,e[6]=r,e[7]=a):a=e[7],a}function km(t){const e=(0,mt.c)(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=oe("text-muted-foreground text-sm",n),e[3]=n,e[4]=r):r=e[4];let a;return e[5]!==s||e[6]!==r?(a=(0,c.jsx)(mo,{"data-slot":"alert-dialog-description",className:r,...s}),e[5]=s,e[6]=r,e[7]=a):a=e[7],a}function _m(t){const e=(0,mt.c)(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=oe("inline-flex items-center justify-center rounded-full px-4 py-2 text-sm font-bold transition-all active:scale-95 bg-zinc-900 text-white hover:bg-zinc-800 dark:bg-white dark:text-black dark:hover:bg-zinc-200",n),e[3]=n,e[4]=r):r=e[4];let a;return e[5]!==s||e[6]!==r?(a=(0,c.jsx)(_o,{className:r,...s}),e[5]=s,e[6]=r,e[7]=a):a=e[7],a}function Cm(t){const e=(0,mt.c)(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=oe("inline-flex items-center justify-center rounded-full px-4 py-2 text-sm font-bold border border-zinc-200 bg-white text-zinc-900 hover:bg-zinc-50 dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50 dark:hover:bg-zinc-900",n),e[3]=n,e[4]=r):r=e[4];let a;return e[5]!==s||e[6]!==r?(a=(0,c.jsx)(So,{className:r,...s}),e[5]=s,e[6]=r,e[7]=a):a=e[7],a}var Sc=ie(),Nc=t=>{const e=(0,Sc.c)(12);let n,s,r,a;e[0]!==t?({children:n,variant:r,className:a,...s}=t,e[0]=t,e[1]=n,e[2]=s,e[3]=r,e[4]=a):(n=e[1],s=e[2],r=e[3],a=e[4]);const o=r===void 0?"primary":r,i=a===void 0?"":a;let u;e[5]===Symbol.for("react.memo_cache_sentinel")?(u={primary:"text-white hover:text-white bg-zinc-900 hover:bg-zinc-800 border border-zinc-900 dark:bg-white dark:text-black dark:border-white dark:hover:bg-zinc-200",secondary:"text-zinc-900 border border-zinc-300 hover:border-zinc-400 bg-transparent hover:bg-zinc-50 dark:text-white dark:border-zinc-700 dark:hover:border-zinc-600 dark:hover:bg-zinc-900",outline:"text-zinc-900 border border-zinc-300 hover:border-zinc-400 bg-white dark:bg-transparent dark:text-white dark:border-zinc-700 dark:hover:bg-zinc-900",danger:"text-white bg-red-500 hover:bg-red-600 border border-red-500",ghost:"text-zinc-500 hover:bg-zinc-100 dark:text-zinc-400 dark:hover:bg-zinc-800 border-transparent"},e[5]=u):u=e[5];const h=`rounded-full font-bold inline-flex items-center justify-center relative overflow-hidden px-4 py-1.5 transition-all duration-200 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed disabled:active:scale-100 touch-manipulation ${u[o]} ${i}`;let d;e[6]!==n?(d=(0,c.jsx)("div",{className:"flex items-center gap-x-1.5",children:n}),e[6]=n,e[7]=d):d=e[7];let l;return e[8]!==s||e[9]!==h||e[10]!==d?(l=(0,c.jsx)("button",{className:h,...s,children:d}),e[8]=s,e[9]=h,e[10]=d,e[11]=l):l=e[11],l},Ze=Nc,Tt=ie();function Sm(t){const e=(0,Tt.c)(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let s;return e[2]!==n?(s=(0,c.jsx)($a,{"data-slot":"context-menu",...n}),e[2]=n,e[3]=s):s=e[3],s}function Nm(t){const e=(0,Tt.c)(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let s;return e[2]!==n?(s=(0,c.jsx)(lo,{"data-slot":"context-menu-trigger",...n}),e[2]=n,e[3]=s):s=e[3],s}function Am(t){const e=(0,Tt.c)(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=oe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-context-menu-content-available-height) min-w-[8rem] origin-(--radix-context-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",n),e[3]=n,e[4]=r):r=e[4];let a;return e[5]!==s||e[6]!==r?(a=(0,c.jsx)(fi,{children:(0,c.jsx)(co,{"data-slot":"context-menu-content",className:r,...s})}),e[5]=s,e[6]=r,e[7]=a):a=e[7],a}function zm(t){const e=(0,Tt.c)(12);let n,s,r,a;e[0]!==t?({className:n,inset:s,variant:a,...r}=t,e[0]=t,e[1]=n,e[2]=s,e[3]=r,e[4]=a):(n=e[1],s=e[2],r=e[3],a=e[4]);const o=a===void 0?"default":a;let i;e[5]!==n?(i=oe("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),e[5]=n,e[6]=i):i=e[6];let u;return e[7]!==s||e[8]!==r||e[9]!==i||e[10]!==o?(u=(0,c.jsx)(ho,{"data-slot":"context-menu-item","data-inset":s,"data-variant":o,className:i,...r}),e[7]=s,e[8]=r,e[9]=i,e[10]=o,e[11]=u):u=e[11],u}function Em(t){const e=(0,Tt.c)(10);let n,s,r;e[0]!==t?({className:n,inset:s,...r}=t,e[0]=t,e[1]=n,e[2]=s,e[3]=r):(n=e[1],s=e[2],r=e[3]);let a;e[4]!==n?(a=oe("text-foreground px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",n),e[4]=n,e[5]=a):a=e[5];let o;return e[6]!==s||e[7]!==r||e[8]!==a?(o=(0,c.jsx)(wo,{"data-slot":"context-menu-label","data-inset":s,className:a,...r}),e[6]=s,e[7]=r,e[8]=a,e[9]=o):o=e[9],o}function Rm(t){const e=(0,Tt.c)(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=oe("bg-border -mx-1 my-1 h-px",n),e[3]=n,e[4]=r):r=e[4];let a;return e[5]!==s||e[6]!==r?(a=(0,c.jsx)(Co,{"data-slot":"context-menu-separator",className:r,...s}),e[5]=s,e[6]=r,e[7]=a):a=e[7],a}var jt=ie();function Ts(t){const e=(0,jt.c)(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let s;return e[2]!==n?(s=(0,c.jsx)(si,{"data-slot":"dialog",...n}),e[2]=n,e[3]=s):s=e[3],s}function Ac(t){const e=(0,jt.c)(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let s;return e[2]!==n?(s=(0,c.jsx)(Ho,{"data-slot":"dialog-portal",...n}),e[2]=n,e[3]=s):s=e[3],s}function zc(t){const e=(0,jt.c)(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=oe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),e[3]=n,e[4]=r):r=e[4];let a;return e[5]!==s||e[6]!==r?(a=(0,c.jsx)(Za,{"data-slot":"dialog-overlay",className:r,...s}),e[5]=s,e[6]=r,e[7]=a):a=e[7],a}function Ps(t){const e=(0,jt.c)(11);let n,s,r;e[0]!==t?({className:s,children:n,...r}=t,e[0]=t,e[1]=n,e[2]=s,e[3]=r):(n=e[1],s=e[2],r=e[3]);let a;e[4]===Symbol.for("react.memo_cache_sentinel")?(a=(0,c.jsx)(zc,{}),e[4]=a):a=e[4];let o;e[5]!==s?(o=oe("bg-white dark:bg-zinc-950 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-2xl border border-zinc-100 dark:border-zinc-800 p-6 shadow-xl duration-200 sm:max-w-md",s),e[5]=s,e[6]=o):o=e[6];let i;return e[7]!==n||e[8]!==r||e[9]!==o?(i=(0,c.jsxs)(Ac,{children:[a,(0,c.jsx)(Eo,{"data-slot":"alert-dialog-content","aria-describedby":void 0,className:o,...r,children:n})]}),e[7]=n,e[8]=r,e[9]=o,e[10]=i):i=e[10],i}function Ls(t){const e=(0,jt.c)(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=oe("flex flex-col gap-2 text-center sm:text-left",n),e[3]=n,e[4]=r):r=e[4];let a;return e[5]!==s||e[6]!==r?(a=(0,c.jsx)("div",{"data-slot":"dialog-header",className:r,...s}),e[5]=s,e[6]=r,e[7]=a):a=e[7],a}function Fs(t){const e=(0,jt.c)(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=oe("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",n),e[3]=n,e[4]=r):r=e[4];let a;return e[5]!==s||e[6]!==r?(a=(0,c.jsx)("div",{"data-slot":"dialog-footer",className:r,...s}),e[5]=s,e[6]=r,e[7]=a):a=e[7],a}function Os(t){const e=(0,jt.c)(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=oe("text-lg leading-none font-semibold",n),e[3]=n,e[4]=r):r=e[4];let a;return e[5]!==s||e[6]!==r?(a=(0,c.jsx)(Qo,{"data-slot":"dialog-title",className:r,...s}),e[5]=s,e[6]=r,e[7]=a):a=e[7],a}function Ec(t){const e=(0,jt.c)(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=oe("text-muted-foreground text-sm",n),e[3]=n,e[4]=r):r=e[4];let a;return e[5]!==s||e[6]!==r?(a=(0,c.jsx)(yo,{"data-slot":"dialog-description",className:r,...s}),e[5]=s,e[6]=r,e[7]=a):a=e[7],a}var Jt=ie();function Rc(t){const e=(0,Jt.c)(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let s;return e[2]!==n?(s=(0,c.jsx)(go,{"data-slot":"dropdown-menu",...n}),e[2]=n,e[3]=s):s=e[3],s}function Ic(t){const e=(0,Jt.c)(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let s;return e[2]!==n?(s=(0,c.jsx)(ao,{"data-slot":"dropdown-menu-trigger",...n}),e[2]=n,e[3]=s):s=e[3],s}function Mc(t){const e=(0,Jt.c)(10);let n,s,r;e[0]!==t?({className:n,sideOffset:r,...s}=t,e[0]=t,e[1]=n,e[2]=s,e[3]=r):(n=e[1],s=e[2],r=e[3]);const a=r===void 0?4:r;let o;e[4]!==n?(o=oe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",n),e[4]=n,e[5]=o):o=e[5];let i;return e[6]!==s||e[7]!==a||e[8]!==o?(i=(0,c.jsx)(po,{children:(0,c.jsx)(Ga,{"data-slot":"dropdown-menu-content",sideOffset:a,className:o,...s})}),e[6]=s,e[7]=a,e[8]=o,e[9]=i):i=e[9],i}function mr(t){const e=(0,Jt.c)(12);let n,s,r,a;e[0]!==t?({className:n,inset:s,variant:a,...r}=t,e[0]=t,e[1]=n,e[2]=s,e[3]=r,e[4]=a):(n=e[1],s=e[2],r=e[3],a=e[4]);const o=a===void 0?"default":a;let i;e[5]!==n?(i=oe("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),e[5]=n,e[6]=i):i=e[6];let u;return e[7]!==s||e[8]!==r||e[9]!==i||e[10]!==o?(u=(0,c.jsx)(Wo,{"data-slot":"dropdown-menu-item","data-inset":s,"data-variant":o,className:i,...r}),e[7]=s,e[8]=r,e[9]=i,e[10]=o,e[11]=u):u=e[11],u}function Im(t){const e=(0,Jt.c)(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=oe("bg-border -mx-1 my-1 h-px",n),e[3]=n,e[4]=r):r=e[4];let a;return e[5]!==s||e[6]!==r?(a=(0,c.jsx)(bo,{"data-slot":"dropdown-menu-separator",className:r,...s}),e[5]=s,e[6]=r,e[7]=a):a=e[7],a}var Dc=Object.defineProperty,Tc=(t,e)=>{for(var n in e)Dc(t,n,{get:e[n],enumerable:!0})},pt={};Tc(pt,{ActiveEmoji:()=>ia,Empty:()=>oa,List:()=>ra,Loading:()=>aa,Root:()=>Zs,Search:()=>Js,SkinTone:()=>la,SkinToneSelector:()=>sa,Viewport:()=>Gs});var Us="'Apple Color Emoji', 'Noto Color Emoji', 'Twemoji Mozilla', 'Android Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', EmojiSymbols, sans-serif",Xn=["none","light","medium-light","medium","medium-dark","dark"];function Nn(t){return t.charAt(0).toUpperCase()+t.slice(1)}var rt=2,Be=null;function hr(t){try{Be??=document.createElement("canvas").getContext("2d",{willReadFrequently:!0})}catch{}if(!Be||(queueMicrotask(()=>{Be&&(Be=null)}),Be.canvas.width=rt,Be.canvas.height=rt,Be.font=`2px ${Us}`,Be.textBaseline="middle",Be.measureText(t).width>=rt*2))return!1;Be.fillStyle="#00f",Be.fillText(t,0,0);let e=Be.getImageData(0,0,rt,rt).data;Be.clearRect(0,0,rt,rt),Be.fillStyle="#f00",Be.fillText(t,0,0);let n=Be.getImageData(0,0,rt,rt).data;for(let s=0;s<rt*rt*4;s+=4)if(e[s]!==n[s]||e[s+1]!==n[s+1]||e[s+2]!==n[s+2])return!1;return!0}function pr(t,e,n){try{let s=t.getItem(e);if(!s)throw new Error(`No value found for "${e}".`);return n(JSON.parse(s))}catch{return null}}function Hs(t,e,n){t.setItem(e,JSON.stringify(n))}function gr(t){return e=>e===void 0?void 0:t(e)}function vr(t){return e=>e===null?null:t(e)}function Ue(t){if(typeof t!="string")throw new Error;return t}function an(t){if(typeof t!="number")throw new Error;return t}function Bs(t){if(typeof t!="boolean")throw new Error;return t}function gt(t){return e=>{if(typeof e!="object"||e===null)throw new Error;let n={};for(let s in t){let r=e[s];r===void 0&&t[s](void 0),n[s]=t[s](r)}return n}}function An(t){return e=>{if(!Array.isArray(e))throw new Error;return e.length>0&&t(e[0]),e}}var qs=(t,e)=>`${t}/${e}/data.json`,Ws=(t,e)=>`${t}/${e}/messages.json`,Pc=["bn","da","de","en-gb","en","es-mx","es","et","fi","fr","hi","hu","it","ja","ko","lt","ms","nb","nl","pl","pt","ru","sv","th","uk","vi","zh-hant","zh"],br="en",Vs=t=>`frimousse/data/${t}`,xr="frimousse/metadata";async function yr(t,e){try{return(await fetch(t,{method:"HEAD",signal:e})).headers.get("etag")}catch{return null}}async function Lc(t,e,n){let[{emojis:s,emojisEtag:r},{messages:a,messagesEtag:o}]=await Promise.all([fetch(qs(t,e),{signal:n}).then(async i=>({emojis:await i.json(),emojisEtag:i.headers.get("etag")})),fetch(Ws(t,e),{signal:n}).then(async i=>({messages:await i.json(),messagesEtag:i.headers.get("etag")}))]);return{emojis:s,messages:a,emojisEtag:r,messagesEtag:o}}async function Fc(t,e,n){let[s,r]=await Promise.all([yr(qs(t,e),n),yr(Ws(t,e),n)]);return{emojisEtag:s,messagesEtag:r}}function Oc(t){return t.skins?t.skins.filter(e=>typeof e.tone=="number").reduce((e,n)=>{let s=Xn[n.tone];return e[s]=n.emoji,e},{}):void 0}async function wr(t,e,n){let{emojis:s,emojisEtag:r,messages:a,messagesEtag:o}=await Lc(t,e,n),i=a.subgroups.find(m=>m.key==="country-flag"||m.key==="subdivision-flag"),u=a.groups.filter(m=>m.key!=="component"),h=s.filter(m=>"group"in m),d=u.map(m=>({index:m.order,label:Nn(m.message)})),l=a.skinTones.reduce((m,p)=>(m[p.key]=Nn(p.message),m),{}),f={locale:e,emojis:h.map(m=>({emoji:m.emoji,category:m.group,version:m.version,label:Nn(m.label),tags:m.tags??[],countryFlag:i&&m.subgroup===i.order||void 0,skins:Oc(m)})),categories:d,skinTones:l};return Hs(localStorage,Vs(e),{data:f,metadata:{emojisEtag:r,messagesEtag:o}}),f}function Uc(t,e){let n=new Map;for(let o of t)n.has(o.version)||n.set(o.version,o.emoji);let s=[...n.keys()].sort((o,i)=>i-o),r=s[0]??0,a=hr("");if(typeof e=="number")return{emojiVersion:e,countryFlags:a};for(let o of s)if(hr(n.get(o)))return{emojiVersion:o,countryFlags:a};return{emojiVersion:r,countryFlags:a}}var Hc=gt({emojiVersion:an,countryFlags:Bs}),Bc=gt({data:gt({locale:Ue,emojis:An(gt({emoji:Ue,category:an,label:Ue,version:an,tags:An(Ue),countryFlag:gr(Bs),skins:gr(gt({light:Ue,"medium-light":Ue,medium:Ue,"medium-dark":Ue,dark:Ue}))})),categories:An(gt({index:an,label:Ue})),skinTones:gt({light:Ue,"medium-light":Ue,medium:Ue,"medium-dark":Ue,dark:Ue})}),metadata:gt({emojisEtag:vr(Ue),messagesEtag:vr(Ue)})});async function qc({locale:t,emojiVersion:e,emojibaseUrl:n,signal:s}){let r=typeof n=="string"?n:`https://cdn.jsdelivr.net/npm/emojibase-data@${typeof e=="number"?Math.floor(e):"latest"}`,a=pr(sessionStorage,xr,Hc),o=pr(localStorage,Vs(t),Bc),i;if(!o)i=await wr(r,t,s);else if(a)i=o.data;else try{let{emojisEtag:u,messagesEtag:h}=await Fc(r,t,s);i=!u||!h||u!==o.metadata.emojisEtag||h!==o.metadata.messagesEtag?await wr(r,t,s):o.data}catch{i=o.data}return a??=Uc(i.emojis,e),Hs(sessionStorage,xr,a),{locale:t,emojis:i.emojis.filter(u=>{let h=u.version<=a.emojiVersion;return u.countryFlag?h&&a.countryFlags:h}),categories:i.categories,skinTones:i.skinTones}}function jr(t){return Pc.includes(t)?t:(console.warn(`Locale "${t}" is not supported, using "${br}" instead.`),br)}function kr(t){return Xn.includes(t)?t:(console.warn(`Skin tone "${t}" is not valid, using "none" instead.`),"none")}function Wc(t,e){let n=[];if(e<=0)return n;for(let s=0,r=t.length;s<r;s+=e)n.push(t.slice(s,s+e));return n}function Vc(t,e){if(!e)return t;let n=e.toLowerCase().trim(),s=new WeakMap;return t.filter(r=>{let a=0;r.label.toLowerCase().includes(n)&&(a+=10);for(let o of r.tags)o.toLowerCase().includes(n)&&(a+=1);return a>0?(s.set(r,a),!0):!1}).sort((r,a)=>(s.get(a)??0)-(s.get(r)??0))}function Yc(t,e,n,s){let r=Vc(t.emojis,s),a=[],o=[],i=[],u={},h=0,d=0;for(let l of r)u[l.category]||(u[l.category]=[]),u[l.category].push({emoji:n&&n!=="none"&&l.skins?l.skins[n]:l.emoji,label:l.label});for(let l of t.categories){let f=u[l.index];if(!f||f.length===0)continue;let m=Wc(Array.from(f),e).map(p=>({categoryIndex:h,emojis:p}));a.push(...m),o.push({label:l.label,rowsCount:m.length,startRowIndex:d}),i.push(d),h++,d+=m.length}return{count:r.length,categories:o,categoriesStartRowIndices:i,rows:a,skinTones:t.skinTones}}function Xc(t){let e={},n=null,s=null,r=new Set,a=()=>{if(n){e=n,n=null;for(let h of r)h(e)}s=null},o=()=>n??e,i=h=>{n??=e,Object.assign(n,typeof h=="function"?h(o()):h),s||(s=requestAnimationFrame(a))},u=h=>(r.add(h),()=>r.delete(h));return e=t(i,o),{get:o,set:i,subscribe:u}}function Qc(t){let[e]=(0,g.useState)(t);return e}function Kc(t){let e=(0,g.createContext)(null);return{useStore:()=>{let n=(0,g.useContext)(e);if(!n)throw new Error(t);return n},Provider:({store:n,children:s})=>(0,c.jsx)(e.Provider,{value:n,children:s})}}function Je(t,e,n=Object.is){let[s,r]=(0,g.useState)(()=>e(t.get()));return(0,g.useEffect)(()=>t.subscribe(()=>{let a=e(t.get());r(o=>n(o,a)?o:a)}),[t,e,n]),(0,g.useDebugValue)(s),s}function ct(t,e,n){return Je(t,(0,g.useCallback)(s=>s[e],[e]),n)}var _r=2;function Zc(t,e,n,s,r){let a=0;return Xc((o,i)=>({locale:e,columns:n,sticky:s,skinTone:r,onEmojiSelect:t,data:null,search:"",interaction:"none",activeColumnIndex:0,activeRowIndex:0,rowHeight:null,categoryHeaderHeight:null,viewportWidth:null,viewportHeight:null,viewportCurrentCategoryIndex:null,viewportStartCategoryIndex:0,viewportStartRowIndex:0,viewportEndRowIndex:0,rootRef:null,searchRef:null,viewportRef:null,listRef:null,updateViewportState:u=>{let h=i(),d=u?.data??h.data,l=u?.categoryHeaderHeight??h.categoryHeaderHeight,f=u?.rowHeight??h.rowHeight,m=u?.viewportHeight??h.viewportHeight;if(!d||d.rows.length===0||!l||!f||!m)return o({...u,viewportStartCategoryIndex:0,viewportStartRowIndex:0,viewportEndRowIndex:0});let p=0,b=0;for(let w of d.categories)if(b++*l+w.startRowIndex*f<a)p+=l;else break;let x=d.categories.length*l+d.rows.length*f,v=Math.floor(_r*f/2),C=Math.ceil(_r*f/2),z=Math.min(a-p-v,x-m),S=z+m+C,M=Math.max(0,Math.floor(z/f)),_=Math.min(d.rows.length-1,Math.ceil(S/f)),D=d.rows[M]?.categoryIndex;return o(D===void 0&&u?u:{...u,viewportStartCategoryIndex:D,viewportStartRowIndex:M,viewportEndRowIndex:_})},onDataChange:u=>{i().updateViewportState({data:u,activeColumnIndex:0,activeRowIndex:0})},onSearchChange:u=>{o({search:u,interaction:u?"keyboard":"none"})},onActiveEmojiChange:(u,h,d)=>{if(o({interaction:u,activeColumnIndex:h,activeRowIndex:d}),u!=="keyboard")return;let{listRef:l,viewportRef:f,sticky:m,rowHeight:p,viewportHeight:b,categoryHeaderHeight:x}=i(),v=l?.current,C=f?.current;if(!v||!C||!p||!x||!b)return;let z=d;z===0&&C.scrollTo({top:0,behavior:"instant"});let S=v.querySelector(`[aria-rowindex="${z}"]`);if(!(S instanceof HTMLElement))return;let M=S.offsetTop,_=getComputedStyle(S),D=Number.parseFloat(_.scrollMarginTop),w=Number.parseFloat(_.scrollMarginBottom),y=a+D;m&&M<a+b/2&&(y+=x);let A=y+b-w;(M<y||M+p>A)&&C.scrollTo({top:Math.max(M<y+x?M-Math.max(m?x:0,D):M-b+p+w,0),behavior:"instant"})},onActiveEmojiReset:()=>{o({interaction:"none",activeColumnIndex:0,activeRowIndex:0})},onRowHeightChange:u=>{i().updateViewportState({rowHeight:u})},onCategoryHeaderHeightChange:u=>{i().updateViewportState({categoryHeaderHeight:u})},onViewportSizeChange:(u,h)=>{i().updateViewportState({viewportWidth:u,viewportHeight:h})},onViewportScroll:u=>{a=u,i().updateViewportState()}}))}var{useStore:Xe,Provider:Jc}=Kc("EmojiPicker.Root is missing.");function Gc(t){return t.search}function Qn(t){return t.interaction==="none"?void 0:t.data?.rows[t.activeRowIndex]?.emojis[t.activeColumnIndex]}function $c(t){return t.data===void 0||typeof t.data?.count=="number"&&t.data.count===0}function ed(t){return t.data===null||t.viewportHeight===null||t.rowHeight===null||t.categoryHeaderHeight===null}function Ys(t){return t.data?.rows.length}function td(t){return t.data?.categories.length}function nd(t){return t.data?.categoriesStartRowIndices}function rd(t){return t.data?.skinTones}function Xs(t,e){return t?.emoji===e?.emoji}function sd(t,e){return t?.categoryIndex!==e?.categoryIndex||t?.emojis.length!==e?.emojis.length?!1:!!t?.emojis.every((n,s)=>Xs(n,e?.emojis[s]))}var Ut="",Cr=/\p{Emoji_Modifier_Base}/u,ad=/\uFE0F$/,od=/\u{1F3FB}|\u{1F3FC}|\u{1F3FD}|\u{1F3FE}|\u{1F3FF}/gu,id={light:"","medium-light":"",medium:"","medium-dark":"",dark:""};function ld(t,e){if(!t.split(Ut).some(s=>Cr.test(s)))return t;let n=t.split(Ut).map(s=>s.replace(od,"")).join(Ut);return e==="none"?n:n.split(Ut).map((s,r,a)=>{let o=a.length>1;return!Cr.test(s)||o&&s===""?s:s.replace(ad,"")+id[e]}).join(Ut)}function cd(t){return Xn.map(e=>({skinTone:e,emoji:ld(t,e)}))}function Qs(){return(0,g.useDeferredValue)(Je(Xe(),Qn,Xs))}function Ks(t=""){let e=Xe(),n=ct(e,"skinTone"),s=(0,g.useMemo)(()=>cd(t),[t]);return[n,(0,g.useCallback)(r=>{e.set({skinTone:r})},[]),s]}function Kn(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||typeof e!="object"||t===null||e===null||Array.isArray(t)!==Array.isArray(e))return!1;let n=Object.keys(t),s=Object.keys(e);return n.length!==s.length?!1:n.every(r=>r in e&&t[r]===e[r])}function dd(...t){}function ud(t,e){let n=null;if(typeof window.requestIdleCallback=="function")n=window.requestIdleCallback(t,e);else{let s=Date.now();n=window.setTimeout(()=>{t({didTimeout:!1,timeRemaining:()=>Math.max(0,(e?.timeout??50)-(Date.now()-s))})},10)}return()=>{typeof window.cancelIdleCallback=="function"?window.cancelIdleCallback(n):window.clearTimeout(n)}}var at=typeof window<"u"?g.useLayoutEffect:g.useEffect;function fd(t){let e=(0,g.useRef)(t);return at(()=>{e.current=t}),(0,g.useCallback)((...n)=>e.current(...n),[])}function md({emojiVersion:t,emojibaseUrl:e}){let[n,s]=(0,g.useState)(void 0),r=Xe(),a=ct(r,"locale"),o=ct(r,"columns"),i=ct(r,"skinTone"),u=ct(r,"search");return(0,g.useEffect)(()=>{let h=new AbortController,d=h.signal;return qc({locale:a,emojiVersion:t,emojibaseUrl:e,signal:d}).then(l=>{s(l)}).catch(l=>{d.aborted||console.error(l)}),()=>{h.abort()}},[t,e,a]),(0,g.useEffect)(()=>{if(n)return ud(()=>{r.get().onDataChange(Yc(n,o,i,u))},{timeout:100})},[n,o,i,u]),null}var Zs=(0,g.forwardRef)(({locale:t="en",columns:e=9,skinTone:n="none",onEmojiSelect:s=dd,emojiVersion:r,emojibaseUrl:a,onFocusCapture:o,onBlurCapture:i,children:u,style:h,sticky:d=!0,...l},f)=>{let m=fd(s),p=Qc(()=>Zc(m,jr(t),e,d,kr(n))),[b,x]=(0,g.useState)(!1),v=(0,g.useRef)(null),C=(0,g.useCallback)(M=>{M&&(v.current=M,p.set({rootRef:v}))},[]);at(()=>{p.set({locale:jr(t)})},[t]),at(()=>{p.set({columns:e})},[e]),at(()=>{p.set({sticky:d})},[d]),at(()=>{p.set({skinTone:kr(n)})},[n]);let z=(0,g.useCallback)(M=>{o?.(M);let{searchRef:_,viewportRef:D}=p.get(),w=M.target===_?.current||M.target.hasAttribute("frimousse-search"),y=M.target===D?.current||M.target.hasAttribute("frimousse-viewport");M.isDefaultPrevented()||(x(w||y),M.isDefaultPrevented()||(x(w||y),y?p.get().onActiveEmojiChange("keyboard",0,0):w&&p.get().search===""&&p.set({interaction:"none"})))},[o]),S=(0,g.useCallback)(M=>{i?.(M),!M.isDefaultPrevented()&&!M.currentTarget.contains(M.relatedTarget)&&x(!1)},[i]);return at(()=>{b||p.get().onActiveEmojiReset()},[b]),(0,g.useImperativeHandle)(f,()=>v.current),(0,g.useEffect)(()=>{if(!b)return;function M(_){if(_.defaultPrevented||!_.key.startsWith("Arrow")&&_.key!=="Enter")return;let{data:D,onEmojiSelect:w,onActiveEmojiChange:y,interaction:A,activeColumnIndex:R,activeRowIndex:E}=p.get();if(_.key==="Enter"){let I=Qn(p.get());I&&(_.preventDefault(),w(I))}if(_.key.startsWith("Arrow")){let I=R,N=E;if(_.preventDefault(),A!=="none"){if(D?.rows&&D.rows.length>0)switch(_.key){case"ArrowLeft":if(I===0){let L=N-1,j=D.rows[L];j&&(N=L,I=j.emojis.length-1)}else I-=1;break;case"ArrowRight":if(I===D.rows[N].emojis.length-1){let L=N+1;D.rows[L]&&(N=L,I=0)}else I+=1;break;case"ArrowUp":{let L=D.rows[N-1];L&&(N-=1,L.emojis[I]||(I=L.emojis.length-1));break}case"ArrowDown":{let L=D.rows[N+1];L&&(N+=1,L.emojis[I]||(I=L.emojis.length-1));break}}y("keyboard",I,N)}else y("keyboard",0,0)}}return document.addEventListener("keydown",M),()=>{document.removeEventListener("keydown",M)}},[b]),at(()=>{let M=null,_=null,D=null,w=null,y=p.subscribe(N=>{v.current&&(M!==N.viewportWidth&&(M=N.viewportWidth,v.current.style.setProperty("--frimousse-viewport-width",`${N.viewportWidth}px`)),_!==N.viewportHeight&&(_=N.viewportHeight,v.current.style.setProperty("--frimousse-viewport-height",`${N.viewportHeight}px`)),D!==N.rowHeight&&(D=N.rowHeight,v.current.style.setProperty("--frimousse-row-height",`${N.rowHeight}px`)),w!==N.categoryHeaderHeight&&(w=N.categoryHeaderHeight,v.current.style.setProperty("--frimousse-category-header-height",`${N.categoryHeaderHeight}px`)))}),{viewportWidth:A,viewportHeight:R,rowHeight:E,categoryHeaderHeight:I}=p.get();return A&&v.current.style.setProperty("--frimousse-viewport-width",`${A}px`),R&&v.current.style.setProperty("--frimousse-viewport-height",`${R}px`),E&&v.current.style.setProperty("--frimousse-row-height",`${E}px`),I&&v.current.style.setProperty("--frimousse-category-header-height",`${I}px`),y},[]),(0,c.jsx)("div",{"data-focused":b?"":void 0,"frimousse-root":"",onBlurCapture:S,onFocusCapture:z,...l,ref:C,style:{"--frimousse-emoji-font":Us,...h},children:(0,c.jsxs)(Jc,{store:p,children:[(0,c.jsx)(md,{emojiVersion:r,emojibaseUrl:a}),u]})})}),Js=(0,g.forwardRef)(({value:t,defaultValue:e,onChange:n,...s},r)=>{let a=Xe(),o=(0,g.useRef)(null),i=(0,g.useCallback)(l=>{l&&(o.current=l,a.set({searchRef:o}))},[]),u=typeof t=="string",h=(0,g.useRef)(u);(0,g.useEffect)(()=>{h.current=u},[u]),at(()=>{a.set({search:typeof t=="string"?t:typeof e=="string"?e:""})},[]),at(()=>{typeof t=="string"&&a.get().onSearchChange(t)},[t]);let d=(0,g.useCallback)(l=>{n?.(l),l.isDefaultPrevented()||a.get().onSearchChange(l.target.value)},[n]);return(0,g.useImperativeHandle)(r,()=>o.current),(0,c.jsx)("input",{autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",enterKeyHint:"done","frimousse-search":"",placeholder:"Search",spellCheck:!1,type:"search",...s,defaultValue:e,onChange:d,ref:i,value:t})}),hd=(0,g.memo)(()=>{let t=Qs();return t?(0,c.jsx)("div",{"aria-live":"polite",style:{border:0,clip:"rect(0, 0, 0, 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:1,wordWrap:"normal"},children:t.label}):null}),Gs=(0,g.forwardRef)(({children:t,onScroll:e,onKeyDown:n,style:s,...r},a)=>{let o=Xe(),i=(0,g.useRef)(null),u=(0,g.useCallback)(f=>{f&&(i.current=f,o.set({viewportRef:i}))},[]),h=Je(o,Ys),d=Je(o,td),l=(0,g.useCallback)(f=>{e?.(f),o.get().onViewportScroll(f.currentTarget.scrollTop)},[e]);return at(()=>{if(!i.current)return;let f=new ResizeObserver(([m])=>{let p=m?.borderBoxSize[0]?.inlineSize??0,b=m?.borderBoxSize[0]?.blockSize??0,{onViewportSizeChange:x,viewportHeight:v,viewportWidth:C}=o.get();(v!==b||C!==p)&&x(p,b)});return f.observe(i.current),o.get().onViewportSizeChange(i.current.offsetWidth,i.current.clientHeight),()=>{f.disconnect()}},[]),(0,g.useImperativeHandle)(a,()=>i.current),(0,c.jsxs)("div",{"frimousse-viewport":"",...r,onScroll:l,ref:u,style:{position:"relative",boxSizing:"border-box",contain:"layout paint",containIntrinsicSize:typeof h=="number"&&typeof d=="number"?`var(--frimousse-viewport-width, auto) calc(${h} * var(--frimousse-row-height) + ${d} * var(--frimousse-category-header-height))`:void 0,overflowY:"auto",overscrollBehavior:"contain",scrollbarGutter:"stable",willChange:"scroll-position",...s},children:[(0,c.jsx)(hd,{}),t]})});function $s(t,e,n){return{emoji:{...t,isActive:n},role:"gridcell","aria-colindex":e,"aria-selected":n||void 0,"aria-label":t.label,"data-active":n?"":void 0,"frimousse-emoji":"",style:{fontFamily:"var(--frimousse-emoji-font)"},tabIndex:-1}}function ea(t,e=!1){return{role:e?void 0:"row","aria-rowindex":e?void 0:t,"frimousse-row":"",style:{contain:e?void 0:"content",height:e?void 0:"var(--frimousse-row-height)",display:"flex"}}}function ta(t,e){return{"frimousse-category":"",style:{contain:"content",top:e?`calc(${t} * var(--frimousse-category-header-height) + ${e.startRowIndex} * var(--frimousse-row-height))`:void 0,height:e?`calc(var(--frimousse-category-header-height) + ${e.rowsCount} * var(--frimousse-row-height))`:void 0,width:"100%",pointerEvents:"none",position:"absolute"}}}function na(t,e=!1,n=!0){return{category:t,"frimousse-category-header":"",style:{contain:e?void 0:"layout paint",height:e?void 0:"var(--frimousse-category-header-height)",pointerEvents:"auto",position:n?"sticky":void 0,top:0}}}function Sr(t,e,n,s){return{"frimousse-list-sizer":"",style:{position:"relative",boxSizing:"border-box",height:`calc(${t} * var(--frimousse-row-height) + ${e} * var(--frimousse-category-header-height))`,paddingTop:`calc(${n} * var(--frimousse-row-height) + ${s} * var(--frimousse-category-header-height))`}}}function Nr(t,e,n){return{"aria-colcount":t,"aria-rowcount":e,"frimousse-list":"",style:{"--frimousse-list-columns":t,...n},role:"grid"}}function pd(t){t.preventDefault()}var gd=(0,g.memo)(({Emoji:t,emoji:e,columnIndex:n,rowIndex:s})=>{let r=Xe(),a=Je(r,h=>Qn(h)?.emoji===e.emoji),o=(0,g.useCallback)(()=>{r.get().onEmojiSelect(e)},[e]),i=(0,g.useCallback)(()=>{r.get().onActiveEmojiChange("pointer",n,s)},[n,s]),u=(0,g.useCallback)(()=>{r.get().onActiveEmojiReset()},[]);return(0,c.jsx)(t,{...$s(e,n,a),onClick:o,onPointerDown:pd,onPointerEnter:i,onPointerLeave:u})}),vd=(0,g.memo)(({Row:t,Emoji:e,rowIndex:n})=>{let s=Je(Xe(),r=>r.data?.rows[n],sd);return s?(0,c.jsx)(t,{...ea(n),children:s.emojis.map((r,a)=>(0,c.jsx)(gd,{Emoji:e,columnIndex:a,emoji:r,rowIndex:n},r.label))}):null}),bd=(0,g.memo)(({CategoryHeader:t,categoryIndex:e})=>{let n=Xe(),s=Je(n,a=>a.data?.categories[e],Kn),r=ct(n,"sticky");return s?(0,c.jsx)("div",{...ta(e,s),children:(0,c.jsx)(t,{...na({label:s.label},!1,r)})}):null}),Ar=(0,g.memo)(({CategoryHeader:t,Row:e,Emoji:n})=>{let s=(0,g.useRef)(null),r=Xe(),a=ct(r,"columns"),o=(0,g.useMemo)(()=>Array(a).fill({emoji:"",label:""}),[a]),i=(0,g.useMemo)(()=>({label:"Category"}),[]),u=(0,g.useRef)(null),h=(0,g.useRef)(null);return at(()=>{let d=s.current?.parentElement?.parentElement;if(!d||!u.current||!h.current)return;let l=new ResizeObserver(p=>{for(let b of p){let x=b.contentRect.height,{onRowHeightChange:v,onCategoryHeaderHeightChange:C,rowHeight:z,categoryHeaderHeight:S}=r.get();b.target===u.current&&z!==x&&v(x),b.target===h.current&&S!==x&&C(x)}});l.observe(d),l.observe(u.current),l.observe(h.current);let{onRowHeightChange:f,onCategoryHeaderHeightChange:m}=r.get();return f(u.current.clientHeight),m(h.current.clientHeight),()=>{l.disconnect()}},[]),(0,c.jsxs)("div",{"aria-hidden":!0,ref:s,style:{height:0,visibility:"hidden"},children:[(0,c.jsx)("div",{"frimousse-row-sizer":"",ref:u,children:(0,c.jsx)(e,{...ea(-1,!0),children:o.map((d,l)=>(0,c.jsx)(n,{...$s(d,l,!1)},l))})}),(0,c.jsx)("div",{...ta(-1),children:(0,c.jsx)("div",{"frimousse-category-header-sizer":"",ref:h,children:(0,c.jsx)(t,{...na(i,!0)})})})]})});function xd({category:t,...e}){return(0,c.jsx)("div",{...e,children:t.label})}function yd({emoji:t,...e}){return(0,c.jsx)("button",{type:"button",...e,children:t.emoji})}function wd({...t}){return(0,c.jsx)("div",{...t})}var ra=(0,g.forwardRef)(({style:t,components:e,...n},s)=>{let r=Xe(),a=(0,g.useRef)(null),o=(0,g.useCallback)(v=>{v&&(a.current=v,r.set({listRef:a}))},[]),i=e?.CategoryHeader??xd,u=e?.Emoji??yd,h=e?.Row??wd,d=ct(r,"columns"),l=ct(r,"viewportStartRowIndex"),f=ct(r,"viewportEndRowIndex"),m=Je(r,Ys),p=Je(r,nd,Kn),b=(0,g.useMemo)(()=>p?.filter(v=>v<l).length??0,[p,l]),x=p?.length??0;return(0,g.useImperativeHandle)(s,()=>a.current),!m||!p||x===0?(0,c.jsx)("div",{...Nr(d,0,t),...n,children:(0,c.jsx)("div",{...Sr(0,0,0,0),children:(0,c.jsx)(Ar,{CategoryHeader:i,Emoji:u,Row:h})})}):(0,c.jsx)("div",{...Nr(d,m,t),...n,ref:o,children:(0,c.jsxs)("div",{...Sr(m,x,l,b),children:[(0,c.jsx)(Ar,{CategoryHeader:i,Emoji:u,Row:h}),Array.from({length:f-l+1},(v,C)=>{let z=l+C;return(0,c.jsxs)(g.Fragment,{children:[p.indexOf(z)>=0&&(0,c.jsx)("div",{style:{height:"var(--frimousse-category-header-height)"}}),(0,c.jsx)(vd,{Emoji:u,Row:h,rowIndex:z})]},z)}),Array.from({length:x},(v,C)=>(0,c.jsx)(bd,{CategoryHeader:i,categoryIndex:C},C))]})})}),sa=(0,g.forwardRef)(({emoji:t,onClick:e,"aria-label":n="Change skin tone",...s},r)=>{let a=Je(Xe(),rd,Kn),[o,i,u]=Ks(t),h=(0,g.useMemo)(()=>Math.max(0,u.findIndex(b=>b.skinTone===o)),[o,u]),d=u[h],l=u[(h+1)%u.length].skinTone,f=o==="none"?void 0:a?.[o],m=l==="none"?void 0:a?.[l],p=(0,g.useCallback)(b=>{e?.(b),b.isDefaultPrevented()||i(l)},[e,i,l]);return(0,c.jsx)("button",{type:"button",...s,"aria-label":n+(m?` (${m})`:""),"aria-live":"polite","aria-valuetext":f,"frimousse-skin-tone-selector":"",onClick:p,ref:r,children:d.emoji})});function aa({children:t,...e}){return Je(Xe(),ed)?(0,c.jsx)("span",{"frimousse-loading":"",...e,children:t}):null}function jd({children:t}){return t({search:Je(Xe(),Gc)})}function oa({children:t,...e}){return Je(Xe(),$c)?(0,c.jsx)("span",{"frimousse-empty":"",...e,children:typeof t=="function"?(0,c.jsx)(jd,{children:t}):t}):null}function ia({children:t}){return t({emoji:Qs()})}function la({children:t,emoji:e}){let[n,s,r]=Ks(e);return t({skinTone:n,setSkinTone:s,skinToneVariations:r})}Zs.displayName="EmojiPicker.Root";Js.displayName="EmojiPicker.Search";Gs.displayName="EmojiPicker.Viewport";ra.displayName="EmojiPicker.List";aa.displayName="EmojiPicker.Loading";oa.displayName="EmojiPicker.Empty";sa.displayName="EmojiPicker.SkinToneSelector";ia.displayName="EmojiPicker.ActiveEmoji";la.displayName="EmojiPicker.SkinTone";var kd=ie(),_d=t=>{const e=(0,kd.c)(10),{onEmojiSelect:n,className:s}=t;let r;e[0]!==s?(r=oe("isolate flex h-[350px] w-[320px] flex-col overflow-hidden rounded-xl border border-zinc-200 bg-white shadow-xl dark:border-zinc-800 dark:bg-zinc-950",s),e[0]=s,e[1]=r):r=e[1];let a;e[2]===Symbol.for("react.memo_cache_sentinel")?(a=(0,c.jsx)(pt.Search,{className:"z-10 mx-3 mt-3 appearance-none rounded-lg border-none bg-zinc-100 px-3 py-2 text-sm outline-none placeholder:text-zinc-500 focus:ring-1 focus:ring-violet-500 dark:bg-zinc-900 dark:text-white",placeholder:"Search emojis..."}),e[2]=a):a=e[2];let o,i;e[3]===Symbol.for("react.memo_cache_sentinel")?(o=(0,c.jsx)(pt.Loading,{className:"absolute inset-0 flex items-center justify-center text-zinc-400 text-sm dark:text-zinc-500",children:"Loading"}),i=(0,c.jsx)(pt.Empty,{className:"absolute inset-0 flex items-center justify-center text-zinc-400 text-sm dark:text-zinc-500",children:"No emoji found."}),e[3]=o,e[4]=i):(o=e[3],i=e[4]);let u,h;e[5]===Symbol.for("react.memo_cache_sentinel")?(u=(0,c.jsxs)(pt.Viewport,{className:"relative flex-1 outline-none no-scrollbar",children:[o,i,(0,c.jsx)(pt.List,{className:"select-none pb-2",components:{CategoryHeader:Cd,Row:Sd,Emoji:Nd}})]}),h=(0,c.jsx)(pt.ActiveEmoji,{children:Ad}),e[5]=u,e[6]=h):(u=e[5],h=e[6]);let d;return e[7]!==n||e[8]!==r?(d=(0,c.jsxs)(pt.Root,{onEmojiSelect:n,className:r,children:[a,u,h]}),e[7]=n,e[8]=r,e[9]=d):d=e[9],d},Mm=_d;function Cd(t){const{category:e,...n}=t;return(0,c.jsx)("div",{className:"bg-white/80 px-4 pt-4 pb-1.5 font-bold text-zinc-500 text-[11px] uppercase tracking-wider backdrop-blur-sm dark:bg-zinc-950/80 dark:text-zinc-400",...n,children:e.label})}function Sd(t){const{children:e,...n}=t;return(0,c.jsx)("div",{className:"scroll-my-1 px-2",...n,children:e})}function Nd(t){const{emoji:e,...n}=t;return(0,c.jsx)("button",{className:"flex aspect-square size-9 items-center justify-center rounded-lg text-xl transition-colors hover:bg-zinc-100 data-[active]:bg-violet-500/10 data-[active]:text-violet-500 dark:hover:bg-zinc-900 dark:data-[active]:bg-violet-500/20",...n,children:e.emoji})}function Ad(t){const{emoji:e}=t;return(0,c.jsx)("div",{className:"flex items-center gap-3 border-t border-zinc-100 p-3 dark:border-zinc-800",children:e?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{className:"text-2xl",children:e.emoji}),(0,c.jsx)("span",{className:"text-xs font-bold text-zinc-600 dark:text-zinc-400 truncate",children:e.label.replace(/:/g,"").replace(/_/g," ")})]}):(0,c.jsx)("span",{className:"text-xs font-medium text-zinc-400",children:"Select an emoji..."})})}var zd=ie(),Ed=t=>{const e=(0,zd.c)(33),{src:n,isOpen:s,onClose:r,onCropComplete:a,aspect:o,circular:i}=t,[u,h]=(0,g.useState)(),[d,l]=(0,g.useState)(null),f=(0,g.useRef)(null);let m;e[0]!==o?(m=E=>{const{width:I,height:N}=E.currentTarget;h(o?Ba(qa({unit:"%",width:100},o,I,N),I,N):{unit:"%",width:100,height:100,x:0,y:0})},e[0]=o,e[1]=m):m=e[1];const p=m;let b;e[2]!==d||e[3]!==r||e[4]!==a?(b=async()=>{if(d&&f.current)try{a(await bi(f.current,d)),r()}catch(E){console.error("Error cropping image:",E)}},e[2]=d,e[3]=r,e[4]=a,e[5]=b):b=e[5];const x=b;let v;e[6]!==r?(v=E=>!E&&r(),e[6]=r,e[7]=v):v=e[7];let C;e[8]===Symbol.for("react.memo_cache_sentinel")?(C=(0,c.jsx)(Ls,{className:"p-4 shrink-0",children:(0,c.jsx)(Os,{children:"Crop Image"})}),e[8]=C):C=e[8];let z,S;e[9]===Symbol.for("react.memo_cache_sentinel")?(z=E=>h(E),S=(E,I)=>l(I),e[9]=z,e[10]=S):(z=e[9],S=e[10]);let M;e[11]!==p||e[12]!==n?(M=(0,c.jsx)("img",{ref:f,src:n,alt:"Crop preview",onLoad:p,className:"max-h-[60vh] w-auto block"}),e[11]=p,e[12]=n,e[13]=M):M=e[13];let _;e[14]!==o||e[15]!==i||e[16]!==u||e[17]!==M?(_=(0,c.jsx)("div",{className:"p-6 flex items-center justify-center bg-zinc-100/50 dark:bg-zinc-950/50 min-h-[300px] max-h-[65vh] overflow-auto",children:(0,c.jsx)(Oa,{crop:u,onChange:z,onComplete:S,aspect:o,circularCrop:i,className:"max-w-full shadow-2xl",children:M})}),e[14]=o,e[15]=i,e[16]=u,e[17]=M,e[18]=_):_=e[18];let D;e[19]!==r?(D=(0,c.jsx)(Ze,{variant:"outline",onClick:r,className:"!w-auto px-6",children:"Cancel"}),e[19]=r,e[20]=D):D=e[20];let w;e[21]!==x?(w=(0,c.jsx)(Ze,{onClick:x,className:"!w-auto px-6",children:"Apply Crop"}),e[21]=x,e[22]=w):w=e[22];let y;e[23]!==w||e[24]!==D?(y=(0,c.jsxs)(Fs,{className:"p-4 bg-white dark:bg-zinc-900 shrink-0 flex flex-row justify-end gap-2",children:[D,w]}),e[23]=w,e[24]=D,e[25]=y):y=e[25];let A;e[26]!==y||e[27]!==_?(A=(0,c.jsxs)(Ps,{className:"sm:max-w-2xl bg-white dark:bg-zinc-900 p-0 overflow-hidden",children:[C,_,y]}),e[26]=y,e[27]=_,e[28]=A):A=e[28];let R;return e[29]!==s||e[30]!==A||e[31]!==v?(R=(0,c.jsx)(Ts,{open:s,onOpenChange:v,children:A}),e[29]=s,e[30]=A,e[31]=v,e[32]=R):R=e[32],R},Rd=Ed,Id=ie(),Md=t=>{const e=(0,Id.c)(105),{images:n,currentIndex:s,onClose:r,onNavigate:a}=t,o=s===void 0?0:s,[i,u]=(0,g.useState)(1);let h;e[0]===Symbol.for("react.memo_cache_sentinel")?(h={x:0,y:0},e[0]=h):h=e[0];const[d,l]=(0,g.useState)(h),[f,m]=(0,g.useState)(!1);let p;e[1]===Symbol.for("react.memo_cache_sentinel")?(p={x:0,y:0},e[1]=p):p=e[1];const[b,x]=(0,g.useState)(p),[v,C]=(0,g.useState)(null),[z,S]=(0,g.useState)(null),M=(0,g.useRef)(null),_=(0,g.useRef)(null);let D;e[2]===Symbol.for("react.memo_cache_sentinel")?(D=()=>u(Td),e[2]=D):D=e[2];const w=D;let y;e[3]===Symbol.for("react.memo_cache_sentinel")?(y=()=>{u(se=>{const xe=Math.max(se-.5,1);return xe===1&&l({x:0,y:0}),xe})},e[3]=y):y=e[3];const A=y;let R;e[4]===Symbol.for("react.memo_cache_sentinel")?(R=()=>{u(1),l({x:0,y:0})},e[4]=R):R=e[4];const E=R;let I;e[5]!==o||e[6]!==a?(I=()=>{o>0&&(E(),a(o-1))},e[5]=o,e[6]=a,e[7]=I):I=e[7];const N=I;let L;e[8]!==o||e[9]!==n?.length||e[10]!==a?(L=()=>{o<(n?.length||0)-1&&(E(),a(o+1))},e[8]=o,e[9]=n?.length,e[10]=a,e[11]=L):L=e[11],n?.length;const j=L;let k;e[12]!==j||e[13]!==N||e[14]!==r?(k=()=>{const se=xe=>{xe.key==="Escape"&&r(),xe.key==="ArrowLeft"&&N(),xe.key==="ArrowRight"&&j()};return window.addEventListener("keydown",se),()=>window.removeEventListener("keydown",se)},e[12]=j,e[13]=N,e[14]=r,e[15]=k):k=e[15];let P;if(e[16]!==o||e[17]!==j||e[18]!==N||e[19]!==r?(P=[o,r,N,j],e[16]=o,e[17]=j,e[18]=N,e[19]=r,e[20]=P):P=e[20],(0,g.useEffect)(k,P),!n||n.length===0)return null;const T=n[o],F=n.length>1;let q;e[21]!==d.x||e[22]!==d.y||e[23]!==i?(q=se=>{i>1&&(m(!0),x({x:se.clientX-d.x,y:se.clientY-d.y}))},e[21]=d.x,e[22]=d.y,e[23]=i,e[24]=q):q=e[24];const H=q;let B;e[25]!==b||e[26]!==f||e[27]!==i?(B=se=>{f&&i>1&&l({x:se.clientX-b.x,y:se.clientY-b.y})},e[25]=b,e[26]=f,e[27]=i,e[28]=B):B=e[28];const U=B;let O;e[29]===Symbol.for("react.memo_cache_sentinel")?(O=()=>m(!1),e[29]=O):O=e[29];const V=O;let Z;e[30]!==d.x||e[31]!==d.y||e[32]!==i?(Z=se=>{se.touches.length===1?(C({x:se.touches[0].clientX,y:se.touches[0].clientY,time:Date.now()}),i>1&&(m(!0),x({x:se.touches[0].clientX-d.x,y:se.touches[0].clientY-d.y}))):se.touches.length===2&&S(Math.hypot(se.touches[0].clientX-se.touches[1].clientX,se.touches[0].clientY-se.touches[1].clientY))},e[30]=d.x,e[31]=d.y,e[32]=i,e[33]=Z):Z=e[33];const X=Z;let W;e[34]!==b||e[35]!==z||e[36]!==f||e[37]!==i?(W=se=>{if(se.touches.length===1)f&&i>1&&l({x:se.touches[0].clientX-b.x,y:se.touches[0].clientY-b.y});else if(se.touches.length===2&&z){const xe=Math.hypot(se.touches[0].clientX-se.touches[1].clientX,se.touches[0].clientY-se.touches[1].clientY);u(Math.min(Math.max(i*(xe/z),1),4)),S(xe)}},e[34]=b,e[35]=z,e[36]=f,e[37]=i,e[38]=W):W=e[38];const ee=W;let K;e[39]!==j||e[40]!==N||e[41]!==i||e[42]!==v?(K=se=>{if(se.touches.length<2&&S(null),m(!1),v&&i===1){const xe={x:se.changedTouches[0].clientX,y:se.changedTouches[0].clientY},je=xe.x-v.x,Ae=xe.y-v.y,Te=Date.now()-v.time;Math.abs(je)>50&&Math.abs(Ae)<50&&Te<300&&(je>0?N():j())}C(null)},e[39]=j,e[40]=N,e[41]=i,e[42]=v,e[43]=K):K=e[43];const Q=K;let te;e[44]!==T?(te=se=>{se.stopPropagation();const xe=document.createElement("a");xe.href=T,xe.download=`sysm-${Date.now()}.jpg`,document.body.appendChild(xe),xe.click(),document.body.removeChild(xe)},e[44]=T,e[45]=te):te=e[45];const J=te,G=F?`${o+1} / ${n.length}`:"Image View";let ne;e[46]!==G?(ne=(0,c.jsx)("div",{className:"flex flex-col",children:(0,c.jsx)("span",{className:"text-white font-bold text-lg drop-shadow-md",children:G})}),e[46]=G,e[47]=ne):ne=e[47];let re;e[48]===Symbol.for("react.memo_cache_sentinel")?(re=(0,c.jsx)("button",{onClick:A,className:"text-white p-2 hover:bg-white/10 rounded-full transition-colors hidden sm:block",children:(0,c.jsx)(Ko,{size:20})}),e[48]=re):re=e[48];let le;e[49]===Symbol.for("react.memo_cache_sentinel")?(le=(0,c.jsx)("button",{onClick:w,className:"text-white p-2 hover:bg-white/10 rounded-full transition-colors hidden sm:block",children:(0,c.jsx)(ri,{size:20})}),e[49]=le):le=e[49];let ae;e[50]===Symbol.for("react.memo_cache_sentinel")?(ae=(0,c.jsx)("button",{onClick:E,className:"text-white p-2 hover:bg-white/10 rounded-full transition-colors",children:(0,c.jsx)(ro,{size:20})}),e[50]=ae):ae=e[50];let be;e[51]===Symbol.for("react.memo_cache_sentinel")?(be=(0,c.jsx)(ei,{size:20}),e[51]=be):be=e[51];let ye;e[52]!==J?(ye=(0,c.jsx)("button",{onClick:J,className:"text-white p-2 hover:bg-white/10 rounded-full transition-colors",children:be}),e[52]=J,e[53]=ye):ye=e[53];let ce;e[54]===Symbol.for("react.memo_cache_sentinel")?(ce=(0,c.jsx)("div",{className:"w-px h-6 bg-white/20 mx-1 hidden sm:block"}),e[54]=ce):ce=e[54];let ve;e[55]===Symbol.for("react.memo_cache_sentinel")?(ve=(0,c.jsx)(Dt,{size:24}),e[55]=ve):ve=e[55];let me;e[56]!==r?(me=(0,c.jsx)("button",{onClick:r,className:"text-white p-2 bg-white/10 hover:bg-white/20 rounded-full transition-all",children:ve}),e[56]=r,e[57]=me):me=e[57];let _e;e[58]!==ye||e[59]!==me?(_e=(0,c.jsxs)("div",{className:"flex items-center gap-1 sm:gap-3",onClick:Pd,children:[re,le,ae,ye,ce,me]}),e[58]=ye,e[59]=me,e[60]=_e):_e=e[60];let Ce;e[61]!==ne||e[62]!==_e?(Ce=(0,c.jsxs)("div",{className:"absolute top-0 left-0 right-0 p-4 z-20 flex items-center justify-between bg-gradient-to-b from-black/60 to-transparent",children:[ne,_e]}),e[61]=ne,e[62]=_e,e[63]=Ce):Ce=e[63];let we;e[64]!==o||e[65]!==N||e[66]!==F||e[67]!==i?(we=F&&o>0&&i===1&&(0,c.jsx)("button",{onClick:se=>{se.stopPropagation(),N()},className:"absolute left-6 z-10 p-4 bg-white/5 hover:bg-white/10 rounded-full text-white backdrop-blur-sm transition-all active:scale-90 hidden md:flex",children:(0,c.jsx)(as,{size:32})}),e[64]=o,e[65]=N,e[66]=F,e[67]=i,e[68]=we):we=e[68];const Re=`translate(${d.x}px, ${d.y}px) scale(${i})`;let Ie;e[69]!==Re?(Ie={transform:Re},e[69]=Re,e[70]=Ie):Ie=e[70];let de;e[71]!==T?(de=(0,c.jsx)("img",{ref:_,src:T,className:"max-w-[95vw] max-h-[85vh] object-contain select-none shadow-2xl rounded-sm",alt:"",draggable:!1}),e[71]=T,e[72]=de):de=e[72];let Se;e[73]!==H||e[74]!==Ie||e[75]!==de?(Se=(0,c.jsx)("div",{className:"relative transition-transform duration-200 ease-out cursor-grab active:cursor-grabbing",style:Ie,onMouseDown:H,onClick:Ld,children:de}),e[73]=H,e[74]=Ie,e[75]=de,e[76]=Se):Se=e[76];let ke;e[77]!==o||e[78]!==j||e[79]!==F||e[80]!==n.length||e[81]!==i?(ke=F&&o<n.length-1&&i===1&&(0,c.jsx)("button",{onClick:se=>{se.stopPropagation(),j()},className:"absolute right-6 z-10 p-4 bg-white/5 hover:bg-white/10 rounded-full text-white backdrop-blur-sm transition-all active:scale-90 hidden md:flex",children:(0,c.jsx)($r,{size:32})}),e[77]=o,e[78]=j,e[79]=F,e[80]=n.length,e[81]=i,e[82]=ke):ke=e[82];let ze;e[83]!==we||e[84]!==Se||e[85]!==ke?(ze=(0,c.jsxs)("div",{className:"w-full h-full relative flex items-center justify-center",children:[we,Se,ke]}),e[83]=we,e[84]=Se,e[85]=ke,e[86]=ze):ze=e[86];let Ee;e[87]!==o||e[88]!==F||e[89]!==n||e[90]!==a?(Ee=F&&(0,c.jsx)("div",{className:"absolute bottom-8 flex gap-3 p-3 bg-black/40 backdrop-blur-xl rounded-2xl border border-white/10 overflow-x-auto max-w-[90%] hide-scrollbar",onClick:Fd,children:n.map((se,xe)=>(0,c.jsx)("button",{onClick:()=>{E(),a(xe)},className:`size-14 rounded-xl overflow-hidden border-2 transition-all shrink-0 ${xe===o?"border-violet-500 scale-110 shadow-lg shadow-violet-500/20":"border-transparent opacity-40 hover:opacity-100"}`,children:(0,c.jsx)("img",{src:se,className:"size-full object-cover",alt:""})},xe))}),e[87]=o,e[88]=F,e[89]=n,e[90]=a,e[91]=Ee):Ee=e[91];let Me;e[92]!==F||e[93]!==i?(Me=i===1&&F&&(0,c.jsx)("div",{className:"absolute bottom-4 text-white/30 text-[10px] uppercase tracking-widest font-bold md:hidden",children:"Swipe to navigate"}),e[92]=F,e[93]=i,e[94]=Me):Me=e[94];let Ke;return e[95]!==U||e[96]!==Q||e[97]!==ee||e[98]!==X||e[99]!==r||e[100]!==Ce||e[101]!==ze||e[102]!==Ee||e[103]!==Me?(Ke=(0,c.jsxs)("div",{ref:M,className:"fixed inset-0 z-[100] bg-black/95 backdrop-blur-md flex flex-col items-center justify-center overflow-hidden touch-none",onMouseMove:U,onMouseUp:V,onMouseLeave:V,onTouchStart:X,onTouchMove:ee,onTouchEnd:Q,onClick:r,children:[Ce,ze,Ee,Me]}),e[95]=U,e[96]=Q,e[97]=ee,e[98]=X,e[99]=r,e[100]=Ce,e[101]=ze,e[102]=Ee,e[103]=Me,e[104]=Ke):Ke=e[104],Ke},Dd=Md;function Td(t){return Math.min(t+.5,4)}function Pd(t){return t.stopPropagation()}function Ld(t){return t.stopPropagation()}function Fd(t){return t.stopPropagation()}var Od=ie(),ca=g.forwardRef((t,e)=>{const n=(0,Od.c)(20);let s,r,a,o,i;n[0]!==t?({className:s,label:r,type:i,textarea:o,...a}=t,n[0]=t,n[1]=s,n[2]=r,n[3]=a,n[4]=o,n[5]=i):(s=n[1],r=n[2],a=n[3],o=n[4],i=n[5]);const u=o?"textarea":"input";let h;n[6]!==r?(h=r&&(0,c.jsx)("label",{className:"text-sm font-bold text-zinc-500 dark:text-zinc-400 ml-1",children:r}),n[6]=r,n[7]=h):h=n[7];const d=o&&"min-h-[100px] resize-none";let l;n[8]!==s||n[9]!==d?(l=oe("flex w-full rounded-xl border border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900 px-4 py-2.5 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-violet-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:ring-offset-zinc-950 dark:text-white transition-all",d,s),n[8]=s,n[9]=d,n[10]=l):l=n[10];let f;n[11]!==u||n[12]!==a||n[13]!==e||n[14]!==l||n[15]!==i?(f=(0,c.jsx)(u,{type:i,className:l,ref:e,...a}),n[11]=u,n[12]=a,n[13]=e,n[14]=l,n[15]=i,n[16]=f):f=n[16];let m;return n[17]!==h||n[18]!==f?(m=(0,c.jsxs)("div",{className:"w-full space-y-1.5",children:[h,f]}),n[17]=h,n[18]=f,n[19]=m):m=n[19],m});ca.displayName="Input";var bt=ca,Ud=ie(),Hd=t=>{const e=(0,Ud.c)(20),{isOpen:n,onClose:s,title:r,children:a,footer:o,description:i,className:u}=t;let h;e[0]!==s?(h=v=>{v||s()},e[0]=s,e[1]=h):h=e[1];const d=h;let l;e[2]!==u?(l=oe("sm:max-w-md max-h-[calc(100dvh-2rem)] flex flex-col p-0 gap-0 overflow-hidden bg-white dark:bg-zinc-900",u),e[2]=u,e[3]=l):l=e[3];let f;e[4]!==i||e[5]!==r?(f=r&&(0,c.jsxs)(Ls,{className:"px-5 py-4 shrink-0",children:[(0,c.jsx)(Os,{className:"text-xl font-bold",children:r}),i&&(0,c.jsx)(Ec,{children:i})]}),e[4]=i,e[5]=r,e[6]=f):f=e[6];let m;e[7]!==a?(m=(0,c.jsx)("div",{className:"flex-1 overflow-y-auto p-5 min-h-0",children:a}),e[7]=a,e[8]=m):m=e[8];let p;e[9]!==o?(p=o&&(0,c.jsx)(Fs,{className:"px-5 py-4 shrink-0 bg-white dark:bg-zinc-900",children:o}),e[9]=o,e[10]=p):p=e[10];let b;e[11]!==l||e[12]!==f||e[13]!==m||e[14]!==p?(b=(0,c.jsxs)(Ps,{className:l,children:[f,m,p]}),e[11]=l,e[12]=f,e[13]=m,e[14]=p,e[15]=b):b=e[15];let x;return e[16]!==d||e[17]!==n||e[18]!==b?(x=(0,c.jsx)(Ts,{open:n,onOpenChange:d,children:b}),e[16]=d,e[17]=n,e[18]=b,e[19]=x):x=e[19],x},Pt=Hd,Bd=ie(),qd=t=>{const e=(0,Bd.c)(20),{title:n,message:s,icon:r,showHome:a,showBack:o}=t,i=n===void 0?"Not Found":n,u=s===void 0?"The content you are looking for doesn't exist or has been removed.":s,h=r===void 0?is:r,d=a===void 0?!0:a,l=o===void 0?!0:o,f=vn(),m=h;let p;e[0]!==m?(p=(0,c.jsx)("div",{className:"bg-zinc-100 dark:bg-zinc-900 p-6 rounded-full mb-6",children:(0,c.jsx)(m,{size:48,className:"text-zinc-400 dark:text-zinc-600"})}),e[0]=m,e[1]=p):p=e[1];let b;e[2]!==i?(b=(0,c.jsx)("h2",{className:"text-2xl font-black mb-2 dark:text-white",children:i}),e[2]=i,e[3]=b):b=e[3];let x;e[4]!==u?(x=(0,c.jsx)("p",{className:"text-zinc-500 dark:text-zinc-400 max-w-xs mb-8 leading-relaxed",children:u}),e[4]=u,e[5]=x):x=e[5];let v;e[6]!==f||e[7]!==l?(v=l&&(0,c.jsxs)(Ze,{variant:"secondary",onClick:()=>f(-1),className:"rounded-full px-6",children:[(0,c.jsx)(Ro,{size:18,className:"mr-2"}),"Go Back"]}),e[6]=f,e[7]=l,e[8]=v):v=e[8];let C;e[9]!==f||e[10]!==d?(C=d&&(0,c.jsxs)(Ze,{onClick:()=>f("/"),className:"bg-zinc-900 dark:bg-white text-white dark:text-zinc-900 rounded-full px-6",children:[(0,c.jsx)(Bn,{size:18,className:"mr-2"}),"Home"]}),e[9]=f,e[10]=d,e[11]=C):C=e[11];let z;e[12]!==C||e[13]!==v?(z=(0,c.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-3",children:[v,C]}),e[12]=C,e[13]=v,e[14]=z):z=e[14];let S;return e[15]!==z||e[16]!==p||e[17]!==b||e[18]!==x?(S=(0,c.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[400px] p-8 text-center animate-in fade-in zoom-in-95 duration-300",children:[p,b,x,z]}),e[15]=z,e[16]=p,e[17]=b,e[18]=x,e[19]=S):S=e[19],S},Dm=qd,Zn=ie();function Tm(t){const e=(0,Zn.c)(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let s;return e[2]!==n?(s=(0,c.jsx)(vo,{"data-slot":"popover",...n}),e[2]=n,e[3]=s):s=e[3],s}function Pm(t){const e=(0,Zn.c)(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let s;return e[2]!==n?(s=(0,c.jsx)(Vo,{"data-slot":"popover-trigger",...n}),e[2]=n,e[3]=s):s=e[3],s}function Lm(t){const e=(0,Zn.c)(12);let n,s,r,a;e[0]!==t?({className:n,align:r,sideOffset:a,...s}=t,e[0]=t,e[1]=n,e[2]=s,e[3]=r,e[4]=a):(n=e[1],s=e[2],r=e[3],a=e[4]);const o=r===void 0?"center":r,i=a===void 0?4:a;let u;e[5]!==n?(u=oe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 rounded-md border p-4 shadow-md outline-hidden",n),e[5]=n,e[6]=u):u=e[6];let h;return e[7]!==o||e[8]!==s||e[9]!==i||e[10]!==u?(h=(0,c.jsx)(no,{children:(0,c.jsx)(so,{"data-slot":"popover-content",align:o,sideOffset:i,className:u,...s})}),e[7]=o,e[8]=s,e[9]=i,e[10]=u,e[11]=h):h=e[11],h}const Wd=(t,e,n)=>{const s=t?.id,[r,a]=(0,g.useState)(!1),[o,i]=(0,g.useState)({followers:t?.followers||t?.follower_count||0,following:t?.following||t?.following_count||0}),[u,h]=(0,g.useState)(!1);return(0,g.useEffect)(()=>{t&&(i({followers:t.followers||t.follower_count||0,following:t.following||t.following_count||0}),s&&tn(s)&&(Ni(s).then(l=>{l&&i({followers:l.followers,following:l.following})}).catch(()=>{}),e&&tn(e)?Si(e,s).then(a).catch(()=>a(!1)):a(!1)))},[t,s,e]),{isFollowing:r,stats:o,loading:u,handleFollow:async()=>{if(!e)return n("Please login to follow!","error");if(e===s)return n("You cannot follow yourself!","error");if(!s||!tn(s)||!tn(e)){const l=!r;a(l),i(f=>{const m=typeof f.followers=="string"?parseInt(f.followers.replace(/,/g,"")):f.followers||0;return{...f,followers:l?m+1:Math.max(0,m-1)}}),n(l?"Followed":"Unfollowed");return}h(!0);try{const l=await Ci(e,s);a(l),i(f=>({...f,followers:l?(f.followers||0)+1:Math.max(0,(f.followers||0)-1)})),n(l?"Followed":"Unfollowed")}catch(l){console.error("Failed to toggle follow:",l),n("Failed to update follow status","error")}finally{h(!1)}},setStats:i}};var Vd=({profile:t,onUserClick:e,isCommunity:n=!1})=>{const{onlineUsers:s}=cl(),{currentUser:r}=Ge(),{addToast:a}=wt(),o=s.has(t.id),[i,u]=(0,g.useState)(!1),[h,d]=(0,g.useState)(n),{isFollowing:l,loading:f,handleFollow:m}=Wd(n?null:t,r?.id,a);(0,g.useEffect)(()=>{n&&r&&t.id?Bi(t.id,r.id).then(u).finally(()=>d(!1)):d(!1)},[n,r,t.id]);const p=async v=>{if(v.stopPropagation(),!r)return a("Please login to join communities","error");d(!0);try{const C=await Hi(t.id,r.id);u(C),a(C?`Joined ${t.name}`:`Left ${t.name}`)}catch{a("Failed to update membership","error")}finally{d(!1)}},b=r?.id===t.id,x=n?h:f;return(0,c.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-zinc-100 dark:border-zinc-800 hover:bg-zinc-50 dark:hover:bg-zinc-900/40 transition-colors group cursor-pointer",onClick:()=>e(t.handle),children:[(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsxs)(St,{className:`size-12 border border-zinc-200 dark:border-zinc-800 shadow-sm ${n?"rounded-2xl":""}`,children:[(0,c.jsx)(Nt,{src:t.avatar,alt:t.handle,className:"object-cover"}),(0,c.jsx)(At,{className:n?"rounded-2xl":"",children:t.handle?.[0]?.toUpperCase()})]}),o&&!n&&(0,c.jsx)("span",{className:"absolute bottom-0 right-0 size-3 bg-emerald-500 border-2 border-white dark:border-black rounded-full shadow-sm"})]}),(0,c.jsxs)("div",{className:"flex flex-col",children:[(0,c.jsxs)("span",{className:"font-extrabold text-zinc-900 dark:text-zinc-100 truncate flex items-center gap-1",children:[t.name,t.verified&&(0,c.jsx)(ma,{size:16,className:"text-blue-500 shrink-0"})]}),(0,c.jsxs)("span",{className:"text-sm text-zinc-500 mt-0.5",children:["@",t.handle]}),n&&(0,c.jsxs)("span",{className:"text-xs text-zinc-400 mt-1",children:[t.membersCount||0," members"]}),!n&&t.followers&&(0,c.jsxs)("span",{className:"text-xs text-zinc-400 mt-1",children:[t.followers," followers"]})]})]}),!b&&(0,c.jsx)(Ze,{variant:n?i?"secondary":"outline":l?"secondary":"outline",className:"!w-auto !py-1.5 !px-4 text-sm font-bold rounded-full border-zinc-200 dark:border-zinc-700 hover:bg-zinc-100 dark:hover:bg-zinc-800 flex items-center gap-1.5",onClick:n?p:v=>{v.stopPropagation(),m()},disabled:x,children:x?(0,c.jsx)(ft,{className:"size-4 animate-spin"}):n?i?"Joined":"Join":l?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(mu,{size:16}),"Following"]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(fu,{size:16}),"Follow"]})})]})},Fm=Vd,da=ie();function Om(t){const e=(0,da.c)(14);let n,s,r;e[0]!==t?({className:s,children:n,...r}=t,e[0]=t,e[1]=n,e[2]=s,e[3]=r):(n=e[1],s=e[2],r=e[3]);let a;e[4]!==s?(a=oe("relative",s),e[4]=s,e[5]=a):a=e[5];let o;e[6]!==n?(o=(0,c.jsx)(ko,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:n}),e[6]=n,e[7]=o):o=e[7];let i,u;e[8]===Symbol.for("react.memo_cache_sentinel")?(i=(0,c.jsx)(Yd,{}),u=(0,c.jsx)(li,{}),e[8]=i,e[9]=u):(i=e[8],u=e[9]);let h;return e[10]!==r||e[11]!==a||e[12]!==o?(h=(0,c.jsxs)(jo,{"data-slot":"scroll-area",className:a,...r,children:[o,i,u]}),e[10]=r,e[11]=a,e[12]=o,e[13]=h):h=e[13],h}function Yd(t){const e=(0,da.c)(13);let n,s,r;e[0]!==t?({className:n,orientation:r,...s}=t,e[0]=t,e[1]=n,e[2]=s,e[3]=r):(n=e[1],s=e[2],r=e[3]);const a=r===void 0?"vertical":r,o=a==="vertical"&&"h-full w-2.5 border-l border-l-transparent",i=a==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent";let u;e[4]!==n||e[5]!==o||e[6]!==i?(u=oe("flex touch-none p-px transition-colors select-none",o,i,n),e[4]=n,e[5]=o,e[6]=i,e[7]=u):u=e[7];let h;e[8]===Symbol.for("react.memo_cache_sentinel")?(h=(0,c.jsx)(ii,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"}),e[8]=h):h=e[8];let d;return e[9]!==a||e[10]!==s||e[11]!==u?(d=(0,c.jsx)(eo,{"data-slot":"scroll-area-scrollbar",orientation:a,className:u,...s,children:h}),e[9]=a,e[10]=s,e[11]=u,e[12]=d):d=e[12],d}var Xd=ie(),Qd=t=>{const e=(0,Xd.c)(13),{value:n,onChange:s,onClear:r,placeholder:a}=t,o=a===void 0?"Search...":a;let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=(0,c.jsx)(Zr,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-zinc-400 group-focus-within:text-violet-500 transition-colors"}),e[0]=i):i=e[0];let u;e[1]!==s?(u=f=>s(f.target.value),e[1]=s,e[2]=u):u=e[2];let h;e[3]!==o||e[4]!==u||e[5]!==n?(h=(0,c.jsx)("input",{className:"w-full rounded-full border border-zinc-100 dark:border-zinc-800 bg-zinc-50 dark:bg-zinc-900/50 text-zinc-900 dark:text-white px-11 py-2.5 text-sm outline-none focus:border-violet-500 focus:ring-1 focus:ring-violet-500 transition-all",placeholder:o,value:n,onChange:u}),e[3]=o,e[4]=u,e[5]=n,e[6]=h):h=e[6];let d;e[7]!==r||e[8]!==n?(d=n&&(0,c.jsx)("button",{onClick:r,className:"absolute right-4 top-1/2 -translate-y-1/2 text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-200 transition-colors",children:(0,c.jsx)(Dt,{size:16})}),e[7]=r,e[8]=n,e[9]=d):d=e[9];let l;return e[10]!==h||e[11]!==d?(l=(0,c.jsxs)("div",{className:"relative group w-full",children:[i,h,d]}),e[10]=h,e[11]=d,e[12]=l):l=e[12],l},zr=Qd,zt=ie(),Um=Yo;var Hm=ci,Kd=g.forwardRef((t,e)=>{const n=(0,zt.c)(12);let s,r,a;n[0]!==t?({className:r,children:s,...a}=t,n[0]=t,n[1]=s,n[2]=r,n[3]=a):(s=n[1],r=n[2],a=n[3]);let o;n[4]!==r?(o=oe("flex h-9 w-full items-center justify-between rounded-md border border-zinc-200 bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-white placeholder:text-zinc-500 focus:outline-none focus:ring-1 focus:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 dark:border-zinc-800 dark:ring-offset-zinc-950 dark:focus:ring-zinc-300 [&>span]:line-clamp-1",r),n[4]=r,n[5]=o):o=n[5];let i;n[6]===Symbol.for("react.memo_cache_sentinel")?(i=(0,c.jsx)(Fo,{asChild:!0,children:(0,c.jsx)(ls,{className:"h-4 w-4 opacity-50"})}),n[6]=i):i=n[6];let u;return n[7]!==s||n[8]!==a||n[9]!==e||n[10]!==o?(u=(0,c.jsxs)(cs,{ref:e,className:o,...a,children:[s,i]}),n[7]=s,n[8]=a,n[9]=e,n[10]=o,n[11]=u):u=n[11],u});Kd.displayName=cs.displayName;var ua=g.forwardRef((t,e)=>{const n=(0,zt.c)(10);let s,r;n[0]!==t?({className:s,...r}=t,n[0]=t,n[1]=s,n[2]=r):(s=n[1],r=n[2]);let a;n[3]!==s?(a=oe("flex cursor-default items-center justify-center py-1",s),n[3]=s,n[4]=a):a=n[4];let o;n[5]===Symbol.for("react.memo_cache_sentinel")?(o=(0,c.jsx)(ni,{className:"h-4 w-4"}),n[5]=o):o=n[5];let i;return n[6]!==r||n[7]!==e||n[8]!==a?(i=(0,c.jsx)(ts,{ref:e,className:a,...r,children:o}),n[6]=r,n[7]=e,n[8]=a,n[9]=i):i=n[9],i});ua.displayName=ts.displayName;var fa=g.forwardRef((t,e)=>{const n=(0,zt.c)(10);let s,r;n[0]!==t?({className:s,...r}=t,n[0]=t,n[1]=s,n[2]=r):(s=n[1],r=n[2]);let a;n[3]!==s?(a=oe("flex cursor-default items-center justify-center py-1",s),n[3]=s,n[4]=a):a=n[4];let o;n[5]===Symbol.for("react.memo_cache_sentinel")?(o=(0,c.jsx)(ls,{className:"h-4 w-4"}),n[5]=o):o=n[5];let i;return n[6]!==r||n[7]!==e||n[8]!==a?(i=(0,c.jsx)(ns,{ref:e,className:a,...r,children:o}),n[6]=r,n[7]=e,n[8]=a,n[9]=i):i=n[9],i});fa.displayName=ns.displayName;var Zd=g.forwardRef((t,e)=>{const n=(0,zt.c)(21);let s,r,a,o;n[0]!==t?({className:r,children:s,position:o,...a}=t,n[0]=t,n[1]=s,n[2]=r,n[3]=a,n[4]=o):(s=n[1],r=n[2],a=n[3],o=n[4]);const i=o===void 0?"popper":o,u=i==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1";let h;n[5]!==r||n[6]!==u?(h=oe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-zinc-200 bg-white text-zinc-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50",u,r),n[5]=r,n[6]=u,n[7]=h):h=n[7];let d;n[8]===Symbol.for("react.memo_cache_sentinel")?(d=(0,c.jsx)(ua,{}),n[8]=d):d=n[8];const l=i==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]";let f;n[9]!==l?(f=oe("p-1",l),n[9]=l,n[10]=f):f=n[10];let m;n[11]!==s||n[12]!==f?(m=(0,c.jsx)(Po,{className:f,children:s}),n[11]=s,n[12]=f,n[13]=m):m=n[13];let p;n[14]===Symbol.for("react.memo_cache_sentinel")?(p=(0,c.jsx)(fa,{}),n[14]=p):p=n[14];let b;return n[15]!==i||n[16]!==a||n[17]!==e||n[18]!==h||n[19]!==m?(b=(0,c.jsx)(Zo,{children:(0,c.jsxs)(os,{ref:e,className:h,position:i,...a,children:[d,m,p]})}),n[15]=i,n[16]=a,n[17]=e,n[18]=h,n[19]=m,n[20]=b):b=n[20],b});Zd.displayName=os.displayName;var Jd=g.forwardRef((t,e)=>{const n=(0,zt.c)(9);let s,r;n[0]!==t?({className:s,...r}=t,n[0]=t,n[1]=s,n[2]=r):(s=n[1],r=n[2]);let a;n[3]!==s?(a=oe("px-2 py-1.5 text-sm font-semibold",s),n[3]=s,n[4]=a):a=n[4];let o;return n[5]!==r||n[6]!==e||n[7]!==a?(o=(0,c.jsx)(es,{ref:e,className:a,...r}),n[5]=r,n[6]=e,n[7]=a,n[8]=o):o=n[8],o});Jd.displayName=es.displayName;var Gd=g.forwardRef((t,e)=>{const n=(0,zt.c)(14);let s,r,a;n[0]!==t?({className:r,children:s,...a}=t,n[0]=t,n[1]=s,n[2]=r,n[3]=a):(s=n[1],r=n[2],a=n[3]);let o;n[4]!==r?(o=oe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-zinc-100 focus:text-zinc-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-zinc-800 dark:focus:text-zinc-50",r),n[4]=r,n[5]=o):o=n[5];let i;n[6]===Symbol.for("react.memo_cache_sentinel")?(i=(0,c.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,c.jsx)(ai,{children:(0,c.jsx)(Uo,{className:"h-4 w-4"})})}),n[6]=i):i=n[6];let u;n[7]!==s?(u=(0,c.jsx)(Oo,{children:s}),n[7]=s,n[8]=u):u=n[8];let h;return n[9]!==a||n[10]!==e||n[11]!==o||n[12]!==u?(h=(0,c.jsxs)(ss,{ref:e,className:o,...a,children:[i,u]}),n[9]=a,n[10]=e,n[11]=o,n[12]=u,n[13]=h):h=n[13],h});Gd.displayName=ss.displayName;var $d=g.forwardRef((t,e)=>{const n=(0,zt.c)(9);let s,r;n[0]!==t?({className:s,...r}=t,n[0]=t,n[1]=s,n[2]=r):(s=n[1],r=n[2]);let a;n[3]!==s?(a=oe("-mx-1 my-1 h-px bg-zinc-100 dark:bg-zinc-800",s),n[3]=s,n[4]=a):a=n[4];let o;return n[5]!==r||n[6]!==e||n[7]!==a?(o=(0,c.jsx)(Gr,{ref:e,className:a,...r}),n[5]=r,n[6]=e,n[7]=a,n[8]=o):o=n[8],o});$d.displayName=Gr.displayName;var eu=ie(),tu=t=>{const e=(0,eu.c)(9),{className:n}=t,{setAuthMode:s}=Ge();let r;e[0]!==n?(r=oe("border border-[--border] rounded-2xl p-8 flex flex-col items-center text-center gap-4 bg-[--card] shadow-sm",n),e[0]=n,e[1]=r):r=e[1];let a,o;e[2]===Symbol.for("react.memo_cache_sentinel")?(a=(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)("div",{className:"size-16 rounded-full border-4 border-amber-400 border-t-transparent animate-spin duration-[3000ms]"}),(0,c.jsx)("span",{className:"absolute inset-0 flex items-center justify-center text-2xl",children:""})]}),o=(0,c.jsx)("h2",{className:"font-extrabold text-lg text-[--foreground] mt-2 leading-tight",children:"Get your Sysm account now!"}),e[2]=a,e[3]=o):(a=e[2],o=e[3]);let i;e[4]!==s?(i=(0,c.jsx)("button",{onClick:()=>s("signup"),className:"w-full bg-zinc-950 dark:bg-white text-white dark:text-zinc-950 py-2.5 rounded-full font-black text-sm uppercase tracking-wider hover:opacity-90 active:scale-95 transition-all shadow-lg cursor-pointer",children:"Signup now"}),e[4]=s,e[5]=i):i=e[5];let u;return e[6]!==r||e[7]!==i?(u=(0,c.jsxs)("div",{className:r,children:[a,o,i]}),e[6]=r,e[7]=i,e[8]=u):u=e[8],u},nu=tu,ru=ie(),su=()=>{const t=(0,ru.c)(3);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,c.jsx)("div",{className:"size-11 rounded-full bg-zinc-200 dark:bg-zinc-800 shrink-0"}),t[0]=e):e=t[0];let n;t[1]===Symbol.for("react.memo_cache_sentinel")?(n=(0,c.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,c.jsx)("div",{className:"h-4 bg-zinc-200 dark:bg-zinc-800 rounded w-1/3"}),(0,c.jsx)("div",{className:"h-4 bg-zinc-200 dark:bg-zinc-800 rounded w-16"})]}),t[1]=n):n=t[1];let s;return t[2]===Symbol.for("react.memo_cache_sentinel")?(s=(0,c.jsx)("div",{className:"px-5 pt-4 pb-3 border-b border-zinc-100 dark:border-zinc-800 animate-pulse",children:(0,c.jsxs)("div",{className:"flex items-start gap-x-3",children:[e,(0,c.jsxs)("div",{className:"flex-1 min-w-0",children:[n,(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)("div",{className:"h-3 bg-zinc-200 dark:bg-zinc-800 rounded w-full"}),(0,c.jsx)("div",{className:"h-3 bg-zinc-200 dark:bg-zinc-800 rounded w-5/6"})]}),(0,c.jsx)("div",{className:"h-48 bg-zinc-200 dark:bg-zinc-800 rounded-xl w-full mt-3"})]})]})}),t[2]=s):s=t[2],s},Bm=su,yn=ie();function au(t){const e=(0,yn.c)(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=oe("flex flex-col gap-2",n),e[3]=n,e[4]=r):r=e[4];let a;return e[5]!==s||e[6]!==r?(a=(0,c.jsx)(Bo,{"data-slot":"tabs",className:r,...s}),e[5]=s,e[6]=r,e[7]=a):a=e[7],a}function ou(t){const e=(0,yn.c)(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=oe("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",n),e[3]=n,e[4]=r):r=e[4];let a;return e[5]!==s||e[6]!==r?(a=(0,c.jsx)($o,{"data-slot":"tabs-list",className:r,...s}),e[5]=s,e[6]=r,e[7]=a):a=e[7],a}function Er(t){const e=(0,yn.c)(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=oe("inline-flex items-center justify-center gap-1.5 px-2 py-1 text-sm font-medium whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 outline-none focus:outline-none focus-visible:outline-none ring-0 focus:ring-0 focus-visible:ring-0 shadow-none data-[state=active]:shadow-none",n),e[3]=n,e[4]=r):r=e[4];let a;return e[5]!==s||e[6]!==r?(a=(0,c.jsx)(Mo,{"data-slot":"tabs-trigger",className:r,...s}),e[5]=s,e[6]=r,e[7]=a):a=e[7],a}function Rr(t){const e=(0,yn.c)(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=oe("flex-1 outline-none",n),e[3]=n,e[4]=r):r=e[4];let a;return e[5]!==s||e[6]!==r?(a=(0,c.jsx)(Xo,{"data-slot":"tabs-content",className:r,...s}),e[5]=s,e[6]=r,e[7]=a):a=e[7],a}var iu=ie(),lu=t=>{const e=(0,iu.c)(18),{name:n,number:s}=t,r=n===void 0?"BRUCE WAYNE":n,a=s===void 0?"9759 2484 5269 6576":s;let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=(0,c.jsx)("style",{children:`
        .credit-card-container {
          perspective: 1000px;
          width: 240px;
          height: 154px;
        }
        .credit-card-inner {
          position: relative;
          width: 100%;
          height: 100%;
          text-align: center;
          transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
          transform-style: preserve-3d;
          cursor: pointer;
        }
        .credit-card-container:hover .credit-card-inner {
          transform: rotateY(180deg);
        }
        .credit-card-front, .credit-card-back {
          position: absolute;
          width: 100%;
          height: 100%;
          -webkit-backface-visibility: hidden;
          backface-visibility: hidden;
          border-radius: 1rem;
          display: flex;
          flex-direction: column;
          justify-content: center;
          background-color: #171717;
          box-shadow: 0 2px 2px rgba(0,0,0,0.4), 0 7px 13px -3px rgba(0,0,0,0.3), inset 0 -1px 0 rgba(0,0,0,0.2);
          color: white;
          overflow: hidden;
        }
        .credit-card-back {
          transform: rotateY(180deg);
        }
      `}),e[0]=o):o=e[0];let i;e[1]===Symbol.for("react.memo_cache_sentinel")?(i=(0,c.jsx)("p",{className:"absolute text-[0.5em] font-bold tracking-[.2em] top-[2em] left-[18.6em]",children:"VICTIMCARD"}),e[1]=i):i=e[1];let u;e[2]===Symbol.for("react.memo_cache_sentinel")?(u=(0,c.jsxs)("svg",{className:"absolute top-[6.8em] left-[11.7em]",xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36",viewBox:"0 0 48 48",children:[(0,c.jsx)("path",{fill:"#ff9800",d:"M32 10A14 14 0 1 0 32 38A14 14 0 1 0 32 10Z"}),(0,c.jsx)("path",{fill:"#d50000",d:"M16 10A14 14 0 1 0 16 38A14 14 0 1 0 16 10Z"}),(0,c.jsx)("path",{fill:"#ff3d00",d:"M18,24c0,4.755,2.376,8.95,6,11.48c3.624-2.53,6-6.725,6-11.48s-2.376-8.95-6-11.48 C20.376,15.05,18,19.245,18,24z"})]}),e[2]=u):u=e[2];let h;e[3]===Symbol.for("react.memo_cache_sentinel")?(h=(0,c.jsx)("svg",{version:"1.1",className:"absolute top-[2.3em] left-[1.5em]",width:"30px",height:"30px",viewBox:"0 0 50 50",children:(0,c.jsx)("image",{width:"50",height:"50",x:"0",y:"0",href:`data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAABGdBTUEAALGPC/xhBQAAACBjSFJN
                AAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAB6VBMVEUAAACNcTiVeUKVeUOY
                fEaafEeUeUSYfEWZfEaykleyklaXe0SWekSZZjOYfEWYe0WXfUWXe0WcgEicfkiXe0SVekSXekSW
                ekKYe0a9nF67m12ZfUWUeEaXfESVekOdgEmVeUWWekSniU+VeUKVeUOrjFKYfEWliE6WeESZe0GS
                e0WYfES7ml2Xe0WXeESUeEOWfEWcf0eWfESXe0SXfEWYekSVeUKXfEWxklawkVaZfEWWekOUekOW
                ekSYfESZe0eXekWYfEWZe0WZe0eVeUSWeETAnmDCoWLJpmbxy4P1zoXwyoLIpWbjvXjivnjgu3bf
                u3beunWvkFWxkle/nmDivXiWekTnwXvkwHrCoWOuj1SXe0TEo2TDo2PlwHratnKZfEbQrWvPrWua
                fUfbt3PJp2agg0v0zYX0zYSfgkvKp2frxX7mwHrlv3rsxn/yzIPgvHfduXWXe0XuyIDzzISsjVO1
                lVm0lFitjVPzzIPqxX7duna0lVncuHTLqGjvyIHeuXXxyYGZfUayk1iyk1e2lln1zYTEomO2llrb
                tnOafkjFpGSbfkfZtXLhvHfkv3nqxH3mwXujhU3KqWizlFilh06khk2fgkqsjlPHpWXJp2erjVOh
                g0yWe0SliE+XekShhEvAn2D///+gx8TWAAAARnRSTlMACVCTtsRl7Pv7+vxkBab7pZv5+ZlL/UnU
                /f3SJCVe+Fx39naA9/75XSMh0/3SSkia+pil/KRj7Pr662JPkrbP7OLQ0JFOijI1MwAAAAFiS0dE
                orDd34wAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfnAg0IDx2lsiuJAAACLElEQVRIx2Ng
                GAXkAUYmZhZWPICFmYkRVQcbOwenmzse4MbFzc6DpIGXj8PD04sA8PbhF+CFaxEU8iWkAQT8hEVg
                OkTF/InR4eUVICYO1SIhCRMLDAoKDvFDVhUaEhwUFAjjSUlDdMiEhcOEItzdI6OiYxA6YqODIt3d
                I2DcuDBZsBY5eVTr4xMSYcyk5BRUOXkFsBZFJTQnp6alQxgZmVloUkrKYC0qqmji2WE5EEZuWB6a
                lKoKdi35YQUQRkFYPpFaCouKIYzi6EDitJSUlsGY5RWVRGjJLyxNy4ZxqtIqqvOxaVELQwZFZdkI
                JVU1RSiSalAt6rUwUBdWG1CP6pT6gNqwOrgCdQyHNYR5YQFhDXj8MiK1IAeyN6aORiyBjByVTc0F
                qBoKWpqwRCVSgilOaY2OaUPw29qjOzqLvTAchpos47u6EZyYnngUSRwpuTe6D+6qaFQdOPNLRzOM
                1dzhRZyW+CZouHk3dWLXglFcFIflQhj9YWjJGlZcaKAVSvjyPrRQ0oQVKDAQHlYFYUwIm4gqExGm
                BSkutaVQJeomwViTJqPK6OhCy2Q9sQBk8cY0DxjTJw0lAQWK6cOKfgNhpKK7ZMpUeF3jPa28BCET
                amiEqJKM+X1gxvWXpoUjVIVPnwErw71nmpgiqiQGBjNzbgs3j1nus+fMndc+Cwm0T52/oNR9lsdC
              S24ra7Tq1cbWjpXV3sHRCb1idXZ0sGdltXNxRateRwHRAACYHutzk/2I5QAAACV0RVh0ZGF0ZTpj
              cmVhdGUAMjAyMy0wMi0xM1QwODoxNToyOSswMDowMEUnN7UAAAAldEVYdGRhdGU6bW9kaWZ5ADIw
              MjMtMDItMTNUMDg6MTU6MjkrMDA6MDA0eo8JAAAAKHRFWHRkYXRlOnRpbWVzdGFtcAAyMDIzLTAy
              LTEzVDA4OjE1OjI5KzAwOjAwY2+u1gAAAABJRU5ErkJggg==`})}),e[3]=h):h=e[3];let d;e[4]===Symbol.for("react.memo_cache_sentinel")?(d=(0,c.jsx)("svg",{version:"1.1",className:"absolute top-[3.5em] left-[12.4em]",width:"20px",height:"20px",viewBox:"0 0 50 50",children:(0,c.jsx)("image",{width:"50",height:"50",x:"0",y:"0",href:`data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAQAAAC0NkA6AAAABGdBTUEAALGPC/xhBQAAACBjSFJN
                AAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAJcEhZ
                cwAACxMAAAsTAQCanBgAAAAHdElNRQfnAg0IEzgIwaKTAAADDklEQVRYw+1XS0iUURQ+f5qPyjQf
                lGRFEEFK76koKGxRbWyVVLSOgsCgwjZBJJYuKogSIoOonUK4q3U0WVBWFPZYiIE6kuArG3VGzK/F
                fPeMM/MLt99/NuHdfPd888/57jn3nvsQWWj/VcMlvMMd5KRTogqx9iCdIjUUmcGR9ImUYowyP3xN
                GQJoRLVaZ2DaZf8kyjEJALhI28ELioyiwC+Rc3QZwRYyO/DH51hQgWm6DMIh10KmD4u9O16K49it
                VoPOAmcGAWWOepXIRScAoJZ2Frro8oN+EyTT6lWkkg6msZfMSR35QTJmjU0g15tIGSJ08ZZMJkJk
                HpNZgSkyXosS13TkJpZ62mPIJvOSzC1bp8vRhhCakEk7G9/o4gmZdbpsTcKu0m63FbnBP9Qrc15z
                bkbemfgNDtEOI8NO5L5O9VYyRYgmJayZ9nPaxZrSjW4+F6Uw9yQqIiIZwhp2huQTf6OIvCZyGM6g
                DJBZbyXifJXr7FZjGXsdxADxI7HUJFB6iWvsIhFpkoiIiGTJfjJfiCuJg2ZEspq9EHGVpYgzKqwJ
                qSAOEwuJQ/pxPvE3cYltJCLdxBLiSKKIE5HxJKcTRNeadxfhDiuYw44zVs1dxKwRk/uCxIiQkxKB
                sSctRVAge9g1E15EHE6yRUaJecRxcWlukdRIbGFOSZCMWQA/iWauIP3slREHXPyliqBcrrD71Amz
                Z+rD1Mt2Yr8TZc/UR4/YtFnbijnHi3UrN9vKQ9rPaJf867ZiaqDB+czeKYmd3pNa6fuI75MiC0uX
                XSR5aEMf7s7a6r/PudVXkjFb/SsrCRfROk0Fx6+H1i9kkTGn/E1vEmt1m089fh+RKdQ5O+xNJPUi
                cUIjO0Dm7HwvErEr0YxeibL1StSh37STafE4I7zcBdRq1DiOkdmlTJVnkQTBTS7X1FYyvfO4piaI
                nKbDCDaT2anLudYXCRFsQBgAcIF2/Okwgvz5+Z4tsw118dzruvIvjhTB+HOuWy8UvovEH6beitBK
                xDyxm9MmISKCWrzB7bSlaqGlsf0FC0gMjzTg6GgAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDIt
                MTNUMDg6MTk6NTYrMDA6MDCjlq7LAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTAyLTEzVDA4OjE5
              OjU2KzAwOjAw0ssWdwAAACh0RVh0ZGF0ZTp0aW1lc3RhbXAAMjAyMy0wMi0xM1QwODoxOTo1Nisw
              MDowMIXeN6gAAAAASUVORK5CYII=`})}),e[4]=d):d=e[4];let l;e[5]!==a?(l=(0,c.jsx)("p",{className:"absolute text-[.6em] font-bold top-[8.3em] left-[1.6em] uppercase tracking-wider",children:a}),e[5]=a,e[6]=l):l=e[6];let f;e[7]===Symbol.for("react.memo_cache_sentinel")?(f=(0,c.jsx)("p",{className:"absolute text-[0.5em] font-bold top-[13.6em] left-[3.2em]",children:"1 2 / 2 4"}),e[7]=f):f=e[7];let m;e[8]!==r?(m=(0,c.jsx)("p",{className:"absolute text-[0.5em] font-bold top-[16.1em] left-[2em] uppercase tracking-tighter truncate w-[160px] text-left",children:r}),e[8]=r,e[9]=m):m=e[9];let p;e[10]!==m||e[11]!==l?(p=(0,c.jsxs)("div",{className:"credit-card-front",children:[i,u,h,d,l,f,m]}),e[10]=m,e[11]=l,e[12]=p):p=e[12];let b,x;e[13]===Symbol.for("react.memo_cache_sentinel")?(b=(0,c.jsx)("div",{className:"absolute w-full h-[1.5em] top-[2.4em] bg-black bg-[repeating-linear-gradient(45deg,#303030,#303030_10px,#202020_10px,#202020_20px)] left-0"}),x=(0,c.jsx)("div",{className:"absolute w-[8em] h-[0.8em] top-[5em] left-[0.8em] bg-white rounded-[2.5px]"}),e[13]=b,e[14]=x):(b=e[13],x=e[14]);let v;e[15]===Symbol.for("react.memo_cache_sentinel")?(v=(0,c.jsxs)("div",{className:"credit-card-back",children:[b,x,(0,c.jsx)("div",{className:"absolute w-[4.1em] h-[0.8em] top-[5em] left-[10em] bg-white rounded-[2.5px]",children:(0,c.jsx)("p",{className:"text-black font-bold text-center m-[.2em] text-[0.5em]",children:"***"})})]}),e[15]=v):v=e[15];let C;return e[16]!==p?(C=(0,c.jsxs)(c.Fragment,{children:[o,(0,c.jsx)("div",{className:"flex items-center justify-center p-8",children:(0,c.jsx)("div",{className:"credit-card-container",children:(0,c.jsxs)("div",{className:"credit-card-inner",children:[p,v]})})})]}),e[16]=p,e[17]=C):C=e[17],C},qm=lu,Wm=ie(),cu=ie(),du=t=>{const e=(0,cu.c)(7),{className:n}=t;let s;e[0]!==n?(s=oe("flex items-center gap-1 px-1 py-1.5",n),e[0]=n,e[1]=s):s=e[1];let r,a,o;e[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,c.jsx)("div",{className:"size-1.5 rounded-full bg-zinc-400 dark:bg-zinc-500 animate-dot-pulse"}),a=(0,c.jsx)("div",{className:"size-1.5 rounded-full bg-zinc-400 dark:bg-zinc-500 animate-dot-pulse [animation-delay:0.2s]"}),o=(0,c.jsx)("div",{className:"size-1.5 rounded-full bg-zinc-400 dark:bg-zinc-500 animate-dot-pulse [animation-delay:0.4s]"}),e[2]=r,e[3]=a,e[4]=o):(r=e[2],a=e[3],o=e[4]);let i;return e[5]!==s?(i=(0,c.jsxs)("div",{className:s,children:[r,a,o]}),e[5]=s,e[6]=i):i=e[6],i},Vm=du,Et=ie();const Ym=t=>{const e=(0,Et.c)(10);let n,s,r;e[0]!==t?({size:s,className:r,...n}=t,e[0]=t,e[1]=n,e[2]=s,e[3]=r):(n=e[1],s=e[2],r=e[3]);const a=s===void 0?24:s,o=r===void 0?"":r;let i,u;e[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,c.jsx)("path",{d:"M13.6006 21.0761L19.0608 17.9236C19.6437 17.5871 19.9346 17.4188 20.1465 17.1834C20.3341 16.9751 20.4759 16.7297 20.5625 16.4632C20.6602 16.1626 20.6602 15.8267 20.6602 15.1568V8.84268C20.6602 8.17277 20.6602 7.83694 20.5625 7.53638C20.4759 7.26982 20.3341 7.02428 20.1465 6.816C19.9355 6.58161 19.6453 6.41405 19.0674 6.08043L13.5996 2.92359C13.0167 2.58706 12.7259 2.41913 12.416 2.35328C12.1419 2.295 11.8584 2.295 11.5843 2.35328C11.2744 2.41914 10.9826 2.58706 10.3997 2.92359L4.93843 6.07666C4.35623 6.41279 4.06535 6.58073 3.85352 6.816C3.66597 7.02428 3.52434 7.26982 3.43773 7.53638C3.33984 7.83765 3.33984 8.17436 3.33984 8.84742V15.1524C3.33984 15.8254 3.33984 16.1619 3.43773 16.4632C3.52434 16.7297 3.66597 16.9751 3.85352 17.1834C4.06548 17.4188 4.35657 17.5871 4.93945 17.9236L10.3997 21.0761C10.9826 21.4126 11.2744 21.5806 11.5843 21.6465C11.8584 21.7047 12.1419 21.7047 12.416 21.6465C12.7259 21.5806 13.0177 21.4126 13.6006 21.0761Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),u=(0,c.jsx)("path",{d:"M9 11.9998C9 13.6566 10.3431 14.9998 12 14.9998C13.6569 14.9998 15 13.6566 15 11.9998C15 10.3429 13.6569 8.99976 12 8.99976C10.3431 8.99976 9 10.3429 9 11.9998Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e[4]=i,e[5]=u):(i=e[4],u=e[5]);let h;return e[6]!==o||e[7]!==n||e[8]!==a?(h=(0,c.jsxs)("svg",{width:a,height:a,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o,...n,children:[i,u]}),e[6]=o,e[7]=n,e[8]=a,e[9]=h):h=e[9],h},ma=t=>{const e=(0,Et.c)(10);let n,s,r;e[0]!==t?({size:s,className:r,...n}=t,e[0]=t,e[1]=n,e[2]=s,e[3]=r):(n=e[1],s=e[2],r=e[3]);const a=s===void 0?24:s,o=r===void 0?"":r;let i,u;e[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,c.jsx)("path",{d:"M12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21Z",fill:"currentColor"}),u=(0,c.jsx)("path",{d:"M15 10L11 14L9 12",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e[4]=i,e[5]=u):(i=e[4],u=e[5]);let h;return e[6]!==o||e[7]!==n||e[8]!==a?(h=(0,c.jsxs)("svg",{width:a,height:a,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o,...n,children:[i,u]}),e[6]=o,e[7]=n,e[8]=a,e[9]=h):h=e[9],h},uu=t=>{const e=(0,Et.c)(9);let n,s,r;e[0]!==t?({size:s,className:r,...n}=t,e[0]=t,e[1]=n,e[2]=s,e[3]=r):(n=e[1],s=e[2],r=e[3]);const a=s===void 0?24:s,o=r===void 0?"":r;let i;e[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,c.jsx)("path",{d:"M12 8.00012L4 16.0001V20.0001L8 20.0001L16 12.0001M12 8.00012L14.8686 5.13146L14.8704 5.12976C15.2652 4.73488 15.463 4.53709 15.691 4.46301C15.8919 4.39775 16.1082 4.39775 16.3091 4.46301C16.5369 4.53704 16.7345 4.7346 17.1288 5.12892L18.8686 6.86872C19.2646 7.26474 19.4627 7.46284 19.5369 7.69117C19.6022 7.89201 19.6021 8.10835 19.5369 8.3092C19.4628 8.53736 19.265 8.73516 18.8695 9.13061L18.8686 9.13146L16 12.0001M12 8.00012L16 12.0001",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e[4]=i):i=e[4];let u;return e[5]!==o||e[6]!==n||e[7]!==a?(u=(0,c.jsx)("svg",{width:a,height:a,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o,...n,children:i}),e[5]=o,e[6]=n,e[7]=a,e[8]=u):u=e[8],u},fu=t=>{const e=(0,Et.c)(9);let n,s,r;e[0]!==t?({size:s,className:r,...n}=t,e[0]=t,e[1]=n,e[2]=s,e[3]=r):(n=e[1],s=e[2],r=e[3]);const a=s===void 0?24:s,o=r===void 0?"":r;let i;e[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,c.jsx)("path",{d:"M15 19C15 16.7909 12.3137 15 9 15C5.68629 15 3 16.7909 3 19M19 16V13M19 13V10M19 13H16M19 13H22M9 12C6.79086 12 5 10.2091 5 8C5 5.79086 6.79086 4 9 4C11.2091 4 13 5.79086 13 8C13 10.2091 11.2091 12 9 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e[4]=i):i=e[4];let u;return e[5]!==o||e[6]!==n||e[7]!==a?(u=(0,c.jsx)("svg",{width:a,height:a,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o,...n,children:i}),e[5]=o,e[6]=n,e[7]=a,e[8]=u):u=e[8],u},mu=t=>{const e=(0,Et.c)(9);let n,s,r;e[0]!==t?({size:s,className:r,...n}=t,e[0]=t,e[1]=n,e[2]=s,e[3]=r):(n=e[1],s=e[2],r=e[3]);const a=s===void 0?24:s,o=r===void 0?"":r;let i;e[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,c.jsx)("path",{d:"M15 19C15 16.7909 12.3137 15 9 15C5.68629 15 3 16.7909 3 19M21 10L17 14L15 12M9 12C6.79086 12 5 10.2091 5 8C5 5.79086 6.79086 4 9 4C11.2091 4 13 5.79086 13 8C13 10.2091 11.2091 12 9 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e[4]=i):i=e[4];let u;return e[5]!==o||e[6]!==n||e[7]!==a?(u=(0,c.jsx)("svg",{width:a,height:a,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o,...n,children:i}),e[5]=o,e[6]=n,e[7]=a,e[8]=u):u=e[8],u},Xm=t=>{const e=(0,Et.c)(10);let n,s,r;e[0]!==t?({size:s,className:r,...n}=t,e[0]=t,e[1]=n,e[2]=s,e[3]=r):(n=e[1],s=e[2],r=e[3]);const a=s===void 0?24:s,o=r===void 0?"":r;let i,u;e[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,c.jsx)("path",{d:"M5 9.92285C5 14.7747 9.24448 18.7869 11.1232 20.3252C11.3921 20.5454 11.5281 20.6568 11.7287 20.7132C11.8849 20.7572 12.1148 20.7572 12.271 20.7132C12.472 20.6567 12.6071 20.5463 12.877 20.3254C14.7557 18.7871 18.9999 14.7751 18.9999 9.9233C18.9999 8.08718 18.2625 6.32605 16.9497 5.02772C15.637 3.72939 13.8566 3 12.0001 3C10.1436 3 8.36301 3.7295 7.05025 5.02783C5.7375 6.32616 5 8.08674 5 9.92285Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),u=(0,c.jsx)("path",{d:"M10 9C10 10.1046 10.8954 11 12 11C13.1046 11 14 10.1046 14 9C14 7.89543 13.1046 7 12 7C10.8954 7 10 7.89543 10 9Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e[4]=i,e[5]=u):(i=e[4],u=e[5]);let h;return e[6]!==o||e[7]!==n||e[8]!==a?(h=(0,c.jsxs)("svg",{width:a,height:a,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o,...n,children:[i,u]}),e[6]=o,e[7]=n,e[8]=a,e[9]=h):h=e[9],h},Qm=t=>{const e=(0,Et.c)(9);let n,s,r;e[0]!==t?({size:s,className:r,...n}=t,e[0]=t,e[1]=n,e[2]=s,e[3]=r):(n=e[1],s=e[2],r=e[3]);const a=s===void 0?24:s,o=r===void 0?"":r;let i;e[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,c.jsx)("path",{d:"M10.0002 5H8.2002C7.08009 5 6.51962 5 6.0918 5.21799C5.71547 5.40973 5.40973 5.71547 5.21799 6.0918C5 6.51962 5 7.08009 5 8.2002V15.8002C5 16.9203 5 17.4801 5.21799 17.9079C5.40973 18.2842 5.71547 18.5905 6.0918 18.7822C6.5192 19 7.07899 19 8.19691 19H15.8031C16.921 19 17.48 19 17.9074 18.7822C18.2837 18.5905 18.5905 18.2839 18.7822 17.9076C19 17.4802 19 16.921 19 15.8031V14M20 9V4M20 4H15M20 4L13 11",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e[4]=i):i=e[4];let u;return e[5]!==o||e[6]!==n||e[7]!==a?(u=(0,c.jsx)("svg",{width:a,height:a,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o,...n,children:i}),e[5]=o,e[6]=n,e[7]=a,e[8]=u):u=e[8],u};var hu=ie(),pu=()=>{const t=(0,hu.c)(48),{currentUser:e,setAuthMode:n}=Ge(),{darkMode:s,toggleDarkMode:r}=Vn(),[a,o]=(0,g.useState)(""),i=vn();let u;t[0]===Symbol.for("react.memo_cache_sentinel")?(u={queryKey:["trending-hashtags"],queryFn:vu,staleTime:3e5,refetchInterval:6e4},t[0]=u):u=t[0];const{data:h}=It(u);let d;t[1]!==h?(d=h===void 0?[]:h,t[1]=h,t[2]=d):d=t[2];const l=d;let f;t[3]===Symbol.for("react.memo_cache_sentinel")?(f=[" 2026 Sysm","Terms","Privacy","Guidelines","Discord","Sysm","GitHub","Support","Status"],t[3]=f):f=t[3];const m=f;let p;t[4]!==s?(p=s?(0,c.jsx)(Lo,{size:20}):(0,c.jsx)(uo,{size:20}),t[4]=s,t[5]=p):p=t[5];let b;t[6]!==p||t[7]!==r?(b=(0,c.jsx)("button",{onClick:r,className:"p-3 rounded-full bg-zinc-50 dark:bg-zinc-900 text-zinc-500 dark:text-zinc-400 border border-zinc-100 dark:border-zinc-800 hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-all cursor-pointer",title:"Toggle Theme",children:p}),t[6]=p,t[7]=r,t[8]=b):b=t[8];const x=b;if(e){let R;t[9]===Symbol.for("react.memo_cache_sentinel")?(R=()=>o(""),t[9]=R):R=t[9];let E;t[10]!==a?(E=(0,c.jsx)("div",{className:"flex-1",children:(0,c.jsx)(zr,{value:a,onChange:o,onClear:R})}),t[10]=a,t[11]=E):E=t[11];let I;t[12]!==E||t[13]!==x?(I=(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[E,x]}),t[12]=E,t[13]=x,t[14]=I):I=t[14];let N;t[15]===Symbol.for("react.memo_cache_sentinel")?(N=(0,c.jsx)("h3",{className:"font-extrabold text-xl mb-4 px-2 text-[--foreground]",children:"What's happening"}),t[15]=N):N=t[15];let L;if(t[16]!==i||t[17]!==l){let F;t[19]!==i?(F=q=>(0,c.jsxs)("div",{onClick:()=>i(`/tags/${q.name.replace(/^#/,"")}`),className:"px-3 py-3 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-xl cursor-pointer transition-colors group",children:[(0,c.jsx)("div",{className:"text-xs text-zinc-500 dark:text-zinc-400 font-medium",children:"Trending"}),(0,c.jsxs)("div",{className:"font-bold text-[--foreground]",children:["#",q.name.replace(/^#/,"")]}),(0,c.jsxs)("div",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:[q.usage_count," posts"]})]},q.id),t[19]=i,t[20]=F):F=t[20],L=l.map(F),t[16]=i,t[17]=l,t[18]=L}else L=t[18];let j;t[21]!==l.length?(j=l.length===0&&(0,c.jsx)("p",{className:"text-sm text-zinc-500 px-2",children:"No trends yet"}),t[21]=l.length,t[22]=j):j=t[22];let k;t[23]!==L||t[24]!==j?(k=(0,c.jsxs)("div",{className:"bg-zinc-50 dark:bg-zinc-900 rounded-2xl p-4 border border-[--border]",children:[N,(0,c.jsxs)("div",{className:"flex flex-col gap-1",children:[L,j]})]}),t[23]=L,t[24]=j,t[25]=k):k=t[25];let P;t[26]===Symbol.for("react.memo_cache_sentinel")?(P=(0,c.jsx)("div",{className:"flex flex-wrap gap-x-4 gap-y-2 px-2 text-[13px] text-zinc-500 font-medium pb-5",children:m.map(bu)}),t[26]=P):P=t[26];let T;return t[27]!==k||t[28]!==I?(T=(0,c.jsxs)("aside",{className:"sticky top-5 hidden w-[320px] shrink-0 flex-col gap-y-6 lg:flex overflow-y-auto max-h-screen",children:[I,k,P]}),t[27]=k,t[28]=I,t[29]=T):T=t[29],T}let v,C;t[30]!==n?(v=(0,c.jsx)("button",{onClick:()=>n("signup"),className:"flex-1 bg-[--card] border border-[--border] py-2.5 rounded-full font-bold text-[--foreground] hover:bg-zinc-50 dark:hover:bg-zinc-900 transition-colors shadow-sm cursor-pointer",children:"Signup"}),C=()=>n("login"),t[30]=n,t[31]=v,t[32]=C):(v=t[31],C=t[32]);let z;t[33]===Symbol.for("react.memo_cache_sentinel")?(z=(0,c.jsx)("img",{src:"/logo.webp",alt:"",className:"size-4 rounded-sm"}),t[33]=z):z=t[33];let S;t[34]!==C?(S=(0,c.jsxs)("button",{onClick:C,className:"flex-1 bg-zinc-950 dark:bg-white text-white dark:text-zinc-950 py-2.5 rounded-full font-bold flex items-center justify-center gap-2 hover:opacity-90 transition-opacity cursor-pointer",children:[z,"Login"]}),t[34]=C,t[35]=S):S=t[35];let M;t[36]!==v||t[37]!==S||t[38]!==x?(M=(0,c.jsxs)("div",{className:"flex gap-3",children:[v,S,x]}),t[36]=v,t[37]=S,t[38]=x,t[39]=M):M=t[39];let _;t[40]===Symbol.for("react.memo_cache_sentinel")?(_=()=>o(""),t[40]=_):_=t[40];let D;t[41]!==a?(D=(0,c.jsx)(zr,{value:a,onChange:o,onClear:_}),t[41]=a,t[42]=D):D=t[42];let w;t[43]===Symbol.for("react.memo_cache_sentinel")?(w=(0,c.jsx)(nu,{}),t[43]=w):w=t[43];let y;t[44]===Symbol.for("react.memo_cache_sentinel")?(y=(0,c.jsx)("div",{className:"flex flex-wrap gap-x-4 gap-y-2 px-2 text-[13px] text-zinc-500 font-medium pb-5",children:m.map(xu)}),t[44]=y):y=t[44];let A;return t[45]!==M||t[46]!==D?(A=(0,c.jsxs)("aside",{className:"sticky top-5 hidden w-[350px] shrink-0 flex-col gap-y-6 lg:flex pr-4",children:[M,D,w,y]}),t[45]=M,t[46]=D,t[47]=A):A=t[47],A},gu=pu;function vu(){return Qi(5)}function bu(t){return(0,c.jsx)("a",{href:"#",className:"hover:underline",children:t},t)}function xu(t){return(0,c.jsx)("a",{href:"#",className:"hover:underline",children:t},t)}var Km=ie(),yu=({isOpen:t,onClose:e})=>{const{currentUser:n}=Ge(),{addToast:s}=wt(),r=vn(),[a,o]=(0,g.useState)({name:"",handle:"",description:"",isPrivate:!1}),[i,u]=(0,g.useState)(!1),h=async d=>{if(d.preventDefault(),!(!a.name||!a.handle||!n)){u(!0);try{const l=await Wi({name:a.name,handle:a.handle.toLowerCase().replace(/[^a-z0-9_]/g,""),description:a.description,is_private:a.isPrivate,creator_id:n.id}),{error:f}=await Y.from("community_members").insert([{community_id:l.id,user_id:n.id,role:"admin"}]);if(f)throw f;s(`Community "${l.name}" created!`),e(),r(`/c/${l.handle}`)}catch(l){console.error(l),s(l.message||"Failed to create community","error")}finally{u(!1)}}};return(0,c.jsx)(Pt,{isOpen:t,onClose:()=>!i&&e(),title:"Create Community",className:"sm:max-w-md",children:(0,c.jsxs)("form",{onSubmit:h,className:"space-y-5",children:[(0,c.jsxs)("div",{className:"flex flex-col items-center justify-center p-6 bg-zinc-50 dark:bg-zinc-900 rounded-2xl border-2 border-dashed border-zinc-200 dark:border-zinc-800",children:[(0,c.jsx)("div",{className:"size-20 rounded-2xl bg-white dark:bg-black flex items-center justify-center shadow-sm mb-3",children:(0,c.jsx)(bn,{size:32,className:"text-violet-600"})}),(0,c.jsx)("p",{className:"text-xs font-medium text-zinc-500 text-center max-w-[200px]",children:"Communities are where people with shared interests connect."})]}),(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsxs)("div",{className:"space-y-1.5",children:[(0,c.jsx)("label",{className:"text-sm font-bold ml-1",children:"Community Name"}),(0,c.jsx)("input",{type:"text",required:!0,className:"w-full bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-4 py-2.5 outline-none focus:ring-2 focus:ring-violet-500/20 focus:border-violet-500 transition-all",placeholder:"e.g. Photography Enthusiasts",value:a.name,onChange:d=>o({...a,name:d.target.value})})]}),(0,c.jsxs)("div",{className:"space-y-1.5",children:[(0,c.jsx)("label",{className:"text-sm font-bold ml-1",children:"Handle"}),(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-zinc-500 font-medium",children:"c/"}),(0,c.jsx)("input",{type:"text",required:!0,className:"w-full bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl pl-8 pr-4 py-2.5 outline-none focus:ring-2 focus:ring-violet-500/20 focus:border-violet-500 transition-all",placeholder:"photography",value:a.handle,onChange:d=>o({...a,handle:d.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"")})})]})]}),(0,c.jsxs)("div",{className:"space-y-1.5",children:[(0,c.jsx)("label",{className:"text-sm font-bold ml-1",children:"Description (Optional)"}),(0,c.jsx)("textarea",{className:"w-full bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-4 py-2.5 outline-none focus:ring-2 focus:ring-violet-500/20 focus:border-violet-500 transition-all min-h-[100px] resize-none",placeholder:"What is this community about?",value:a.description,onChange:d=>o({...a,description:d.target.value})})]}),(0,c.jsxs)("div",{className:"flex items-center justify-between p-4 bg-zinc-50 dark:bg-zinc-900 rounded-xl border border-zinc-200 dark:border-zinc-800",children:[(0,c.jsxs)("div",{className:"flex flex-col",children:[(0,c.jsx)("span",{className:"text-sm font-bold",children:"Private Community"}),(0,c.jsx)("span",{className:"text-[10px] text-zinc-500",children:"Only Admins can post in private communities"})]}),(0,c.jsx)("input",{type:"checkbox",className:"size-5 rounded-md accent-violet-600 cursor-pointer",checked:a.isPrivate,onChange:d=>o({...a,isPrivate:d.target.checked})})]})]}),(0,c.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,c.jsx)(Ze,{type:"button",variant:"outline",className:"flex-1",onClick:e,disabled:i,children:"Cancel"}),(0,c.jsx)(Ze,{type:"submit",className:"flex-1",disabled:i||!a.name||!a.handle,children:i?(0,c.jsx)(ft,{size:18,className:"animate-spin"}):"Create"})]})]})})},Zm=yu;function wu(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return(0,g.useMemo)(()=>s=>{e.forEach(r=>r(s))},e)}var wn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Lt(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function Jn(t){return"nodeType"in t}function Qe(t){var e,n;return t?Lt(t)?t:Jn(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function Gn(t){const{Document:e}=Qe(t);return t instanceof e}function Gt(t){return Lt(t)?!1:t instanceof Qe(t).HTMLElement}function ha(t){return t instanceof Qe(t).SVGElement}function Ft(t){return t?Lt(t)?t.document:Jn(t)?Gn(t)?t:Gt(t)||ha(t)?t.ownerDocument:document:document:document}var dt=wn?g.useLayoutEffect:g.useEffect;function $n(t){const e=(0,g.useRef)(t);return dt(()=>{e.current=t}),(0,g.useCallback)(function(){for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return e.current==null?void 0:e.current(...s)},[])}function ju(){const t=(0,g.useRef)(null);return[(0,g.useCallback)((e,n)=>{t.current=setInterval(e,n)},[]),(0,g.useCallback)(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[])]}function Yt(t,e){e===void 0&&(e=[t]);const n=(0,g.useRef)(t);return dt(()=>{n.current!==t&&(n.current=t)},e),n}function $t(t,e){const n=(0,g.useRef)();return(0,g.useMemo)(()=>{const s=t(n.current);return n.current=s,s},[...e])}function fn(t){const e=$n(t),n=(0,g.useRef)(null);return[n,(0,g.useCallback)(s=>{s!==n.current&&e?.(s,n.current),n.current=s},[])]}function Tn(t){const e=(0,g.useRef)();return(0,g.useEffect)(()=>{e.current=t},[t]),e.current}var zn={};function en(t,e){return(0,g.useMemo)(()=>{if(e)return e;const n=zn[t]==null?0:zn[t]+1;return zn[t]=n,t+"-"+n},[t,e])}function pa(t){return function(e){for(var n=arguments.length,s=new Array(n>1?n-1:0),r=1;r<n;r++)s[r-1]=arguments[r];return s.reduce((a,o)=>{const i=Object.entries(o);for(const[u,h]of i){const d=a[u];d!=null&&(a[u]=d+t*h)}return a},{...e})}}var Mt=pa(1),Xt=pa(-1);function ku(t){return"clientX"in t&&"clientY"in t}function er(t){if(!t)return!1;const{KeyboardEvent:e}=Qe(t.target);return e&&t instanceof e}function _u(t){if(!t)return!1;const{TouchEvent:e}=Qe(t.target);return e&&t instanceof e}function Pn(t){if(_u(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return ku(t)?{x:t.clientX,y:t.clientY}:null}var Qt=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[Qt.Translate.toString(t),Qt.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:s}=t;return e+" "+n+"ms "+s}}}),Ir="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Cu(t){return t.matches(Ir)?t:t.querySelector(Ir)}var Su={display:"none"};function Nu(t){let{id:e,value:n}=t;return g.createElement("div",{id:e,style:Su},n)}function Au(t){let{id:e,announcement:n,ariaLiveType:s="assertive"}=t;return g.createElement("div",{id:e,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":s,"aria-atomic":!0},n)}function zu(){const[t,e]=(0,g.useState)("");return{announce:(0,g.useCallback)(n=>{n!=null&&e(n)},[]),announcement:t}}var Ht=Xr(),ga=(0,g.createContext)(null);function Eu(t){const e=(0,g.useContext)(ga);(0,g.useEffect)(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function Ru(){const[t]=(0,g.useState)(()=>new Set),e=(0,g.useCallback)(n=>(t.add(n),()=>t.delete(n)),[t]);return[(0,g.useCallback)(n=>{let{type:s,event:r}=n;t.forEach(a=>{var o;return(o=a[s])==null?void 0:o.call(a,r)})},[t]),e]}var Iu={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Mu={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function Du(t){let{announcements:e=Mu,container:n,hiddenTextDescribedById:s,screenReaderInstructions:r=Iu}=t;const{announce:a,announcement:o}=zu(),i=en("DndLiveRegion"),[u,h]=(0,g.useState)(!1);if((0,g.useEffect)(()=>{h(!0)},[]),Eu((0,g.useMemo)(()=>({onDragStart(l){let{active:f}=l;a(e.onDragStart({active:f}))},onDragMove(l){let{active:f,over:m}=l;e.onDragMove&&a(e.onDragMove({active:f,over:m}))},onDragOver(l){let{active:f,over:m}=l;a(e.onDragOver({active:f,over:m}))},onDragEnd(l){let{active:f,over:m}=l;a(e.onDragEnd({active:f,over:m}))},onDragCancel(l){let{active:f,over:m}=l;a(e.onDragCancel({active:f,over:m}))}}),[a,e])),!u)return null;const d=g.createElement(g.Fragment,null,g.createElement(Nu,{id:s,value:r.draggable}),g.createElement(Au,{id:i,announcement:o}));return n?(0,Ht.createPortal)(d,n):d}var Pe;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Pe||(Pe={}));function mn(){}function Mr(t,e){return(0,g.useMemo)(()=>({sensor:t,options:e??{}}),[t,e])}function Tu(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return(0,g.useMemo)(()=>[...e].filter(s=>s!=null),[...e])}var ot=Object.freeze({x:0,y:0});function va(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function ba(t,e){let{data:{value:n}}=t,{data:{value:s}}=e;return n-s}function Pu(t,e){let{data:{value:n}}=t,{data:{value:s}}=e;return s-n}function Dr(t){let{left:e,top:n,height:s,width:r}=t;return[{x:e,y:n},{x:e+r,y:n},{x:e,y:n+s},{x:e+r,y:n+s}]}function xa(t,e){if(!t||t.length===0)return null;const[n]=t;return e?n[e]:n}function Tr(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}var Lu=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:s}=t;const r=Tr(e,e.left,e.top),a=[];for(const o of s){const{id:i}=o,u=n.get(i);if(u){const h=va(Tr(u),r);a.push({id:i,data:{droppableContainer:o,value:h}})}}return a.sort(ba)},Fu=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:s}=t;const r=Dr(e),a=[];for(const o of s){const{id:i}=o,u=n.get(i);if(u){const h=Dr(u),d=r.reduce((f,m,p)=>f+va(h[p],m),0),l=Number((d/4).toFixed(4));a.push({id:i,data:{droppableContainer:o,value:l}})}}return a.sort(ba)};function Ou(t,e){const n=Math.max(e.top,t.top),s=Math.max(e.left,t.left),r=Math.min(e.left+e.width,t.left+t.width),a=Math.min(e.top+e.height,t.top+t.height),o=r-s,i=a-n;if(s<r&&n<a){const u=e.width*e.height,h=t.width*t.height,d=o*i,l=d/(u+h-d);return Number(l.toFixed(4))}return 0}var Uu=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:s}=t;const r=[];for(const a of s){const{id:o}=a,i=n.get(o);if(i){const u=Ou(i,e);u>0&&r.push({id:o,data:{droppableContainer:a,value:u}})}}return r.sort(Pu)};function Hu(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function ya(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:ot}function Bu(t){return function(n){for(var s=arguments.length,r=new Array(s>1?s-1:0),a=1;a<s;a++)r[a-1]=arguments[a];return r.reduce((o,i)=>({...o,top:o.top+t*i.y,bottom:o.bottom+t*i.y,left:o.left+t*i.x,right:o.right+t*i.x}),{...n})}}var qu=Bu(1);function Wu(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function Vu(t,e,n){const s=Wu(e);if(!s)return t;const{scaleX:r,scaleY:a,x:o,y:i}=s,u=t.left-o-(1-r)*parseFloat(n),h=t.top-i-(1-a)*parseFloat(n.slice(n.indexOf(" ")+1)),d=r?t.width/r:t.width,l=a?t.height/a:t.height;return{width:d,height:l,top:h,right:u+d,bottom:h+l,left:u}}var Yu={ignoreTransform:!1};function Ot(t,e){e===void 0&&(e=Yu);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:h,transformOrigin:d}=Qe(t).getComputedStyle(t);h&&(n=Vu(n,h,d))}const{top:s,left:r,width:a,height:o,bottom:i,right:u}=n;return{top:s,left:r,width:a,height:o,bottom:i,right:u}}function Pr(t){return Ot(t,{ignoreTransform:!0})}function Xu(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function Qu(t,e){return e===void 0&&(e=Qe(t).getComputedStyle(t)),e.position==="fixed"}function Ku(t,e){e===void 0&&(e=Qe(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const r=e[s];return typeof r=="string"?n.test(r):!1})}function jn(t,e){const n=[];function s(r){if(e!=null&&n.length>=e||!r)return n;if(Gn(r)&&r.scrollingElement!=null&&!n.includes(r.scrollingElement))return n.push(r.scrollingElement),n;if(!Gt(r)||ha(r)||n.includes(r))return n;const a=Qe(t).getComputedStyle(r);return r!==t&&Ku(r,a)&&n.push(r),Qu(r,a)?n:s(r.parentNode)}return t?s(t):n}function wa(t){const[e]=jn(t,1);return e??null}function En(t){return!wn||!t?null:Lt(t)?t:Jn(t)?Gn(t)||t===Ft(t).scrollingElement?window:Gt(t)?t:null:null}function ja(t){return Lt(t)?t.scrollX:t.scrollLeft}function ka(t){return Lt(t)?t.scrollY:t.scrollTop}function Ln(t){return{x:ja(t),y:ka(t)}}var Le;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Le||(Le={}));function _a(t){return!wn||!t?!1:t===document.scrollingElement}function Ca(t){const e={x:0,y:0},n=_a(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},s={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height};return{isTop:t.scrollTop<=e.y,isLeft:t.scrollLeft<=e.x,isBottom:t.scrollTop>=s.y,isRight:t.scrollLeft>=s.x,maxScroll:s,minScroll:e}}var Zu={x:.2,y:.2};function Ju(t,e,n,s,r){let{top:a,left:o,right:i,bottom:u}=n;s===void 0&&(s=10),r===void 0&&(r=Zu);const{isTop:h,isBottom:d,isLeft:l,isRight:f}=Ca(t),m={x:0,y:0},p={x:0,y:0},b={height:e.height*r.y,width:e.width*r.x};return!h&&a<=e.top+b.height?(m.y=Le.Backward,p.y=s*Math.abs((e.top+b.height-a)/b.height)):!d&&u>=e.bottom-b.height&&(m.y=Le.Forward,p.y=s*Math.abs((e.bottom-b.height-u)/b.height)),!f&&i>=e.right-b.width?(m.x=Le.Forward,p.x=s*Math.abs((e.right-b.width-i)/b.width)):!l&&o<=e.left+b.width&&(m.x=Le.Backward,p.x=s*Math.abs((e.left+b.width-o)/b.width)),{direction:m,speed:p}}function Gu(t){if(t===document.scrollingElement){const{innerWidth:a,innerHeight:o}=window;return{top:0,left:0,right:a,bottom:o,width:a,height:o}}const{top:e,left:n,right:s,bottom:r}=t.getBoundingClientRect();return{top:e,left:n,right:s,bottom:r,width:t.clientWidth,height:t.clientHeight}}function Sa(t){return t.reduce((e,n)=>Mt(e,Ln(n)),ot)}function $u(t){return t.reduce((e,n)=>e+ja(n),0)}function ef(t){return t.reduce((e,n)=>e+ka(n),0)}function tf(t,e){if(e===void 0&&(e=Ot),!t)return;const{top:n,left:s,bottom:r,right:a}=e(t);wa(t)&&(r<=0||a<=0||n>=window.innerHeight||s>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}var nf=[["x",["left","right"],$u],["y",["top","bottom"],ef]],tr=class{constructor(t,e){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=jn(e),s=Sa(n);this.rect={...t},this.width=t.width,this.height=t.height;for(const[r,a,o]of nf)for(const i of a)Object.defineProperty(this,i,{get:()=>{const u=o(n),h=s[r]-u;return this.rect[i]+h},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}},Bt=class{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...e)})},this.target=t}add(t,e,n){var s;(s=this.target)==null||s.addEventListener(t,e,n),this.listeners.push([t,e,n])}};function rf(t){const{EventTarget:e}=Qe(t);return t instanceof e?t:Ft(t)}function Rn(t,e){const n=Math.abs(t.x),s=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+s**2)>e:"x"in e&&"y"in e?n>e.x&&s>e.y:"x"in e?n>e.x:"y"in e?s>e.y:!1}var tt;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(tt||(tt={}));function Lr(t){t.preventDefault()}function sf(t){t.stopPropagation()}var pe;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(pe||(pe={}));var Na={start:[pe.Space,pe.Enter],cancel:[pe.Esc],end:[pe.Space,pe.Enter,pe.Tab]},af=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case pe.Right:return{...n,x:n.x+25};case pe.Left:return{...n,x:n.x-25};case pe.Down:return{...n,y:n.y+25};case pe.Up:return{...n,y:n.y-25}}},nr=class{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:e}}=t;this.props=t,this.listeners=new Bt(Ft(e)),this.windowListeners=new Bt(Qe(e)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(tt.Resize,this.handleCancel),this.windowListeners.add(tt.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(tt.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:e}=this.props,n=t.node.current;n&&tf(n),e(ot)}handleKeyDown(t){if(er(t)){const{active:e,context:n,options:s}=this.props,{keyboardCodes:r=Na,coordinateGetter:a=af,scrollBehavior:o="smooth"}=s,{code:i}=t;if(r.end.includes(i)){this.handleEnd(t);return}if(r.cancel.includes(i)){this.handleCancel(t);return}const{collisionRect:u}=n.current,h=u?{x:u.left,y:u.top}:ot;this.referenceCoordinates||(this.referenceCoordinates=h);const d=a(t,{active:e,context:n.current,currentCoordinates:h});if(d){const l=Xt(d,h),f={x:0,y:0},{scrollableAncestors:m}=n.current;for(const p of m){const b=t.code,{isTop:x,isRight:v,isLeft:C,isBottom:z,maxScroll:S,minScroll:M}=Ca(p),_=Gu(p),D={x:Math.min(b===pe.Right?_.right-_.width/2:_.right,Math.max(b===pe.Right?_.left:_.left+_.width/2,d.x)),y:Math.min(b===pe.Down?_.bottom-_.height/2:_.bottom,Math.max(b===pe.Down?_.top:_.top+_.height/2,d.y))},w=b===pe.Right&&!v||b===pe.Left&&!C,y=b===pe.Down&&!z||b===pe.Up&&!x;if(w&&D.x!==d.x){const A=p.scrollLeft+l.x,R=b===pe.Right&&A<=S.x||b===pe.Left&&A>=M.x;if(R&&!l.y){p.scrollTo({left:A,behavior:o});return}R?f.x=p.scrollLeft-A:f.x=b===pe.Right?p.scrollLeft-S.x:p.scrollLeft-M.x,f.x&&p.scrollBy({left:-f.x,behavior:o});break}else if(y&&D.y!==d.y){const A=p.scrollTop+l.y,R=b===pe.Down&&A<=S.y||b===pe.Up&&A>=M.y;if(R&&!l.x){p.scrollTo({top:A,behavior:o});return}R?f.y=p.scrollTop-A:f.y=b===pe.Down?p.scrollTop-S.y:p.scrollTop-M.y,f.y&&p.scrollBy({top:-f.y,behavior:o});break}}this.handleMove(t,Mt(Xt(d,this.referenceCoordinates),f))}}}handleMove(t,e){const{onMove:n}=this.props;t.preventDefault(),n(e)}handleEnd(t){const{onEnd:e}=this.props;t.preventDefault(),this.detach(),e()}handleCancel(t){const{onCancel:e}=this.props;t.preventDefault(),this.detach(),e()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}};nr.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:s=Na,onActivation:r}=e,{active:a}=n;const{code:o}=t.nativeEvent;if(s.start.includes(o)){const i=a.activatorNode.current;return i&&t.target!==i?!1:(t.preventDefault(),r?.({event:t.nativeEvent}),!0)}return!1}}];function Fr(t){return!!(t&&"distance"in t)}function Or(t){return!!(t&&"delay"in t)}var rr=class{constructor(t,e,n){var s;n===void 0&&(n=rf(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=e;const{event:r}=t,{target:a}=r;this.props=t,this.events=e,this.document=Ft(a),this.documentListeners=new Bt(this.document),this.listeners=new Bt(n),this.windowListeners=new Bt(Qe(a)),this.initialCoordinates=(s=Pn(r))!=null?s:ot,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:e,bypassActivationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(tt.Resize,this.handleCancel),this.windowListeners.add(tt.DragStart,Lr),this.windowListeners.add(tt.VisibilityChange,this.handleCancel),this.windowListeners.add(tt.ContextMenu,Lr),this.documentListeners.add(tt.Keydown,this.handleKeydown),e){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Or(e)){this.timeoutId=setTimeout(this.handleStart,e.delay),this.handlePending(e);return}if(Fr(e)){this.handlePending(e);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,e){const{active:n,onPending:s}=this.props;s(n,t,this.initialCoordinates,e)}handleStart(){const{initialCoordinates:t}=this,{onStart:e}=this.props;t&&(this.activated=!0,this.documentListeners.add(tt.Click,sf,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(tt.SelectionChange,this.removeTextSelection),e(t))}handleMove(t){var e;const{activated:n,initialCoordinates:s,props:r}=this,{onMove:a,options:{activationConstraint:o}}=r;if(!s)return;const i=(e=Pn(t))!=null?e:ot,u=Xt(s,i);if(!n&&o){if(Fr(o)){if(o.tolerance!=null&&Rn(u,o.tolerance))return this.handleCancel();if(Rn(u,o.distance))return this.handleStart()}if(Or(o)&&Rn(u,o.tolerance))return this.handleCancel();this.handlePending(o,u);return}t.cancelable&&t.preventDefault(),a(i)}handleEnd(){const{onAbort:t,onEnd:e}=this.props;this.detach(),this.activated||t(this.props.active),e()}handleCancel(){const{onAbort:t,onCancel:e}=this.props;this.detach(),this.activated||t(this.props.active),e()}handleKeydown(t){t.code===pe.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}},of={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}},sr=class extends rr{constructor(t){const{event:e}=t,n=Ft(e.target);super(t,of,n)}};sr.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:s}=e;return!n.isPrimary||n.button!==0?!1:(s?.({event:n}),!0)}}];var lf={move:{name:"mousemove"},end:{name:"mouseup"}},Fn;(function(t){t[t.RightClick=2]="RightClick"})(Fn||(Fn={}));var cf=class extends rr{constructor(t){super(t,lf,Ft(t.event.target))}};cf.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:s}=e;return n.button===Fn.RightClick?!1:(s?.({event:n}),!0)}}];var In={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}},df=class extends rr{constructor(t){super(t,In)}static setup(){return window.addEventListener(In.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(In.move.name,t)};function t(){}}};df.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:s}=e;const{touches:r}=n;return r.length>1?!1:(s?.({event:n}),!0)}}];var qt;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(qt||(qt={}));var hn;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(hn||(hn={}));function uf(t){let{acceleration:e,activator:n=qt.Pointer,canScroll:s,draggingRect:r,enabled:a,interval:o=5,order:i=hn.TreeOrder,pointerCoordinates:u,scrollableAncestors:h,scrollableAncestorRects:d,delta:l,threshold:f}=t;const m=mf({delta:l,disabled:!a}),[p,b]=ju(),x=(0,g.useRef)({x:0,y:0}),v=(0,g.useRef)({x:0,y:0}),C=(0,g.useMemo)(()=>{switch(n){case qt.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case qt.DraggableRect:return r}},[n,r,u]),z=(0,g.useRef)(null),S=(0,g.useCallback)(()=>{const _=z.current;if(!_)return;const D=x.current.x*v.current.x,w=x.current.y*v.current.y;_.scrollBy(D,w)},[]),M=(0,g.useMemo)(()=>i===hn.TreeOrder?[...h].reverse():h,[i,h]);(0,g.useEffect)(()=>{if(!a||!h.length||!C){b();return}for(const _ of M){if(s?.(_)===!1)continue;const D=d[h.indexOf(_)];if(!D)continue;const{direction:w,speed:y}=Ju(_,D,C,e,f);for(const A of["x","y"])m[A][w[A]]||(y[A]=0,w[A]=0);if(y.x>0||y.y>0){b(),z.current=_,p(S,o),x.current=y,v.current=w;return}}x.current={x:0,y:0},v.current={x:0,y:0},b()},[e,S,s,b,a,o,JSON.stringify(C),JSON.stringify(m),p,h,M,d,JSON.stringify(f)])}var ff={x:{[Le.Backward]:!1,[Le.Forward]:!1},y:{[Le.Backward]:!1,[Le.Forward]:!1}};function mf(t){let{delta:e,disabled:n}=t;const s=Tn(e);return $t(r=>{if(n||!s||!r)return ff;const a={x:Math.sign(e.x-s.x),y:Math.sign(e.y-s.y)};return{x:{[Le.Backward]:r.x[Le.Backward]||a.x===-1,[Le.Forward]:r.x[Le.Forward]||a.x===1},y:{[Le.Backward]:r.y[Le.Backward]||a.y===-1,[Le.Forward]:r.y[Le.Forward]||a.y===1}}},[n,e,s])}function hf(t,e){const n=e!=null?t.get(e):void 0,s=n?n.node.current:null;return $t(r=>{var a;return e==null?null:(a=s??r)!=null?a:null},[s,e])}function pf(t,e){return(0,g.useMemo)(()=>t.reduce((n,s)=>{const{sensor:r}=s,a=r.activators.map(o=>({eventName:o.eventName,handler:e(o.handler,s)}));return[...n,...a]},[]),[t,e])}var Kt;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Kt||(Kt={}));var On;(function(t){t.Optimized="optimized"})(On||(On={}));var Ur=new Map;function gf(t,e){let{dragging:n,dependencies:s,config:r}=e;const[a,o]=(0,g.useState)(null),{frequency:i,measure:u,strategy:h}=r,d=(0,g.useRef)(t),l=x(),f=Yt(l),m=(0,g.useCallback)(function(v){v===void 0&&(v=[]),!f.current&&o(C=>C===null?v:C.concat(v.filter(z=>!C.includes(z))))},[f]),p=(0,g.useRef)(null),b=$t(v=>{if(l&&!n)return Ur;if(!v||v===Ur||d.current!==t||a!=null){const C=new Map;for(let z of t){if(!z)continue;if(a&&a.length>0&&!a.includes(z.id)&&z.rect.current){C.set(z.id,z.rect.current);continue}const S=z.node.current,M=S?new tr(u(S),S):null;z.rect.current=M,M&&C.set(z.id,M)}return C}return v},[t,a,n,l,u]);return(0,g.useEffect)(()=>{d.current=t},[t]),(0,g.useEffect)(()=>{l||m()},[n,l]),(0,g.useEffect)(()=>{a&&a.length>0&&o(null)},[JSON.stringify(a)]),(0,g.useEffect)(()=>{l||typeof i!="number"||p.current!==null||(p.current=setTimeout(()=>{m(),p.current=null},i))},[i,l,m,...s]),{droppableRects:b,measureDroppableContainers:m,measuringScheduled:a!=null};function x(){switch(h){case Kt.Always:return!1;case Kt.BeforeDragging:return n;default:return!n}}}function Aa(t,e){return $t(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function vf(t,e){return Aa(t,e)}function bf(t){let{callback:e,disabled:n}=t;const s=$n(e),r=(0,g.useMemo)(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(s)},[s,n]);return(0,g.useEffect)(()=>()=>r?.disconnect(),[r]),r}function kn(t){let{callback:e,disabled:n}=t;const s=$n(e),r=(0,g.useMemo)(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(s)},[n]);return(0,g.useEffect)(()=>()=>r?.disconnect(),[r]),r}function xf(t){return new tr(Ot(t),t)}function Hr(t,e,n){e===void 0&&(e=xf);const[s,r]=(0,g.useState)(null);function a(){r(u=>{if(!t)return null;if(t.isConnected===!1){var h;return(h=u??n)!=null?h:null}const d=e(t);return JSON.stringify(u)===JSON.stringify(d)?u:d})}const o=bf({callback(u){if(t)for(const h of u){const{type:d,target:l}=h;if(d==="childList"&&l instanceof HTMLElement&&l.contains(t)){a();break}}}}),i=kn({callback:a});return dt(()=>{a(),t?(i?.observe(t),o?.observe(document.body,{childList:!0,subtree:!0})):(i?.disconnect(),o?.disconnect())},[t]),s}function yf(t){return ya(t,Aa(t))}var Br=[];function wf(t){const e=(0,g.useRef)(t),n=$t(s=>t?s&&s!==Br&&t&&e.current&&t.parentNode===e.current.parentNode?s:jn(t):Br,[t]);return(0,g.useEffect)(()=>{e.current=t},[t]),n}function jf(t){const[e,n]=(0,g.useState)(null),s=(0,g.useRef)(t),r=(0,g.useCallback)(a=>{const o=En(a.target);o&&n(i=>i?(i.set(o,Ln(o)),new Map(i)):null)},[]);return(0,g.useEffect)(()=>{const a=s.current;if(t!==a){o(a);const i=t.map(u=>{const h=En(u);return h?(h.addEventListener("scroll",r,{passive:!0}),[h,Ln(h)]):null}).filter(u=>u!=null);n(i.length?new Map(i):null),s.current=t}return()=>{o(t),o(a)};function o(i){i.forEach(u=>{En(u)?.removeEventListener("scroll",r)})}},[r,t]),(0,g.useMemo)(()=>t.length?e?Array.from(e.values()).reduce((a,o)=>Mt(a,o),ot):Sa(t):ot,[t,e])}function qr(t,e){e===void 0&&(e=[]);const n=(0,g.useRef)(null);return(0,g.useEffect)(()=>{n.current=null},e),(0,g.useEffect)(()=>{const s=t!==ot;s&&!n.current&&(n.current=t),!s&&n.current&&(n.current=null)},[t]),n.current?Xt(t,n.current):ot}function kf(t){(0,g.useEffect)(()=>{if(!wn)return;const e=t.map(n=>{let{sensor:s}=n;return s.setup==null?void 0:s.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function _f(t,e){return(0,g.useMemo)(()=>t.reduce((n,s)=>{let{eventName:r,handler:a}=s;return n[r]=o=>{a(o,e)},n},{}),[t,e])}function za(t){return(0,g.useMemo)(()=>t?Xu(t):null,[t])}var Wr=[];function Cf(t,e){e===void 0&&(e=Ot);const[n]=t,s=za(n?Qe(n):null),[r,a]=(0,g.useState)(Wr);function o(){a(()=>t.length?t.map(u=>_a(u)?s:new tr(e(u),u)):Wr)}const i=kn({callback:o});return dt(()=>{i?.disconnect(),o(),t.forEach(u=>i?.observe(u))},[t]),r}function Sf(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Gt(e)?e:t}function Nf(t){let{measure:e}=t;const[n,s]=(0,g.useState)(null),r=kn({callback:(0,g.useCallback)(i=>{for(const{target:u}of i)if(Gt(u)){s(h=>{const d=e(u);return h?{...h,width:d.width,height:d.height}:d});break}},[e])}),[a,o]=fn((0,g.useCallback)(i=>{const u=Sf(i);r?.disconnect(),u&&r?.observe(u),s(u?e(u):null)},[e,r]));return(0,g.useMemo)(()=>({nodeRef:a,rect:n,setRef:o}),[n,a,o])}var Af=[{sensor:sr,options:{}},{sensor:nr,options:{}}],zf={current:{}},on={draggable:{measure:Pr},droppable:{measure:Pr,strategy:Kt.WhileDragging,frequency:On.Optimized},dragOverlay:{measure:Ot}},Wt=class extends Map{get(t){var e;return t!=null&&(e=super.get(t))!=null?e:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:e}=t;return!e})}getNodeFor(t){var e,n;return(e=(n=this.get(t))==null?void 0:n.node.current)!=null?e:void 0}},Ef={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Wt,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:mn},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:on,measureDroppableContainers:mn,windowRect:null,measuringScheduled:!1},Rf={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:mn,draggableNodes:new Map,over:null,measureDroppableContainers:mn},_n=(0,g.createContext)(Rf),Ea=(0,g.createContext)(Ef);function If(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Wt}}}function Mf(t,e){switch(e.type){case Pe.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Pe.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Pe.DragEnd:case Pe.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Pe.RegisterDroppable:{const{element:n}=e,{id:s}=n,r=new Wt(t.droppable.containers);return r.set(s,n),{...t,droppable:{...t.droppable,containers:r}}}case Pe.SetDroppableDisabled:{const{id:n,key:s,disabled:r}=e,a=t.droppable.containers.get(n);if(!a||s!==a.key)return t;const o=new Wt(t.droppable.containers);return o.set(n,{...a,disabled:r}),{...t,droppable:{...t.droppable,containers:o}}}case Pe.UnregisterDroppable:{const{id:n,key:s}=e,r=t.droppable.containers.get(n);if(!r||s!==r.key)return t;const a=new Wt(t.droppable.containers);return a.delete(n),{...t,droppable:{...t.droppable,containers:a}}}default:return t}}function Df(t){let{disabled:e}=t;const{active:n,activatorEvent:s,draggableNodes:r}=(0,g.useContext)(_n),a=Tn(s),o=Tn(n?.id);return(0,g.useEffect)(()=>{if(!e&&!s&&a&&o!=null){if(!er(a)||document.activeElement===a.target)return;const i=r.get(o);if(!i)return;const{activatorNode:u,node:h}=i;if(!u.current&&!h.current)return;requestAnimationFrame(()=>{for(const d of[u.current,h.current]){if(!d)continue;const l=Cu(d);if(l){l.focus();break}}})}},[s,e,r,o,a]),null}function Tf(t,e){let{transform:n,...s}=e;return t!=null&&t.length?t.reduce((r,a)=>a({transform:r,...s}),n):n}function Pf(t){return(0,g.useMemo)(()=>({draggable:{...on.draggable,...t?.draggable},droppable:{...on.droppable,...t?.droppable},dragOverlay:{...on.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function Lf(t){let{activeNode:e,measure:n,initialRect:s,config:r=!0}=t;const a=(0,g.useRef)(!1),{x:o,y:i}=typeof r=="boolean"?{x:r,y:r}:r;dt(()=>{if(!o&&!i||!e){a.current=!1;return}if(a.current||!s)return;const u=e?.node.current;if(!u||u.isConnected===!1)return;const h=ya(n(u),s);if(o||(h.x=0),i||(h.y=0),a.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const d=wa(u);d&&d.scrollBy({top:h.y,left:h.x})}},[e,o,i,s,n])}var Ra=(0,g.createContext)({...ot,scaleX:1,scaleY:1}),vt;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(vt||(vt={}));var Ff=(0,g.memo)(function(e){var n,s,r,a;let{id:o,accessibility:i,autoScroll:u=!0,children:h,sensors:d=Af,collisionDetection:l=Uu,measuring:f,modifiers:m,...p}=e;const[b,x]=(0,g.useReducer)(Mf,void 0,If),[v,C]=Ru(),[z,S]=(0,g.useState)(vt.Uninitialized),M=z===vt.Initialized,{draggable:{active:_,nodes:D,translate:w},droppable:{containers:y}}=b,A=_!=null?D.get(_):null,R=(0,g.useRef)({initial:null,translated:null}),E=(0,g.useMemo)(()=>{var je;return _!=null?{id:_,data:(je=A?.data)!=null?je:zf,rect:R}:null},[_,A]),I=(0,g.useRef)(null),[N,L]=(0,g.useState)(null),[j,k]=(0,g.useState)(null),P=Yt(p,Object.values(p)),T=en("DndDescribedBy",o),F=(0,g.useMemo)(()=>y.getEnabled(),[y]),q=Pf(f),{droppableRects:H,measureDroppableContainers:B,measuringScheduled:U}=gf(F,{dragging:M,dependencies:[w.x,w.y],config:q.droppable}),O=hf(D,_),V=(0,g.useMemo)(()=>j?Pn(j):null,[j]),Z=xe(),X=vf(O,q.draggable.measure);Lf({activeNode:_!=null?D.get(_):null,config:Z.layoutShiftCompensation,initialRect:X,measure:q.draggable.measure});const W=Hr(O,q.draggable.measure,X),ee=Hr(O?O.parentElement:null),K=(0,g.useRef)({activatorEvent:null,active:null,activeNode:O,collisionRect:null,collisions:null,droppableRects:H,draggableNodes:D,draggingNode:null,draggingNodeRect:null,droppableContainers:y,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Q=y.getNodeFor((n=K.current.over)==null?void 0:n.id),te=Nf({measure:q.dragOverlay.measure}),J=(s=te.nodeRef.current)!=null?s:O,G=M?(r=te.rect)!=null?r:W:null,ne=!!(te.nodeRef.current&&te.rect),re=yf(ne?null:W),le=za(J?Qe(J):null),ae=wf(M?Q??O:null),be=Cf(ae),ye=Tf(m,{transform:{x:w.x-re.x,y:w.y-re.y,scaleX:1,scaleY:1},activatorEvent:j,active:E,activeNodeRect:W,containerNodeRect:ee,draggingNodeRect:G,over:K.current.over,overlayNodeRect:te.rect,scrollableAncestors:ae,scrollableAncestorRects:be,windowRect:le}),ce=V?Mt(V,w):null,ve=jf(ae),me=qr(ve),_e=qr(ve,[W]),Ce=Mt(ye,me),we=G?qu(G,ye):null,Re=E&&we?l({active:E,collisionRect:we,droppableRects:H,droppableContainers:F,pointerCoordinates:ce}):null,Ie=xa(Re,"id"),[de,Se]=(0,g.useState)(null),ke=Hu(ne?ye:Mt(ye,_e),(a=de?.rect)!=null?a:null,W),ze=(0,g.useRef)(null),Ee=(0,g.useCallback)((je,Ae)=>{let{sensor:Te,options:De}=Ae;if(I.current==null)return;const Ne=D.get(I.current);if(!Ne)return;const $=je.nativeEvent;ze.current=new Te({active:I.current,activeNode:Ne,event:$,options:De,context:K,onAbort(ue){if(!D.get(ue))return;const{onDragAbort:ge}=P.current,fe={id:ue};ge?.(fe),v({type:"onDragAbort",event:fe})},onPending(ue,ge,fe,Fe){if(!D.get(ue))return;const{onDragPending:$e}=P.current,He={id:ue,constraint:ge,initialCoordinates:fe,offset:Fe};$e?.(He),v({type:"onDragPending",event:He})},onStart(ue){const ge=I.current;if(ge==null)return;const fe=D.get(ge);if(!fe)return;const{onDragStart:Fe}=P.current,$e={activatorEvent:$,active:{id:ge,data:fe.data,rect:R}};(0,Ht.unstable_batchedUpdates)(()=>{Fe?.($e),S(vt.Initializing),x({type:Pe.DragStart,initialCoordinates:ue,active:ge}),v({type:"onDragStart",event:$e}),L(ze.current),k($)})},onMove(ue){x({type:Pe.DragMove,coordinates:ue})},onEnd:he(Pe.DragEnd),onCancel:he(Pe.DragCancel)});function he(ue){return async function(){const{active:fe,collisions:Fe,over:$e,scrollAdjustedTranslate:He}=K.current;let Oe=null;if(fe&&He){const{cancelDrop:nt}=P.current;Oe={activatorEvent:$,active:fe,collisions:Fe,delta:He,over:$e},ue===Pe.DragEnd&&typeof nt=="function"&&await Promise.resolve(nt(Oe))&&(ue=Pe.DragCancel)}I.current=null,(0,Ht.unstable_batchedUpdates)(()=>{x({type:ue}),S(vt.Uninitialized),Se(null),L(null),k(null),ze.current=null;const nt=ue===Pe.DragEnd?"onDragEnd":"onDragCancel";if(Oe){const ht=P.current[nt];ht?.(Oe),v({type:nt,event:Oe})}})}}},[D]),Me=pf(d,(0,g.useCallback)((je,Ae)=>(Te,De)=>{const Ne=Te.nativeEvent,$=D.get(De);if(I.current!==null||!$||Ne.dndKit||Ne.defaultPrevented)return;const he={active:$};je(Te,Ae.options,he)===!0&&(Ne.dndKit={capturedBy:Ae.sensor},I.current=De,Ee(Te,Ae))},[D,Ee]));kf(d),dt(()=>{W&&z===vt.Initializing&&S(vt.Initialized)},[W,z]),(0,g.useEffect)(()=>{const{onDragMove:je}=P.current,{active:Ae,activatorEvent:Te,collisions:De,over:Ne}=K.current;if(!Ae||!Te)return;const $={active:Ae,activatorEvent:Te,collisions:De,delta:{x:Ce.x,y:Ce.y},over:Ne};(0,Ht.unstable_batchedUpdates)(()=>{je?.($),v({type:"onDragMove",event:$})})},[Ce.x,Ce.y]),(0,g.useEffect)(()=>{const{active:je,activatorEvent:Ae,collisions:Te,droppableContainers:De,scrollAdjustedTranslate:Ne}=K.current;if(!je||I.current==null||!Ae||!Ne)return;const{onDragOver:$}=P.current,he=De.get(Ie),ue=he&&he.rect.current?{id:he.id,rect:he.rect.current,data:he.data,disabled:he.disabled}:null,ge={active:je,activatorEvent:Ae,collisions:Te,delta:{x:Ne.x,y:Ne.y},over:ue};(0,Ht.unstable_batchedUpdates)(()=>{Se(ue),$?.(ge),v({type:"onDragOver",event:ge})})},[Ie]),dt(()=>{K.current={activatorEvent:j,active:E,activeNode:O,collisionRect:we,collisions:Re,droppableRects:H,draggableNodes:D,draggingNode:J,draggingNodeRect:G,droppableContainers:y,over:de,scrollableAncestors:ae,scrollAdjustedTranslate:Ce},R.current={initial:G,translated:we}},[E,O,Re,we,D,J,G,H,y,de,ae,Ce]),uf({...Z,delta:w,draggingRect:we,pointerCoordinates:ce,scrollableAncestors:ae,scrollableAncestorRects:be});const Ke=(0,g.useMemo)(()=>({active:E,activeNode:O,activeNodeRect:W,activatorEvent:j,collisions:Re,containerNodeRect:ee,dragOverlay:te,draggableNodes:D,droppableContainers:y,droppableRects:H,over:de,measureDroppableContainers:B,scrollableAncestors:ae,scrollableAncestorRects:be,measuringConfiguration:q,measuringScheduled:U,windowRect:le}),[E,O,W,j,Re,ee,te,D,y,H,de,B,ae,be,q,U,le]),se=(0,g.useMemo)(()=>({activatorEvent:j,activators:Me,active:E,activeNodeRect:W,ariaDescribedById:{draggable:T},dispatch:x,draggableNodes:D,over:de,measureDroppableContainers:B}),[j,Me,E,W,x,T,D,de,B]);return g.createElement(ga.Provider,{value:C},g.createElement(_n.Provider,{value:se},g.createElement(Ea.Provider,{value:Ke},g.createElement(Ra.Provider,{value:ke},h)),g.createElement(Df,{disabled:i?.restoreFocus===!1})),g.createElement(Du,{...i,hiddenTextDescribedById:T}));function xe(){const je=N?.autoScrollEnabled===!1,Ae=typeof u=="object"?u.enabled===!1:u===!1,Te=M&&!je&&!Ae;return typeof u=="object"?{...u,enabled:Te}:{enabled:Te}}}),Of=(0,g.createContext)(null),Vr="button",Uf="Draggable";function Hf(t){let{id:e,data:n,disabled:s=!1,attributes:r}=t;const a=en(Uf),{activators:o,activatorEvent:i,active:u,activeNodeRect:h,ariaDescribedById:d,draggableNodes:l,over:f}=(0,g.useContext)(_n),{role:m=Vr,roleDescription:p="draggable",tabIndex:b=0}=r??{},x=u?.id===e,v=(0,g.useContext)(x?Ra:Of),[C,z]=fn(),[S,M]=fn(),_=_f(o,e),D=Yt(n);return dt(()=>(l.set(e,{id:e,key:a,node:C,activatorNode:S,data:D}),()=>{const w=l.get(e);w&&w.key===a&&l.delete(e)}),[l,e]),{active:u,activatorEvent:i,activeNodeRect:h,attributes:(0,g.useMemo)(()=>({role:m,tabIndex:b,"aria-disabled":s,"aria-pressed":x&&m===Vr?!0:void 0,"aria-roledescription":p,"aria-describedby":d.draggable}),[s,m,b,x,p,d.draggable]),isDragging:x,listeners:s?void 0:_,node:C,over:f,setNodeRef:z,setActivatorNodeRef:M,transform:v}}function Bf(){return(0,g.useContext)(Ea)}var qf="Droppable",Wf={timeout:25};function Vf(t){let{data:e,disabled:n=!1,id:s,resizeObserverConfig:r}=t;const a=en(qf),{active:o,dispatch:i,over:u,measureDroppableContainers:h}=(0,g.useContext)(_n),d=(0,g.useRef)({disabled:n}),l=(0,g.useRef)(!1),f=(0,g.useRef)(null),m=(0,g.useRef)(null),{disabled:p,updateMeasurementsFor:b,timeout:x}={...Wf,...r},v=Yt(b??s),C=kn({callback:(0,g.useCallback)(()=>{if(!l.current){l.current=!0;return}m.current!=null&&clearTimeout(m.current),m.current=setTimeout(()=>{h(Array.isArray(v.current)?v.current:[v.current]),m.current=null},x)},[x]),disabled:p||!o}),[z,S]=fn((0,g.useCallback)((_,D)=>{C&&(D&&(C.unobserve(D),l.current=!1),_&&C.observe(_))},[C])),M=Yt(e);return(0,g.useEffect)(()=>{!C||!z.current||(C.disconnect(),l.current=!1,C.observe(z.current))},[z,C]),(0,g.useEffect)(()=>(i({type:Pe.RegisterDroppable,element:{id:s,key:a,disabled:n,node:z,rect:f,data:M}}),()=>i({type:Pe.UnregisterDroppable,key:a,id:s})),[s]),(0,g.useEffect)(()=>{n!==d.current.disabled&&(i({type:Pe.SetDroppableDisabled,id:s,key:a,disabled:n}),d.current.disabled=n)},[s,a,n,i]),{active:o,rect:f,isOver:u?.id===s,node:z,over:u,setNodeRef:S}}function ar(t,e,n){const s=t.slice();return s.splice(n<0?s.length+n:n,0,s.splice(e,1)[0]),s}function Yf(t,e){return t.reduce((n,s,r)=>{const a=e.get(s);return a&&(n[r]=a),n},Array(t.length))}function rn(t){return t!==null&&t>=0}function Xf(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Qf(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}var or=t=>{let{rects:e,activeIndex:n,overIndex:s,index:r}=t;const a=ar(e,s,n),o=e[r],i=a[r];return!i||!o?null:{x:i.left-o.left,y:i.top-o.top,scaleX:i.width/o.width,scaleY:i.height/o.height}},Ia="Sortable",Ma=g.createContext({activeIndex:-1,containerId:Ia,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:or,disabled:{draggable:!1,droppable:!1}});function Kf(t){let{children:e,id:n,items:s,strategy:r=or,disabled:a=!1}=t;const{active:o,dragOverlay:i,droppableRects:u,over:h,measureDroppableContainers:d}=Bf(),l=en(Ia,n),f=i.rect!==null,m=(0,g.useMemo)(()=>s.map(_=>typeof _=="object"&&"id"in _?_.id:_),[s]),p=o!=null,b=o?m.indexOf(o.id):-1,x=h?m.indexOf(h.id):-1,v=(0,g.useRef)(m),C=!Xf(m,v.current),z=x!==-1&&b===-1||C,S=Qf(a);dt(()=>{C&&p&&d(m)},[C,m,p,d]),(0,g.useEffect)(()=>{v.current=m},[m]);const M=(0,g.useMemo)(()=>({activeIndex:b,containerId:l,disabled:S,disableTransforms:z,items:m,overIndex:x,useDragOverlay:f,sortedRects:Yf(m,u),strategy:r}),[b,l,S.draggable,S.droppable,z,m,x,u,f,r]);return g.createElement(Ma.Provider,{value:M},e)}var Zf=t=>{let{id:e,items:n,activeIndex:s,overIndex:r}=t;return ar(n,s,r).indexOf(e)},Jf=t=>{let{containerId:e,isSorting:n,wasDragging:s,index:r,items:a,newIndex:o,previousItems:i,previousContainerId:u,transition:h}=t;return!h||!s||i!==a&&r===o?!1:n?!0:o!==r&&e===u},Gf={duration:200,easing:"ease"},Da="transform",$f=Qt.Transition.toString({property:Da,duration:0,easing:"linear"}),e0={roleDescription:"sortable"};function t0(t){let{disabled:e,index:n,node:s,rect:r}=t;const[a,o]=(0,g.useState)(null),i=(0,g.useRef)(n);return dt(()=>{if(!e&&n!==i.current&&s.current){const u=r.current;if(u){const h=Ot(s.current,{ignoreTransform:!0}),d={x:u.left-h.left,y:u.top-h.top,scaleX:u.width/h.width,scaleY:u.height/h.height};(d.x||d.y)&&o(d)}}n!==i.current&&(i.current=n)},[e,n,s,r]),(0,g.useEffect)(()=>{a&&o(null)},[a]),a}function n0(t){let{animateLayoutChanges:e=Jf,attributes:n,disabled:s,data:r,getNewIndex:a=Zf,id:o,strategy:i,resizeObserverConfig:u,transition:h=Gf}=t;const{items:d,containerId:l,activeIndex:f,disabled:m,disableTransforms:p,sortedRects:b,overIndex:x,useDragOverlay:v,strategy:C}=(0,g.useContext)(Ma),z=r0(s,m),S=d.indexOf(o),M=(0,g.useMemo)(()=>({sortable:{containerId:l,index:S,items:d},...r}),[l,r,S,d]),_=(0,g.useMemo)(()=>d.slice(d.indexOf(o)),[d,o]),{rect:D,node:w,isOver:y,setNodeRef:A}=Vf({id:o,data:M,disabled:z.droppable,resizeObserverConfig:{updateMeasurementsFor:_,...u}}),{active:R,activatorEvent:E,activeNodeRect:I,attributes:N,setNodeRef:L,listeners:j,isDragging:k,over:P,setActivatorNodeRef:T,transform:F}=Hf({id:o,data:M,attributes:{...e0,...n},disabled:z.draggable}),q=wu(A,L),H=!!R,B=H&&!p&&rn(f)&&rn(x),U=!v&&k,O=U&&B?F:null,V=B?O??(i??C)({rects:b,activeNodeRect:I,activeIndex:f,overIndex:x,index:S}):null,Z=rn(f)&&rn(x)?a({id:o,items:d,activeIndex:f,overIndex:x}):S,X=R?.id,W=(0,g.useRef)({activeId:X,items:d,newIndex:Z,containerId:l}),ee=d!==W.current.items,K=e({active:R,containerId:l,isDragging:k,isSorting:H,id:o,index:S,items:d,newIndex:W.current.newIndex,previousItems:W.current.items,previousContainerId:W.current.containerId,transition:h,wasDragging:W.current.activeId!=null}),Q=t0({disabled:!K,index:S,node:w,rect:D});return(0,g.useEffect)(()=>{H&&W.current.newIndex!==Z&&(W.current.newIndex=Z),l!==W.current.containerId&&(W.current.containerId=l),d!==W.current.items&&(W.current.items=d)},[H,Z,l,d]),(0,g.useEffect)(()=>{if(X===W.current.activeId)return;if(X!=null&&W.current.activeId==null){W.current.activeId=X;return}const J=setTimeout(()=>{W.current.activeId=X},50);return()=>clearTimeout(J)},[X]),{active:R,activeIndex:f,attributes:N,data:M,rect:D,index:S,newIndex:Z,items:d,isOver:y,isSorting:H,isDragging:k,listeners:j,node:w,overIndex:x,over:P,setNodeRef:q,setActivatorNodeRef:T,setDroppableNodeRef:A,setDraggableNodeRef:L,transform:Q??V,transition:te()};function te(){if(Q||ee&&W.current.newIndex===S)return $f;if(!(U&&!er(E)||!h)&&(H||K))return Qt.Transition.toString({...h,property:Da})}}function r0(t,e){var n,s;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t?.draggable)!=null?n:e.draggable,droppable:(s=t?.droppable)!=null?s:e.droppable}}function pn(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}var s0=[pe.Down,pe.Right,pe.Up,pe.Left],a0=(t,e)=>{let{context:{active:n,collisionRect:s,droppableRects:r,droppableContainers:a,over:o,scrollableAncestors:i}}=e;if(s0.includes(t.code)){if(t.preventDefault(),!n||!s)return;const u=[];a.getEnabled().forEach(l=>{if(!l||l!=null&&l.disabled)return;const f=r.get(l.id);if(f)switch(t.code){case pe.Down:s.top<f.top&&u.push(l);break;case pe.Up:s.top>f.top&&u.push(l);break;case pe.Left:s.left>f.left&&u.push(l);break;case pe.Right:s.left<f.left&&u.push(l);break}});const h=Fu({active:n,collisionRect:s,droppableRects:r,droppableContainers:u,pointerCoordinates:null});let d=xa(h,"id");if(d===o?.id&&h.length>1&&(d=h[1].id),d!=null){const l=a.get(n.id),f=a.get(d),m=f?r.get(f.id):null,p=f?.node.current;if(p&&m&&l&&f){const b=jn(p).some((S,M)=>i[M]!==S),x=Ta(l,f),v=o0(l,f),C=b||!x?{x:0,y:0}:{x:v?s.width-m.width:0,y:v?s.height-m.height:0},z={x:m.left,y:m.top};return C.x&&C.y?z:Xt(z,C)}}}};function Ta(t,e){return!pn(t)||!pn(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function o0(t,e){return!pn(t)||!pn(e)||!Ta(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}var i0=ie(),l0=t=>{const e=(0,i0.c)(33),{id:n,file:s,index:r,total:a,onRemove:o,onAddThumbnail:i,customThumbnail:u}=t;let h;e[0]!==n?(h={id:n},e[0]=n,e[1]=h):h=e[1];const{attributes:d,listeners:l,setNodeRef:f,transform:m,transition:p,isDragging:b}=n0(h);let x;e[2]!==m?(x=Qt.Transform.toString(m),e[2]=m,e[3]=x):x=e[3];const v=b?50:"auto",C=b?.5:1;let z;e[4]!==x||e[5]!==v||e[6]!==C||e[7]!==p?(z={transform:x,transition:p,zIndex:v,opacity:C},e[4]=x,e[5]=v,e[6]=C,e[7]=p,e[8]=z):z=e[8];const S=z,M=`relative group overflow-hidden bg-zinc-100 dark:bg-zinc-800 rounded-2xl border border-zinc-100 dark:border-zinc-800 shadow-sm transition-shadow ${a===3&&r===0?"row-span-2":""} ${b?"shadow-xl ring-2 ring-violet-500":""}`;let _;e[9]!==u||e[10]!==s?(_=s.type.startsWith("image/")?(0,c.jsx)("img",{src:URL.createObjectURL(s),className:"size-full object-cover pointer-events-none",alt:""}):(0,c.jsx)("div",{className:"size-full flex flex-col items-center justify-center text-zinc-500 gap-2 pointer-events-none",children:s.type.startsWith("video/")?(0,c.jsx)(c.Fragment,{children:u?(0,c.jsx)("img",{src:URL.createObjectURL(u),className:"size-full object-cover opacity-60",alt:"Custom thumbnail"}):(0,c.jsx)("div",{className:"size-10 rounded-full bg-black/20 flex items-center justify-center backdrop-blur-sm",children:(0,c.jsx)(Vt,{size:20,className:"text-zinc-400"})})}):(0,c.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,c.jsx)(Ja,{size:24}),(0,c.jsx)("span",{className:"text-[10px] font-bold truncate max-w-[100px] px-2",children:s.name})]})}),e[9]=u,e[10]=s,e[11]=_):_=e[11];let D;e[12]!==d||e[13]!==l||e[14]!==_?(D=(0,c.jsx)("div",{...d,...l,className:"size-full cursor-grab active:cursor-grabbing",children:_}),e[12]=d,e[13]=l,e[14]=_,e[15]=D):D=e[15];let w;e[16]!==u||e[17]!==s.type||e[18]!==i?(w=s.type.startsWith("video/")&&(0,c.jsx)("button",{type:"button",onClick:i,className:"absolute inset-x-0 bottom-0 bg-black/60 text-white text-[10px] font-bold py-2 backdrop-blur-md hover:bg-black/80 transition-colors z-10",children:u?"Change Cover":"Add Cover"}),e[16]=u,e[17]=s.type,e[18]=i,e[19]=w):w=e[19];let y;e[20]!==n||e[21]!==o?(y=()=>o(n),e[20]=n,e[21]=o,e[22]=y):y=e[22];let A;e[23]===Symbol.for("react.memo_cache_sentinel")?(A=(0,c.jsx)(Dt,{size:14,strokeWidth:2.5}),e[23]=A):A=e[23];let R;e[24]!==y?(R=(0,c.jsx)("button",{type:"button",onClick:y,className:"absolute top-2 right-2 p-1.5 rounded-full bg-black/50 text-white hover:bg-rose-500 transition-colors backdrop-blur-md z-20",children:A}),e[24]=y,e[25]=R):R=e[25];let E;return e[26]!==f||e[27]!==S||e[28]!==R||e[29]!==M||e[30]!==D||e[31]!==w?(E=(0,c.jsxs)("div",{ref:f,style:S,className:M,children:[D,w,R]}),e[26]=f,e[27]=S,e[28]=R,e[29]=M,e[30]=D,e[31]=w,e[32]=E):E=e[32],E},c0=({isOpen:t,onClose:e,initialCommunity:n})=>{const{currentUser:s}=Ge(),{addPost:r}=$l(),{addToast:a}=wt(),[o,i]=(0,g.useState)(""),[u,h]=(0,g.useState)([]),[d,l]=(0,g.useState)({}),[f,m]=(0,g.useState)(!1),[p,b]=(0,g.useState)({options:["",""],duration:"1 day"}),[x,v]=(0,g.useState)(!1),[C,z]=(0,g.useState)(null),S=Tu(Mr(sr,{activationConstraint:{distance:8}}),Mr(nr,{coordinateGetter:a0}));(0,g.useEffect)(()=>{z(n||null)},[n,t]);const{data:M=[]}=It({queryKey:["user-communities",s?.id],queryFn:()=>qi(s?.id),enabled:!!s?.id}),_=(0,g.useRef)(null),D=(0,g.useRef)(null),[w,y]=(0,g.useState)(null),A=P=>{const T=Array.from(P.target.files).map(F=>({id:Math.random().toString(36).substring(2,11),file:F}));h(F=>[...F,...T])},R=P=>{const T=P.target.files[0];T&&w!==null&&l(F=>({...F,[w]:T})),y(null)},E=P=>{h(F=>F.filter(q=>q.id!==P));const T={...d};delete T[P],l(T)},I=P=>{const{active:T,over:F}=P;F&&T.id!==F.id&&h(q=>ar(q,q.findIndex(H=>H.id===T.id),q.findIndex(H=>H.id===F.id)))},N=()=>{p.options.length<4&&b(P=>({...P,options:[...P.options,""]}))},L=P=>{b(T=>({...T,options:T.options.filter((F,q)=>q!==P)}))},j=(P,T)=>{const F=[...p.options];F[P]=T,b(q=>({...q,options:F}))},k=async P=>{if(P.preventDefault(),!(!o.trim()&&u.length===0||!s)){v(!0);try{const T=[];for(let q=0;q<u.length;q++){const H=u[q],B=d[H.id]||null,U=await Ct(H.file,"media",B);T.push(U)}let F=null;f&&p.options.some(q=>q.trim())&&(F={options:p.options.filter(q=>q.trim()).map((q,H)=>({id:H+1,text:q,votes:0})),ends_at:new Date(Date.now()+1440*60*1e3).toISOString()}),await r({content:o,media:T,poll:F,type:T.length>0?T[0].type==="video"?"video":"image":F?"poll":"text",userId:s.id,communityId:C?.id||null}),i(""),h([]),m(!1),b({options:["",""],duration:"1 day"}),z(null),e(),a("Post published!")}catch(T){console.error("Failed to create post:",T),a("Failed to publish post.","error")}finally{v(!1)}}};return(0,c.jsx)(Pt,{isOpen:t,onClose:()=>!x&&e(),title:"Create Post",className:"sm:max-w-[600px] p-0 overflow-hidden gap-0",footer:(0,c.jsxs)("div",{className:"flex items-center justify-between w-full pt-2",children:[(0,c.jsxs)("div",{className:"flex gap-1",children:[(0,c.jsx)("button",{type:"button",onClick:()=>_.current?.click(),className:"p-2 text-violet-600 hover:bg-violet-50 dark:text-violet-400 dark:hover:bg-violet-900/20 rounded-full transition-all active:scale-95",title:"Attach media",children:(0,c.jsx)(io,{size:20})}),(0,c.jsx)("button",{type:"button",onClick:()=>m(!f),className:`p-2 rounded-full transition-all active:scale-95 ${f?"bg-violet-50 text-violet-600 dark:bg-violet-900/20 dark:text-violet-400":"text-violet-600 hover:bg-violet-50 dark:text-violet-400 dark:hover:bg-violet-900/20"}`,title:"Add poll",children:(0,c.jsx)(Jo,{size:20})})]}),(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[(0,c.jsx)("div",{className:"h-6 w-px bg-zinc-200 dark:bg-zinc-800"}),(0,c.jsx)(Ze,{onClick:k,disabled:!o.trim()&&u.length===0||x,className:"rounded-full px-6 h-9 text-sm font-bold bg-zinc-900 dark:bg-white text-white dark:text-zinc-950 hover:opacity-90 disabled:opacity-50 transition-all shadow-md active:scale-95",children:x?(0,c.jsx)(ft,{size:16,className:"animate-spin"}):"Post"})]}),(0,c.jsx)("input",{type:"file",ref:_,onChange:A,multiple:!0,className:"hidden",accept:"image/*,video/*,application/pdf"}),(0,c.jsx)("input",{type:"file",ref:D,onChange:R,className:"hidden",accept:"image/*"})]}),children:(0,c.jsxs)("div",{className:"flex flex-col gap-4 p-1",children:[(0,c.jsxs)("div",{className:"flex items-start gap-3",children:[(0,c.jsxs)(St,{className:"size-10 border border-zinc-100 dark:border-zinc-800 shadow-sm shrink-0",children:[(0,c.jsx)(Nt,{src:s?.avatar,className:"object-cover"}),(0,c.jsx)(At,{children:s?.handle?.[0]?.toUpperCase()})]}),(0,c.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,c.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,c.jsx)("span",{className:"font-bold text-sm text-zinc-900 dark:text-zinc-100 truncate",children:s?.name}),(0,c.jsxs)(Rc,{children:[(0,c.jsx)(Ic,{asChild:!0,children:(0,c.jsx)("button",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-full border border-zinc-200 dark:border-zinc-700 bg-white dark:bg-zinc-900 text-xs font-bold text-zinc-600 dark:text-zinc-300 hover:bg-zinc-50 dark:hover:bg-zinc-800 transition-all group",children:C?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(bn,{size:12,className:"text-violet-500"}),(0,c.jsx)("span",{className:"max-w-[100px] truncate",children:C.name})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(lr,{size:12,className:"text-zinc-400 group-hover:text-violet-500 transition-colors"}),(0,c.jsx)("span",{children:"Everyone"})]})})}),(0,c.jsxs)(Mc,{align:"start",className:"w-60 p-1.5 rounded-xl shadow-xl border-zinc-100 dark:border-zinc-800",children:[(0,c.jsxs)(mr,{onClick:()=>z(null),className:"gap-3 py-2 px-3 rounded-lg cursor-pointer focus:bg-zinc-50 dark:focus:bg-zinc-800",children:[(0,c.jsx)("div",{className:"size-8 rounded-full bg-zinc-100 dark:bg-zinc-800 flex items-center justify-center shrink-0",children:(0,c.jsx)(lr,{size:16,className:"text-zinc-500"})}),(0,c.jsxs)("div",{className:"flex flex-col",children:[(0,c.jsx)("span",{className:"font-bold text-sm",children:"Everyone"}),(0,c.jsx)("span",{className:"text-[11px] text-zinc-500",children:"Public feed"})]})]}),M.length>0&&(0,c.jsx)("div",{className:"h-px bg-zinc-100 dark:bg-zinc-800 my-1 mx-2"}),(0,c.jsx)("div",{className:"max-h-[200px] overflow-y-auto",children:M.filter(P=>!P.isPrivate||P.myRole==="admin").map(P=>(0,c.jsxs)(mr,{onClick:()=>z(P),className:"gap-3 py-2 px-3 rounded-lg cursor-pointer focus:bg-zinc-50 dark:focus:bg-zinc-800",children:[(0,c.jsxs)(St,{className:"size-8 border border-zinc-100 dark:border-zinc-700",children:[(0,c.jsx)(Nt,{src:P.avatar}),(0,c.jsx)(At,{children:P.name[0]})]}),(0,c.jsxs)("div",{className:"flex flex-col min-w-0",children:[(0,c.jsx)("span",{className:"font-bold text-sm truncate",children:P.name}),(0,c.jsx)("span",{className:"text-[11px] text-zinc-500",children:"Community"})]})]},P.id))})]})]})]}),(0,c.jsx)("textarea",{className:"w-full bg-transparent border-none outline-none text-lg min-h-[100px] max-h-[400px] resize-none dark:text-zinc-100 placeholder:text-zinc-400 font-medium leading-relaxed",placeholder:"What's on your mind?",autoFocus:!0,value:o,onChange:P=>{i(P.target.value),P.target.style.height="auto",P.target.style.height=P.target.scrollHeight+"px"}})]})]}),(0,c.jsxs)("div",{className:"pl-[52px]",children:[u.length>0&&(0,c.jsx)("div",{className:"mb-4 animate-in fade-in zoom-in-95 duration-200",children:(0,c.jsx)(Ff,{sensors:S,collisionDetection:Lu,onDragEnd:I,children:(0,c.jsx)(Kf,{items:u.map(P=>P.id),strategy:or,children:(0,c.jsx)("div",{className:`grid gap-2 rounded-2xl overflow-hidden border border-zinc-100 dark:border-zinc-800 shadow-sm ${u.length===1?"grid-cols-1":"grid-cols-2 aspect-[16/9]"}`,children:u.map((P,T)=>(0,c.jsx)(l0,{id:P.id,file:P.file,index:T,total:u.length,onRemove:E,customThumbnail:d[P.id],onAddThumbnail:()=>{y(P.id),D.current?.click()}},P.id))})})})}),f&&(0,c.jsxs)("div",{className:"mb-4 p-4 rounded-xl border border-violet-100 dark:border-violet-900/30 bg-violet-50/30 dark:bg-violet-900/10 space-y-3 animate-in slide-in-from-top-2 duration-200",children:[(0,c.jsxs)("div",{className:"flex justify-between items-center px-1",children:[(0,c.jsx)("span",{className:"text-xs font-bold text-violet-600 dark:text-violet-400 uppercase tracking-wider",children:"Poll Options"}),(0,c.jsx)("button",{type:"button",onClick:()=>m(!1),className:"text-zinc-400 hover:text-rose-500 transition-colors",children:(0,c.jsx)(Dt,{size:16})})]}),(0,c.jsx)("div",{className:"space-y-2",children:p.options.map((P,T)=>(0,c.jsxs)("div",{className:"flex gap-2 group",children:[(0,c.jsxs)("div",{className:"flex-1 relative",children:[(0,c.jsx)("input",{className:"w-full bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 rounded-lg pl-4 pr-10 py-2.5 text-sm outline-none focus:border-violet-500 focus:ring-2 focus:ring-violet-500/10 transition-all font-medium placeholder:font-normal",placeholder:`Option ${T+1}`,value:P,autoFocus:T===p.options.length-1,onChange:F=>j(T,F.target.value)}),(0,c.jsxs)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-[10px] font-bold text-zinc-300 pointer-events-none",children:[P.length,"/25"]})]}),p.options.length>2&&(0,c.jsx)("button",{type:"button",onClick:()=>L(T),className:"p-2.5 text-zinc-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg transition-colors",children:(0,c.jsx)(ui,{size:18})})]},T))}),p.options.length<4&&(0,c.jsx)("button",{type:"button",onClick:N,className:"w-full py-2.5 text-sm font-bold text-violet-600 dark:text-violet-400 hover:bg-violet-100 dark:hover:bg-violet-900/30 rounded-lg border border-dashed border-violet-200 dark:border-violet-800 transition-all",children:"+ Add option"}),(0,c.jsxs)("div",{className:"flex items-center gap-2 pt-1 px-1",children:[(0,c.jsx)("span",{className:"text-[10px] font-medium text-zinc-500",children:"Poll ends in"}),(0,c.jsxs)("select",{className:"bg-transparent text-[10px] font-bold text-zinc-700 dark:text-zinc-300 outline-none cursor-pointer hover:text-violet-600",value:p.duration,onChange:P=>b({...p,duration:P.target.value}),children:[(0,c.jsx)("option",{value:"1 day",children:"1 day"}),(0,c.jsx)("option",{value:"3 days",children:"3 days"}),(0,c.jsx)("option",{value:"7 days",children:"7 days"})]})]})]})]})]})})},d0=c0,u0=({isOpen:t,onClose:e})=>{const{currentUser:n}=Ge(),{addToast:s}=wt(),r=Hn(),[a,o]=(0,g.useState)(null),[i,u]=(0,g.useState)(!1),[h,d]=(0,g.useState)(null),l=(0,g.useRef)(null),f=x=>{const v=x.target.files[0];v&&o(v)},m=()=>{if(!a)return;const x=new FileReader;x.onload=()=>{d(x.result)},x.readAsDataURL(a)},p=x=>{o(new File([x],`story-cropped-${Date.now()}.jpg`,{type:"image/jpeg"})),d(null)},b=async()=>{if(!(!a||!n)){u(!0);try{const x=await Ct(a);await Ui(n.id,x.url,x.type),o(null),e(),s("Story shared!"),r.invalidateQueries(["stories"])}catch(x){console.error("Failed to create story:",x),s("Failed to share story.")}finally{u(!1)}}};return(0,c.jsxs)(Pt,{isOpen:t,onClose:()=>!i&&e(),title:"Add Story",children:[(0,c.jsxs)("div",{className:"space-y-6",children:[a?(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsxs)("div",{className:"relative aspect-[9/16] w-full max-w-[280px] mx-auto rounded-3xl overflow-hidden shadow-2xl",children:[(0,c.jsx)("img",{src:URL.createObjectURL(a),className:"w-full h-full object-cover",alt:"Preview"}),(0,c.jsx)("button",{onClick:()=>o(null),className:"absolute top-4 right-4 p-2 bg-black/50 text-white rounded-full hover:bg-rose-500 transition-colors",title:"Remove",children:(0,c.jsx)(Dt,{size:20})})]}),(0,c.jsxs)("div",{className:"flex items-center justify-center gap-4 py-2 bg-zinc-50/50 dark:bg-zinc-900/50 rounded-2xl",children:[(0,c.jsxs)("button",{onClick:m,className:"flex flex-col items-center gap-1.5 p-3 rounded-xl hover:bg-white dark:hover:bg-zinc-800 transition-all text-zinc-600 dark:text-zinc-400 hover:text-violet-600 dark:hover:text-violet-400 group",children:[(0,c.jsx)("div",{className:"p-2 rounded-lg bg-white dark:bg-zinc-800 shadow-sm group-hover:shadow-md transition-all",children:(0,c.jsx)(uu,{size:20})}),(0,c.jsx)("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:"Crop / Edit"})]}),(0,c.jsxs)("button",{className:"flex flex-col items-center gap-1.5 p-3 rounded-xl opacity-40 cursor-not-allowed text-zinc-600 dark:text-zinc-400",children:[(0,c.jsx)("div",{className:"p-2 rounded-lg bg-white dark:bg-zinc-800 shadow-sm",children:(0,c.jsx)("svg",{size:20,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-5 h-5",children:(0,c.jsx)("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 21 3 22l1-4.5L17 3z"})})}),(0,c.jsx)("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:"Text"})]}),(0,c.jsxs)("button",{className:"flex flex-col items-center gap-1.5 p-3 rounded-xl opacity-40 cursor-not-allowed text-zinc-600 dark:text-zinc-400",children:[(0,c.jsx)("div",{className:"p-2 rounded-lg bg-white dark:bg-zinc-800 shadow-sm",children:(0,c.jsxs)("svg",{size:20,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-5 h-5",children:[(0,c.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,c.jsx)("path",{d:"M8 14s1.5 2 4 2 4-2 4-2"}),(0,c.jsx)("line",{x1:"9",y1:"9",x2:"9.01",y2:"9"}),(0,c.jsx)("line",{x1:"15",y1:"9",x2:"15.01",y2:"9"})]})}),(0,c.jsx)("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:"Stickers"})]})]})]}):(0,c.jsxs)("div",{className:"py-10",children:[(0,c.jsxs)("div",{className:"relative w-full group",onClick:()=>l.current?.click(),children:[(0,c.jsx)("div",{className:"relative z-40 cursor-pointer group-hover:translate-x-8 group-hover:shadow-2xl group-hover:-translate-y-8 transition-all duration-500 bg-zinc-900 dark:bg-white flex items-center justify-center h-32 w-32 mx-auto rounded-xl border-4 border-white dark:border-zinc-900",children:(0,c.jsxs)("svg",{className:"h-8 w-8 text-white/60 dark:text-zinc-950/60",strokeLinejoin:"round",strokeLinecap:"round",strokeWidth:"2",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,c.jsx)("path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"}),(0,c.jsx)("path",{d:"M7 9l5 -5l5 5"}),(0,c.jsx)("path",{d:"M12 4l0 12"})]})}),(0,c.jsx)("div",{className:"absolute border-2 opacity-0 group-hover:opacity-80 transition-all duration-300 border-dashed border-violet-500 inset-0 z-30 bg-transparent flex items-center justify-center h-32 w-32 mx-auto rounded-xl"})]}),(0,c.jsxs)("div",{className:"text-center mt-8",children:[(0,c.jsx)("p",{className:"font-bold dark:text-white",children:"Choose a photo"}),(0,c.jsx)("p",{className:"text-sm text-zinc-500",children:"Stories last for 24 hours"})]})]}),(0,c.jsx)("input",{type:"file",ref:l,onChange:f,className:"hidden",accept:"image/*"}),(0,c.jsx)(Ze,{className:"w-full py-3 text-lg",disabled:!a||i,onClick:b,children:i?(0,c.jsx)(ft,{size:24,className:"animate-spin mx-auto"}):"Share story"})]}),h&&(0,c.jsx)(Rd,{src:h,isOpen:!!h,onClose:()=>d(null),onCropComplete:p,aspect:9/16})]})},f0=u0;function Jm({isOpen:t,onClose:e,community:n,onUpdate:s}){const{addToast:r}=wt(),[a,o]=(0,g.useState)({name:"",handle:"",description:"",avatar:"",cover:"",isPrivate:!1}),[i,u]=(0,g.useState)(!1),h=(0,g.useRef)(null),d=(0,g.useRef)(null);(0,g.useEffect)(()=>{n&&t&&o({name:n.name||"",handle:n.handle||"",description:n.description||"",avatar:n.avatar||"",cover:n.cover||"",isPrivate:n.isPrivate||!1})},[n,t]);const l=(p,b)=>{const x=p.target.files[0];x&&f(x,b)},f=async(p,b)=>{u(!0);try{const x=await Ct(p);o(v=>({...v,[b]:x.url})),r(`${b.charAt(0).toUpperCase()+b.slice(1)} uploaded!`)}catch{r(`Failed to upload ${b}`,"error")}finally{u(!1)}},m=async p=>{if(p.preventDefault(),!(!a.name||!a.handle||!n)){u(!0);try{const b=await Vi(n.id,{name:a.name,handle:a.handle.toLowerCase().replace(/[^a-z0-9_]/g,""),description:a.description,avatar_url:a.avatar,cover_url:a.cover,is_private:a.isPrivate});r("Community updated successfully!"),s&&s(b),e()}catch(b){console.error(b),r(b.message||"Failed to update community","error")}finally{u(!1)}}};return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(Pt,{isOpen:t,onClose:()=>!i&&e(),title:"Edit Community",className:"sm:max-w-xl",children:[(0,c.jsxs)("div",{className:"space-y-6 max-h-[85vh] overflow-y-auto px-1",children:[(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsxs)("div",{className:"h-32 sm:h-40 bg-zinc-100 dark:bg-zinc-900 rounded-xl overflow-hidden relative group",children:[a.cover&&(0,c.jsx)("img",{src:a.cover,className:"w-full h-full object-cover",alt:""}),(0,c.jsx)("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:(0,c.jsx)("button",{onClick:()=>d.current?.click(),className:"p-3 bg-black/60 text-white rounded-full hover:bg-black transition-all",children:(0,c.jsx)(cr,{size:20})})})]}),(0,c.jsx)("div",{className:"absolute -bottom-8 left-6",children:(0,c.jsxs)("div",{className:"relative group size-20 sm:size-24 rounded-2xl border-4 border-white dark:border-black bg-zinc-100 dark:bg-zinc-800 overflow-hidden shadow-lg",children:[(0,c.jsx)("img",{src:a.avatar,className:"size-full object-cover",alt:""}),(0,c.jsx)("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:(0,c.jsx)("button",{onClick:()=>h.current?.click(),className:"text-white p-2",children:(0,c.jsx)(cr,{size:18})})})]})})]}),(0,c.jsx)("div",{className:"pt-6",children:(0,c.jsxs)("form",{onSubmit:m,className:"space-y-5",children:[(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsxs)("div",{className:"space-y-1.5",children:[(0,c.jsx)("label",{className:"text-sm font-bold ml-1",children:"Community Name"}),(0,c.jsx)("input",{type:"text",required:!0,className:"w-full bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-4 py-2.5 outline-none focus:ring-2 focus:ring-violet-500/20 focus:border-violet-500 transition-all font-medium",value:a.name,onChange:p=>o({...a,name:p.target.value})})]}),(0,c.jsxs)("div",{className:"space-y-1.5",children:[(0,c.jsx)("label",{className:"text-sm font-bold ml-1",children:"Handle"}),(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-zinc-500 font-medium text-sm",children:"c/"}),(0,c.jsx)("input",{type:"text",required:!0,className:"w-full bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl pl-8 pr-4 py-2.5 outline-none focus:ring-2 focus:ring-violet-500/20 focus:border-violet-500 transition-all font-medium text-sm",value:a.handle,onChange:p=>o({...a,handle:p.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"")})})]})]}),(0,c.jsxs)("div",{className:"space-y-1.5",children:[(0,c.jsx)("label",{className:"text-sm font-bold ml-1",children:"Description"}),(0,c.jsx)("textarea",{className:"w-full bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-4 py-2.5 outline-none focus:ring-2 focus:ring-violet-500/20 focus:border-violet-500 transition-all min-h-[100px] resize-none font-medium",placeholder:"What is this community about?",value:a.description,onChange:p=>o({...a,description:p.target.value})})]}),(0,c.jsxs)("div",{className:"flex items-center justify-between p-4 bg-zinc-50 dark:bg-zinc-900 rounded-xl border border-zinc-200 dark:border-zinc-800",children:[(0,c.jsxs)("div",{className:"flex flex-col",children:[(0,c.jsx)("span",{className:"text-sm font-bold",children:"Private Community"}),(0,c.jsx)("span",{className:"text-[10px] text-zinc-500",children:"Only Admins can post in private communities"})]}),(0,c.jsx)("input",{type:"checkbox",className:"size-5 rounded-md accent-violet-600 cursor-pointer",checked:a.isPrivate,onChange:p=>o({...a,isPrivate:p.target.checked})})]})]}),(0,c.jsxs)("div",{className:"flex gap-3 pt-6 py-2",children:[(0,c.jsx)(Ze,{type:"button",variant:"outline",className:"flex-1 rounded-xl h-11 font-bold",onClick:e,disabled:i,children:"Cancel"}),(0,c.jsx)(Ze,{type:"submit",className:"flex-1 rounded-xl h-11 font-bold bg-zinc-900 dark:bg-white text-white dark:text-black hover:bg-zinc-800 dark:hover:bg-zinc-200 transition-all active:scale-95",disabled:i||!a.name,children:i?(0,c.jsx)(ft,{size:18,className:"animate-spin"}):"Save Changes"})]})]})})]}),(0,c.jsx)("input",{type:"file",ref:h,className:"hidden",accept:"image/*",onChange:p=>l(p,"avatar")}),(0,c.jsx)("input",{type:"file",ref:d,className:"hidden",accept:"image/*",onChange:p=>l(p,"cover")})]})})}var m0=({isOpen:t,onClose:e,editProfileData:n,setEditProfileData:s})=>{const{updateProfile:r}=Ge(),{addToast:a}=wt(),[o,i]=(0,g.useState)(!1),[u,h]=(0,g.useState)(null),[d,l]=(0,g.useState)(null),f=(0,g.useRef)(null),m=(0,g.useRef)(null),p=(x,v)=>{const C=x.target.files[0];C&&(v==="avatar"?h(C):l(C))},b=async()=>{i(!0);try{let x=n.avatar,v=n.cover;u&&(x=(await Ct(u)).url),d&&(v=(await Ct(d)).url),await r({...n,avatar:x,cover:v}),h(null),l(null),e(),a("Profile updated!")}catch(x){console.error("Failed to update profile:",x),a("Failed to update profile.","error")}finally{i(!1)}};return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(Pt,{isOpen:t,onClose:()=>!o&&e(),title:"Edit Profile",children:(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsx)("input",{type:"file",ref:m,className:"hidden",accept:"image/*",onChange:x=>p(x,"cover")}),(0,c.jsx)("input",{type:"file",ref:f,className:"hidden",accept:"image/*",onChange:x=>p(x,"avatar")}),(0,c.jsxs)("div",{className:"relative h-32 bg-zinc-100 dark:bg-zinc-800 rounded-xl overflow-hidden group cursor-pointer",onClick:()=>m.current?.click(),children:[(d||n?.cover)&&(0,c.jsx)("img",{src:d?URL.createObjectURL(d):n.cover,className:"w-full h-full object-cover opacity-60",alt:""}),(0,c.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,c.jsx)("div",{className:"bg-black/50 p-2 rounded-full text-white group-hover:scale-110 transition-transform",children:(0,c.jsx)(Vt,{size:20})})})]}),(0,c.jsx)("div",{className:"relative -mt-16 ml-4",children:(0,c.jsxs)("div",{className:"relative size-24 rounded-full border-4 border-white dark:border-black overflow-hidden group cursor-pointer shadow-lg bg-white dark:bg-black",onClick:()=>f.current?.click(),children:[(u||n?.avatar)&&(0,c.jsxs)(St,{className:"size-full opacity-60 rounded-none",children:[(0,c.jsx)(Nt,{src:u?URL.createObjectURL(u):n.avatar,className:"object-cover"}),(0,c.jsx)(At,{children:n?.handle?.[0]?.toUpperCase()})]}),(0,c.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,c.jsx)("div",{className:"bg-black/50 p-2 rounded-full text-white group-hover:scale-110 transition-transform",children:(0,c.jsx)(Vt,{size:16})})})]})}),(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsx)(bt,{label:"Name",value:n?.name||"",onChange:x=>s({...n,name:x.target.value})}),(0,c.jsx)(bt,{label:"Bio",textarea:!0,value:n?.bio||"",onChange:x=>s({...n,bio:x.target.value})}),(0,c.jsx)(bt,{label:"Location",value:n?.location||"",onChange:x=>s({...n,location:x.target.value})}),(0,c.jsx)(bt,{label:"Website",value:n?.website||"",onChange:x=>s({...n,website:x.target.value})})]}),(0,c.jsx)(Ze,{className:"w-full py-3",disabled:o,onClick:b,children:o?(0,c.jsx)(ft,{size:24,className:"animate-spin text-white mx-auto"}):"Save changes"})]})})})},h0=m0;function Gm({isOpen:t,onClose:e,community:n}){const{addToast:s}=wt(),{currentUser:r}=Ge(),[a,o]=(0,g.useState)([]),[i,u]=(0,g.useState)(!1),[h,d]=(0,g.useState)(""),[l,f]=(0,g.useState)("members"),[m,p]=(0,g.useState)(!1),b=r?.id===n?.creatorId,x=(0,g.useCallback)(async(M="")=>{if(n?.id){u(!0),p(!0);try{o(await Yi(n.id,M))}catch(_){console.error("Failed to load members:",_),s("Failed to load members","error")}finally{u(!1)}}},[n?.id,s]);(0,g.useEffect)(()=>{t&&n?.id?x(""):(d(""),o([]),p(!1))},[t,n?.id,x]),(0,g.useEffect)(()=>{if(h.length>=2){const M=setTimeout(()=>{x(h)},500);return()=>clearTimeout(M)}else h.length===0&&m&&x("")},[h,x,m]);const v=async(M,_)=>{try{const D=_==="admin"?"member":"admin";await Xi(n.id,M,D),o(w=>w.map(y=>y.userId===M?{...y,role:D}:y)),s(`Role updated to ${D}`)}catch{s("Failed to update role","error")}},C=(0,g.useMemo)(()=>a.filter(M=>M.role==="admin"||M.userId===n.creatorId),[a,n.creatorId]),z=(0,g.useMemo)(()=>a.filter(M=>M.role!=="admin"&&M.userId!==n.creatorId),[a,n.creatorId]),S=M=>i?(0,c.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,c.jsx)(ft,{className:"animate-spin text-violet-500",size:32})}):M.length>0?(0,c.jsx)("div",{className:"divide-y divide-zinc-100 dark:divide-zinc-800/50",children:M.map(_=>(0,c.jsxs)("div",{className:"p-4 flex items-center justify-between hover:bg-white dark:hover:bg-zinc-800/50 transition-colors",children:[(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[(0,c.jsxs)(St,{className:"size-10 border border-zinc-200 dark:border-zinc-700 shadow-sm",children:[(0,c.jsx)(Nt,{src:_.user.avatar_url}),(0,c.jsx)(At,{children:_.user.username?.[0]?.toUpperCase()})]}),(0,c.jsxs)("div",{className:"flex flex-col min-w-0",children:[(0,c.jsxs)("div",{className:"flex items-center gap-1",children:[(0,c.jsx)("span",{className:"font-bold dark:text-zinc-200",children:_.user.name}),_.user.is_verified&&(0,c.jsx)(ma,{size:14,className:"text-blue-500"})]}),(0,c.jsxs)("span",{className:"text-xs text-zinc-500 font-medium",children:["@",_.user.username]})]})]}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[_.userId===n.creatorId?(0,c.jsx)("span",{className:"text-[10px] font-black px-3 py-1 bg-zinc-200 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-400 rounded-full tracking-wider",children:"OWNER"}):b&&(0,c.jsx)("button",{onClick:()=>v(_.userId,_.role),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full text-[11px] font-bold transition-all ${_.role==="admin"?"bg-rose-50 text-rose-600 hover:bg-rose-100 dark:bg-rose-950/20 dark:text-rose-400":"bg-zinc-100 text-zinc-600 hover:bg-zinc-200 dark:bg-zinc-800 dark:text-zinc-400 dark:hover:bg-zinc-700"}`,children:_.role==="admin"?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(to,{size:14}),"Admin"]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(Mn,{size:14}),"Make Admin"]})}),!b&&_.role==="admin"&&_.userId!==n.creatorId&&(0,c.jsx)("span",{className:"text-[10px] font-black px-3 py-1 bg-violet-50 dark:bg-violet-900/20 text-violet-600 dark:text-violet-400 rounded-full tracking-wider",children:"ADMIN"})]})]},_.userId))}):(0,c.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 text-center px-6",children:[(0,c.jsx)("div",{className:"size-12 rounded-full bg-zinc-100 dark:bg-zinc-800 flex items-center justify-center mb-3",children:(0,c.jsx)(Mn,{size:24,className:"text-zinc-400"})}),(0,c.jsxs)("p",{className:"text-sm font-bold dark:text-white",children:["No ",l," found"]}),(0,c.jsx)("p",{className:"text-xs text-zinc-500 mt-1",children:"Try a different search term"})]});return(0,c.jsx)(Pt,{isOpen:t,onClose:e,title:"Manage Members",className:"sm:max-w-md",children:(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)(Zr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400",size:18}),(0,c.jsx)("input",{type:"text",placeholder:"Search members...",className:"w-full bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl pl-10 pr-4 py-2.5 text-sm outline-none focus:ring-2 focus:ring-violet-500/20 focus:border-violet-500 transition-all font-medium",value:h,onChange:M=>d(M.target.value)})]}),(0,c.jsxs)(au,{value:l,onValueChange:f,className:"w-full",children:[(0,c.jsxs)(ou,{className:"w-full bg-zinc-100 dark:bg-zinc-900 p-1 rounded-xl h-11",children:[(0,c.jsxs)(Er,{value:"members",className:"flex-1 rounded-lg font-bold data-[state=active]:bg-white dark:data-[state=active]:bg-zinc-800 dark:text-zinc-400 dark:data-[state=active]:text-white",children:["Members (",z.length,")"]}),(0,c.jsxs)(Er,{value:"admins",className:"flex-1 rounded-lg font-bold data-[state=active]:bg-white dark:data-[state=active]:bg-zinc-800 dark:text-zinc-400 dark:data-[state=active]:text-white",children:["Admins (",C.length,")"]})]}),(0,c.jsxs)("div",{className:"mt-4 bg-zinc-50 dark:bg-zinc-900 rounded-2xl border border-zinc-100 dark:border-zinc-800 overflow-hidden min-h-[300px] max-h-[400px] overflow-y-auto",children:[(0,c.jsx)(Rr,{value:"members",className:"m-0",children:S(z)}),(0,c.jsx)(Rr,{value:"admins",className:"m-0",children:S(C)})]})]})]})})}var p0=ie(),g0=t=>{const e=(0,p0.c)(22),{isPostModalOpen:n,setIsPostModalOpen:s,isEditProfileOpen:r,setIsEditProfileOpen:a,isStoryModalOpen:o,setIsStoryModalOpen:i,editProfileData:u,setEditProfileData:h,postCommunity:d}=t;let l;e[0]!==s?(l=()=>s(!1),e[0]=s,e[1]=l):l=e[1];let f;e[2]!==n||e[3]!==d||e[4]!==l?(f=(0,c.jsx)(d0,{isOpen:n,onClose:l,initialCommunity:d}),e[2]=n,e[3]=d,e[4]=l,e[5]=f):f=e[5];let m;e[6]!==a?(m=()=>a(!1),e[6]=a,e[7]=m):m=e[7];let p;e[8]!==u||e[9]!==r||e[10]!==h||e[11]!==m?(p=(0,c.jsx)(h0,{isOpen:r,onClose:m,editProfileData:u,setEditProfileData:h}),e[8]=u,e[9]=r,e[10]=h,e[11]=m,e[12]=p):p=e[12];let b;e[13]!==i?(b=()=>i(!1),e[13]=i,e[14]=b):b=e[14];let x;e[15]!==o||e[16]!==b?(x=(0,c.jsx)(f0,{isOpen:o,onClose:b}),e[15]=o,e[16]=b,e[17]=x):x=e[17];let v;return e[18]!==f||e[19]!==p||e[20]!==x?(v=(0,c.jsxs)(c.Fragment,{children:[f,p,x]}),e[18]=f,e[19]=p,e[20]=x,e[21]=v):v=e[21],v},v0=g0,b0=ie(),x0=t=>{const e=(0,b0.c)(91),{story:n,onClose:s}=t,[r,a]=(0,g.useState)(0),[o,i]=(0,g.useState)(0),[u,h]=(0,g.useState)(!1),d=n.stories,l=d[r];let f;e[0]!==r||e[1]!==s||e[2]!==d.length||e[3]!==n.user.id?(f=()=>{r<d.length-1?(a(w0),i(0)):s(n.user.id)},e[0]=r,e[1]=s,e[2]=d.length,e[3]=n.user.id,e[4]=f):f=e[4];const m=f;let p;e[5]!==r?(p=()=>{r>0&&(a(j0),i(0))},e[5]=r,e[6]=p):p=e[6];const b=p;let x;e[7]===Symbol.for("react.memo_cache_sentinel")?(x=J=>{J.stopPropagation(),h(k0)},e[7]=x):x=e[7];const v=x;let C;e[8]!==m||e[9]!==u?(C=()=>{if(u)return;const J=setInterval(()=>{i(G=>G>=100?(m(),100):G+1)},50);return()=>clearInterval(J)},e[8]=m,e[9]=u,e[10]=C):C=e[10];let z;e[11]!==r||e[12]!==m||e[13]!==u?(z=[m,r,u],e[11]=r,e[12]=m,e[13]=u,e[14]=z):z=e[14],(0,g.useEffect)(C,z);let S;if(e[15]!==r||e[16]!==o||e[17]!==d){let J;e[19]!==r||e[20]!==o?(J=(G,ne)=>(0,c.jsx)("div",{className:"flex-1 h-full bg-white/30 rounded-full overflow-hidden",children:(0,c.jsx)("div",{className:"h-full bg-white transition-all duration-100",style:{width:ne<r?"100%":ne===r?`${o}%`:"0%"}})},ne),e[19]=r,e[20]=o,e[21]=J):J=e[21],S=d.map(J),e[15]=r,e[16]=o,e[17]=d,e[18]=S}else S=e[18];let M;e[22]!==S?(M=(0,c.jsx)("div",{className:"flex gap-1.5 h-0.5 w-full bg-transparent",children:S}),e[22]=S,e[23]=M):M=e[23];const _=`/u/${n.user.handle}`;let D;e[24]!==n.user.avatar||e[25]!==n.user.handle?(D=(0,c.jsx)(Nt,{src:n.user.avatar,alt:n.user.handle,className:"object-cover"}),e[24]=n.user.avatar,e[25]=n.user.handle,e[26]=D):D=e[26];let w;e[27]!==n.user.handle?.[0]?(w=n.user.handle?.[0]?.toUpperCase(),e[27]=n.user.handle?.[0],e[28]=w):w=e[28];let y;e[29]!==w?(y=(0,c.jsx)(At,{children:w}),e[29]=w,e[30]=y):y=e[30];let A;e[31]!==y||e[32]!==D?(A=(0,c.jsxs)(St,{className:"size-10 border border-white/20 shadow-sm",children:[D,y]}),e[31]=y,e[32]=D,e[33]=A):A=e[33];let R;e[34]!==n.user.handle?(R=(0,c.jsx)("span",{className:"text-white text-sm font-bold shadow-black drop-shadow-md",children:n.user.handle}),e[34]=n.user.handle,e[35]=R):R=e[35];let E;e[36]!==l.created_at?(E=new Date(l.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),e[36]=l.created_at,e[37]=E):E=e[37];let I;e[38]!==E?(I=(0,c.jsx)("span",{className:"text-white/60 text-[10px] shadow-black drop-shadow-md",children:E}),e[38]=E,e[39]=I):I=e[39];let N;e[40]!==R||e[41]!==I?(N=(0,c.jsxs)("div",{className:"flex flex-col",children:[R,I]}),e[40]=R,e[41]=I,e[42]=N):N=e[42];let L;e[43]!==A||e[44]!==N||e[45]!==_?(L=(0,c.jsxs)(Qr,{to:_,className:"flex items-center gap-3 hover:opacity-80 transition-opacity",onClick:_0,children:[A,N]}),e[43]=A,e[44]=N,e[45]=_,e[46]=L):L=e[46];let j;e[47]!==s||e[48]!==n.user.id?(j=()=>s(n.user.id),e[47]=s,e[48]=n.user.id,e[49]=j):j=e[49];let k;e[50]===Symbol.for("react.memo_cache_sentinel")?(k=(0,c.jsx)(Dt,{size:24}),e[50]=k):k=e[50];let P;e[51]!==j?(P=(0,c.jsx)("button",{onClick:j,className:"text-white p-2 hover:bg-white/10 rounded-full transition-colors",children:k}),e[51]=j,e[52]=P):P=e[52];let T;e[53]!==L||e[54]!==P?(T=(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[L,P]}),e[53]=L,e[54]=P,e[55]=T):T=e[55];let F;e[56]!==T||e[57]!==M?(F=(0,c.jsxs)("div",{className:"absolute top-0 left-0 right-0 p-4 z-20 flex flex-col gap-4",children:[M,T]}),e[56]=T,e[57]=M,e[58]=F):F=e[58];let q;e[59]!==r||e[60]!==b?(q=r>0&&(0,c.jsx)("button",{onClick:J=>{J.stopPropagation(),b()},className:"absolute left-4 z-30 p-2 bg-black/20 hover:bg-black/40 rounded-full text-white backdrop-blur-md transition-all active:scale-90",children:(0,c.jsx)(as,{size:32})}),e[59]=r,e[60]=b,e[61]=q):q=e[61];let H;e[62]!==l.id||e[63]!==l.media?(H=(0,c.jsx)("img",{src:l.media,className:"max-w-full max-h-full object-contain rounded-xl shadow-2xl animate-in fade-in zoom-in-95 duration-300",alt:""},l.id),e[62]=l.id,e[63]=l.media,e[64]=H):H=e[64];let B;e[65]!==u?(B=u&&(0,c.jsx)("div",{className:"absolute inset-0 z-10 flex items-center justify-center pointer-events-none",children:(0,c.jsx)("div",{className:"px-4 py-2 bg-black/40 rounded-full text-white text-xs font-bold backdrop-blur-md border border-white/10 animate-in fade-in zoom-in duration-200",children:"PAUSED"})}),e[65]=u,e[66]=B):B=e[66];let U;e[67]!==H||e[68]!==B?(U=(0,c.jsxs)("div",{className:"relative w-full h-full flex items-center justify-center",children:[H,B]}),e[67]=H,e[68]=B,e[69]=U):U=e[69];let O;e[70]!==m?(O=J=>{J.stopPropagation(),m()},e[70]=m,e[71]=O):O=e[71];let V;e[72]===Symbol.for("react.memo_cache_sentinel")?(V=(0,c.jsx)($r,{size:32}),e[72]=V):V=e[72];let Z;e[73]!==O?(Z=(0,c.jsx)("button",{onClick:O,className:"absolute right-4 z-30 p-2 bg-black/20 hover:bg-black/40 rounded-full text-white backdrop-blur-md transition-all active:scale-90",children:V}),e[73]=O,e[74]=Z):Z=e[74];let X;e[75]!==b?(X=(0,c.jsx)("div",{className:"w-[30%] cursor-w-resize",onClick:b}),e[75]=b,e[76]=X):X=e[76];let W;e[77]===Symbol.for("react.memo_cache_sentinel")?(W=(0,c.jsx)("div",{className:"w-[40%] cursor-pointer flex items-center justify-center",onClick:v}),e[77]=W):W=e[77];let ee;e[78]!==m?(ee=(0,c.jsx)("div",{className:"w-[30%] cursor-e-resize",onClick:m}),e[78]=m,e[79]=ee):ee=e[79];let K;e[80]!==X||e[81]!==ee?(K=(0,c.jsxs)("div",{className:"absolute inset-0 flex z-20",children:[X,W,ee]}),e[80]=X,e[81]=ee,e[82]=K):K=e[82];let Q;e[83]!==q||e[84]!==U||e[85]!==Z||e[86]!==K?(Q=(0,c.jsxs)("div",{className:"w-full h-full max-w-xl relative flex items-center justify-center p-2",children:[q,U,Z,K]}),e[83]=q,e[84]=U,e[85]=Z,e[86]=K,e[87]=Q):Q=e[87];let te;return e[88]!==F||e[89]!==Q?(te=(0,c.jsxs)("div",{className:"fixed inset-0 z-[100] bg-black flex flex-col items-center justify-center animate-in fade-in duration-300",children:[F,Q]}),e[88]=F,e[89]=Q,e[90]=te):te=e[90],te},y0=x0;function w0(t){return t+1}function j0(t){return t-1}function k0(t){return!t}function _0(t){return t.stopPropagation()}var C0=({type:t,onComplete:e,onSwitch:n})=>{const{login:s,signup:r}=Ge(),{addToast:a}=wt(),[o,i]=(0,g.useState)({name:"",email:"",username:"",password:""}),[u,h]=(0,g.useState)(!1),[d,l]=(0,g.useState)(null),f=async m=>{m.preventDefault(),h(!0),l(null);try{t==="login"?(await s({email:o.email,password:o.password}),a("Welcome back!"),e()):(await r({email:o.email,password:o.password,username:o.username,name:o.name}),a("Confirm Your Email","info"),n())}catch(p){console.error("Auth error:",p),l(p.message||"Authentication failed. Please check your credentials."),a("Authentication failed!")}finally{h(!1)}};return(0,c.jsxs)("div",{className:"max-w-md mx-auto p-8 w-full animate-in fade-in slide-in-from-bottom-5 duration-300",children:[(0,c.jsxs)("div",{className:"text-center mb-8",children:[(0,c.jsx)("div",{className:"flex justify-center mb-4",children:(0,c.jsx)("div",{className:"bg-black dark:bg-white dark:text-black text-white p-3 rounded-2xl shadow-lg",children:(0,c.jsx)("img",{src:"/logo.webp",alt:"Logo",className:"size-16 rounded-2xl shadow-xl border-2 border-zinc-100 dark:border-zinc-800"})})}),(0,c.jsx)("h2",{className:"text-3xl font-extrabold mb-2 dark:text-white tracking-tight",children:t==="login"?"Welcome back!":"Join Sysm today"}),(0,c.jsx)("p",{className:"text-zinc-500 font-medium",children:"The decentralized social network"})]}),d&&(0,c.jsxs)("div",{className:"mb-6 p-4 bg-rose-50 dark:bg-rose-900/20 border border-rose-100 dark:border-rose-800 rounded-xl flex items-center gap-3 text-rose-600 dark:text-rose-400 text-sm",children:[(0,c.jsx)(is,{size:18}),(0,c.jsx)("span",{children:d})]}),(0,c.jsxs)("form",{onSubmit:f,className:"space-y-4",children:[(0,c.jsx)(bt,{label:"Email",type:"email",placeholder:"john@example.com",value:o.email,onChange:m=>i({...o,email:m.target.value}),required:!0}),t==="signup"&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(bt,{label:"Name",placeholder:"John Doe",value:o.name,onChange:m=>i({...o,name:m.target.value}),required:!0}),(0,c.jsx)(bt,{label:"Username",placeholder:"johndoe",value:o.username,onChange:m=>{const p=m.target.value.replace(/[^a-zA-Z0-9_]/g,"");i({...o,username:p})},required:!0})]}),(0,c.jsx)(bt,{label:"Password",type:"password",placeholder:"",value:o.password,onChange:m=>i({...o,password:m.target.value}),required:!0}),(0,c.jsx)(Ze,{type:"submit",className:"w-full justify-center py-3 mt-6 text-lg",disabled:u,children:u?(0,c.jsx)(ft,{size:24,className:"animate-spin"}):t==="login"?"Log in":"Sign up"})]}),(0,c.jsxs)("div",{className:"mt-8 text-center text-sm",children:[(0,c.jsx)("span",{className:"text-zinc-500",children:t==="login"?"Don't have an account?":"Already have an account?"}),(0,c.jsx)("button",{onClick:n,className:"font-bold ml-1 hover:underline dark:text-white",children:t==="login"?"Sign up":"Log in"})]})]})},S0=C0,Pa=ie(),N0=(0,g.lazy)(()=>ut(()=>import("./Home-Dcf1l2il.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),A0=(0,g.lazy)(()=>ut(()=>import("./Explore-xGRn4dRb.js"),__vite__mapDeps([11,1,2,3,4,5,6,7,8,9,10]))),z0=(0,g.lazy)(()=>ut(()=>import("./Reels-BHXgEryH.js"),__vite__mapDeps([12,1,2,3,4,5,6,7,8,9,10]))),Yr=(0,g.lazy)(()=>ut(()=>import("./Messages-D8gKbG8O.js"),__vite__mapDeps([13,1,2,3,4,5,6,7,10,9]))),E0=(0,g.lazy)(()=>ut(()=>import("./Notifications-Bn2aNkyN.js"),__vite__mapDeps([14,1,2,3,4,5,6,10,9]))),R0=(0,g.lazy)(()=>ut(()=>import("./Profile-BM_-0tb-.js"),__vite__mapDeps([15,1,2,3,4,5,6,7,8,9,10]))),I0=(0,g.lazy)(()=>ut(()=>import("./Community-7Mztjetr.js"),__vite__mapDeps([16,1,2,3,4,5,6,7,8,9,10]))),M0=(0,g.lazy)(()=>ut(()=>import("./PostDetails-CKvRAPHR.js"),__vite__mapDeps([17,1,2,3,4,5,6,7,8,9,10]))),D0=(0,g.lazy)(()=>ut(()=>import("./Settings-Co5DowLd.js"),__vite__mapDeps([18,1,2,3,4,5,6,10,9]))),T0=(0,g.lazy)(()=>ut(()=>import("./HashtagFeed-lXITIgK7.js"),__vite__mapDeps([19,1,2,3,4,5,6,7,8,9,10]))),P0=()=>{const t=(0,Pa.c)(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,c.jsx)("div",{className:"flex h-screen w-full items-center justify-center",children:(0,c.jsx)(ft,{size:40,className:"animate-spin text-violet-500"})}),t[0]=e):e=t[0],e};function L0(){const t=(0,Pa.c)(55),e=gn(),{currentUser:n,authMode:s,setAuthMode:r}=Ge(),{darkMode:a}=Vn(),{isOpen:o,images:i,currentIndex:u,closeLightbox:h,setIndex:d}=nc(),[l,f]=(0,g.useState)(!1),[m,p]=(0,g.useState)(!1),[b,x]=(0,g.useState)(!1);let v;t[0]===Symbol.for("react.memo_cache_sentinel")?(v={},t[0]=v):v=t[0];const[C,z]=(0,g.useState)(v),[S,M]=(0,g.useState)(null),[_,D]=(0,g.useState)(null);if(s){const K=a?"dark":"";let Q;t[1]!==r?(Q=()=>r(null),t[1]=r,t[2]=Q):Q=t[2];let te;t[3]!==s||t[4]!==r?(te=()=>r(s==="login"?"signup":"login"),t[3]=s,t[4]=r,t[5]=te):te=t[5];let J;t[6]!==s||t[7]!==Q||t[8]!==te?(J=(0,c.jsx)("div",{className:"min-h-screen bg-white dark:bg-black flex items-center justify-center p-4",children:(0,c.jsx)(et,{children:(0,c.jsx)(S0,{type:s,onComplete:Q,onSwitch:te})})}),t[6]=s,t[7]=Q,t[8]=te,t[9]=J):J=t[9];let G;return t[10]!==K||t[11]!==J?(G=(0,c.jsx)("div",{className:K,children:J}),t[10]=K,t[11]=J,t[12]=G):G=t[12],G}let w;t[13]===Symbol.for("react.memo_cache_sentinel")?(w=(0,c.jsx)(vi,{}),t[13]=w):w=t[13];let y;t[14]===Symbol.for("react.memo_cache_sentinel")?(y=(0,c.jsx)(P0,{}),t[14]=y):y=t[14];let A;t[15]===Symbol.for("react.memo_cache_sentinel")?(A=(0,c.jsx)(vc,{onPostClick:()=>f(!0)}),t[15]=A):A=t[15];let R;t[16]===Symbol.for("react.memo_cache_sentinel")?(R=(0,c.jsx)(We,{path:"/",element:(0,c.jsx)(et,{children:(0,c.jsx)(N0,{onStoryClick:D,onAddStory:()=>x(!0)})})}),t[16]=R):R=t[16];let E;t[17]===Symbol.for("react.memo_cache_sentinel")?(E=(0,c.jsx)(We,{path:"/home",element:(0,c.jsx)(ir,{to:"/",replace:!0})}),t[17]=E):E=t[17];let I;t[18]===Symbol.for("react.memo_cache_sentinel")?(I=(0,c.jsx)(We,{path:"/community",element:(0,c.jsx)(et,{children:(0,c.jsx)(A0,{})})}),t[18]=I):I=t[18];let N;t[19]===Symbol.for("react.memo_cache_sentinel")?(N=(0,c.jsx)(We,{path:"/reels",element:(0,c.jsx)(et,{children:(0,c.jsx)(z0,{})})}),t[19]=N):N=t[19];let L;t[20]===Symbol.for("react.memo_cache_sentinel")?(L=(0,c.jsx)(We,{path:"/messages",element:(0,c.jsx)(et,{children:(0,c.jsx)(Yr,{})})}),t[20]=L):L=t[20];let j;t[21]===Symbol.for("react.memo_cache_sentinel")?(j=(0,c.jsx)(We,{path:"/settings",element:(0,c.jsx)(et,{children:(0,c.jsx)(D0,{})})}),t[21]=j):j=t[21];let k;t[22]===Symbol.for("react.memo_cache_sentinel")?(k=(0,c.jsx)(We,{path:"/messages/:id",element:(0,c.jsx)(et,{children:(0,c.jsx)(Yr,{})})}),t[22]=k):k=t[22];let P;t[23]===Symbol.for("react.memo_cache_sentinel")?(P=(0,c.jsx)(We,{path:"/notifications",element:(0,c.jsx)(et,{children:(0,c.jsx)(E0,{})})}),t[23]=P):P=t[23];let T;t[24]===Symbol.for("react.memo_cache_sentinel")?(T=(0,c.jsx)(We,{path:"/post/:id",element:(0,c.jsx)(et,{children:(0,c.jsx)(M0,{})})}),t[24]=T):T=t[24];let F;t[25]===Symbol.for("react.memo_cache_sentinel")?(F=(0,c.jsx)(We,{path:"/c/:handle",element:(0,c.jsx)(et,{children:(0,c.jsx)(I0,{onPostInCommunity:K=>{M(K),f(!0)}})})}),t[25]=F):F=t[25];let q;t[26]===Symbol.for("react.memo_cache_sentinel")?(q=(0,c.jsx)(We,{path:"/tags/:tag",element:(0,c.jsx)(et,{children:(0,c.jsx)(T0,{})})}),t[26]=q):q=t[26];let H;t[27]===Symbol.for("react.memo_cache_sentinel")?(H=(0,c.jsx)(We,{path:"/u/:handle",element:(0,c.jsx)(et,{children:(0,c.jsx)(R0,{onEditProfile:K=>{z(K),p(!0)}})})}),t[27]=H):H=t[27];let B;t[28]===Symbol.for("react.memo_cache_sentinel")?(B=(0,c.jsxs)(We,{element:A,children:[R,E,I,N,L,j,k,P,T,F,q,H,(0,c.jsx)(We,{path:"*",element:(0,c.jsx)(ir,{to:"/community"})})]}),t[28]=B):B=t[28];let U;t[29]!==e?(U=(0,c.jsx)(g.Suspense,{fallback:y,children:(0,c.jsx)(Fa,{location:e,children:B},e.pathname)}),t[29]=e,t[30]=U):U=t[30];let O;t[31]===Symbol.for("react.memo_cache_sentinel")?(O=K=>{f(K),K||M(null)},t[31]=O):O=t[31];let V;t[32]!==C||t[33]!==m||t[34]!==l||t[35]!==b||t[36]!==S?(V=(0,c.jsx)(v0,{isPostModalOpen:l,setIsPostModalOpen:O,isEditProfileOpen:m,setIsEditProfileOpen:p,isStoryModalOpen:b,setIsStoryModalOpen:x,editProfileData:C,setEditProfileData:z,postCommunity:S}),t[32]=C,t[33]=m,t[34]=l,t[35]=b,t[36]=S,t[37]=V):V=t[37];let Z;t[38]!==_?(Z=_&&(0,c.jsx)(y0,{story:_,onClose:K=>{if(K){const Q=JSON.parse(localStorage.getItem("seenStories")||"[]");Q.includes(K)||localStorage.setItem("seenStories",JSON.stringify([...Q,K]))}D(null)}}),t[38]=_,t[39]=Z):Z=t[39];let X;t[40]!==h||t[41]!==u||t[42]!==i||t[43]!==o||t[44]!==d?(X=o&&(0,c.jsx)(Dd,{images:i,currentIndex:u,onClose:h,onNavigate:d}),t[40]=h,t[41]=u,t[42]=i,t[43]=o,t[44]=d,t[45]=X):X=t[45];let W;t[46]!==n||t[47]!==e.pathname?(W=n&&e.pathname==="/"&&(0,c.jsx)("button",{onClick:()=>f(!0),className:"fixed bottom-20 right-5 md:hidden z-50 bg-zinc-950 dark:bg-white text-white dark:text-zinc-950 size-12 rounded-full flex items-center justify-center shadow-2xl hover:scale-110 active:scale-90 transition-all cursor-pointer group",title:"Create Post",children:(0,c.jsx)(Vt,{size:28,className:"group-hover:rotate-90 transition-transform duration-300"})}),t[46]=n,t[47]=e.pathname,t[48]=W):W=t[48];let ee;return t[49]!==U||t[50]!==V||t[51]!==Z||t[52]!==X||t[53]!==W?(ee=(0,c.jsxs)(ac,{children:[w,U,V,Z,X,W]}),t[49]=U,t[50]=V,t[51]=Z,t[52]=X,t[53]=W,t[54]=ee):ee=t[54],ee}var F0=new Ya;(0,mi.createRoot)(document.getElementById("root")).render((0,c.jsx)(g.StrictMode,{children:(0,c.jsx)(Xa,{client:F0,children:(0,c.jsx)(Ua,{children:(0,c.jsx)(ul,{children:(0,c.jsx)(ol,{children:(0,c.jsx)(ll,{children:(0,c.jsx)(Gl,{children:(0,c.jsx)(Zl,{children:(0,c.jsx)(tc,{children:(0,c.jsx)(L0,{})})})})})})})})})}));export{wm as $,Lm as A,Z0 as At,Ic as B,Ci as Bt,Hm as C,lm as Ct,Fm as D,rm as Dt,Yd as E,tm as Et,Mm as F,nm as Ft,Rm as G,Y as Gt,Am as H,us as Ht,Rc as I,Si as It,bm as J,Nm as K,Mc as L,Q0 as Lt,Dm as M,om as Mt,Pt as N,sm as Nt,Wd as O,G0 as Ot,bt as P,em as Pt,km as Q,mr as R,K0 as Rt,Kd as S,dm as St,Om as T,$0 as Tt,zm as U,V0 as Ut,Sm as V,Y0 as Vt,Em as W,tn as Wt,Cm as X,_m as Y,xm as Z,Bm as _,mm as _t,fu as a,Ds as at,Zd as b,um as bt,Xm as c,$l as ct,Vm as d,cl as dt,ym as et,qm as f,Ge as ft,Er as g,fm as gt,ou as h,Bi as ht,uu as i,Nt as it,Pm as j,J0 as jt,Tm as k,am as kt,Ym as l,wt as lt,Rr as m,pm as mt,Jm as n,St as nt,mu as o,vm as ot,au as p,Ct as pt,Ze as q,Zm as r,At as rt,Qm as s,nc as st,Gm as t,jm as tt,ma as u,Vn as ut,nu as v,hm as vt,zr as w,im as wt,Gd as x,cm as xt,Um as y,Hi as yt,Im as z,X0 as zt};
