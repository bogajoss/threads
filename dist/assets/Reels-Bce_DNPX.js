import{a as W}from"./rolldown-runtime-BaZ8gS7u.js";import{s as I}from"./animations-DZuN0xpW.js";import{c as $}from"./framework-YRQI4BOE.js";import"./database-Bh-Nv8Zy.js";import{Mt as T,ar as q,fr as A,jt as B,nr as G}from"./ui-libs-Cxlst_z9.js";import"./media-libs-CqtNZWFg.js";import{G as C,a as L}from"./index-Bu7l9gB1.js";import"./VideoPlayer-Cl1DIA5V.js";import{t as P}from"./post-D3YPE0ne.js";import"./text-processing-COMFTedg.js";import"./rich-text-D8HWpDCV.js";import"./actionsheet-ngQY3KpG.js";var U=$(),t=W(I(),1),V=()=>{const e=(0,U.c)(41),{reels:a,loading:S,loadingMore:_,activeReelId:v,isMuted:r,containerRef:N,setReelRef:y,navigate:i,toggleMute:o,scrollToNext:R,scrollToPrev:z}=L();if(S){let l;return e[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)("div",{className:"flex h-[100dvh] w-full items-center justify-center bg-black",children:(0,t.jsx)(C,{})}),e[0]=l):l=e[0],l}if(a.length===0){let l;e[1]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)("p",{className:"text-zinc-500",children:"No reels found."}),e[1]=l):l=e[1];let s;return e[2]!==i?(s=(0,t.jsxs)("div",{className:"flex h-[100dvh] w-full flex-col items-center justify-center gap-4 bg-black text-white",children:[l,(0,t.jsx)("button",{onClick:()=>i(-1),className:"rounded-full bg-white px-4 py-2 text-sm font-bold text-black",children:"Go Back"})]}),e[2]=i,e[3]=s):s=e[3],s}let n;e[4]!==i?(n=()=>i(-1),e[4]=i,e[5]=n):n=e[5];let k;e[6]===Symbol.for("react.memo_cache_sentinel")?(k=(0,t.jsx)(A,{size:24,strokeWidth:2.5}),e[6]=k):k=e[6];let c;e[7]!==n?(c=(0,t.jsx)("button",{onClick:n,className:"absolute left-6 top-[max(1.5rem,env(safe-area-inset-top)+1.5rem)] z-50 rounded-full border border-white/10 bg-black/20 p-2.5 text-white shadow-xl backdrop-blur-md transition-all hover:bg-black/40 active:scale-90",title:"Back",children:k}),e[7]=n,e[8]=c):c=e[8];const M=r?"Unmute":"Mute";let d;e[9]!==r?(d=r?(0,t.jsx)(B,{size:24,strokeWidth:2.5}):(0,t.jsx)(T,{size:24,strokeWidth:2.5}),e[9]=r,e[10]=d):d=e[10];let m;e[11]!==M||e[12]!==d||e[13]!==o?(m=(0,t.jsx)("button",{onClick:o,className:"absolute right-6 top-[max(1.5rem,env(safe-area-inset-top)+1.5rem)] z-50 rounded-full border border-white/10 bg-black/20 p-2.5 text-white shadow-xl backdrop-blur-md transition-all hover:bg-black/40 active:scale-90",title:M,children:d}),e[11]=M,e[12]=d,e[13]=o,e[14]=m):m=e[14];let g;e[15]===Symbol.for("react.memo_cache_sentinel")?(g=(0,t.jsx)(G,{size:28,strokeWidth:3,className:"transition-transform group-hover:-translate-y-0.5"}),e[15]=g):g=e[15];let f;e[16]!==z?(f=(0,t.jsx)("button",{onClick:z,className:"group rounded-full border border-white/10 bg-black/20 p-3 text-white shadow-xl backdrop-blur-md transition-all hover:bg-black/40 active:scale-90",title:"Previous Reel",children:g}),e[16]=z,e[17]=f):f=e[17];let j;e[18]===Symbol.for("react.memo_cache_sentinel")?(j=(0,t.jsx)(q,{size:28,strokeWidth:3,className:"transition-transform group-hover:translate-y-0.5"}),e[18]=j):j=e[18];let h;e[19]!==R?(h=(0,t.jsx)("button",{onClick:R,className:"group rounded-full border border-white/10 bg-black/20 p-3 text-white shadow-xl backdrop-blur-md transition-all hover:bg-black/40 active:scale-90",title:"Next Reel",children:j}),e[19]=R,e[20]=h):h=e[20];let u;e[21]!==f||e[22]!==h?(u=(0,t.jsxs)("div",{className:"absolute right-6 top-1/2 z-50 hidden -translate-y-1/2 flex-col gap-4 md:flex",children:[f,h]}),e[21]=f,e[22]=h,e[23]=u):u=e[23];let b;e[24]!==v||e[25]!==r||e[26]!==a||e[27]!==y||e[28]!==o?(b=a.map(l=>(0,t.jsx)("div",{ref:s=>y(l.id,s),"data-id":l.id,className:"snap-start snap-always h-full w-full",children:(0,t.jsx)(P,{reel:l,isActive:v===l.id,isMuted:r,onToggleMute:o,shouldLoad:Math.abs(a.findIndex(s=>s.id===v)-a.findIndex(s=>s.id===l.id))<=1})},l.feed_id||l.id)),e[24]=v,e[25]=r,e[26]=a,e[27]=y,e[28]=o,e[29]=b):b=e[29];let x;e[30]!==_?(x=_&&(0,t.jsx)("div",{className:"flex h-[100dvh] w-full snap-start items-center justify-center bg-black",children:(0,t.jsx)(C,{})}),e[30]=_,e[31]=x):x=e[31];let p;e[32]!==N||e[33]!==b||e[34]!==x?(p=(0,t.jsxs)("div",{ref:N,className:"no-scrollbar h-full w-full snap-y snap-mandatory overflow-y-auto",children:[b,x]}),e[32]=N,e[33]=b,e[34]=x,e[35]=p):p=e[35];let w;return e[36]!==u||e[37]!==p||e[38]!==c||e[39]!==m?(w=(0,t.jsxs)("div",{className:"relative h-[100dvh] w-full overflow-hidden bg-black md:rounded-xl",children:[c,m,u,p]}),e[36]=u,e[37]=p,e[38]=c,e[39]=m,e[40]=w):w=e[40],w},te=V;export{te as default};
