import{a as x}from"./rolldown-runtime-BaZ8gS7u.js";import{l as v,v as N,w as y}from"./framework-3lkjbTvb.js";import"./database-COznt_u0.js";import{$n as z,Sn as P,tr as S}from"./ui-libs-DgV3EAwD.js";import"./media-libs-C98UjHPF.js";import{Gn as _,Wt as m,a as C,fn as k,un as R,yt as u}from"./index-Jrubt9m3.js";var t=x(y(),1),e=x(v(),1),A=()=>{const l=N(),{resetPassword:h}=k(),{addToast:d}=R(),[a,f]=(0,t.useState)(""),[i,b]=(0,t.useState)(""),[p,o]=(0,t.useState)(!1),[n,r]=(0,t.useState)(null),[w,g]=(0,t.useState)(!1);(0,t.useEffect)(()=>{_.auth.onAuthStateChange(async s=>{})},[]);const j=async s=>{if(s.preventDefault(),a!==i){r("Passwords do not match");return}if(a.length<6){r("Password must be at least 6 characters");return}o(!0),r(null);try{await h(a),g(!0),d("Password updated successfully!"),setTimeout(()=>l("/login"),3e3)}catch(c){console.error("Reset password error:",c),r(c.message||"Failed to update password."),d("Failed to update password","error")}finally{o(!1)}};return(0,e.jsxs)("div",{className:"relative flex min-h-screen items-center justify-center overflow-hidden bg-zinc-950 p-4",children:[(0,e.jsxs)("div",{className:"absolute inset-0 z-0",children:[(0,e.jsx)("div",{className:"absolute -left-[5%] top-[10%] h-[60%] w-[60%] rounded-full bg-emerald-600/10 blur-[140px]"}),(0,e.jsx)("div",{className:"absolute -right-[5%] bottom-[10%] h-[60%] w-[60%] rounded-full bg-violet-600/10 blur-[140px]"})]}),(0,e.jsx)(C,{children:(0,e.jsx)("div",{className:"relative z-10 mx-auto w-full max-w-md animate-in fade-in slide-in-from-bottom-5 duration-500",children:(0,e.jsx)("div",{className:"overflow-hidden rounded-[2.5rem] border border-white/10 bg-zinc-900/40 p-1 shadow-2xl backdrop-blur-2xl",children:(0,e.jsxs)("div",{className:"rounded-[2.4rem] bg-gradient-to-b from-white/[0.08] to-transparent p-8 md:p-10",children:[(0,e.jsxs)("div",{className:"mb-10 text-center",children:[(0,e.jsx)("div",{className:"mb-6 flex justify-center",children:(0,e.jsxs)("div",{className:"relative",children:[(0,e.jsx)("div",{className:"absolute inset-0 scale-150 bg-emerald-500/20 blur-2xl rounded-full"}),(0,e.jsx)("div",{className:"relative flex size-20 items-center justify-center rounded-3xl bg-gradient-to-br from-emerald-500 to-emerald-700 p-4 shadow-xl shadow-emerald-500/20 text-white",children:(0,e.jsx)(P,{size:40,strokeWidth:1.5})})]})}),(0,e.jsx)("h2",{className:"mb-3 text-3xl font-black tracking-tight text-white md:text-4xl",children:"New Password"}),(0,e.jsx)("p",{className:"font-medium text-zinc-400",children:"Create a secure password for your account."})]}),w?(0,e.jsxs)("div",{className:"space-y-6 animate-in zoom-in-95 duration-500",children:[(0,e.jsxs)("div",{className:"flex flex-col items-center gap-4 rounded-3xl bg-emerald-500/10 p-8 border border-emerald-500/20 text-emerald-400 text-center",children:[(0,e.jsx)("div",{className:"flex size-16 items-center justify-center rounded-full bg-emerald-500/20 shadow-inner",children:(0,e.jsx)(z,{size:32})}),(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"mb-2 font-black text-xl text-white",children:"Password Updated"}),(0,e.jsx)("p",{className:"text-sm text-zinc-400 italic",children:"Redirecting you to login..."})]})]}),(0,e.jsx)(m,{className:"w-full rounded-2xl bg-white py-6 text-lg font-bold text-black hover:bg-zinc-200 shadow-xl",onClick:()=>l("/login"),children:"Go to Login"})]}):(0,e.jsxs)("form",{onSubmit:j,className:"space-y-6",children:[(0,e.jsxs)("div",{className:"space-y-5",children:[(0,e.jsx)(u,{label:"New Password",type:"password",placeholder:"••••••••",value:a,onChange:s=>f(s.target.value),className:"h-14 rounded-2xl border-white/10 bg-white/5 px-6 text-white placeholder:text-zinc-600 focus:border-emerald-500 focus:bg-white/[0.08]",required:!0}),(0,e.jsx)(u,{label:"Confirm Password",type:"password",placeholder:"••••••••",value:i,onChange:s=>b(s.target.value),className:"h-14 rounded-2xl border-white/10 bg-white/5 px-6 text-white placeholder:text-zinc-600 focus:border-emerald-500 focus:bg-white/[0.08]",required:!0})]}),n&&(0,e.jsxs)("div",{className:"flex items-center gap-3 rounded-2xl bg-rose-500/10 p-4 text-sm text-rose-400 border border-rose-500/20 animate-in slide-in-from-top-2",children:[(0,e.jsx)(S,{size:18}),(0,e.jsx)("span",{className:"font-medium",children:n})]}),(0,e.jsx)(m,{type:"submit",className:"w-full rounded-2xl bg-white py-6 text-lg font-bold text-black hover:bg-zinc-200 shadow-xl",loading:p,children:"Update Password"})]}),(0,e.jsx)("div",{className:"mt-10 pt-8 text-center border-t border-white/5",children:(0,e.jsx)("p",{className:"text-xs font-medium text-zinc-500 italic",children:"After resetting, you will be automatically redirected to the login page."})})]})})})})]})},F=A;export{F as default};
