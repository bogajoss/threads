import{a as _}from"./rolldown-runtime-BaZ8gS7u.js";import{o as v}from"./animations-pEILWrFP.js";import{c as g}from"./framework-di2JoXyY.js";import"./database-CdmW3A7f.js";import{Pn as j,sr as y}from"./ui-libs-yzUERV1o.js";import"./media-libs-D2H42K39.js";import{j as z,q as w}from"./index-OUPBS7yD.js";import"./VideoPlayer-DB4_Iv-8.js";import{n as N}from"./post-DtM85zIN.js";import"./text-processing-C3TjCoM3.js";import"./linkify-FEcu8M-7.js";import{r as P}from"./hooks-BI5Rwf2N.js";var D=g(),r=_(v(),1),S=()=>{const e=(0,D.c)(22),{post:o,isLoading:x,isError:k,currentUser:b,navigate:f,handleUserClick:h,handleDelete:u,handleUpdate:p}=P();if(x){let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)("div",{className:"min-h-screen overflow-hidden rounded-none border-y border-zinc-100 bg-white dark:border-zinc-800 dark:bg-black md:rounded-xl md:border",children:(0,r.jsx)(z,{})}),e[0]=t):t=e[0],t}if(k||!o){let t;return e[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)("div",{className:"flex min-h-[600px] items-center justify-center overflow-hidden rounded-none bg-white dark:bg-black md:rounded-xl",children:(0,r.jsx)(w,{title:"Post not found",message:"The post you are looking for doesn't exist. It may have been deleted by the author.",icon:j})}),e[1]=t):t=e[1],t}let i;e[2]!==f?(i=()=>f(-1),e[2]=f,e[3]=i):i=e[3];let a;e[4]===Symbol.for("react.memo_cache_sentinel")?(a=(0,r.jsx)(y,{size:20,strokeWidth:2.5}),e[4]=a):a=e[4];let s;e[5]!==i?(s=(0,r.jsx)("button",{onClick:i,className:"rounded-full p-2 transition-colors hover:bg-zinc-100 dark:text-white dark:hover:bg-zinc-800",children:a}),e[5]=i,e[6]=s):s=e[6];let m;e[7]===Symbol.for("react.memo_cache_sentinel")?(m=(0,r.jsx)("h5",{className:"text-xl font-bold dark:text-white",children:"Post"}),e[7]=m):m=e[7];let n;e[8]!==s?(n=(0,r.jsx)("div",{className:"sticky top-0 z-20 border-b border-zinc-100 bg-white/90 px-4 py-3 backdrop-blur-md dark:border-zinc-800 dark:bg-black/90",children:(0,r.jsxs)("div",{className:"flex items-center gap-x-4",children:[s,m]})}),e[8]=s,e[9]=n):n=e[9];let l;e[10]!==o.comments?(l=o.comments||[],e[10]=o.comments,e[11]=l):l=e[11];let d;e[12]!==b||e[13]!==u||e[14]!==p||e[15]!==h||e[16]!==o||e[17]!==l?(d=(0,r.jsx)(N,{...o,isDetail:!0,currentUser:b,initialComments:l,onUserClick:h,onDelete:u,onUpdate:p}),e[12]=b,e[13]=u,e[14]=p,e[15]=h,e[16]=o,e[17]=l,e[18]=d):d=e[18];let c;return e[19]!==n||e[20]!==d?(c=(0,r.jsx)("div",{className:"min-h-screen animate-in slide-in-from-right-5 overflow-hidden rounded-none border-y border-zinc-100 bg-white pb-16 shadow-sm duration-300 dark:border-zinc-800 dark:bg-black md:rounded-xl md:border",children:(0,r.jsxs)("div",{className:"border-b border-zinc-100 dark:border-zinc-800",children:[n,d]})}),e[19]=n,e[20]=d,e[21]=c):c=e[21],c},X=S;export{X as default};
