const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-Cl9PyK4K.js","assets/framework-pMVb9Z5_.js","assets/rolldown-runtime-2JzG8er9.js","assets/framework-sg0yWRLc.css","assets/ui-libs-Dldhg1Ot.js","assets/ui-libs-CqCaMccn.css","assets/database-ApDMvJcm.js","assets/linkify-BesW0poa.js","assets/post-DfzmbMRZ.js","assets/query-CYcBlx0y.js","assets/hooks-rNBoARhk.js","assets/Explore-qKvkSXsb.js","assets/Reels-CX175cyF.js","assets/Messages-CSG1M7Na.js","assets/Notifications-DETL3-DS.js","assets/Profile-BlbDpkLS.js","assets/Community-DBSjheF7.js","assets/PostDetails-IW51fRxy.js","assets/Settings-B07beP6R.js","assets/HashtagFeed-Ly4TA39T.js"])))=>i.map(i=>d[i]);
import{n as Ln}from"./rolldown-runtime-2JzG8er9.js";import{C as Yr,S as Pa,_ as Fa,a as Oa,d as La,f as Xr,g as We,h as Ua,i as Ba,m as or,p as Qr,r as Ha,s as ie,u as qa,v as gn,w as Wa,x as ut,y as pn}from"./framework-pMVb9Z5_.js";import{a as Va,i as Un,n as Rt,r as Ya,t as Xa}from"./query-CYcBlx0y.js";import{t as Qa}from"./database-ApDMvJcm.js";import{$ as Ka,$t as ir,A as Za,B as Ja,C as Ga,Cn as $a,Ct as eo,D as to,Dt as Kr,E as no,F as ro,G as so,Gt as ft,H as ao,Ht as Zr,I as oo,It as io,J as lo,Jt as co,K as uo,L as fo,M as mo,N as ho,Nt as go,O as po,Ot as vo,P as bo,Q as xo,R as yo,Rt as wo,S as jo,Sn as ko,T as _o,U as So,V as Co,W as No,X as Ao,Xt as Bn,Y as zo,Yt as Eo,Z as Ro,_ as Jr,_n as Io,_t as Mo,a as Do,at as To,b as Po,bn as Fo,bt as Oo,c as Lo,d as Uo,dn as Bo,et as Ho,f as Gr,fn as $r,ft as vn,g as es,h as ts,hn as qo,i as Wo,it as Vo,j as Yo,jt as Wt,k as Xo,l as ns,ln as Qo,lt as Mt,m as Ko,mn as rs,n as Zo,nt as Jo,o as ss,ot as Go,p as $o,pn as as,pt as In,q as ei,r as ti,rn as ni,rt as ri,s as V0,sn as si,st as ai,tn as os,tt as oi,u as ii,un as is,v as ls,vn as lr,w as li,wn as ci,x as di,y as ui,yn as cs,yt as fi,z as mi}from"./ui-libs-Dldhg1Ot.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();var hi=Pa(),p=Ln(Wa(),1),gi="https://dbkcedktqhueqnulnosq.supabase.co",pi="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRia2NlZGt0cWh1ZXFudWxub3NxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg5NzE1NTQsImV4cCI6MjA4NDU0NzU1NH0.m_Tv-H7o5mL1Nac6TH-S1JkS1x7ZN1AK_4Mt1hZlkvU";const Y=Qa(gi,pi);var vi=ie();function oe(...t){return $a(ci(t))}const bi=()=>{const t=(0,vi.c)(2),{pathname:e}=gn();let n;return t[0]!==e?(n=[e],t[0]=e,t[1]=n):n=t[1],(0,p.useEffect)(yi,n),null},en=t=>typeof t!="string"?!1:/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t),xi=(t,e)=>{const n=document.createElement("canvas"),s=t.naturalWidth/t.width,r=t.naturalHeight/t.height;n.width=e.width*s,n.height=e.height*r;const a=n.getContext("2d");return a.imageSmoothingEnabled=!0,a.imageSmoothingQuality="high",a.drawImage(t,e.x*s,e.y*r,e.width*s,e.height*r,0,0,e.width*s,e.height*r),new Promise((o,l)=>{n.toBlob(u=>{if(!u){l(new Error("Canvas is empty"));return}o(u)},"image/jpeg",.95)})},ds=t=>{if(!t)return"";const e=new Date-new Date(t),n=Math.floor(e/1e3),s=Math.floor(n/60),r=Math.floor(s/60),a=Math.floor(r/24);return n<60?"Just now":s<60?`${s}m ago`:r<24?`${r}h ago`:a<7?`${a}d ago`:new Date(t).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit",year:"2-digit"})},Y0=t=>typeof t!="string"?!1:/[\u0980-\u09FF]/.test(t),X0=t=>{if(!t)return null;const e=t.match(/(https?:\/\/[^\s]+)/g);return e?e[0]:null};function yi(){window.scrollTo(0,0)}const xt=t=>t?{id:t.id,handle:t.username,name:t.display_name,avatar:t.avatar_url||"/default-avatar.webp",cover:t.cover_url||"/welcome-banner.webp",verified:t.is_verified,bio:t.bio,location:t.location,website:t.website,follower_count:t.follower_count||0,following_count:t.following_count||0,lastSeen:t.last_seen_at}:null,yt=t=>{if(!t)return null;const e=t.reposter_id||t.reposter_data?.id||t.reposted_by?.id,n=Math.random().toString(36).substring(2,9),s=`${t.feed_id||(e?`${t.id}-${e}`:`${t.id}-orig`)}-${n}`;return{...t,feed_id:s,stats:{comments:t.comments_count||0,likes:t.likes_count||0,mirrors:t.mirrors_count||0},user:xt(t.author_data||t.user),community:t.community_data||t.communities?{...t.community_data||t.communities,avatar:(t.community_data||t.communities).avatar_url||(t.community_data||t.communities).avatar}:null,repostedBy:t.reposter_data?{handle:t.reposter_data.username,name:t.reposter_data.display_name,id:t.reposter_data.id}:t.reposted_by?{handle:t.reposted_by.username,name:t.reposted_by.display_name,id:t.reposted_by.id}:null,timeAgo:ds(t.created_at)}},us=t=>t?{...t,stats:{likes:t.likes_count||0},user:xt(t.user),timeAgo:ds(t.created_at)}:null,wi=t=>t?{...t,user:t.actor?.username,avatar:t.actor?.avatar_url||"/default-avatar.webp"}:null,fs=t=>t?{...t,media:t.media_url,user:xt(t.user)}:null,Kt=t=>t?{id:t.id,handle:t.handle,name:t.name,description:t.description,avatar:t.avatar_url||"/default-avatar.webp",cover:t.cover_url||"/welcome-banner.webp",membersCount:t.members_count||0,postsCount:t.posts_count||0,isPrivate:t.is_private,createdAt:t.created_at,type:"community",creatorId:t.creator_id}:null,ji=t=>t?{id:t.id,conversation_id:t.conversation_id,sender_id:t.sender_id,content:t.content,type:t.type||"text",media:t.media||[],reply_to_id:t.reply_to_id,is_read:t.is_read,created_at:t.created_at}:null,ki=(t,e)=>{if(!t||!t.conversation)return null;const n=t.conversation,s=n.participants.find(a=>a.user?.id!==e)||n.participants[0],r=n.messages?.filter(a=>!a.is_read&&a.sender_id!==e).length||0;return{id:n.id,user:xt(s?.user),lastMessage:n.last_message_content||"No messages yet",lastMessageAt:n.last_message_at,time:n.last_message_at?new Date(n.last_message_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"",unread:r}},Q0=async(t,e=10)=>{const{data:n,error:s}=await Y.from("users").select("*").or(`username.ilike.%${t}%,display_name.ilike.%${t}%`).limit(e);if(s)throw s;return n.map(xt)},ms=async(t,e="id")=>{let n=Y.from("users").select("*");e==="id"?n=n.eq("id",t):n=n.ilike("username",t);const{data:s,error:r}=await n.maybeSingle();if(r)throw r;return s?xt(s):null},_i=t=>ms(t,"username"),kt=async t=>{if(!t)return;const{error:e}=await Y.from("users").update({last_seen_at:new Date().toISOString()}).eq("id",t);if(e)throw e},Si=async(t,e)=>{const n={display_name:e.name,username:e.handle,avatar_url:e.avatar,bio:e.bio,cover_url:e.cover,website:e.website,location:e.location};Object.keys(n).forEach(r=>n[r]===void 0&&delete n[r]);const{error:s}=await Y.from("users").update(n).eq("id",t);if(s)throw s},Ci=async(t,e)=>{const{data:n}=await Y.from("follows").select("*").eq("follower_id",t).eq("following_id",e).maybeSingle();return n?(await Y.from("follows").delete().eq("follower_id",t).eq("following_id",e),!1):(await Y.from("follows").insert([{follower_id:t,following_id:e}]),!0)},Ni=async(t,e)=>{if(!t)return!1;const{data:n}=await Y.from("follows").select("*").eq("follower_id",t).eq("following_id",e).maybeSingle();return!!n},K0=async(t,e=null,n=10)=>{let s=Y.from("follows").select(`
      created_at,
      user:users!follower_id (
        id,
        username,
        display_name,
        avatar_url,
        is_verified,
        bio
      )
    `).eq("following_id",t).order("created_at",{ascending:!1}).limit(n);e&&(s=s.lt("created_at",e));const{data:r,error:a}=await s;if(a)throw a;return r.map(o=>({...xt(o.user),followed_at:o.created_at}))},Z0=async(t,e=null,n=10)=>{let s=Y.from("follows").select(`
      created_at,
      user:users!following_id (
        id,
        username,
        display_name,
        avatar_url,
        is_verified,
        bio
      )
    `).eq("follower_id",t).order("created_at",{ascending:!1}).limit(n);e&&(s=s.lt("created_at",e));const{data:r,error:a}=await s;if(a)throw a;return r.map(o=>({...xt(o.user),followed_at:o.created_at}))},Ai=async t=>{const{data:e,error:n}=await Y.from("users").select("follower_count, following_count").eq("id",t).maybeSingle();return n||!e?{followers:0,following:0}:{followers:e.follower_count||0,following:e.following_count||0}},zi=async(t=null,e=10)=>{let n=Y.from("unified_posts").select("*").order("sort_timestamp",{ascending:!1}).limit(e);t&&(n=n.lt("sort_timestamp",t));const{data:s,error:r}=await n;if(r)throw r;return s.map(yt)},J0=async t=>{const{data:e,error:n}=await Y.from("posts").select(`
            *,
            user:users!user_id (
                id,
                username,
                display_name,
                avatar_url,
                is_verified,
                bio,
                location,
                website,
                follower_count,
                following_count
            ),
            communities (
                id,
                handle,
                name,
                avatar_url
            ),
            quoted_post:posts!quoted_post_id (
                *,
                user:users!user_id (
                    id,
                    username,
                    display_name,
                    avatar_url,
                    is_verified
                )
            )
        `).eq("id",t).single();if(n)throw n;return yt(e)},G0=async(t,e=null,n=10)=>{let s=Y.from("unified_posts").select("*").or(`user_id.eq.${t},reposter_id.eq.${t}`).order("sort_timestamp",{ascending:!1}).limit(n);e&&(s=s.lt("sort_timestamp",e));const{data:r,error:a}=await s;if(a)throw a;return r.map(yt)},Ei=async({content:t,media:e=[],type:n="text",userId:s,poll:r=null,parentId:a=null,communityId:o=null})=>{const{data:l,error:u}=await Y.from("posts").insert([{user_id:s,content:t,media:e,type:n,poll:r,parent_id:a,community_id:o}]).select(`
            *,
            user:users!user_id (
                id,
                username,
                display_name,
                avatar_url,
                is_verified
            ),
            communities:community_id (
                id,
                handle,
                name,
                avatar_url
            )
        `);if(u)throw u;return yt(l[0])},Ri=async t=>{const{error:e}=await Y.from("posts").delete().eq("id",t);if(e)throw e},Ii=async(t,e)=>{const{error:n}=await Y.from("posts").update(e).eq("id",t);if(n)throw n},$0=async(t,e=null,n=10)=>{let s=Y.from("comments").select(`
            *,
            user:users!user_id (
                id,
                username,
                display_name,
                avatar_url,
                is_verified
            )
        `).eq("post_id",t).order("created_at",{ascending:!0}).limit(n);e&&(s=s.gt("created_at",e));const{data:r,error:a}=await s;if(a)throw a;return r.map(us)},em=async(t,e,n,s=[])=>{const{data:r,error:a}=await Y.from("comments").insert([{post_id:t,user_id:e,content:n,media:s}]).select(`
            *,
            user:users!user_id (
                id,
                username,
                display_name,
                avatar_url,
                is_verified
            )
        `);if(a)throw a;return us(r[0])},tm=async(t,e)=>{const{data:n}=await Y.from("likes").select("*").eq("post_id",t).eq("user_id",e).maybeSingle();return n?(await Y.from("likes").delete().eq("post_id",t).eq("user_id",e),!1):(await Y.from("likes").insert([{post_id:t,user_id:e}]),!0)},nm=async(t,e)=>{if(!e)return!1;const{data:n}=await Y.from("likes").select("*").eq("post_id",t).eq("user_id",e).maybeSingle();return!!n},rm=async(t,e)=>{const{data:n}=await Y.from("reposts").select("*").eq("post_id",t).eq("user_id",e).maybeSingle();return n?(await Y.from("reposts").delete().eq("post_id",t).eq("user_id",e),!1):(await Y.from("reposts").insert([{post_id:t,user_id:e}]),!0)},sm=async(t,e)=>{if(!e)return!1;const{data:n}=await Y.from("reposts").select("*").eq("post_id",t).eq("user_id",e).maybeSingle();return!!n},am=async(t,e=null,n=10,s=!1)=>{let r=Y.from("unified_posts").select("*").ilike("content",`%${t}%`);s&&(r=r.not("community_id","is",null).is("reposter_id",null)),r=r.order("sort_timestamp",{ascending:!1}).limit(n),e&&(r=r.lt("sort_timestamp",e));const{data:a,error:o}=await r;if(o)throw o;return a.map(yt)},om=async(t=null,e=10)=>{let n=Y.from("unified_posts").select("*").not("community_id","is",null).is("reposter_id",null).order("sort_timestamp",{ascending:!1}).limit(e);t&&(n=n.lt("sort_timestamp",t));const{data:s,error:r}=await n;if(r)throw r;return s.map(yt)},im=async(t=null,e=10)=>{let n=Y.from("unified_posts").select("*").eq("type","video").order("sort_timestamp",{ascending:!1}).limit(e);t&&(n=n.lt("sort_timestamp",t));const{data:s,error:r}=await n;if(r)throw r;return s.map(yt)},lm=async(t,e)=>{const{data:n}=await Y.from("conversation_participants").select("conversation_id").eq("user_id",t),s=n.map(l=>l.conversation_id),{data:r}=await Y.from("conversation_participants").select("conversation_id").eq("user_id",e).in("conversation_id",s).maybeSingle();if(r)return r.conversation_id;const{data:a,error:o}=await Y.from("conversations").insert([{}]).select().single();if(o)throw o;return await Y.from("conversation_participants").insert([{conversation_id:a.id,user_id:t},{conversation_id:a.id,user_id:e}]),a.id},Mi=async t=>{if(!t)return 0;const{data:e}=await Y.from("conversation_participants").select("conversation_id").eq("user_id",t),n=e?.map(a=>a.conversation_id)||[];if(n.length===0)return 0;const{count:s,error:r}=await Y.from("messages").select("*",{count:"exact",head:!0}).eq("is_read",!1).neq("sender_id",t).in("conversation_id",n);if(r)throw r;return s||0},Di=async(t,e)=>{if(!t||!e)return;const{error:n}=await Y.from("messages").update({is_read:!0}).eq("conversation_id",t).neq("sender_id",e).eq("is_read",!1);if(n)throw n},Ti=async t=>{if(!t)return[];const{data:e,error:n}=await Y.from("conversation_participants").select(`
            conversation:conversations (
                id,
                last_message_at,
                last_message_content,
                participants:conversation_participants (
                    user:users (
                        id,
                        username,
                        display_name,
                        avatar_url,
                        last_seen_at
                    )
                ),
                messages (
                    id,
                    is_read,
                    sender_id
                )
            )
        `).eq("user_id",t);if(n)throw n;return e.map(s=>ki(s,t)).sort((s,r)=>s.lastMessageAt?r.lastMessageAt?new Date(r.lastMessageAt)-new Date(s.lastMessageAt):-1:1)},cm=async t=>{const{data:e,error:n}=await Y.from("messages").select("*").eq("conversation_id",t).order("created_at",{ascending:!0});if(n)throw n;return e.map(ji)},Pi=async()=>{const{data:t,error:e}=await Y.from("message_reactions").select("*");if(e)throw e;return t||[]},Fi=async(t,e,n)=>{const{data:s}=await Y.from("message_reactions").select("*").eq("message_id",t).eq("user_id",e).maybeSingle();return s?s.emoji===n?(await Y.from("message_reactions").delete().eq("id",s.id),{action:"removed",emoji:n}):(await Y.from("message_reactions").update({emoji:n}).eq("id",s.id),{action:"updated",emoji:n}):(await Y.from("message_reactions").insert([{message_id:t,user_id:e,emoji:n}]),{action:"added",emoji:n})},Oi=async(t,e,n,s="text",r=[],a=null)=>{const{data:o,error:l}=await Y.from("messages").insert([{conversation_id:t,sender_id:e,content:n,type:s,media:r,reply_to_id:a}]).select();if(l)throw l;return await Y.from("conversations").update({last_message_at:new Date,last_message_content:s==="image"||r&&r.length>0?"Sent an image":n}).eq("id",t),o[0]},Li=async t=>{const{error:e}=await Y.from("messages").delete().eq("id",t);if(e)throw e},dm=async(t,e=null,n=10)=>{if(!t)return[];let s=Y.from("notifications").select(`
            *,
            actor:users!actor_id (
                username,
                avatar_url
            )
        `).eq("recipient_id",t).order("created_at",{ascending:!1}).limit(n);e&&(s=s.lt("created_at",e));const{data:r,error:a}=await s;if(a)throw a;return r.map(wi)},um=async t=>{const{error:e}=await Y.from("notifications").update({is_read:!0}).eq("recipient_id",t).eq("is_read",!1);if(e)throw e},Ui=async t=>{if(!t)return 0;const{count:e,error:n}=await Y.from("notifications").select("*",{count:"exact",head:!0}).eq("recipient_id",t).eq("is_read",!1);if(n)throw n;return e||0},fm=async()=>{const{data:t,error:e}=await Y.from("stories").select(`
            *,
            user:users!user_id (
                id,
                username,
                display_name,
                avatar_url,
                is_verified
            )
        `).gt("expires_at",new Date().toISOString()).order("created_at",{ascending:!1});if(e)throw e;return t.map(fs)},Bi=async(t,e,n="image")=>{const{data:s,error:r}=await Y.from("stories").insert([{user_id:t,media_url:e,type:n}]).select(`
            *,
            user:users!user_id (
                id,
                username,
                display_name,
                avatar_url,
                is_verified
            )
        `);if(r)throw r;return fs(s[0])},mm=async(t=null,e=10)=>{let n=Y.from("communities").select("*").order("created_at",{ascending:!1}).limit(e);t&&(n=n.lt("created_at",t));const{data:s,error:r}=await n;if(r)throw r;return s.map(Kt)},hm=async t=>{const{data:e,error:n}=await Y.from("communities").select("*").eq("handle",t).single();if(n)throw n;return Kt(e)},gm=async(t,e=null,n=10)=>{let s=Y.from("unified_posts").select("*").eq("community_id",t).is("reposter_id",null).order("sort_timestamp",{ascending:!1}).limit(n);e&&(s=s.lt("sort_timestamp",e));const{data:r,error:a}=await s;if(a)throw a;return r.map(yt)},Hi=async(t,e)=>{const{data:n}=await Y.from("community_members").select("*").eq("community_id",t).eq("user_id",e).maybeSingle();if(n){const{error:s}=await Y.from("community_members").delete().eq("community_id",t).eq("user_id",e);if(s)throw s;return!1}else{const{error:s}=await Y.from("community_members").insert([{community_id:t,user_id:e}]);if(s)throw s;return!0}},qi=async(t,e)=>{if(!e)return null;const{data:n}=await Y.from("community_members").select("*").eq("community_id",t).eq("user_id",e).maybeSingle();return n},Wi=async t=>{if(!t)return[];const{data:e,error:n}=await Y.from("community_members").select(`
      role,
      communities (*)
    `).eq("user_id",t);if(n)throw n;return e.map(s=>({...Kt(s.communities),myRole:s.role}))},Vi=async t=>{const{data:e,error:n}=await Y.from("communities").insert([t]).select().single();if(n)throw n;return Kt(e)},Yi=async(t,e)=>{const{data:n,error:s}=await Y.from("communities").update(e).eq("id",t).select().single();if(s)throw s;return Kt(n)},Xi=async(t,e="")=>{let n=Y.from("community_members").select(`
      role,
      user_id,
      users:user_id!inner (
        id,
        username,
        display_name,
        avatar_url,
        is_verified
      )
    `).eq("community_id",t);e&&(n=n.or(`username.ilike.%${e}%,display_name.ilike.%${e}%`,{foreignTable:"users"}));const{data:s,error:r}=await n.limit(20);if(r)throw r;return s.map(a=>({role:a.role,userId:a.user_id,user:a.users}))},Qi=async(t,e,n)=>{const{data:s,error:r}=await Y.from("community_members").update({role:n}).eq("community_id",t).eq("user_id",e).select().single();if(r)throw r;return s},Ki=async(t=5)=>{const{data:e,error:n}=await Y.from("hashtags").select("*").order("usage_count",{ascending:!1}).limit(t);if(n)throw n;return e},Zi=async t=>{try{const e=`https://api.allorigins.win/raw?url=${encodeURIComponent(t)}`,n=await fetch(e);if(!n.ok)throw new Error("Failed to fetch preview");const s=await n.text(),r=new DOMParser().parseFromString(s,"text/html"),a=o=>r.querySelector(`meta[property="${o}"]`)?.getAttribute("content")||r.querySelector(`meta[name="${o}"]`)?.getAttribute("content");return{title:a("og:title")||r.title||t,description:a("og:description")||a("description")||"",image:a("og:image")||a("twitter:image")||"",siteName:a("og:site_name")||new URL(t).hostname,url:t}}catch(e){return console.error("Link preview error:",e),null}},pm=async t=>{if(!t)return null;try{const{data:e}=await Y.from("link_previews").select("*").eq("url",t).maybeSingle();if(e)return Y.from("link_previews").update({last_used_at:new Date().toISOString()}).eq("url",t).then(()=>{}),{title:e.title,description:e.description,image:e.image,siteName:e.site_name,url:e.url};const n=await Zi(t);return n?(Y.from("link_previews").insert([{url:n.url,title:n.title,description:n.description,image:n.image,site_name:n.siteName}]).then(({error:s})=>{s&&console.error("Cache save error:",s)}),n):null}catch(e){return console.error("Link preview cache error:",e),null}};function Ji(t,e){return e.forEach((function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach((function(s){if(s!=="default"&&!(s in t)){var r=Object.getOwnPropertyDescriptor(n,s);Object.defineProperty(t,s,r.get?r:{enumerable:!0,get:function(){return n[s]}})}}))})),Object.freeze(t)}function hs(t,e){return new Promise((function(n,s){let r;return Gi(t).then((function(a){try{return r=a,n(new Blob([e.slice(0,2),r,e.slice(2)],{type:"image/jpeg"}))}catch(o){return s(o)}}),s)}))}var Gi=t=>new Promise(((e,n)=>{const s=new FileReader;s.addEventListener("load",(({target:{result:r}})=>{const a=new DataView(r);let o=0;if(a.getUint16(o)!==65496)return n("not a valid JPEG");for(o+=2;;){const l=a.getUint16(o);if(l===65498)break;const u=a.getUint16(o+2);if(l===65505&&a.getUint32(o+4)===1165519206){const h=o+10;let d;switch(a.getUint16(h)){case 18761:d=!0;break;case 19789:d=!1;break;default:return n("TIFF header contains invalid endian")}if(a.getUint16(h+2,d)!==42)return n("TIFF header contains invalid version");const i=a.getUint32(h+4,d),f=h+i+2+12*a.getUint16(h+i,d);for(let m=h+i+2;m<f;m+=12)if(a.getUint16(m,d)==274){if(a.getUint16(m+2,d)!==3)return n("Orientation data type is invalid");if(a.getUint32(m+4,d)!==1)return n("Orientation data count is invalid");a.setUint16(m+8,1,d);break}return e(r.slice(o,o+2+u))}o+=2+u}return e(new Blob)})),s.readAsArrayBuffer(t)})),on={},$i={get exports(){return on},set exports(t){on=t}};(function(t){var e,n,s={};$i.exports=s,s.parse=function(r,a){for(var o=s.bin.readUshort,l=s.bin.readUint,u=0,h={},d=new Uint8Array(r),i=d.length-4;l(d,i)!=101010256;)i--;u=i,u+=4;var f=o(d,u+=4);o(d,u+=2);var m=l(d,u+=2),g=l(d,u+=4);u+=4,u=g;for(var b=0;b<f;b++){l(d,u),u+=4,u+=4,u+=4,l(d,u+=4),m=l(d,u+=4);var x=l(d,u+=4),v=o(d,u+=4),S=o(d,u+2),z=o(d,u+4);u+=6;var C=l(d,u+=8);u+=4,u+=v+S+z,s._readLocal(d,C,h,m,x,a)}return h},s._readLocal=function(r,a,o,l,u,h){var d=s.bin.readUshort,i=s.bin.readUint;i(r,a),d(r,a+=4),d(r,a+=2);var f=d(r,a+=2);i(r,a+=2),i(r,a+=4),a+=4;var m=d(r,a+=8),g=d(r,a+=2);a+=2;var b=s.bin.readUTF8(r,a,m);if(a+=m,a+=g,h)o[b]={size:u,csize:l};else{var x=new Uint8Array(r.buffer,a);if(f==0)o[b]=new Uint8Array(x.buffer.slice(a,a+l));else{if(f!=8)throw"unknown compression method: "+f;var v=new Uint8Array(u);s.inflateRaw(x,v),o[b]=v}}},s.inflateRaw=function(r,a){return s.F.inflate(r,a)},s.inflate=function(r,a){return r[0],r[1],s.inflateRaw(new Uint8Array(r.buffer,r.byteOffset+2,r.length-6),a)},s.deflate=function(r,a){a??={level:6};var o=0,l=new Uint8Array(50+Math.floor(1.1*r.length));l[o]=120,l[o+1]=156,o+=2,o=s.F.deflateRaw(r,l,o,a.level);var u=s.adler(r,0,r.length);return l[o+0]=u>>>24&255,l[o+1]=u>>>16&255,l[o+2]=u>>>8&255,l[o+3]=u>>>0&255,new Uint8Array(l.buffer,0,o+4)},s.deflateRaw=function(r,a){a??={level:6};var o=new Uint8Array(50+Math.floor(1.1*r.length)),l=s.F.deflateRaw(r,o,l,a.level);return new Uint8Array(o.buffer,0,l)},s.encode=function(r,a){a??=!1;var o=0,l=s.bin.writeUint,u=s.bin.writeUshort,h={};for(var d in r){var i=!s._noNeed(d)&&!a,f=r[d],m=s.crc.crc(f,0,f.length);h[d]={cpr:i,usize:f.length,crc:m,file:i?s.deflateRaw(f):f}}for(var d in h)o+=h[d].file.length+30+46+2*s.bin.sizeUTF8(d);o+=22;var g=new Uint8Array(o),b=0,x=[];for(var d in h){var v=h[d];x.push(b),b=s._writeHeader(g,b,d,v,0)}var S=0,z=b;for(var d in h)v=h[d],x.push(b),b=s._writeHeader(g,b,d,v,1,x[S++]);var C=b-z;return l(g,b,101010256),b+=4,u(g,b+=4,S),u(g,b+=2,S),l(g,b+=2,C),l(g,b+=4,z),b+=4,b+=2,g.buffer},s._noNeed=function(r){var a=r.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(a)!=-1},s._writeHeader=function(r,a,o,l,u,h){var d=s.bin.writeUint,i=s.bin.writeUshort,f=l.file;return d(r,a,u==0?67324752:33639248),a+=4,u==1&&(a+=2),i(r,a,20),i(r,a+=2,0),i(r,a+=2,l.cpr?8:0),d(r,a+=2,0),d(r,a+=4,l.crc),d(r,a+=4,f.length),d(r,a+=4,l.usize),i(r,a+=4,s.bin.sizeUTF8(o)),i(r,a+=2,0),a+=2,u==1&&(a+=2,a+=2,d(r,a+=6,h),a+=4),a+=s.bin.writeUTF8(r,a,o),u==0&&(r.set(f,a),a+=f.length),a},s.crc={table:(function(){for(var r=new Uint32Array(256),a=0;a<256;a++){for(var o=a,l=0;l<8;l++)1&o?o=3988292384^o>>>1:o>>>=1;r[a]=o}return r})(),update:function(r,a,o,l){for(var u=0;u<l;u++)r=s.crc.table[255&(r^a[o+u])]^r>>>8;return r},crc:function(r,a,o){return 4294967295^s.crc.update(4294967295,r,a,o)}},s.adler=function(r,a,o){for(var l=1,u=0,h=a,d=a+o;h<d;){for(var i=Math.min(h+5552,d);h<i;)u+=l+=r[h++];l%=65521,u%=65521}return u<<16|l},s.bin={readUshort:function(r,a){return r[a]|r[a+1]<<8},writeUshort:function(r,a,o){r[a]=255&o,r[a+1]=o>>8&255},readUint:function(r,a){return 16777216*r[a+3]+(r[a+2]<<16|r[a+1]<<8|r[a])},writeUint:function(r,a,o){r[a]=255&o,r[a+1]=o>>8&255,r[a+2]=o>>16&255,r[a+3]=o>>24&255},readASCII:function(r,a,o){for(var l="",u=0;u<o;u++)l+=String.fromCharCode(r[a+u]);return l},writeASCII:function(r,a,o){for(var l=0;l<o.length;l++)r[a+l]=o.charCodeAt(l)},pad:function(r){return r.length<2?"0"+r:r},readUTF8:function(r,a,o){for(var l,u="",h=0;h<o;h++)u+="%"+s.bin.pad(r[a+h].toString(16));try{l=decodeURIComponent(u)}catch{return s.bin.readASCII(r,a,o)}return l},writeUTF8:function(r,a,o){for(var l=o.length,u=0,h=0;h<l;h++){var d=o.charCodeAt(h);if((4294967168&d)==0)r[a+u]=d,u++;else if((4294965248&d)==0)r[a+u]=192|d>>6,r[a+u+1]=128|d>>0&63,u+=2;else if((4294901760&d)==0)r[a+u]=224|d>>12,r[a+u+1]=128|d>>6&63,r[a+u+2]=128|d>>0&63,u+=3;else{if((4292870144&d)!=0)throw"e";r[a+u]=240|d>>18,r[a+u+1]=128|d>>12&63,r[a+u+2]=128|d>>6&63,r[a+u+3]=128|d>>0&63,u+=4}}return u},sizeUTF8:function(r){for(var a=r.length,o=0,l=0;l<a;l++){var u=r.charCodeAt(l);if((4294967168&u)==0)o++;else if((4294965248&u)==0)o+=2;else if((4294901760&u)==0)o+=3;else{if((4292870144&u)!=0)throw"e";o+=4}}return o}},s.F={},s.F.deflateRaw=function(r,a,o,l){var u=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][l],h=s.F.U,d=s.F._goodIndex;s.F._hash;var i=s.F._putsE,f=0,m=o<<3,g=0,b=r.length;if(l==0){for(;f<b;)i(a,m,f+(R=Math.min(65535,b-f))==b?1:0),m=s.F._copyExact(r,f,R,a,m+8),f+=R;return m>>>3}var x=h.lits,v=h.strt,S=h.prev,z=0,C=0,M=0,_=0,D=0,w=0;for(b>2&&(v[w=s.F._hash(r,0)]=0),f=0;f<b;f++){if(D=w,f+1<b-2){w=s.F._hash(r,f+1);var y=f+1&32767;S[y]=v[w],v[w]=y}if(g<=f){(z>14e3||C>26697)&&b-f>100&&(g<f&&(x[z]=f-g,z+=2,g=f),m=s.F._writeBlock(f==b-1||g==b?1:0,x,z,_,r,M,f-M,a,m),z=C=_=0,M=f);var A=0;f<b-2&&(A=s.F._bestMatch(r,f,S,D,Math.min(u[2],b-f),u[3]));var R=A>>>16,E=65535&A;if(A!=0){E=65535&A;var I=d(R=A>>>16,h.of0);h.lhst[257+I]++;var N=d(E,h.df0);h.dhst[N]++,_+=h.exb[I]+h.dxb[N],x[z]=R<<23|f-g,x[z+1]=E<<16|I<<8|N,z+=2,g=f+R}else h.lhst[r[f]]++;C++}}for(M==f&&r.length!=0||(g<f&&(x[z]=f-g,z+=2,g=f),m=s.F._writeBlock(1,x,z,_,r,M,f-M,a,m),z=0,C=0,z=C=_=0,M=f);(7&m)!=0;)m++;return m>>>3},s.F._bestMatch=function(r,a,o,l,u,h){var d=32767&a,i=o[d],f=d-i+32768&32767;if(i==d||l!=s.F._hash(r,a-f))return 0;for(var m=0,g=0,b=Math.min(32767,a);f<=b&&--h!=0&&i!=d;){if(m==0||r[a+m]==r[a+m-f]){var x=s.F._howLong(r,a,f);if(x>m){if(g=f,(m=x)>=u)break;f+2<x&&(x=f+2);for(var v=0,S=0;S<x-2;S++){var z=a-f+S+32768&32767,C=z-o[z]+32768&32767;C>v&&(v=C,i=z)}}}f+=(d=i)-(i=o[d])+32768&32767}return m<<16|g},s.F._howLong=function(r,a,o){if(r[a]!=r[a-o]||r[a+1]!=r[a+1-o]||r[a+2]!=r[a+2-o])return 0;var l=a,u=Math.min(r.length,a+258);for(a+=3;a<u&&r[a]==r[a-o];)a++;return a-l},s.F._hash=function(r,a){return(r[a]<<8|r[a+1])+(r[a+2]<<4)&65535},s.saved=0,s.F._writeBlock=function(r,a,o,l,u,h,d,i,f){var m,g,b,x,v,S,z,C,M,_=s.F.U,D=s.F._putsF,w=s.F._putsE;_.lhst[256]++,g=(m=s.F.getTrees())[0],b=m[1],x=m[2],v=m[3],S=m[4],z=m[5],C=m[6],M=m[7];var y=32+((f+3&7)==0?0:8-(f+3&7))+(d<<3),A=l+s.F.contSize(_.fltree,_.lhst)+s.F.contSize(_.fdtree,_.dhst),R=l+s.F.contSize(_.ltree,_.lhst)+s.F.contSize(_.dtree,_.dhst);R+=14+3*z+s.F.contSize(_.itree,_.ihst)+(2*_.ihst[16]+3*_.ihst[17]+7*_.ihst[18]);for(var E=0;E<286;E++)_.lhst[E]=0;for(E=0;E<30;E++)_.dhst[E]=0;for(E=0;E<19;E++)_.ihst[E]=0;var I=y<A&&y<R?0:A<R?1:2;if(D(i,f,r),D(i,f+1,I),f+=3,I==0){for(;(7&f)!=0;)f++;f=s.F._copyExact(u,h,d,i,f)}else{var N,F;if(I==1&&(N=_.fltree,F=_.fdtree),I==2){s.F.makeCodes(_.ltree,g),s.F.revCodes(_.ltree,g),s.F.makeCodes(_.dtree,b),s.F.revCodes(_.dtree,b),s.F.makeCodes(_.itree,x),s.F.revCodes(_.itree,x),N=_.ltree,F=_.dtree,w(i,f,v-257),w(i,f+=5,S-1),w(i,f+=5,z-4),f+=4;for(var j=0;j<z;j++)w(i,f+3*j,_.itree[1+(_.ordr[j]<<1)]);f+=3*z,f=s.F._codeTiny(C,_.itree,i,f),f=s.F._codeTiny(M,_.itree,i,f)}for(var k=h,P=0;P<o;P+=2){for(var T=a[P],O=T>>>23,q=k+(8388607&T);k<q;)f=s.F._writeLit(u[k++],N,i,f);if(O!=0){var B=a[P+1],H=B>>16,U=B>>8&255,L=255&B;w(i,f=s.F._writeLit(257+U,N,i,f),O-_.of0[U]),f+=_.exb[U],D(i,f=s.F._writeLit(L,F,i,f),H-_.df0[L]),f+=_.dxb[L],k+=O}}f=s.F._writeLit(256,N,i,f)}return f},s.F._copyExact=function(r,a,o,l,u){var h=u>>>3;return l[h]=o,l[h+1]=o>>>8,l[h+2]=255-l[h],l[h+3]=255-l[h+1],h+=4,l.set(new Uint8Array(r.buffer,a,o),h),u+(o+4<<3)},s.F.getTrees=function(){for(var r=s.F.U,a=s.F._hufTree(r.lhst,r.ltree,15),o=s.F._hufTree(r.dhst,r.dtree,15),l=[],u=s.F._lenCodes(r.ltree,l),h=[],d=s.F._lenCodes(r.dtree,h),i=0;i<l.length;i+=2)r.ihst[l[i]]++;for(i=0;i<h.length;i+=2)r.ihst[h[i]]++;for(var f=s.F._hufTree(r.ihst,r.itree,7),m=19;m>4&&r.itree[1+(r.ordr[m-1]<<1)]==0;)m--;return[a,o,f,u,d,m,l,h]},s.F.getSecond=function(r){for(var a=[],o=0;o<r.length;o+=2)a.push(r[o+1]);return a},s.F.nonZero=function(r){for(var a="",o=0;o<r.length;o+=2)r[o+1]!=0&&(a+=(o>>1)+",");return a},s.F.contSize=function(r,a){for(var o=0,l=0;l<a.length;l++)o+=a[l]*r[1+(l<<1)];return o},s.F._codeTiny=function(r,a,o,l){for(var u=0;u<r.length;u+=2){var h=r[u],d=r[u+1];l=s.F._writeLit(h,a,o,l);var i=h==16?2:h==17?3:7;h>15&&(s.F._putsE(o,l,d,i),l+=i)}return l},s.F._lenCodes=function(r,a){for(var o=r.length;o!=2&&r[o-1]==0;)o-=2;for(var l=0;l<o;l+=2){var u=r[l+1],h=l+3<o?r[l+3]:-1,d=l+5<o?r[l+5]:-1,i=l==0?-1:r[l-1];if(u==0&&h==u&&d==u){for(var f=l+5;f+2<o&&r[f+2]==u;)f+=2;(m=Math.min(f+1-l>>>1,138))<11?a.push(17,m-3):a.push(18,m-11),l+=2*m-2}else if(u==i&&h==u&&d==u){for(f=l+5;f+2<o&&r[f+2]==u;)f+=2;var m=Math.min(f+1-l>>>1,6);a.push(16,m-3),l+=2*m-2}else a.push(u,0)}return o>>>1},s.F._hufTree=function(r,a,o){var l=[],u=r.length,h=a.length,d=0;for(d=0;d<h;d+=2)a[d]=0,a[d+1]=0;for(d=0;d<u;d++)r[d]!=0&&l.push({lit:d,f:r[d]});var i=l.length,f=l.slice(0);if(i==0)return 0;if(i==1){var m=l[0].lit;return f=m==0?1:0,a[1+(m<<1)]=1,a[1+(f<<1)]=1,1}l.sort((function(C,M){return C.f-M.f}));var g=l[0],b=l[1],x=0,v=1,S=2;for(l[0]={lit:-1,f:g.f+b.f,l:g,r:b,d:0};v!=i-1;)g=x!=v&&(S==i||l[x].f<l[S].f)?l[x++]:l[S++],b=x!=v&&(S==i||l[x].f<l[S].f)?l[x++]:l[S++],l[v++]={lit:-1,f:g.f+b.f,l:g,r:b};var z=s.F.setDepth(l[v-1],0);for(z>o&&(s.F.restrictDepth(f,o,z),z=o),d=0;d<i;d++)a[1+(f[d].lit<<1)]=f[d].d;return z},s.F.setDepth=function(r,a){return r.lit!=-1?(r.d=a,a):Math.max(s.F.setDepth(r.l,a+1),s.F.setDepth(r.r,a+1))},s.F.restrictDepth=function(r,a,o){var l=0,u=1<<o-a,h=0;for(r.sort((function(i,f){return f.d==i.d?i.f-f.f:f.d-i.d})),l=0;l<r.length&&r[l].d>a;l++){var d=r[l].d;r[l].d=a,h+=u-(1<<o-d)}for(h>>>=o-a;h>0;)(d=r[l].d)<a?(r[l].d++,h-=1<<a-d-1):l++;for(;l>=0;l--)r[l].d==a&&h<0&&(r[l].d--,h++);h!=0&&console.log("debt left")},s.F._goodIndex=function(r,a){var o=0;return a[16|o]<=r&&(o|=16),a[8|o]<=r&&(o|=8),a[4|o]<=r&&(o|=4),a[2|o]<=r&&(o|=2),a[1|o]<=r&&(o|=1),o},s.F._writeLit=function(r,a,o,l){return s.F._putsF(o,l,a[r<<1]),l+a[1+(r<<1)]},s.F.inflate=function(r,a){var o=Uint8Array;if(r[0]==3&&r[1]==0)return a||new o(0);var l=s.F,u=l._bitsF,h=l._bitsE,d=l._decodeTiny,i=l.makeCodes,f=l.codes2map,m=l._get17,g=l.U,b=a==null;b&&(a=new o(r.length>>>2<<3));for(var x,v,S=0,z=0,C=0,M=0,_=0,D=0,w=0,y=0,A=0;S==0;)if(S=u(r,A,1),z=u(r,A+1,2),A+=3,z!=0){if(b&&(a=s.F._check(a,y+(1<<17))),z==1&&(x=g.flmap,v=g.fdmap,D=511,w=31),z==2){C=h(r,A,5)+257,M=h(r,A+5,5)+1,_=h(r,A+10,4)+4,A+=14;for(var R=0;R<38;R+=2)g.itree[R]=0,g.itree[R+1]=0;var E=1;for(R=0;R<_;R++){var I=h(r,A+3*R,3);g.itree[1+(g.ordr[R]<<1)]=I,I>E&&(E=I)}A+=3*_,i(g.itree,E),f(g.itree,E,g.imap),x=g.lmap,v=g.dmap,A=d(g.imap,(1<<E)-1,C+M,r,A,g.ttree);var N=l._copyOut(g.ttree,0,C,g.ltree);D=(1<<N)-1;var F=l._copyOut(g.ttree,C,M,g.dtree);w=(1<<F)-1,i(g.ltree,N),f(g.ltree,N,x),i(g.dtree,F),f(g.dtree,F,v)}for(;;){var j=x[m(r,A)&D];A+=15&j;var k=j>>>4;if(!(k>>>8))a[y++]=k;else{if(k==256)break;var P=y+k-254;if(k>264){var T=g.ldef[k-257];P=y+(T>>>3)+h(r,A,7&T),A+=7&T}var O=v[m(r,A)&w];A+=15&O;var q=O>>>4,B=g.ddef[q],H=(B>>>4)+u(r,A,15&B);for(A+=15&B,b&&(a=s.F._check(a,y+(1<<17)));y<P;)a[y]=a[y++-H],a[y]=a[y++-H],a[y]=a[y++-H],a[y]=a[y++-H];y=P}}}else{(7&A)!=0&&(A+=8-(7&A));var U=4+(A>>>3),L=r[U-4]|r[U-3]<<8;b&&(a=s.F._check(a,y+L)),a.set(new o(r.buffer,r.byteOffset+U,L),y),A=U+L<<3,y+=L}return a.length==y?a:a.slice(0,y)},s.F._check=function(r,a){var o=r.length;if(a<=o)return r;var l=new Uint8Array(Math.max(o<<1,a));return l.set(r,0),l},s.F._decodeTiny=function(r,a,o,l,u,h){for(var d=s.F._bitsE,i=s.F._get17,f=0;f<o;){var m=r[i(l,u)&a];u+=15&m;var g=m>>>4;if(g<=15)h[f]=g,f++;else{var b=0,x=0;g==16?(x=3+d(l,u,2),u+=2,b=h[f-1]):g==17?(x=3+d(l,u,3),u+=3):g==18&&(x=11+d(l,u,7),u+=7);for(var v=f+x;f<v;)h[f]=b,f++}}return u},s.F._copyOut=function(r,a,o,l){for(var u=0,h=0,d=l.length>>>1;h<o;){var i=r[h+a];l[h<<1]=0,l[1+(h<<1)]=i,i>u&&(u=i),h++}for(;h<d;)l[h<<1]=0,l[1+(h<<1)]=0,h++;return u},s.F.makeCodes=function(r,a){for(var o,l,u,h,d=s.F.U,i=r.length,f=d.bl_count,m=0;m<=a;m++)f[m]=0;for(m=1;m<i;m+=2)f[r[m]]++;var g=d.next_code;for(o=0,f[0]=0,l=1;l<=a;l++)o=o+f[l-1]<<1,g[l]=o;for(u=0;u<i;u+=2)(h=r[u+1])!=0&&(r[u]=g[h],g[h]++)},s.F.codes2map=function(r,a,o){for(var l=r.length,u=s.F.U.rev15,h=0;h<l;h+=2)if(r[h+1]!=0)for(var d=h>>1,i=r[h+1],f=d<<4|i,m=a-i,g=r[h]<<m,b=g+(1<<m);g!=b;)o[u[g]>>>15-a]=f,g++},s.F.revCodes=function(r,a){for(var o=s.F.U.rev15,l=15-a,u=0;u<r.length;u+=2)r[u]=o[r[u]<<a-r[u+1]]>>>l},s.F._putsE=function(r,a,o){o<<=7&a;var l=a>>>3;r[l]|=o,r[l+1]|=o>>>8},s.F._putsF=function(r,a,o){o<<=7&a;var l=a>>>3;r[l]|=o,r[l+1]|=o>>>8,r[l+2]|=o>>>16},s.F._bitsE=function(r,a,o){return(r[a>>>3]|r[1+(a>>>3)]<<8)>>>(7&a)&(1<<o)-1},s.F._bitsF=function(r,a,o){return(r[a>>>3]|r[1+(a>>>3)]<<8|r[2+(a>>>3)]<<16)>>>(7&a)&(1<<o)-1},s.F._get17=function(r,a){return(r[a>>>3]|r[1+(a>>>3)]<<8|r[2+(a>>>3)]<<16)>>>(7&a)},s.F._get25=function(r,a){return(r[a>>>3]|r[1+(a>>>3)]<<8|r[2+(a>>>3)]<<16|r[3+(a>>>3)]<<24)>>>(7&a)},s.F.U=(e=Uint16Array,n=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new e(65536),prev:new e(32768)}),(function(){for(var r=s.F.U,a=0;a<32768;a++){var o=a;o=(4278255360&(o=(4042322160&(o=(3435973836&(o=(2863311530&o)>>>1|(1431655765&o)<<1))>>>2|(858993459&o)<<2))>>>4|(252645135&o)<<4))>>>8|(16711935&o)<<8,r.rev15[a]=(o>>>16|o<<16)>>>17}function l(u,h,d){for(;h--!=0;)u.push(0,d)}for(a=0;a<32;a++)r.ldef[a]=r.of0[a]<<3|r.exb[a],r.ddef[a]=r.df0[a]<<4|r.dxb[a];l(r.fltree,144,8),l(r.fltree,112,9),l(r.fltree,24,7),l(r.fltree,8,8),s.F.makeCodes(r.fltree,9),s.F.codes2map(r.fltree,9,r.flmap),s.F.revCodes(r.fltree,9),l(r.fdtree,32,5),s.F.makeCodes(r.fdtree,5),s.F.codes2map(r.fdtree,5,r.fdmap),s.F.revCodes(r.fdtree,5),l(r.itree,19,0),l(r.ltree,286,0),l(r.dtree,30,0),l(r.ttree,320,0)})()})();var el=Ji({__proto__:null,default:on},[on]),st=(function(){var t={nextZero(d,i){for(;d[i]!=0;)i++;return i},readUshort:(d,i)=>d[i]<<8|d[i+1],writeUshort(d,i,f){d[i]=f>>8&255,d[i+1]=255&f},readUint:(d,i)=>16777216*d[i]+(d[i+1]<<16|d[i+2]<<8|d[i+3]),writeUint(d,i,f){d[i]=f>>24&255,d[i+1]=f>>16&255,d[i+2]=f>>8&255,d[i+3]=255&f},readASCII(d,i,f){let m="";for(let g=0;g<f;g++)m+=String.fromCharCode(d[i+g]);return m},writeASCII(d,i,f){for(let m=0;m<f.length;m++)d[i+m]=f.charCodeAt(m)},readBytes(d,i,f){const m=[];for(let g=0;g<f;g++)m.push(d[i+g]);return m},pad:d=>d.length<2?`0${d}`:d,readUTF8(d,i,f){let m,g="";for(let b=0;b<f;b++)g+=`%${t.pad(d[i+b].toString(16))}`;try{m=decodeURIComponent(g)}catch{return t.readASCII(d,i,f)}return m}};function e(d,i,f,m){const g=i*f,b=a(m),x=Math.ceil(i*b/8),v=new Uint8Array(4*g),S=new Uint32Array(v.buffer),{ctype:z}=m,{depth:C}=m,M=t.readUshort;if(z==6){const T=g<<2;if(C==8)for(var _=0;_<T;_+=4)v[_]=d[_],v[_+1]=d[_+1],v[_+2]=d[_+2],v[_+3]=d[_+3];if(C==16)for(_=0;_<T;_++)v[_]=d[_<<1]}else if(z==2){const T=m.tabs.tRNS;if(T==null){if(C==8)for(_=0;_<g;_++){var D=3*_;S[_]=255<<24|d[D+2]<<16|d[D+1]<<8|d[D]}if(C==16)for(_=0;_<g;_++)D=6*_,S[_]=255<<24|d[D+4]<<16|d[D+2]<<8|d[D]}else{var w=T[0];const O=T[1],q=T[2];if(C==8)for(_=0;_<g;_++){var y=_<<2;D=3*_,S[_]=255<<24|d[D+2]<<16|d[D+1]<<8|d[D],d[D]==w&&d[D+1]==O&&d[D+2]==q&&(v[y+3]=0)}if(C==16)for(_=0;_<g;_++)y=_<<2,D=6*_,S[_]=255<<24|d[D+4]<<16|d[D+2]<<8|d[D],M(d,D)==w&&M(d,D+2)==O&&M(d,D+4)==q&&(v[y+3]=0)}}else if(z==3){const T=m.tabs.PLTE,O=m.tabs.tRNS,q=O?O.length:0;if(C==1)for(var A=0;A<f;A++){var R=A*x,E=A*i;for(_=0;_<i;_++){y=E+_<<2;var I=3*(N=d[R+(_>>3)]>>7-((7&_)<<0)&1);v[y]=T[I],v[y+1]=T[I+1],v[y+2]=T[I+2],v[y+3]=N<q?O[N]:255}}if(C==2)for(A=0;A<f;A++)for(R=A*x,E=A*i,_=0;_<i;_++)y=E+_<<2,I=3*(N=d[R+(_>>2)]>>6-((3&_)<<1)&3),v[y]=T[I],v[y+1]=T[I+1],v[y+2]=T[I+2],v[y+3]=N<q?O[N]:255;if(C==4)for(A=0;A<f;A++)for(R=A*x,E=A*i,_=0;_<i;_++)y=E+_<<2,I=3*(N=d[R+(_>>1)]>>4-((1&_)<<2)&15),v[y]=T[I],v[y+1]=T[I+1],v[y+2]=T[I+2],v[y+3]=N<q?O[N]:255;if(C==8)for(_=0;_<g;_++){var N;y=_<<2,I=3*(N=d[_]),v[y]=T[I],v[y+1]=T[I+1],v[y+2]=T[I+2],v[y+3]=N<q?O[N]:255}}else if(z==4){if(C==8)for(_=0;_<g;_++){y=_<<2;var F=d[j=_<<1];v[y]=F,v[y+1]=F,v[y+2]=F,v[y+3]=d[j+1]}if(C==16)for(_=0;_<g;_++){var j;y=_<<2,F=d[j=_<<2],v[y]=F,v[y+1]=F,v[y+2]=F,v[y+3]=d[j+2]}}else if(z==0)for(w=m.tabs.tRNS?m.tabs.tRNS:-1,A=0;A<f;A++){const T=A*x,O=A*i;if(C==1)for(var k=0;k<i;k++){var P=(F=255*(d[T+(k>>>3)]>>>7-(7&k)&1))==255*w?0:255;S[O+k]=P<<24|F<<16|F<<8|F}else if(C==2)for(k=0;k<i;k++)P=(F=85*(d[T+(k>>>2)]>>>6-((3&k)<<1)&3))==85*w?0:255,S[O+k]=P<<24|F<<16|F<<8|F;else if(C==4)for(k=0;k<i;k++)P=(F=17*(d[T+(k>>>1)]>>>4-((1&k)<<2)&15))==17*w?0:255,S[O+k]=P<<24|F<<16|F<<8|F;else if(C==8)for(k=0;k<i;k++)P=(F=d[T+k])==w?0:255,S[O+k]=P<<24|F<<16|F<<8|F;else if(C==16)for(k=0;k<i;k++)F=d[T+(k<<1)],P=M(d,T+(k<<1))==w?0:255,S[O+k]=P<<24|F<<16|F<<8|F}return v}function n(d,i,f,m){const g=a(d),b=Math.ceil(f*g/8),x=new Uint8Array((b+1+d.interlace)*m);return i=d.tabs.CgBI?r(i,x):s(i,x),d.interlace==0?i=o(i,d,0,f,m):d.interlace==1&&(i=(function(S,z){const C=z.width,M=z.height,_=a(z),D=_>>3,w=Math.ceil(C*_/8),y=new Uint8Array(M*w);let A=0;const R=[0,0,4,0,2,0,1],E=[0,4,0,2,0,1,0],I=[8,8,8,4,4,2,2],N=[8,8,4,4,2,2,1];let F=0;for(;F<7;){const k=I[F],P=N[F];let T=0,O=0,q=R[F];for(;q<M;)q+=k,O++;let B=E[F];for(;B<C;)B+=P,T++;const H=Math.ceil(T*_/8);o(S,z,A,T,O);let U=0,L=R[F];for(;L<M;){let V=E[F],Z=A+U*H<<3;for(;V<C;){var j;if(_==1&&(j=(j=S[Z>>3])>>7-(7&Z)&1,y[L*w+(V>>3)]|=j<<7-((7&V)<<0)),_==2&&(j=(j=S[Z>>3])>>6-(7&Z)&3,y[L*w+(V>>2)]|=j<<6-((3&V)<<1)),_==4&&(j=(j=S[Z>>3])>>4-(7&Z)&15,y[L*w+(V>>1)]|=j<<4-((1&V)<<2)),_>=8){const X=L*w+V*D;for(let W=0;W<D;W++)y[X+W]=S[(Z>>3)+W]}Z+=_,V+=P}U++,L+=k}T*O!=0&&(A+=O*(1+H)),F+=1}return y})(i,d)),i}function s(d,i){return r(new Uint8Array(d.buffer,2,d.length-6),i)}var r=(function(){const d={H:{}};return d.H.N=function(i,f){const m=Uint8Array;let g,b,x=0,v=0,S=0,z=0,C=0,M=0,_=0,D=0,w=0;if(i[0]==3&&i[1]==0)return f||new m(0);const y=d.H,A=y.b,R=y.e,E=y.R,I=y.n,N=y.A,F=y.Z,j=y.m,k=f==null;for(k&&(f=new m(i.length>>>2<<5));x==0;)if(x=A(i,w,1),v=A(i,w+1,2),w+=3,v!=0){if(k&&(f=d.H.W(f,D+(1<<17))),v==1&&(g=j.J,b=j.h,M=511,_=31),v==2){S=R(i,w,5)+257,z=R(i,w+5,5)+1,C=R(i,w+10,4)+4,w+=14;let T=1;for(var P=0;P<38;P+=2)j.Q[P]=0,j.Q[P+1]=0;for(P=0;P<C;P++){const B=R(i,w+3*P,3);j.Q[1+(j.X[P]<<1)]=B,B>T&&(T=B)}w+=3*C,I(j.Q,T),N(j.Q,T,j.u),g=j.w,b=j.d,w=E(j.u,(1<<T)-1,S+z,i,w,j.v);const O=y.V(j.v,0,S,j.C);M=(1<<O)-1;const q=y.V(j.v,S,z,j.D);_=(1<<q)-1,I(j.C,O),N(j.C,O,g),I(j.D,q),N(j.D,q,b)}for(;;){const T=g[F(i,w)&M];w+=15&T;const O=T>>>4;if(!(O>>>8))f[D++]=O;else{if(O==256)break;{let q=D+O-254;if(O>264){const V=j.q[O-257];q=D+(V>>>3)+R(i,w,7&V),w+=7&V}const B=b[F(i,w)&_];w+=15&B;const H=B>>>4,U=j.c[H],L=(U>>>4)+A(i,w,15&U);for(w+=15&U;D<q;)f[D]=f[D++-L],f[D]=f[D++-L],f[D]=f[D++-L],f[D]=f[D++-L];D=q}}}}else{(7&w)!=0&&(w+=8-(7&w));const T=4+(w>>>3),O=i[T-4]|i[T-3]<<8;k&&(f=d.H.W(f,D+O)),f.set(new m(i.buffer,i.byteOffset+T,O),D),w=T+O<<3,D+=O}return f.length==D?f:f.slice(0,D)},d.H.W=function(i,f){const m=i.length;if(f<=m)return i;const g=new Uint8Array(m<<1);return g.set(i,0),g},d.H.R=function(i,f,m,g,b,x){const v=d.H.e,S=d.H.Z;let z=0;for(;z<m;){const C=i[S(g,b)&f];b+=15&C;const M=C>>>4;if(M<=15)x[z]=M,z++;else{let _=0,D=0;M==16?(D=3+v(g,b,2),b+=2,_=x[z-1]):M==17?(D=3+v(g,b,3),b+=3):M==18&&(D=11+v(g,b,7),b+=7);const w=z+D;for(;z<w;)x[z]=_,z++}}return b},d.H.V=function(i,f,m,g){let b=0,x=0;const v=g.length>>>1;for(;x<m;){const S=i[x+f];g[x<<1]=0,g[1+(x<<1)]=S,S>b&&(b=S),x++}for(;x<v;)g[x<<1]=0,g[1+(x<<1)]=0,x++;return b},d.H.n=function(i,f){const m=d.H.m,g=i.length;let b,x,v,S;const z=m.j;for(var C=0;C<=f;C++)z[C]=0;for(C=1;C<g;C+=2)z[i[C]]++;const M=m.K;for(b=0,z[0]=0,x=1;x<=f;x++)b=b+z[x-1]<<1,M[x]=b;for(v=0;v<g;v+=2)S=i[v+1],S!=0&&(i[v]=M[S],M[S]++)},d.H.A=function(i,f,m){const g=i.length,b=d.H.m.r;for(let x=0;x<g;x+=2)if(i[x+1]!=0){const v=x>>1,S=i[x+1],z=v<<4|S,C=f-S;let M=i[x]<<C;const _=M+(1<<C);for(;M!=_;)m[b[M]>>>15-f]=z,M++}},d.H.l=function(i,f){const m=d.H.m.r,g=15-f;for(let b=0;b<i.length;b+=2)i[b]=m[i[b]<<f-i[b+1]]>>>g},d.H.M=function(i,f,m){m<<=7&f;const g=f>>>3;i[g]|=m,i[g+1]|=m>>>8},d.H.I=function(i,f,m){m<<=7&f;const g=f>>>3;i[g]|=m,i[g+1]|=m>>>8,i[g+2]|=m>>>16},d.H.e=function(i,f,m){return(i[f>>>3]|i[1+(f>>>3)]<<8)>>>(7&f)&(1<<m)-1},d.H.b=function(i,f,m){return(i[f>>>3]|i[1+(f>>>3)]<<8|i[2+(f>>>3)]<<16)>>>(7&f)&(1<<m)-1},d.H.Z=function(i,f){return(i[f>>>3]|i[1+(f>>>3)]<<8|i[2+(f>>>3)]<<16)>>>(7&f)},d.H.i=function(i,f){return(i[f>>>3]|i[1+(f>>>3)]<<8|i[2+(f>>>3)]<<16|i[3+(f>>>3)]<<24)>>>(7&f)},d.H.m=(function(){const i=Uint16Array,f=Uint32Array;return{K:new i(16),j:new i(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new i(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new f(32),J:new i(512),_:[],h:new i(32),$:[],w:new i(32768),C:[],v:[],d:new i(32768),D:[],u:new i(512),Q:[],r:new i(32768),s:new f(286),Y:new f(30),a:new f(19),t:new f(15e3),k:new i(65536),g:new i(32768)}})(),(function(){const i=d.H.m;for(var f=0;f<32768;f++){let g=f;g=(2863311530&g)>>>1|(1431655765&g)<<1,g=(3435973836&g)>>>2|(858993459&g)<<2,g=(4042322160&g)>>>4|(252645135&g)<<4,g=(4278255360&g)>>>8|(16711935&g)<<8,i.r[f]=(g>>>16|g<<16)>>>17}function m(g,b,x){for(;b--!=0;)g.push(0,x)}for(f=0;f<32;f++)i.q[f]=i.S[f]<<3|i.T[f],i.c[f]=i.p[f]<<4|i.z[f];m(i._,144,8),m(i._,112,9),m(i._,24,7),m(i._,8,8),d.H.n(i._,9),d.H.A(i._,9,i.J),d.H.l(i._,9),m(i.$,32,5),d.H.n(i.$,5),d.H.A(i.$,5,i.h),d.H.l(i.$,5),m(i.Q,19,0),m(i.C,286,0),m(i.D,30,0),m(i.v,320,0)})(),d.H.N})();function a(d){return[1,null,3,1,2,null,4][d.ctype]*d.depth}function o(d,i,f,m,g){let b=a(i);const x=Math.ceil(m*b/8);let v,S;b=Math.ceil(b/8);let z=d[f],C=0;if(z>1&&(d[f]=[0,0,1][z-2]),z==3)for(C=b;C<x;C++)d[C+1]=d[C+1]+(d[C+1-b]>>>1)&255;for(let M=0;M<g;M++)if(v=f+M*x,S=v+M+1,z=d[S-1],C=0,z==0)for(;C<x;C++)d[v+C]=d[S+C];else if(z==1){for(;C<b;C++)d[v+C]=d[S+C];for(;C<x;C++)d[v+C]=d[S+C]+d[v+C-b]}else if(z==2)for(;C<x;C++)d[v+C]=d[S+C]+d[v+C-x];else if(z==3){for(;C<b;C++)d[v+C]=d[S+C]+(d[v+C-x]>>>1);for(;C<x;C++)d[v+C]=d[S+C]+(d[v+C-x]+d[v+C-b]>>>1)}else{for(;C<b;C++)d[v+C]=d[S+C]+l(0,d[v+C-x],0);for(;C<x;C++)d[v+C]=d[S+C]+l(d[v+C-b],d[v+C-x],d[v+C-b-x])}return d}function l(d,i,f){const m=d+i-f,g=m-d,b=m-i,x=m-f;return g*g<=b*b&&g*g<=x*x?d:b*b<=x*x?i:f}function u(d,i,f){f.width=t.readUint(d,i),i+=4,f.height=t.readUint(d,i),i+=4,f.depth=d[i],i++,f.ctype=d[i],i++,f.compress=d[i],i++,f.filter=d[i],i++,f.interlace=d[i],i++}function h(d,i,f,m,g,b,x,v,S){const z=Math.min(i,g),C=Math.min(f,b);let M=0,_=0;for(let F=0;F<C;F++)for(let j=0;j<z;j++)if(x>=0&&v>=0?(M=F*i+j<<2,_=(v+F)*g+x+j<<2):(M=(-v+F)*i-x+j<<2,_=F*g+j<<2),S==0)m[_]=d[M],m[_+1]=d[M+1],m[_+2]=d[M+2],m[_+3]=d[M+3];else if(S==1){var D=d[M+3]*.00392156862745098,w=d[M]*D,y=d[M+1]*D,A=d[M+2]*D,R=m[_+3]*(1/255),E=m[_]*R,I=m[_+1]*R,N=m[_+2]*R;const k=1-D,P=D+R*k,T=P==0?0:1/P;m[_+3]=255*P,m[_+0]=(w+E*k)*T,m[_+1]=(y+I*k)*T,m[_+2]=(A+N*k)*T}else if(S==2)D=d[M+3],w=d[M],y=d[M+1],A=d[M+2],R=m[_+3],E=m[_],I=m[_+1],N=m[_+2],D==R&&w==E&&y==I&&A==N?(m[_]=0,m[_+1]=0,m[_+2]=0,m[_+3]=0):(m[_]=w,m[_+1]=y,m[_+2]=A,m[_+3]=D);else if(S==3){if(D=d[M+3],w=d[M],y=d[M+1],A=d[M+2],R=m[_+3],E=m[_],I=m[_+1],N=m[_+2],D==R&&w==E&&y==I&&A==N)continue;if(D<220&&R>20)return!1}return!0}return{decode:function(i){const f=new Uint8Array(i);let m=8;const g=t,b=g.readUshort,x=g.readUint,v={tabs:{},frames:[]},S=new Uint8Array(f.length);let z,C=0,M=0;const _=[137,80,78,71,13,10,26,10];for(var D=0;D<8;D++)if(f[D]!=_[D])throw"The input is not a PNG file!";for(;m<f.length;){const F=g.readUint(f,m);m+=4;const j=g.readASCII(f,m,4);if(m+=4,j=="IHDR")u(f,m,v);else if(j=="iCCP"){for(var w=m;f[w]!=0;)w++;g.readASCII(f,m,w-m),f[w+1];const k=f.slice(w+2,m+F);let P=null;try{P=s(k)}catch{P=r(k)}v.tabs[j]=P}else if(j=="CgBI")v.tabs[j]=f.slice(m,m+4);else if(j=="IDAT"){for(D=0;D<F;D++)S[C+D]=f[m+D];C+=F}else if(j=="acTL")v.tabs[j]={num_frames:x(f,m),num_plays:x(f,m+4)},z=new Uint8Array(f.length);else if(j=="fcTL"){M!=0&&((N=v.frames[v.frames.length-1]).data=n(v,z.slice(0,M),N.rect.width,N.rect.height),M=0);const k={x:x(f,m+12),y:x(f,m+16),width:x(f,m+4),height:x(f,m+8)};let P=b(f,m+22);P=b(f,m+20)/(P==0?100:P);const T={rect:k,delay:Math.round(1e3*P),dispose:f[m+24],blend:f[m+25]};v.frames.push(T)}else if(j=="fdAT"){for(D=0;D<F-4;D++)z[M+D]=f[m+D+4];M+=F-4}else if(j=="pHYs")v.tabs[j]=[g.readUint(f,m),g.readUint(f,m+4),f[m+8]];else if(j=="cHRM")for(v.tabs[j]=[],D=0;D<8;D++)v.tabs[j].push(g.readUint(f,m+4*D));else if(j=="tEXt"||j=="zTXt"){v.tabs[j]??(v.tabs[j]={});var y=g.nextZero(f,m),A=g.readASCII(f,m,y-m),R=m+F-y-1;if(j=="tEXt")I=g.readASCII(f,y+1,R);else{var E=s(f.slice(y+2,y+2+R));I=g.readUTF8(E,0,E.length)}v.tabs[j][A]=I}else if(j=="iTXt"){v.tabs[j]??(v.tabs[j]={}),y=0,w=m,y=g.nextZero(f,w),A=g.readASCII(f,w,y-w);const k=f[w=y+1];var I;f[w+1],w+=2,y=g.nextZero(f,w),g.readASCII(f,w,y-w),w=y+1,y=g.nextZero(f,w),g.readUTF8(f,w,y-w),R=F-((w=y+1)-m),k==0?I=g.readUTF8(f,w,R):(E=s(f.slice(w,w+R)),I=g.readUTF8(E,0,E.length)),v.tabs[j][A]=I}else if(j=="PLTE")v.tabs[j]=g.readBytes(f,m,F);else if(j=="hIST"){const k=v.tabs.PLTE.length/3;for(v.tabs[j]=[],D=0;D<k;D++)v.tabs[j].push(b(f,m+2*D))}else if(j=="tRNS")v.ctype==3?v.tabs[j]=g.readBytes(f,m,F):v.ctype==0?v.tabs[j]=b(f,m):v.ctype==2&&(v.tabs[j]=[b(f,m),b(f,m+2),b(f,m+4)]);else if(j=="gAMA")v.tabs[j]=g.readUint(f,m)/1e5;else if(j=="sRGB")v.tabs[j]=f[m];else if(j=="bKGD")v.ctype==0||v.ctype==4?v.tabs[j]=[b(f,m)]:v.ctype==2||v.ctype==6?v.tabs[j]=[b(f,m),b(f,m+2),b(f,m+4)]:v.ctype==3&&(v.tabs[j]=f[m]);else if(j=="IEND")break;m+=F,g.readUint(f,m),m+=4}var N;return M!=0&&((N=v.frames[v.frames.length-1]).data=n(v,z.slice(0,M),N.rect.width,N.rect.height)),v.data=n(v,S,v.width,v.height),delete v.compress,delete v.interlace,delete v.filter,v},toRGBA8:function(i){const f=i.width,m=i.height;if(i.tabs.acTL==null)return[e(i.data,f,m,i).buffer];const g=[];i.frames[0].data??(i.frames[0].data=i.data);const b=f*m*4,x=new Uint8Array(b),v=new Uint8Array(b),S=new Uint8Array(b);for(let C=0;C<i.frames.length;C++){const M=i.frames[C],_=M.rect.x,D=M.rect.y,w=M.rect.width,y=M.rect.height,A=e(M.data,w,y,i);if(C!=0)for(var z=0;z<b;z++)S[z]=x[z];if(M.blend==0?h(A,w,y,x,f,m,_,D,0):M.blend==1&&h(A,w,y,x,f,m,_,D,1),g.push(x.buffer.slice(0)),M.dispose!=0){if(M.dispose==1)h(v,w,y,x,f,m,_,D,0);else if(M.dispose==2)for(z=0;z<b;z++)x[z]=S[z]}}return g},_paeth:l,_copyTile:h,_bin:t}})();(function(){const{_copyTile:t}=st,{_bin:e}=st,n=st._paeth;var s={table:(function(){const w=new Uint32Array(256);for(let y=0;y<256;y++){let A=y;for(let R=0;R<8;R++)1&A?A=3988292384^A>>>1:A>>>=1;w[y]=A}return w})(),update(w,y,A,R){for(let E=0;E<R;E++)w=s.table[255&(w^y[A+E])]^w>>>8;return w},crc:(w,y,A)=>4294967295^s.update(4294967295,w,y,A)};function r(w,y,A,R){y[A]+=w[0]*R>>4,y[A+1]+=w[1]*R>>4,y[A+2]+=w[2]*R>>4,y[A+3]+=w[3]*R>>4}function a(w){return Math.max(0,Math.min(255,w))}function o(w,y){const A=w[0]-y[0],R=w[1]-y[1],E=w[2]-y[2],I=w[3]-y[3];return A*A+R*R+E*E+I*I}function l(w,y,A,R,E,I,N){N??=1;const F=R.length,j=[];for(var k=0;k<F;k++){const L=R[k];j.push([L>>>0&255,L>>>8&255,L>>>16&255,L>>>24&255])}for(k=0;k<F;k++){let L=4294967295;for(var P=0,T=0;T<F;T++){var O=o(j[k],j[T]);T!=k&&O<L&&(L=O,P=T)}}const q=new Uint32Array(E.buffer),B=new Int16Array(y*A*4),H=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(k=0;k<H.length;k++)H[k]=255*((H[k]+.5)/16-.5);for(let L=0;L<A;L++)for(let V=0;V<y;V++){var U;k=4*(L*y+V),N!=2?U=[a(w[k]+B[k]),a(w[k+1]+B[k+1]),a(w[k+2]+B[k+2]),a(w[k+3]+B[k+3])]:(O=H[4*(3&L)+(3&V)],U=[a(w[k]+O),a(w[k+1]+O),a(w[k+2]+O),a(w[k+3]+O)]),P=0;let Z=16777215;for(T=0;T<F;T++){const ee=o(U,j[T]);ee<Z&&(Z=ee,P=T)}const X=j[P],W=[U[0]-X[0],U[1]-X[1],U[2]-X[2],U[3]-X[3]];N==1&&(V!=y-1&&r(W,B,k+4,7),L!=A-1&&(V!=0&&r(W,B,k+4*y-4,3),r(W,B,k+4*y,5),V!=y-1&&r(W,B,k+4*y+4,1))),I[k>>2]=P,q[k>>2]=R[P]}}function u(w,y,A,R,E){E??={};const{crc:I}=s,N=e.writeUint,F=e.writeUshort,j=e.writeASCII;let k=8;const P=w.frames.length>1;let T,O=!1,q=33+(P?20:0);if(E.sRGB!=null&&(q+=13),E.pHYs!=null&&(q+=21),E.iCCP!=null&&(T=pako.deflate(E.iCCP),q+=21+T.length+4),w.ctype==3){for(var B=w.plte.length,H=0;H<B;H++)w.plte[H]>>>24!=255&&(O=!0);q+=8+3*B+4+(O?8+1*B+4:0)}for(var U=0;U<w.frames.length;U++)P&&(q+=38),q+=(X=w.frames[U]).cimg.length+12,U!=0&&(q+=4);q+=12;const L=new Uint8Array(q),V=[137,80,78,71,13,10,26,10];for(H=0;H<8;H++)L[H]=V[H];if(N(L,k,13),k+=4,j(L,k,"IHDR"),k+=4,N(L,k,y),k+=4,N(L,k,A),k+=4,L[k]=w.depth,k++,L[k]=w.ctype,k++,L[k]=0,k++,L[k]=0,k++,L[k]=0,k++,N(L,k,I(L,k-17,17)),k+=4,E.sRGB!=null&&(N(L,k,1),k+=4,j(L,k,"sRGB"),k+=4,L[k]=E.sRGB,k++,N(L,k,I(L,k-5,5)),k+=4),E.iCCP!=null){const W=13+T.length;N(L,k,W),k+=4,j(L,k,"iCCP"),k+=4,j(L,k,"ICC profile"),k+=11,k+=2,L.set(T,k),k+=T.length,N(L,k,I(L,k-(W+4),W+4)),k+=4}if(E.pHYs!=null&&(N(L,k,9),k+=4,j(L,k,"pHYs"),k+=4,N(L,k,E.pHYs[0]),k+=4,N(L,k,E.pHYs[1]),k+=4,L[k]=E.pHYs[2],k++,N(L,k,I(L,k-13,13)),k+=4),P&&(N(L,k,8),k+=4,j(L,k,"acTL"),k+=4,N(L,k,w.frames.length),k+=4,N(L,k,E.loop!=null?E.loop:0),k+=4,N(L,k,I(L,k-12,12)),k+=4),w.ctype==3){for(N(L,k,3*(B=w.plte.length)),k+=4,j(L,k,"PLTE"),k+=4,H=0;H<B;H++){const W=3*H,ee=w.plte[H],K=255&ee,Q=ee>>>8&255,te=ee>>>16&255;L[k+W+0]=K,L[k+W+1]=Q,L[k+W+2]=te}if(k+=3*B,N(L,k,I(L,k-3*B-4,3*B+4)),k+=4,O){for(N(L,k,B),k+=4,j(L,k,"tRNS"),k+=4,H=0;H<B;H++)L[k+H]=w.plte[H]>>>24&255;k+=B,N(L,k,I(L,k-B-4,B+4)),k+=4}}let Z=0;for(U=0;U<w.frames.length;U++){var X=w.frames[U];P&&(N(L,k,26),k+=4,j(L,k,"fcTL"),k+=4,N(L,k,Z++),k+=4,N(L,k,X.rect.width),k+=4,N(L,k,X.rect.height),k+=4,N(L,k,X.rect.x),k+=4,N(L,k,X.rect.y),k+=4,F(L,k,R[U]),k+=2,F(L,k,1e3),k+=2,L[k]=X.dispose,k++,L[k]=X.blend,k++,N(L,k,I(L,k-30,30)),k+=4);const W=X.cimg;N(L,k,(B=W.length)+(U==0?0:4)),k+=4;const ee=k;j(L,k,U==0?"IDAT":"fdAT"),k+=4,U!=0&&(N(L,k,Z++),k+=4),L.set(W,k),k+=B,N(L,k,I(L,ee,k-ee)),k+=4}return N(L,k,0),k+=4,j(L,k,"IEND"),k+=4,N(L,k,I(L,k-4,4)),k+=4,L.buffer}function h(w,y,A){for(let R=0;R<w.frames.length;R++){const E=w.frames[R];E.rect.width;const I=E.rect.height,N=new Uint8Array(I*E.bpl+I);E.cimg=m(E.img,I,E.bpp,E.bpl,N,y,A)}}function d(w,y,A,R,E){const I=E[0],N=E[1],F=E[2],j=E[3],k=E[4],P=E[5];let T=6,O=8,q=255;for(var B=0;B<w.length;B++){const ne=new Uint8Array(w[B]);for(var H=ne.length,U=0;U<H;U+=4)q&=ne[U+3]}const L=q!=255,V=(function(re,le,ae,be,ye,ce){const ve=[];for(var me=0;me<re.length;me++){const de=new Uint8Array(re[me]),Ce=new Uint32Array(de.buffer);var _e;let ke=0,ze=0,Ee=le,Me=ae,Ke=be?1:0;if(me!=0){const se=ce||be||me==1||ve[me-2].dispose!=0?1:2;let xe=0,je=1e9;for(let Ae=0;Ae<se;Ae++){var Se=new Uint8Array(re[me-1-Ae]);const Te=new Uint32Array(re[me-1-Ae]);let De=le,Ne=ae,$=-1,he=-1;for(let pe=0;pe<ae;pe++)for(let fe=0;fe<le;fe++)Ce[Re=pe*le+fe]!=Te[Re]&&(fe<De&&(De=fe),fe>$&&($=fe),pe<Ne&&(Ne=pe),pe>he&&(he=pe));$==-1&&(De=Ne=$=he=0),ye&&((1&De)==1&&De--,(1&Ne)==1&&Ne--);const ue=($-De+1)*(he-Ne+1);ue<je&&(je=ue,xe=Ae,ke=De,ze=Ne,Ee=$-De+1,Me=he-Ne+1)}Se=new Uint8Array(re[me-1-xe]),xe==1&&(ve[me-1].dispose=2),_e=new Uint8Array(Ee*Me*4),t(Se,le,ae,_e,Ee,Me,-ke,-ze,0),Ke=t(de,le,ae,_e,Ee,Me,-ke,-ze,3)?1:0,Ke==1?f(de,le,ae,_e,{x:ke,y:ze,width:Ee,height:Me}):t(de,le,ae,_e,Ee,Me,-ke,-ze,0)}else _e=de.slice(0);ve.push({rect:{x:ke,y:ze,width:Ee,height:Me},img:_e,blend:Ke,dispose:0})}if(be)for(me=0;me<ve.length;me++){if((Ie=ve[me]).blend==1)continue;const de=Ie.rect,Ce=ve[me-1].rect,ke=Math.min(de.x,Ce.x),ze=Math.min(de.y,Ce.y),Ee={x:ke,y:ze,width:Math.max(de.x+de.width,Ce.x+Ce.width)-ke,height:Math.max(de.y+de.height,Ce.y+Ce.height)-ze};ve[me-1].dispose=1,me-1!=0&&i(re,le,ae,ve,me-1,Ee,ye),i(re,le,ae,ve,me,Ee,ye)}let we=0;if(re.length!=1)for(var Re=0;Re<ve.length;Re++){var Ie;we+=(Ie=ve[Re]).rect.width*Ie.rect.height}return ve})(w,y,A,I,N,F),Z={},X=[],W=[];if(R!=0){const ne=[];for(U=0;U<V.length;U++)ne.push(V[U].img.buffer);const re=b((function(be){let ye=0;for(var ce=0;ce<be.length;ce++)ye+=be[ce].byteLength;const ve=new Uint8Array(ye);let me=0;for(ce=0;ce<be.length;ce++){const _e=new Uint8Array(be[ce]),Se=_e.length;for(let we=0;we<Se;we+=4){let Re=_e[we],Ie=_e[we+1],de=_e[we+2];const Ce=_e[we+3];Ce==0&&(Re=Ie=de=0),ve[me+we]=Re,ve[me+we+1]=Ie,ve[me+we+2]=de,ve[me+we+3]=Ce}me+=Se}return ve.buffer})(ne),R);for(U=0;U<re.plte.length;U++)X.push(re.plte[U].est.rgba);let le=0;for(U=0;U<V.length;U++){const ae=(K=V[U]).img.length;var ee=new Uint8Array(re.inds.buffer,le>>2,ae>>2);W.push(ee);const be=new Uint8Array(re.abuf,le,ae);P&&l(K.img,K.rect.width,K.rect.height,X,be,ee),K.img.set(be),le+=ae}}else for(B=0;B<V.length;B++){var K=V[B];const ne=new Uint32Array(K.img.buffer);var Q=K.rect.width;for(H=ne.length,ee=new Uint8Array(H),W.push(ee),U=0;U<H;U++){const re=ne[U];if(U!=0&&re==ne[U-1])ee[U]=ee[U-1];else if(U>Q&&re==ne[U-Q])ee[U]=ee[U-Q];else{let le=Z[re];if(le==null&&(Z[re]=le=X.length,X.push(re),X.length>=300))break;ee[U]=le}}}const te=X.length;for(te<=256&&k==0&&(O=te<=2?1:te<=4?2:te<=16?4:8,O=Math.max(O,j)),B=0;B<V.length;B++){(K=V[B]).rect.x,K.rect.y,Q=K.rect.width;const ne=K.rect.height;let re=K.img;new Uint32Array(re.buffer);let le=4*Q,ae=4;if(te<=256&&k==0){le=Math.ceil(O*Q/8);var J=new Uint8Array(le*ne);const be=W[B];for(let ye=0;ye<ne;ye++){U=ye*le;const ce=ye*Q;if(O==8)for(var G=0;G<Q;G++)J[U+G]=be[ce+G];else if(O==4)for(G=0;G<Q;G++)J[U+(G>>1)]|=be[ce+G]<<4-4*(1&G);else if(O==2)for(G=0;G<Q;G++)J[U+(G>>2)]|=be[ce+G]<<6-2*(3&G);else if(O==1)for(G=0;G<Q;G++)J[U+(G>>3)]|=be[ce+G]<<7-1*(7&G)}re=J,T=3,ae=1}else if(L==0&&V.length==1){J=new Uint8Array(Q*ne*3);const be=Q*ne;for(U=0;U<be;U++){const ye=3*U,ce=4*U;J[ye]=re[ce],J[ye+1]=re[ce+1],J[ye+2]=re[ce+2]}re=J,T=2,ae=3,le=3*Q}K.img=re,K.bpl=le,K.bpp=ae}return{ctype:T,depth:O,plte:X,frames:V}}function i(w,y,A,R,E,I,N){const F=Uint8Array,j=Uint32Array,k=new F(w[E-1]),P=new j(w[E-1]),T=E+1<w.length?new F(w[E+1]):null,O=new F(w[E]),q=new j(O.buffer);let B=y,H=A,U=-1,L=-1;for(let Z=0;Z<I.height;Z++)for(let X=0;X<I.width;X++){const W=I.x+X,ee=I.y+Z,K=ee*y+W,Q=q[K];Q==0||R[E-1].dispose==0&&P[K]==Q&&(T==null||T[4*K+3]!=0)||(W<B&&(B=W),W>U&&(U=W),ee<H&&(H=ee),ee>L&&(L=ee))}U==-1&&(B=H=U=L=0),N&&((1&B)==1&&B--,(1&H)==1&&H--),I={x:B,y:H,width:U-B+1,height:L-H+1};const V=R[E];V.rect=I,V.blend=1,V.img=new Uint8Array(I.width*I.height*4),R[E-1].dispose==0?(t(k,y,A,V.img,I.width,I.height,-I.x,-I.y,0),f(O,y,A,V.img,I)):t(O,y,A,V.img,I.width,I.height,-I.x,-I.y,0)}function f(w,y,A,R,E){t(w,y,A,R,E.width,E.height,-E.x,-E.y,2)}function m(w,y,A,R,E,I,N){const F=[];let j,k=[0,1,2,3,4];I!=-1?k=[I]:(y*R>5e5||A==1)&&(k=[0]),N&&(j={level:0});const P=el;for(var T=0;T<k.length;T++){for(let B=0;B<y;B++)g(E,w,B,R,A,k[T]);F.push(P.deflate(E,j))}let O,q=1e9;for(T=0;T<F.length;T++)F[T].length<q&&(O=T,q=F[T].length);return F[O]}function g(w,y,A,R,E,I){const N=A*R;let F=N+A;if(w[F]=I,F++,I==0)if(R<500)for(var j=0;j<R;j++)w[F+j]=y[N+j];else w.set(new Uint8Array(y.buffer,N,R),F);else if(I==1){for(j=0;j<E;j++)w[F+j]=y[N+j];for(j=E;j<R;j++)w[F+j]=y[N+j]-y[N+j-E]+256&255}else if(A==0){for(j=0;j<E;j++)w[F+j]=y[N+j];if(I==2)for(j=E;j<R;j++)w[F+j]=y[N+j];if(I==3)for(j=E;j<R;j++)w[F+j]=y[N+j]-(y[N+j-E]>>1)+256&255;if(I==4)for(j=E;j<R;j++)w[F+j]=y[N+j]-n(y[N+j-E],0,0)+256&255}else{if(I==2)for(j=0;j<R;j++)w[F+j]=y[N+j]+256-y[N+j-R]&255;if(I==3){for(j=0;j<E;j++)w[F+j]=y[N+j]+256-(y[N+j-R]>>1)&255;for(j=E;j<R;j++)w[F+j]=y[N+j]+256-(y[N+j-R]+y[N+j-E]>>1)&255}if(I==4){for(j=0;j<E;j++)w[F+j]=y[N+j]+256-n(0,y[N+j-R],0)&255;for(j=E;j<R;j++)w[F+j]=y[N+j]+256-n(y[N+j-E],y[N+j-R],y[N+j-E-R])&255}}}function b(w,y){const A=new Uint8Array(w),R=A.slice(0),E=new Uint32Array(R.buffer),I=x(R,y),N=I[0],F=I[1],j=A.length,k=new Uint8Array(j>>2);let P;if(A.length<2e7)for(var T=0;T<j;T+=4)P=v(N,O=A[T]*(1/255),q=A[T+1]*(1/255),B=A[T+2]*(1/255),H=A[T+3]*(1/255)),k[T>>2]=P.ind,E[T>>2]=P.est.rgba;else for(T=0;T<j;T+=4){var O=A[T]*.00392156862745098,q=A[T+1]*(1/255),B=A[T+2]*(1/255),H=A[T+3]*(1/255);for(P=N;P.left;)P=S(P.est,O,q,B,H)<=0?P.left:P.right;k[T>>2]=P.ind,E[T>>2]=P.est.rgba}return{abuf:R.buffer,inds:k,plte:F}}function x(w,y,A){A??=1e-4;const R=new Uint32Array(w.buffer),E={i0:0,i1:w.length,bst:null,est:null,tdst:0,left:null,right:null};E.bst=M(w,E.i0,E.i1),E.est=_(E.bst);const I=[E];for(;I.length<y;){let F=0,j=0;for(var N=0;N<I.length;N++)I[N].est.L>F&&(F=I[N].est.L,j=N);if(F<A)break;const k=I[j],P=z(w,R,k.i0,k.i1,k.est.e,k.est.eMq255);if(k.i0>=P||k.i1<=P){k.est.L=0;continue}const T={i0:k.i0,i1:P,bst:null,est:null,tdst:0,left:null,right:null};T.bst=M(w,T.i0,T.i1),T.est=_(T.bst);const O={i0:P,i1:k.i1,bst:null,est:null,tdst:0,left:null,right:null};for(O.bst={R:[],m:[],N:k.bst.N-T.bst.N},N=0;N<16;N++)O.bst.R[N]=k.bst.R[N]-T.bst.R[N];for(N=0;N<4;N++)O.bst.m[N]=k.bst.m[N]-T.bst.m[N];O.est=_(O.bst),k.left=T,k.right=O,I[j]=T,I.push(O)}for(I.sort(((F,j)=>j.bst.N-F.bst.N)),N=0;N<I.length;N++)I[N].ind=N;return[E,I]}function v(w,y,A,R,E){if(w.left==null)return w.tdst=(function(T,O,q,B,H){const U=O-T[0],L=q-T[1],V=B-T[2],Z=H-T[3];return U*U+L*L+V*V+Z*Z})(w.est.q,y,A,R,E),w;const I=S(w.est,y,A,R,E);let N=w.left,F=w.right;I>0&&(N=w.right,F=w.left);const j=v(N,y,A,R,E);if(j.tdst<=I*I)return j;const k=v(F,y,A,R,E);return k.tdst<j.tdst?k:j}function S(w,y,A,R,E){const{e:I}=w;return I[0]*y+I[1]*A+I[2]*R+I[3]*E-w.eMq}function z(w,y,A,R,E,I){for(R-=4;A<R;){for(;C(w,A,E)<=I;)A+=4;for(;C(w,R,E)>I;)R-=4;if(A>=R)break;const N=y[A>>2];y[A>>2]=y[R>>2],y[R>>2]=N,A+=4,R-=4}for(;C(w,A,E)>I;)A-=4;return A+4}function C(w,y,A){return w[y]*A[0]+w[y+1]*A[1]+w[y+2]*A[2]+w[y+3]*A[3]}function M(w,y,A){const R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],E=[0,0,0,0],I=A-y>>2;for(let N=y;N<A;N+=4){const F=w[N]*.00392156862745098,j=w[N+1]*(1/255),k=w[N+2]*(1/255),P=w[N+3]*(1/255);E[0]+=F,E[1]+=j,E[2]+=k,E[3]+=P,R[0]+=F*F,R[1]+=F*j,R[2]+=F*k,R[3]+=F*P,R[5]+=j*j,R[6]+=j*k,R[7]+=j*P,R[10]+=k*k,R[11]+=k*P,R[15]+=P*P}return R[4]=R[1],R[8]=R[2],R[9]=R[6],R[12]=R[3],R[13]=R[7],R[14]=R[11],{R,m:E,N:I}}function _(w){const{R:y}=w,{m:A}=w,{N:R}=w,E=A[0],I=A[1],N=A[2],F=A[3],j=R==0?0:1/R,k=[y[0]-E*E*j,y[1]-E*I*j,y[2]-E*N*j,y[3]-E*F*j,y[4]-I*E*j,y[5]-I*I*j,y[6]-I*N*j,y[7]-I*F*j,y[8]-N*E*j,y[9]-N*I*j,y[10]-N*N*j,y[11]-N*F*j,y[12]-F*E*j,y[13]-F*I*j,y[14]-F*N*j,y[15]-F*F*j],P=k,T=D;let O=[Math.random(),Math.random(),Math.random(),Math.random()],q=0,B=0;if(R!=0)for(let U=0;U<16&&(O=T.multVec(P,O),B=Math.sqrt(T.dot(O,O)),O=T.sml(1/B,O),!(U!=0&&Math.abs(B-q)<1e-9));U++)q=B;const H=[E*j,I*j,N*j,F*j];return{Cov:k,q:H,e:O,L:q,eMq255:T.dot(T.sml(255,H),O),eMq:T.dot(O,H),rgba:(Math.round(255*H[3])<<24|Math.round(255*H[2])<<16|Math.round(255*H[1])<<8|Math.round(255*H[0])<<0)>>>0}}var D={multVec:(w,y)=>[w[0]*y[0]+w[1]*y[1]+w[2]*y[2]+w[3]*y[3],w[4]*y[0]+w[5]*y[1]+w[6]*y[2]+w[7]*y[3],w[8]*y[0]+w[9]*y[1]+w[10]*y[2]+w[11]*y[3],w[12]*y[0]+w[13]*y[1]+w[14]*y[2]+w[15]*y[3]],dot:(w,y)=>w[0]*y[0]+w[1]*y[1]+w[2]*y[2]+w[3]*y[3],sml:(w,y)=>[w*y[0],w*y[1],w*y[2],w*y[3]]};st.encode=function(y,A,R,E,I,N,F){E??=0,F??=!1;const j=d(y,A,R,E,[!1,!1,!1,0,F,!1]);return h(j,-1),u(j,A,R,I,N)},st.encodeLL=function(y,A,R,E,I,N,F,j){const k={ctype:0+(E==1?0:2)+(I==0?0:4),depth:N,frames:[]},P=(E+I)*N,T=P*A;for(let O=0;O<y.length;O++)k.frames.push({rect:{x:0,y:0,width:A,height:R},img:new Uint8Array(y[O]),blend:0,dispose:1,bpp:Math.ceil(P/8),bpl:Math.ceil(T/8)});return h(k,0,!0),u(k,A,R,F,j)},st.encode.compress=d,st.encode.dither=l,st.quantize=b,st.quantize.getKDtree=x,st.quantize.getNearest=v})();var gs={toArrayBuffer(t,e){const n=t.width,s=t.height,r=n<<2,a=t.getContext("2d").getImageData(0,0,n,s),o=new Uint32Array(a.data.buffer),l=(32*n+31)/32<<2,u=l*s,h=122+u,d=new ArrayBuffer(h),i=new DataView(d),f=1<<20;let m,g,b,x,v=f,S=0,z=0,C=0;function M(w){i.setUint16(z,w,!0),z+=2}function _(w){i.setUint32(z,w,!0),z+=4}function D(w){z+=w}M(19778),_(h),D(4),_(122),_(108),_(n),_(-s>>>0),M(1),M(32),_(3),_(u),_(2835),_(2835),D(8),_(16711680),_(65280),_(255),_(4278190080),_(1466527264),(function w(){for(;S<s&&v>0;){for(x=122+S*l,m=0;m<r;)v--,g=o[C++],b=g>>>24,i.setUint32(x+m,g<<8|b),m+=4;S++}C<o.length?(v=f,setTimeout(w,gs._dly)):e(d)})()},toBlob(t,e){this.toArrayBuffer(t,(n=>{e(new Blob([n],{type:"image/bmp"}))}))},_dly:9},Ye={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},tl={[Ye.CHROME]:16384,[Ye.FIREFOX]:11180,[Ye.DESKTOP_SAFARI]:16384,[Ye.IE]:8192,[Ye.IOS]:4096,[Ye.ETC]:8192},Hn=typeof window<"u",ps=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,ln=Hn&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),nl=(Hn||ps)&&(ln&&ln.getOriginalSymbol(window,"File")||typeof File<"u"&&File),vs=(Hn||ps)&&(ln&&ln.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function qn(t,e,n=Date.now()){return new Promise((s=>{const r=t.split(","),a=r[0].match(/:(.*?);/)[1],o=globalThis.atob(r[1]);let l=o.length;const u=new Uint8Array(l);for(;l--;)u[l]=o.charCodeAt(l);const h=new Blob([u],{type:a});h.name=e,h.lastModified=n,s(h)}))}function bs(t){return new Promise(((e,n)=>{const s=new vs;s.onload=()=>e(s.result),s.onerror=r=>n(r),s.readAsDataURL(t)}))}function xs(t){return new Promise(((e,n)=>{const s=new Image;s.onload=()=>e(s),s.onerror=r=>n(r),s.src=t}))}function _t(){if(_t.cachedResult!==void 0)return _t.cachedResult;let t=Ye.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=Ye.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=Ye.IOS:/Safari/i.test(e)?t=Ye.DESKTOP_SAFARI:/Firefox/i.test(e)?t=Ye.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=Ye.IE),_t.cachedResult=t,_t.cachedResult}function ys(t,e){const n=tl[_t()];let s=t,r=e,a=s*r;const o=s>r?r/s:s/r;for(;a>n*n;){const l=(n+s)/2,u=(n+r)/2;l<u?(r=u,s=u*o):(r=l*o,s=l),a=s*r}return{width:s,height:r}}function bn(t,e){let n,s;try{if(n=new OffscreenCanvas(t,e),s=n.getContext("2d"),s===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),s=n.getContext("2d")}return n.width=t,n.height=e,[n,s]}function ws(t,e){const{width:n,height:s}=ys(t.width,t.height),[r,a]=bn(n,s);return e&&/jpe?g/.test(e)&&(a.fillStyle="white",a.fillRect(0,0,r.width,r.height)),a.drawImage(t,0,0,r.width,r.height),r}function rn(){return rn.cachedResult!==void 0||(rn.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),rn.cachedResult}function cn(t,e={}){return new Promise((function(n,s){let r,a;var o=function(){try{return a=ws(r,e.fileType||t.type),n([r,a])}catch(u){return s(u)}},l=function(u){try{var h=function(d){try{throw d}catch(i){return s(i)}};try{let d;return bs(t).then((function(i){try{return d=i,xs(d).then((function(f){try{return r=f,(function(){try{return o()}catch(m){return s(m)}})()}catch(m){return h(m)}}),h)}catch(f){return h(f)}}),h)}catch(d){h(d)}}catch(d){return s(d)}};try{if(rn()||[Ye.DESKTOP_SAFARI,Ye.MOBILE_SAFARI].includes(_t()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then((function(u){try{return r=u,o()}catch{return l()}}),l)}catch{l()}}))}function dn(t,e,n,s,r=1){return new Promise((function(a,o){let l;if(e==="image/png"){let h,d,i;return h=t.getContext("2d"),{data:d}=h.getImageData(0,0,t.width,t.height),i=st.encode([d.buffer],t.width,t.height,4096*r),l=new Blob([i],{type:e}),l.name=n,l.lastModified=s,u.call(this)}{let h=function(){return u.call(this)};if(e==="image/bmp")return new Promise((d=>gs.toBlob(t,d))).then(function(d){try{return l=d,l.name=n,l.lastModified=s,h.call(this)}catch(i){return o(i)}}.bind(this),o);{let d=function(){return h.call(this)};if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:r}).then(function(i){try{return l=i,l.name=n,l.lastModified=s,d.call(this)}catch(f){return o(f)}}.bind(this),o);{let i;return i=t.toDataURL(e,r),qn(i,n,s).then(function(f){try{return l=f,d.call(this)}catch(m){return o(m)}}.bind(this),o)}}}function u(){return a(l)}}))}function lt(t){t.width=0,t.height=0}function Et(){return new Promise((function(t,e){let n,s,r,a;return Et.cachedResult!==void 0?t(Et.cachedResult):qn("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then((function(o){try{return n=o,cn(n).then((function(l){try{return s=l[1],dn(s,n.type,n.name,n.lastModified).then((function(u){try{return r=u,lt(s),cn(r).then((function(h){try{return a=h[0],Et.cachedResult=a.width===1&&a.height===2,t(Et.cachedResult)}catch(d){return e(d)}}),e)}catch(h){return e(h)}}),e)}catch(u){return e(u)}}),e)}catch(l){return e(l)}}),e)}))}function js(t){return new Promise(((e,n)=>{const s=new vs;s.onload=r=>{const a=new DataView(r.target.result);if(a.getUint16(0,!1)!=65496)return e(-2);const o=a.byteLength;let l=2;for(;l<o;){if(a.getUint16(l+2,!1)<=8)return e(-1);const u=a.getUint16(l,!1);if(l+=2,u==65505){if(a.getUint32(l+=2,!1)!=1165519206)return e(-1);const h=a.getUint16(l+=6,!1)==18761;l+=a.getUint32(l+4,h);const d=a.getUint16(l,h);l+=2;for(let i=0;i<d;i++)if(a.getUint16(l+12*i,h)==274)return e(a.getUint16(l+12*i+8,h))}else{if((65280&u)!=65280)break;l+=a.getUint16(l,!1)}}return e(-1)},s.onerror=r=>n(r),s.readAsArrayBuffer(t)}))}function ks(t,e){const{width:n}=t,{height:s}=t,{maxWidthOrHeight:r}=e;let a,o=t;return isFinite(r)&&(n>r||s>r)&&([o,a]=bn(n,s),n>s?(o.width=r,o.height=s/n*r):(o.width=n/s*r,o.height=r),a.drawImage(t,0,0,o.width,o.height),lt(t)),o}function _s(t,e){const{width:n}=t,{height:s}=t,[r,a]=bn(n,s);switch(e>4&&e<9?(r.width=s,r.height=n):(r.width=n,r.height=s),e){case 2:a.transform(-1,0,0,1,n,0);break;case 3:a.transform(-1,0,0,-1,n,s);break;case 4:a.transform(1,0,0,-1,0,s);break;case 5:a.transform(0,1,1,0,0,0);break;case 6:a.transform(0,1,-1,0,s,0);break;case 7:a.transform(0,-1,-1,0,s,n);break;case 8:a.transform(0,-1,1,0,0,n)}return a.drawImage(t,0,0,n,s),lt(t),r}function cr(t,e,n=0){return new Promise((function(s,r){let a,o,l,u,h,d,i,f,m,g,b,x,v,S,z,C,M,_,D,w;function y(R=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;a+=R,e.onProgress(Math.min(a,100))}function A(R){if(e.signal&&e.signal.aborted)throw e.signal.reason;a=Math.min(Math.max(R,a),100),e.onProgress(a)}return a=n,o=e.maxIteration||10,l=1024*e.maxSizeMB*1024,y(),cn(t,e).then(function(R){try{return[,u]=R,y(),h=ks(u,e),y(),new Promise((function(E,I){var N;if(!(N=e.exifOrientation))return js(t).then(function(j){try{return N=j,F.call(this)}catch(k){return I(k)}}.bind(this),I);function F(){return E(N)}return F.call(this)})).then(function(E){try{return d=E,y(),Et().then(function(I){try{return i=I?h:_s(h,d),y(),f=e.initialQuality||1,m=e.fileType||t.type,dn(i,m,t.name,t.lastModified,f).then(function(N){try{{let j=function(){if(o--&&(z>l||z>v)){let P,T;return P=w?.95*D.width:D.width,T=w?.95*D.height:D.height,[M,_]=bn(P,T),_.drawImage(D,0,0,P,T),f*=m==="image/png"?.85:.95,dn(M,m,t.name,t.lastModified,f).then((function(O){try{return C=O,lt(D),D=M,z=C.size,A(Math.min(99,Math.floor((S-z)/(S-l)*100))),j}catch(q){return r(q)}}),r)}return[1]},k=function(){return lt(D),lt(M),lt(h),lt(i),lt(u),A(100),s(C)};if(g=N,y(),b=g.size>l,x=g.size>t.size,!b&&!x)return A(100),s(g);var F;return v=t.size,S=g.size,z=S,D=i,w=!e.alwaysKeepResolution&&b,(F=function(P){for(;P;){if(P.then)return void P.then(F,r);try{if(P.pop){if(P.length)return P.pop()?k.call(this):P;P=j}else P=P.call(this)}catch(T){return r(T)}}}.bind(this))(j)}}catch(j){return r(j)}}.bind(this),r)}catch(N){return r(N)}}.bind(this),r)}catch(I){return r(I)}}.bind(this),r)}catch(E){return r(E)}}.bind(this),r)}))}var rl=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`,_n;function sl(t,e){return new Promise(((n,s)=>{_n||(_n=(function(o){const l=[];return typeof o=="function"?l.push(`(${o})()`):l.push(o),URL.createObjectURL(new Blob(l))})(rl));const r=new Worker(_n);r.addEventListener("message",(function(o){if(e.signal&&e.signal.aborted)r.terminate();else if(o.data.progress===void 0){if(o.data.error)return s(new Error(o.data.error)),void r.terminate();n(o.data.file),r.terminate()}else e.onProgress(o.data.progress)})),r.addEventListener("error",s),e.signal&&e.signal.addEventListener("abort",(()=>{s(e.signal.reason),r.terminate()})),r.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})}))}function qe(t,e){return new Promise((function(n,s){let r,a,o,l,u,h;if(r={...e},o=0,{onProgress:l}=r,r.maxSizeMB=r.maxSizeMB||Number.POSITIVE_INFINITY,u=typeof r.useWebWorker!="boolean"||r.useWebWorker,delete r.useWebWorker,r.onProgress=m=>{o=m,typeof l=="function"&&l(o)},!(t instanceof Blob||t instanceof nl))return s(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return s(new Error("The file given is not an image"));if(h=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!u||typeof Worker!="function"||h)return cr(t,r).then(function(m){try{return a=m,f.call(this)}catch(g){return s(g)}}.bind(this),s);var d=function(){try{return f.call(this)}catch(m){return s(m)}}.bind(this),i=function(m){try{return cr(t,r).then((function(g){try{return a=g,d()}catch(b){return s(b)}}),s)}catch(g){return s(g)}};try{return r.libURL=r.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",sl(t,r).then((function(m){try{return a=m,d()}catch{return i()}}),i)}catch{i()}function f(){try{a.name=t.name,a.lastModified=t.lastModified}catch{}try{r.preserveExif&&t.type==="image/jpeg"&&(!r.fileType||r.fileType&&r.fileType===t.type)&&(a=hs(t,a))}catch{}return n(a)}}))}qe.getDataUrlFromFile=bs,qe.getFilefromDataUrl=qn,qe.loadImage=xs,qe.drawImageInCanvas=ws,qe.drawFileInCanvas=cn,qe.canvasToFile=dn,qe.getExifOrientation=js,qe.handleMaxWidthOrHeight=ks,qe.followExifOrientation=_s,qe.cleanupCanvasMemory=lt,qe.isAutoOrientationInBrowser=Et,qe.approximateBelowMaximumCanvasSizeOfBrowser=ys,qe.copyExifWithoutOrientation=hs,qe.getBrowserName=_t,qe.version="2.0.2";const al=async(t,e={})=>{if(!t.type.startsWith("image/"))return t;const n={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0,initialQuality:.8,fileType:"image/webp",...e};try{const s=await qe(t,n);return console.log(`Original size: ${(t.size/1024/1024).toFixed(2)} MB`),console.log(`Compressed size: ${(s.size/1024/1024).toFixed(2)} MB`),s}catch(s){return console.error("Image compression failed:",s),t}},ol=(t,e=1)=>new Promise((n,s)=>{const r=document.createElement("video");r.preload="metadata",r.src=URL.createObjectURL(t),r.muted=!0,r.playsInline=!0,r.onloadedmetadata=()=>{r.currentTime=e},r.onseeked=()=>{const a=document.createElement("canvas");a.width=r.videoWidth,a.height=r.videoHeight,a.getContext("2d").drawImage(r,0,0,a.width,a.height),a.toBlob(o=>{const l=new File([o],"thumbnail.webp",{type:"image/webp"});URL.revokeObjectURL(r.src),n(l)},"image/webp",.7)},r.onerror=a=>s(a)}),St=async(t,e="media",n=null)=>{let s=t,r=t.name.split(".").pop(),a=null;if(t.type.startsWith("image/"))try{s=await al(t),r="webp"}catch(d){console.error("Image compression failed, uploading original:",d)}if(t.type.startsWith("video/"))try{n?a=(await St(n,e)).url:a=(await St(await ol(t),e)).url}catch(d){console.error("Failed to handle video poster:",d)}const o=`${`${crypto.randomUUID()}.${r}`}`,{data:l,error:u}=await Y.storage.from(e).upload(o,s);if(u)throw u;const{data:{publicUrl:h}}=Y.storage.from(e).getPublicUrl(l.path);return{url:h,poster:a,name:t.name,type:t.type.startsWith("image/")?"image":t.type.startsWith("video/")?"video":"file",size:s.size}};var c=Ln(qa(),1),Ss=(0,p.createContext)();const il=({children:t})=>{const[e,n]=(0,p.useState)(null),[s,r]=(0,p.useState)(null),[a,o]=(0,p.useState)({}),[l,u]=(0,p.useState)(!0),h=async b=>{try{const x=await ms(b.id);x?(n(x),o(v=>({...v,[x.handle.toLowerCase()]:x}))):n({id:b.id,email:b.email,name:b.email.split("@")[0],handle:b.email.split("@")[0],avatar:"/default-avatar.webp",verified:!1})}catch(x){console.error("Error fetching user profile:",x)}finally{u(!1)}};(0,p.useEffect)(()=>{if(!e?.id)return;kt(e.id);const b=setInterval(()=>kt(e.id),3e4),x=()=>{document.visibilityState==="visible"&&kt(e.id)};return window.addEventListener("visibilitychange",x),window.addEventListener("beforeunload",()=>kt(e.id)),()=>{clearInterval(b),window.removeEventListener("visibilitychange",x),window.removeEventListener("beforeunload",()=>kt(e.id))}},[e?.id]),(0,p.useEffect)(()=>{Y.auth.getSession().then(({data:{session:x}})=>{x?h(x.user):u(!1)});const{data:{subscription:b}}=Y.auth.onAuthStateChange((x,v)=>{v?h(v.user):(n(null),u(!1))});return()=>b.unsubscribe()},[]);const d=async({email:b,password:x})=>{const{data:v,error:S}=await Y.auth.signInWithPassword({email:b,password:x});if(S)throw S;return r(null),v},i=async({email:b,password:x,username:v,name:S})=>{const{data:{user:z},error:C}=await Y.auth.signUp({email:b,password:x,options:{data:{username:v.toLowerCase(),name:S}}});if(C)throw C;return r(null),z},f=async()=>{await Y.auth.signOut(),n(null),r(null)},m=async b=>{e&&(await Si(e.id,b),await h(e))},g=async b=>{const x=b.toLowerCase();if(a[x])return a[x];const v=await _i(b);return v?(o(S=>({...S,[x]:v})),v):null};return(0,c.jsx)(Ss.Provider,{value:{currentUser:e,authMode:s,setAuthMode:r,profiles:a,login:d,signup:i,logout:f,updateProfile:m,getProfileByHandle:g,loading:l},children:!l&&t})},Ge=()=>{const t=(0,p.useContext)(Ss);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t};var ll=ie(),Cs=(0,p.createContext)();const cl=t=>{const e=(0,ll.c)(10),{children:n}=t,{currentUser:s}=Ge();let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=new Set,e[0]=r):r=e[0];const[a,o]=(0,p.useState)(r);let l;e[1]!==s?(l=()=>{if(!s?.id)return;const f=Y.channel("global_presence",{config:{presence:{key:s.id}}});return f.on("presence",{event:"sync"},()=>{const m=f.presenceState(),g=new Set;Object.keys(m).forEach(b=>g.add(b)),o(g)}).subscribe(async m=>{m==="SUBSCRIBED"&&(await f.track({userId:s.id,online_at:new Date().toISOString()}),kt(s.id))}),()=>{s?.id&&kt(s.id),Y.removeChannel(f),o(new Set)}},e[1]=s,e[2]=l):l=e[2];const u=s?.id;let h;e[3]!==u?(h=[u],e[3]=u,e[4]=h):h=e[4],(0,p.useEffect)(l,h);let d;e[5]!==a?(d={onlineUsers:a},e[5]=a,e[6]=d):d=e[6];let i;return e[7]!==n||e[8]!==d?(i=(0,c.jsx)(Cs.Provider,{value:d,children:n}),e[7]=n,e[8]=d,e[9]=i):i=e[9],i},dl=()=>{const t=(0,p.useContext)(Cs);if(!t)throw new Error("usePresence must be used within a PresenceProvider");return t};var ul=ie(),Ns=(0,p.createContext)();const fl=t=>{const e=(0,ul.c)(19),{children:n}=t,[s,r]=(0,p.useState)(ml),[a,o]=(0,p.useState)(hl),[l,u]=(0,p.useState)(gl);let h,d;e[0]!==s?(h=()=>{localStorage.setItem("theme",s?"dark":"light"),s?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},d=[s],e[0]=s,e[1]=h,e[2]=d):(h=e[1],d=e[2]),(0,p.useEffect)(h,d);let i,f;e[3]!==a?(i=()=>{localStorage.setItem("font-size",a),document.documentElement.style.setProperty("--app-font-size",{small:"14px",base:"16px",large:"18px"}[a])},f=[a],e[3]=a,e[4]=i,e[5]=f):(i=e[4],f=e[5]),(0,p.useEffect)(i,f);let m,g;e[6]!==l?(m=()=>{localStorage.setItem("data-saver",l)},g=[l],e[6]=l,e[7]=m,e[8]=g):(m=e[7],g=e[8]),(0,p.useEffect)(m,g);let b;e[9]!==s?(b=()=>r(!s),e[9]=s,e[10]=b):b=e[10];const x=b;let v;e[11]!==s||e[12]!==l||e[13]!==a||e[14]!==x?(v={darkMode:s,setDarkMode:r,toggleDarkMode:x,fontSize:a,setFontSize:o,dataSaver:l,setDataSaver:u},e[11]=s,e[12]=l,e[13]=a,e[14]=x,e[15]=v):v=e[15];let S;return e[16]!==n||e[17]!==v?(S=(0,c.jsx)(Ns.Provider,{value:v,children:n}),e[16]=n,e[17]=v,e[18]=S):S=e[18],S},Wn=()=>{const t=(0,p.useContext)(Ns);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t};function ml(){const t=localStorage.getItem("theme");return t==="dark"||!t&&window.matchMedia("(prefers-color-scheme: dark)").matches}function hl(){return localStorage.getItem("font-size")||"base"}function gl(){return localStorage.getItem("data-saver")==="true"}var pl=Ln(Yr(),1);function vl(t){if(!t||typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}var bl=t=>{switch(t){case"success":return wl;case"info":return kl;case"warning":return jl;case"error":return _l;default:return null}},xl=Array(12).fill(0),yl=({visible:t,className:e})=>p.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},p.createElement("div",{className:"sonner-spinner"},xl.map((n,s)=>p.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),wl=p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},p.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),jl=p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},p.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),kl=p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},p.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),_l=p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},p.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Sl=p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},p.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),p.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Cl=()=>{const[t,e]=p.useState(document.hidden);return p.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Mn=1,Nl=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;const{message:n,...s}=t,r=typeof t?.id=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Mn++,a=this.toasts.find(l=>l.id===r),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(r)&&this.dismissedToasts.delete(r),a?this.toasts=this.toasts.map(l=>l.id===r?(this.publish({...l,...t,id:r,title:n}),{...l,...t,id:r,dismissible:o,title:n}):l):this.addToast({title:n,...s,dismissible:o,id:r}),r},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(e=>e({id:t,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));const s=Promise.resolve(t instanceof Function?t():t);let r=n!==void 0,a;const o=s.then(async u=>{if(a=["resolve",u],p.isValidElement(u))r=!1,this.create({id:n,type:"default",message:u});else if(zl(u)&&!u.ok){r=!1;const h=typeof e.error=="function"?await e.error(`HTTP error! status: ${u.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${u.status}`):e.description,i=typeof h=="object"&&!p.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:d,...i})}else if(u instanceof Error){r=!1;const h=typeof e.error=="function"?await e.error(u):e.error,d=typeof e.description=="function"?await e.description(u):e.description,i=typeof h=="object"&&!p.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:d,...i})}else if(e.success!==void 0){r=!1;const h=typeof e.success=="function"?await e.success(u):e.success,d=typeof e.description=="function"?await e.description(u):e.description,i=typeof h=="object"&&!p.isValidElement(h)?h:{message:h};this.create({id:n,type:"success",description:d,...i})}}).catch(async u=>{if(a=["reject",u],e.error!==void 0){r=!1;const h=typeof e.error=="function"?await e.error(u):e.error,d=typeof e.description=="function"?await e.description(u):e.description,i=typeof h=="object"&&!p.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:d,...i})}}).finally(()=>{r&&(this.dismiss(n),n=void 0),e.finally==null||e.finally.call(e)}),l=()=>new Promise((u,h)=>o.then(()=>a[0]==="reject"?h(a[1]):u(a[1])).catch(h));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(t,e)=>{const n=e?.id||Mn++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ve=new Nl,Al=(t,e)=>{const n=e?.id||Mn++;return Ve.addToast({title:t,...e,id:n}),n},zl=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",El=Al,Rl=()=>Ve.toasts,Il=()=>Ve.getActiveToasts(),Sn=Object.assign(El,{success:Ve.success,info:Ve.info,warning:Ve.warning,error:Ve.error,custom:Ve.custom,message:Ve.message,promise:Ve.promise,dismiss:Ve.dismiss,loading:Ve.loading},{getHistory:Rl,getToasts:Il});vl("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function tn(t){return t.label!==void 0}var Ml=3,Dl="24px",Tl="16px",dr=4e3,Pl=356,Fl=14,Ol=45,Ll=200;function it(...t){return t.filter(Boolean).join(" ")}function Ul(t){const[e,n]=t.split("-"),s=[];return e&&s.push(e),n&&s.push(n),s}var Bl=t=>{var e,n,s,r,a,o,l,u,h;const{invert:d,toast:i,unstyled:f,interacting:m,setHeights:g,visibleToasts:b,heights:x,index:v,toasts:S,expanded:z,removeToast:C,defaultRichColors:M,closeButton:_,style:D,cancelButtonStyle:w,actionButtonStyle:y,className:A="",descriptionClassName:R="",duration:E,position:I,gap:N,expandByDefault:F,classNames:j,icons:k,closeButtonAriaLabel:P="Close toast"}=t,[T,O]=p.useState(null),[q,B]=p.useState(null),[H,U]=p.useState(!1),[L,V]=p.useState(!1),[Z,X]=p.useState(!1),[W,ee]=p.useState(!1),[K,Q]=p.useState(!1),[te,J]=p.useState(0),[G,ne]=p.useState(0),re=p.useRef(i.duration||E||dr),le=p.useRef(null),ae=p.useRef(null),be=v===0,ye=v+1<=b,ce=i.type,ve=i.dismissible!==!1,me=i.className||"",_e=i.descriptionClassName||"",Se=p.useMemo(()=>x.findIndex($=>$.toastId===i.id)||0,[x,i.id]),we=p.useMemo(()=>{var $;return($=i.closeButton)!=null?$:_},[i.closeButton,_]),Re=p.useMemo(()=>i.duration||E||dr,[i.duration,E]),Ie=p.useRef(0),de=p.useRef(0),Ce=p.useRef(0),ke=p.useRef(null),[ze,Ee]=I.split("-"),Me=p.useMemo(()=>x.reduce(($,he,ue)=>ue>=Se?$:$+he.height,0),[x,Se]),Ke=Cl(),se=i.invert||d,xe=ce==="loading";de.current=p.useMemo(()=>Se*N+Me,[Se,Me]),p.useEffect(()=>{re.current=Re},[Re]),p.useEffect(()=>{U(!0)},[]),p.useEffect(()=>{const $=ae.current;if($){const he=$.getBoundingClientRect().height;return ne(he),g(ue=>[{toastId:i.id,height:he,position:i.position},...ue]),()=>g(ue=>ue.filter(pe=>pe.toastId!==i.id))}},[g,i.id]),p.useLayoutEffect(()=>{if(!H)return;const $=ae.current,he=$.style.height;$.style.height="auto";const ue=$.getBoundingClientRect().height;$.style.height=he,ne(ue),g(pe=>pe.find(fe=>fe.toastId===i.id)?pe.map(fe=>fe.toastId===i.id?{...fe,height:ue}:fe):[{toastId:i.id,height:ue,position:i.position},...pe])},[H,i.title,i.description,g,i.id,i.jsx,i.action,i.cancel]);const je=p.useCallback(()=>{V(!0),J(de.current),g($=>$.filter(he=>he.toastId!==i.id)),setTimeout(()=>{C(i)},Ll)},[i,C,g,de]);p.useEffect(()=>{if(i.promise&&ce==="loading"||i.duration===1/0||i.type==="loading")return;let $;return z||m||Ke?(()=>{if(Ce.current<Ie.current){const pe=new Date().getTime()-Ie.current;re.current=re.current-pe}Ce.current=new Date().getTime()})():re.current!==1/0&&(Ie.current=new Date().getTime(),$=setTimeout(()=>{i.onAutoClose==null||i.onAutoClose.call(i,i),je()},re.current)),()=>clearTimeout($)},[z,m,i,ce,Ke,je]),p.useEffect(()=>{i.delete&&(je(),i.onDismiss==null||i.onDismiss.call(i,i))},[je,i.delete]);function Ae(){var $;if(k?.loading){var he;return p.createElement("div",{className:it(j?.loader,i==null||(he=i.classNames)==null?void 0:he.loader,"sonner-loader"),"data-visible":ce==="loading"},k.loading)}return p.createElement(yl,{className:it(j?.loader,i==null||($=i.classNames)==null?void 0:$.loader),visible:ce==="loading"})}const Te=i.icon||k?.[ce]||bl(ce);var De,Ne;return p.createElement("li",{tabIndex:0,ref:ae,className:it(A,me,j?.toast,i==null||(e=i.classNames)==null?void 0:e.toast,j?.default,j?.[ce],i==null||(n=i.classNames)==null?void 0:n[ce]),"data-sonner-toast":"","data-rich-colors":(De=i.richColors)!=null?De:M,"data-styled":!(i.jsx||i.unstyled||f),"data-mounted":H,"data-promise":!!i.promise,"data-swiped":K,"data-removed":L,"data-visible":ye,"data-y-position":ze,"data-x-position":Ee,"data-index":v,"data-front":be,"data-swiping":Z,"data-dismissible":ve,"data-type":ce,"data-invert":se,"data-swipe-out":W,"data-swipe-direction":q,"data-expanded":!!(z||F&&H),"data-testid":i.testId,style:{"--index":v,"--toasts-before":v,"--z-index":S.length-v,"--offset":`${L?te:de.current}px`,"--initial-height":F?"auto":`${G}px`,...D,...i.style},onDragEnd:()=>{X(!1),O(null),ke.current=null},onPointerDown:$=>{$.button!==2&&(xe||!ve||(le.current=new Date,J(de.current),$.target.setPointerCapture($.pointerId),$.target.tagName!=="BUTTON"&&(X(!0),ke.current={x:$.clientX,y:$.clientY})))},onPointerUp:()=>{var $,he,ue;if(W||!ve)return;ke.current=null;const pe=Number((($=ae.current)==null?void 0:$.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),fe=Number(((he=ae.current)==null?void 0:he.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Oe=new Date().getTime()-((ue=le.current)==null?void 0:ue.getTime()),$e=T==="x"?pe:fe,Be=Math.abs($e)/Oe;if(Math.abs($e)>=Ol||Be>.11){J(de.current),i.onDismiss==null||i.onDismiss.call(i,i),B(T==="x"?pe>0?"right":"left":fe>0?"down":"up"),je(),ee(!0);return}else{var Le,nt;(Le=ae.current)==null||Le.style.setProperty("--swipe-amount-x","0px"),(nt=ae.current)==null||nt.style.setProperty("--swipe-amount-y","0px")}Q(!1),X(!1),O(null)},onPointerMove:$=>{var he,ue,pe;if(!ke.current||!ve||((he=window.getSelection())==null?void 0:he.toString().length)>0)return;const fe=$.clientY-ke.current.y,Oe=$.clientX-ke.current.x;var $e;const Be=($e=t.swipeDirections)!=null?$e:Ul(I);!T&&(Math.abs(Oe)>1||Math.abs(fe)>1)&&O(Math.abs(Oe)>Math.abs(fe)?"x":"y");let Le={x:0,y:0};const nt=ht=>1/(1.5+Math.abs(ht)/20);if(T==="y"){if(Be.includes("top")||Be.includes("bottom"))if(Be.includes("top")&&fe<0||Be.includes("bottom")&&fe>0)Le.y=fe;else{const ht=fe*nt(fe);Le.y=Math.abs(ht)<Math.abs(fe)?ht:fe}}else if(T==="x"&&(Be.includes("left")||Be.includes("right")))if(Be.includes("left")&&Oe<0||Be.includes("right")&&Oe>0)Le.x=Oe;else{const ht=Oe*nt(Oe);Le.x=Math.abs(ht)<Math.abs(Oe)?ht:Oe}(Math.abs(Le.x)>0||Math.abs(Le.y)>0)&&Q(!0),(ue=ae.current)==null||ue.style.setProperty("--swipe-amount-x",`${Le.x}px`),(pe=ae.current)==null||pe.style.setProperty("--swipe-amount-y",`${Le.y}px`)}},we&&!i.jsx&&ce!=="loading"?p.createElement("button",{"aria-label":P,"data-disabled":xe,"data-close-button":!0,onClick:xe||!ve?()=>{}:()=>{je(),i.onDismiss==null||i.onDismiss.call(i,i)},className:it(j?.closeButton,i==null||(s=i.classNames)==null?void 0:s.closeButton)},(Ne=k?.close)!=null?Ne:Sl):null,(ce||i.icon||i.promise)&&i.icon!==null&&(k?.[ce]!==null||i.icon)?p.createElement("div",{"data-icon":"",className:it(j?.icon,i==null||(r=i.classNames)==null?void 0:r.icon)},i.promise||i.type==="loading"&&!i.icon?i.icon||Ae():null,i.type!=="loading"?Te:null):null,p.createElement("div",{"data-content":"",className:it(j?.content,i==null||(a=i.classNames)==null?void 0:a.content)},p.createElement("div",{"data-title":"",className:it(j?.title,i==null||(o=i.classNames)==null?void 0:o.title)},i.jsx?i.jsx:typeof i.title=="function"?i.title():i.title),i.description?p.createElement("div",{"data-description":"",className:it(R,_e,j?.description,i==null||(l=i.classNames)==null?void 0:l.description)},typeof i.description=="function"?i.description():i.description):null),p.isValidElement(i.cancel)?i.cancel:i.cancel&&tn(i.cancel)?p.createElement("button",{"data-button":!0,"data-cancel":!0,style:i.cancelButtonStyle||w,onClick:$=>{tn(i.cancel)&&ve&&(i.cancel.onClick==null||i.cancel.onClick.call(i.cancel,$),je())},className:it(j?.cancelButton,i==null||(u=i.classNames)==null?void 0:u.cancelButton)},i.cancel.label):null,p.isValidElement(i.action)?i.action:i.action&&tn(i.action)?p.createElement("button",{"data-button":!0,"data-action":!0,style:i.actionButtonStyle||y,onClick:$=>{tn(i.action)&&(i.action.onClick==null||i.action.onClick.call(i.action,$),!$.defaultPrevented&&je())},className:it(j?.actionButton,i==null||(h=i.classNames)==null?void 0:h.actionButton)},i.action.label):null)};function ur(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function Hl(t,e){const n={};return[t,e].forEach((s,r)=>{const a=r===1,o=a?"--mobile-offset":"--offset",l=a?Tl:Dl;function u(h){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof h=="number"?`${h}px`:h})}typeof s=="number"||typeof s=="string"?u(s):typeof s=="object"?["top","right","bottom","left"].forEach(h=>{s[h]===void 0?n[`${o}-${h}`]=l:n[`${o}-${h}`]=typeof s[h]=="number"?`${s[h]}px`:s[h]}):u(l)}),n}var ql=p.forwardRef(function(e,n){const{id:s,invert:r,position:a="bottom-right",hotkey:o=["altKey","KeyT"],expand:l,closeButton:u,className:h,offset:d,mobileOffset:i,theme:f="light",richColors:m,duration:g,style:b,visibleToasts:x=Ml,toastOptions:v,dir:S=ur(),gap:z=Fl,icons:C,containerAriaLabel:M="Notifications"}=e,[_,D]=p.useState([]),w=p.useMemo(()=>s?_.filter(H=>H.toasterId===s):_.filter(H=>!H.toasterId),[_,s]),y=p.useMemo(()=>Array.from(new Set([a].concat(w.filter(H=>H.position).map(H=>H.position)))),[w,a]),[A,R]=p.useState([]),[E,I]=p.useState(!1),[N,F]=p.useState(!1),[j,k]=p.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),P=p.useRef(null),T=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=p.useRef(null),q=p.useRef(!1),B=p.useCallback(H=>{D(U=>{var L;return(L=U.find(V=>V.id===H.id))!=null&&L.delete||Ve.dismiss(H.id),U.filter(({id:V})=>V!==H.id)})},[]);return p.useEffect(()=>Ve.subscribe(H=>{if(H.dismiss){requestAnimationFrame(()=>{D(U=>U.map(L=>L.id===H.id?{...L,delete:!0}:L))});return}setTimeout(()=>{pl.flushSync(()=>{D(U=>{const L=U.findIndex(V=>V.id===H.id);return L!==-1?[...U.slice(0,L),{...U[L],...H},...U.slice(L+1)]:[H,...U]})})})}),[_]),p.useEffect(()=>{if(f!=="system"){k(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?k("dark"):k("light")),typeof window>"u")return;const H=window.matchMedia("(prefers-color-scheme: dark)");try{H.addEventListener("change",({matches:U})=>{k(U?"dark":"light")})}catch{H.addListener(({matches:L})=>{try{k(L?"dark":"light")}catch(V){console.error(V)}})}},[f]),p.useEffect(()=>{_.length<=1&&I(!1)},[_]),p.useEffect(()=>{const H=U=>{var L;if(o.every(Z=>U[Z]||U.code===Z)){var V;I(!0),(V=P.current)==null||V.focus()}U.code==="Escape"&&(document.activeElement===P.current||(L=P.current)!=null&&L.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[o]),p.useEffect(()=>{if(P.current)return()=>{O.current&&(O.current.focus({preventScroll:!0}),O.current=null,q.current=!1)}},[P.current]),p.createElement("section",{ref:n,"aria-label":`${M} ${T}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},y.map((H,U)=>{var L;const[V,Z]=H.split("-");return w.length?p.createElement("ol",{key:H,dir:S==="auto"?ur():S,tabIndex:-1,ref:P,className:h,"data-sonner-toaster":!0,"data-sonner-theme":j,"data-y-position":V,"data-x-position":Z,style:{"--front-toast-height":`${((L=A[0])==null?void 0:L.height)||0}px`,"--width":`${Pl}px`,"--gap":`${z}px`,...b,...Hl(d,i)},onBlur:X=>{q.current&&!X.currentTarget.contains(X.relatedTarget)&&(q.current=!1,O.current&&(O.current.focus({preventScroll:!0}),O.current=null))},onFocus:X=>{X.target instanceof HTMLElement&&X.target.dataset.dismissible==="false"||q.current||(q.current=!0,O.current=X.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{N||I(!1)},onDragEnd:()=>I(!1),onPointerDown:X=>{X.target instanceof HTMLElement&&X.target.dataset.dismissible==="false"||F(!0)},onPointerUp:()=>F(!1)},w.filter(X=>!X.position&&U===0||X.position===H).map((X,W)=>{var ee,K;return p.createElement(Bl,{key:X.id,icons:C,index:W,toast:X,defaultRichColors:m,duration:(ee=v?.duration)!=null?ee:g,className:v?.className,descriptionClassName:v?.descriptionClassName,invert:r,visibleToasts:x,closeButton:(K=v?.closeButton)!=null?K:u,interacting:N,position:H,style:v?.style,unstyled:v?.unstyled,classNames:v?.classNames,cancelButtonStyle:v?.cancelButtonStyle,actionButtonStyle:v?.actionButtonStyle,closeButtonAriaLabel:v?.closeButtonAriaLabel,removeToast:B,toasts:w.filter(Q=>Q.position==X.position),heights:A.filter(Q=>Q.position==X.position),setHeights:R,expandByDefault:l,gap:z,expanded:E,swipeDirections:e.swipeDirections})})):null}))}),Wl=(t,e,n,s,r,a,o,l)=>{let u=document.documentElement,h=["light","dark"];function d(m){(Array.isArray(t)?t:[t]).forEach(g=>{let b=g==="class",x=b&&a?r.map(v=>a[v]||v):r;b?(u.classList.remove(...x),u.classList.add(a&&a[m]?a[m]:m)):u.setAttribute(g,m)}),i(m)}function i(m){l&&h.includes(m)&&(u.style.colorScheme=m)}function f(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(s)d(s);else try{let m=localStorage.getItem(e)||n;d(o&&m==="system"?f():m)}catch{}};var Vl=p.createContext(void 0),Yl={setTheme:t=>{},themes:[]},Xl=()=>{var t;return(t=p.useContext(Vl))!=null?t:Yl};var vm=p.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:s,enableColorScheme:r,defaultTheme:a,value:o,themes:l,nonce:u,scriptProps:h})=>{let d=JSON.stringify([n,e,a,t,l,o,s,r]).slice(1,-1);return p.createElement("script",{...h,suppressHydrationWarning:!0,nonce:typeof window>"u"?u:"",dangerouslySetInnerHTML:{__html:`(${Wl.toString()})(${d})`}})});var Ql=ie(),Kl=t=>{const e=(0,Ql.c)(7);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];const{theme:s}=Xl(),r=s===void 0?"system":s;let a,o;e[2]===Symbol.for("react.memo_cache_sentinel")?(a={success:(0,c.jsx)(Qo,{className:"size-4"}),info:(0,c.jsx)(co,{className:"size-4"}),warning:(0,c.jsx)(Mo,{className:"size-4"}),error:(0,c.jsx)(io,{className:"size-4"}),loading:(0,c.jsx)(ft,{className:"size-4 animate-spin"})},o={"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)","--border-radius":"var(--radius)"},e[2]=a,e[3]=o):(a=e[2],o=e[3]);let l;return e[4]!==n||e[5]!==r?(l=(0,c.jsx)(ql,{theme:r,className:"toaster group",icons:a,style:o,...n}),e[4]=n,e[5]=r,e[6]=l):l=e[6],l},Zl=ie(),As=(0,p.createContext)();const Jl=t=>{const e=(0,Zl.c)(4),{children:n}=t,s=Gl;let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r={addToast:s},e[0]=r):r=e[0];let a;e[1]===Symbol.for("react.memo_cache_sentinel")?(a=(0,c.jsx)(Kl,{position:"bottom-center",toastOptions:{className:"rounded-full font-bold"}}),e[1]=a):a=e[1];let o;return e[2]!==n?(o=(0,c.jsxs)(As.Provider,{value:r,children:[n,a]}),e[2]=n,e[3]=o):o=e[3],o},wt=()=>{const t=(0,p.useContext)(As);if(!t)throw new Error("useToast must be used within a ToastProvider");return t};function Gl(t,e){const n=e===void 0?"success":e;n==="error"?Sn.error(t):n==="info"?Sn.info(t):Sn.success(t)}var zs=(0,p.createContext)();const $l=({children:t})=>{const[e,n]=(0,p.useState)([]),[s,r]=(0,p.useState)(!0),[a,o]=(0,p.useState)(!0),[l,u]=(0,p.useState)(!1),h=(0,p.useRef)(e);(0,p.useEffect)(()=>{h.current=e},[e]);const d=(0,p.useCallback)(async(v=!1)=>{v?u(!0):r(!0);try{const S=h.current,z=await zi(v&&S.length>0?S[S.length-1].created_at:null,10);z.length<10?o(!1):o(!0),n(v?C=>[...C,...z]:z)}catch(S){console.error("Failed to load posts:",S)}finally{r(!1),u(!1)}},[]),i=()=>{!a||l||d(!0)};(0,p.useEffect)(()=>{d()},[d]);const f=async v=>{const S=await Ei(v);return d(),S},m=async v=>{await Ri(v),n(S=>S.filter(z=>z.id!==v))},g=async(v,S)=>{await Ii(v,S),n(z=>z.map(C=>C.id===v?{...C,...S}:C))},b=v=>e.find(S=>S.id===v),x=(v,S="feed")=>{let z=e.filter(C=>!!(C.user?.handle===v||C.repostedBy&&C.repostedBy.handle===v));return S==="feed"?z.filter(C=>C.parent_id===null):S==="media"?z.filter(C=>C.parent_id===null&&(C.type==="video"||C.type==="image"||C.media?.length>0)):z};return(0,c.jsx)(zs.Provider,{value:{posts:e,setPosts:n,addPost:f,deletePost:m,updatePost:g,getPostById:b,getUserPosts:x,loading:s,hasMore:a,isFetchingNextPage:l,fetchNextPage:i,refreshPosts:()=>d(!1)},children:t})},ec=()=>{const t=(0,p.useContext)(zs);if(!t)throw new Error("usePosts must be used within a PostProvider");return t};var tc=ie(),Es=(0,p.createContext)();const nc=t=>{const e=(0,tc.c)(9),{children:n}=t;let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s={isOpen:!1,images:[],currentIndex:0},e[0]=s):s=e[0];const[r,a]=(0,p.useState)(s);let o;e[1]===Symbol.for("react.memo_cache_sentinel")?(o=(g,b)=>{const x=b===void 0?0:b;a({isOpen:!0,images:Array.isArray(g)?g:[g],currentIndex:x})},e[1]=o):o=e[1];const l=o;let u;e[2]===Symbol.for("react.memo_cache_sentinel")?(u=()=>{a(sc)},e[2]=u):u=e[2];const h=u;let d;e[3]===Symbol.for("react.memo_cache_sentinel")?(d=g=>{a(b=>({...b,currentIndex:g}))},e[3]=d):d=e[3];const i=d;let f;e[4]!==r?(f={...r,openLightbox:l,closeLightbox:h,setIndex:i},e[4]=r,e[5]=f):f=e[5];let m;return e[6]!==n||e[7]!==f?(m=(0,c.jsx)(Es.Provider,{value:f,children:n}),e[6]=n,e[7]=f,e[8]=m):m=e[8],m},rc=()=>{const t=(0,p.useContext)(Es);if(!t)throw new Error("useLightbox must be used within a LightboxProvider");return t};function sc(t){return{...t,isOpen:!1}}var ac=ie(),Rs=(0,p.createContext)();const oc=t=>{const e=(0,ac.c)(15),{children:n}=t,[s,r]=(0,p.useState)(null);let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=new Map,e[0]=a):a=e[0];const o=(0,p.useRef)(a);let l;e[1]!==s?(l=(b,x,v)=>{x===0?o.current.has(b)&&o.current.delete(b):o.current.set(b,{ratio:x,...v});let S=null,z=.5;for(const[C,M]of o.current.entries())M.ratio>z&&(z=M.ratio,S=C);S!==s&&r(S)},e[1]=s,e[2]=l):l=e[2];const u=l;let h,d;e[3]!==s?(h=()=>{o.current.forEach((b,x)=>{x===s?b.play():b.pause()})},d=[s],e[3]=s,e[4]=h,e[5]=d):(h=e[4],d=e[5]),(0,p.useEffect)(h,d);let i;e[6]!==s?(i=b=>{o.current.delete(b),s===b&&r(null)},e[6]=s,e[7]=i):i=e[7];const f=i;let m;e[8]!==s||e[9]!==u||e[10]!==f?(m={reportVisibility:u,unregister:f,activeVideoId:s},e[8]=s,e[9]=u,e[10]=f,e[11]=m):m=e[11];let g;return e[12]!==n||e[13]!==m?(g=(0,c.jsx)(Rs.Provider,{value:m,children:n}),e[12]=n,e[13]=m,e[14]=g):g=e[14],g},bm=()=>{const t=(0,p.useContext)(Rs);if(!t)throw new Error("useVideoPlayback must be used within a VideoPlaybackProvider");return t};var ic=ie();const Is=t=>{const e=(0,ic.c)(16),n=Un(),s=t?.id;let r;e[0]!==s?(r=["unread_notifications_count",s],e[0]=s,e[1]=r):r=e[1];let a;e[2]!==t?.id?(a=()=>Ui(t?.id),e[2]=t?.id,e[3]=a):a=e[3];const o=!!t?.id;let l;e[4]!==r||e[5]!==a||e[6]!==o?(l={queryKey:r,queryFn:a,enabled:o},e[4]=r,e[5]=a,e[6]=o,e[7]=l):l=e[7];const{data:u}=Rt(l),h=u===void 0?0:u;let d;e[8]!==t||e[9]!==n?(d=()=>{if(!t?.id)return;const g=Y.channel(`unread_count:${t.id}`).on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`recipient_id=eq.${t.id}`},()=>{n.invalidateQueries({queryKey:["unread_notifications_count",t.id]}),n.invalidateQueries({queryKey:["notifications",t.id]})}).subscribe();return()=>Y.removeChannel(g)},e[8]=t,e[9]=n,e[10]=d):d=e[10];const i=t?.id;let f;e[11]!==n||e[12]!==i?(f=[i,n],e[11]=n,e[12]=i,e[13]=f):f=e[13],(0,p.useEffect)(d,f);let m;return e[14]!==h?(m={unreadCount:h},e[14]=h,e[15]=m):m=e[15],m};var lc=ie();const Ms=t=>{const e=(0,lc.c)(65),n=Un();let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s={},e[0]=s):s=e[0];const[r,a]=(0,p.useState)(s),o=(0,p.useRef)(null),l=t?.id;let u;e[1]!==l?(u=["conversations",l],e[1]=l,e[2]=u):u=e[2];let h;e[3]!==t?.id?(h=()=>Ti(t?.id),e[3]=t?.id,e[4]=h):h=e[4];const d=!!t?.id;let i;e[5]!==u||e[6]!==h||e[7]!==d?(i={queryKey:u,queryFn:h,enabled:d},e[5]=u,e[6]=h,e[7]=d,e[8]=i):i=e[8];const{data:f,isLoading:m}=Rt(i);let g;e[9]!==f?(g=f===void 0?[]:f,e[9]=f,e[10]=g):g=e[10];const b=g,x=t?.id;let v;e[11]!==x?(v=["unread_messages_count",x],e[11]=x,e[12]=v):v=e[12];let S;e[13]!==t?.id?(S=()=>Mi(t?.id),e[13]=t?.id,e[14]=S):S=e[14];const z=!!t?.id;let C;e[15]!==S||e[16]!==z||e[17]!==v?(C={queryKey:v,queryFn:S,enabled:z},e[15]=S,e[16]=z,e[17]=v,e[18]=C):C=e[18];const{data:M}=Rt(C),_=M===void 0?0:M;let D;e[19]===Symbol.for("react.memo_cache_sentinel")?(D=["reactions"],e[19]=D):D=e[19];const w=!!t?.id;let y;e[20]!==w?(y={queryKey:D,queryFn:Pi,enabled:w},e[20]=w,e[21]=y):y=e[21];const{data:A}=Rt(y);let R;e[22]!==A?(R=A===void 0?[]:A,e[22]=A,e[23]=R):R=e[23];const E=R;let I;e[24]!==t||e[25]!==n?(I=()=>{if(!t?.id)return;const Q=Y.channel(`user_messages:${t.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},J=>{const G=J.new;n.setQueryData(["messages",G.conversation_id],ne=>ne?ne.find(re=>re.id===G.id)?ne:[...ne,G]:[G]),G.sender_id!==t.id&&n.invalidateQueries({queryKey:["unread_messages_count",t.id]}),n.invalidateQueries(["conversations",t.id]),a(ne=>({...ne,[G.conversation_id]:!1}))}).on("postgres_changes",{event:"DELETE",schema:"public",table:"messages"},J=>{n.invalidateQueries({queryKey:["messages"]}),n.invalidateQueries({queryKey:["conversations",t.id]})}).on("postgres_changes",{event:"*",schema:"public",table:"message_reactions"},()=>{n.invalidateQueries({queryKey:["reactions"]})}).subscribe(),te=Y.channel("chat_typing_shared").on("broadcast",{event:"typing"},J=>{const{payload:G}=J,{conversationId:ne,isTyping:re,userId:le}=G;le!==t.id&&a(ae=>({...ae,[ne]:re}))}).subscribe();return o.current=te,()=>{Y.removeChannel(Q),Y.removeChannel(te)}},e[24]=t,e[25]=n,e[26]=I):I=e[26];const N=t?.id;let F;e[27]!==n||e[28]!==N?(F=[N,n],e[27]=n,e[28]=N,e[29]=F):F=e[29],(0,p.useEffect)(I,F);let j;e[30]!==t?(j=Q=>{const{convId:te,text:J,type:G,media:ne,replyToId:re}=Q,le=G===void 0?"text":G,ae=ne===void 0?[]:ne,be=re===void 0?null:re;return Oi(te,t.id,J,le,ae,be)},e[30]=t,e[31]=j):j=e[31];let k;e[32]!==t||e[33]!==n?(k=Q=>{n.setQueryData(["messages",Q.conversation_id],te=>te?te.find(J=>J.id===Q.id)?te:[...te,Q]:[Q]),n.invalidateQueries(["conversations",t.id])},e[32]=t,e[33]=n,e[34]=k):k=e[34];let P;e[35]!==j||e[36]!==k?(P={mutationFn:j,onSuccess:k},e[35]=j,e[36]=k,e[37]=P):P=e[37];const T=Xa(P);let O;e[38]!==t?(O=(Q,te)=>{o.current&&o.current.send({type:"broadcast",event:"typing",payload:{conversationId:Q,isTyping:te,userId:t.id}})},e[38]=t,e[39]=O):O=e[39];const q=O;let B;e[40]!==t||e[41]!==n?(B=async Q=>{!t?.id||!Q||(await Di(Q,t.id),n.invalidateQueries({queryKey:["unread_messages_count",t.id]}),n.invalidateQueries({queryKey:["conversations",t.id]}))},e[40]=t,e[41]=n,e[42]=B):B=e[42];const H=B;let U;e[43]!==t||e[44]!==n?(U=async(Q,te)=>{if(t?.id)try{await Fi(Q,t.id,te),n.invalidateQueries({queryKey:["reactions"]})}catch(J){console.error("Failed to toggle reaction:",J)}},e[43]=t,e[44]=n,e[45]=U):U=e[45];const L=U;let V;e[46]!==n?(V=async Q=>{try{await Li(Q),n.invalidateQueries({queryKey:["messages"]})}catch(te){console.error("Failed to delete message:",te)}},e[46]=n,e[47]=V):V=e[47];const Z=V;let X;e[48]!==t?.id?(X=(Q,te)=>{const J=Q===void 0?[]:Q,G=te===void 0?[]:te;return J.map(ne=>({id:ne.id,sender:ne.sender_id===t?.id?"me":"them",text:ne.content,type:ne.type||"text",media:ne.media||[],isRead:ne.is_read,replyToId:ne.reply_to_id,reactions:G.filter(re=>re.message_id===ne.id),time:new Date(ne.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}))},e[48]=t?.id,e[49]=X):X=e[49];const W=X;let ee;e[50]!==T?(ee=(Q,te,J,G,ne)=>T.mutate({convId:Q,text:te,type:J,media:G,replyToId:ne}),e[50]=T,e[51]=ee):ee=e[51];let K;return e[52]!==E||e[53]!==b||e[54]!==W||e[55]!==m||e[56]!==H||e[57]!==Z||e[58]!==L||e[59]!==T.isPending||e[60]!==q||e[61]!==ee||e[62]!==r||e[63]!==_?(K={conversations:b,unreadCount:_,isConvLoading:m,sendMessage:ee,sendTypingStatus:q,typingStatus:r,markAsRead:H,formatMessages:W,onToggleReaction:L,onDeleteMessage:Z,allReactions:E,isSending:T.isPending},e[52]=E,e[53]=b,e[54]=W,e[55]=m,e[56]=H,e[57]=Z,e[58]=L,e[59]=T.isPending,e[60]=q,e[61]=ee,e[62]=r,e[63]=_,e[64]=K):K=e[64],K};var Vn=ie();function Ct(t){const e=(0,Vn.c)(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=oe("relative flex size-8 shrink-0 overflow-hidden rounded-full",n),e[3]=n,e[4]=r):r=e[4];let a;return e[5]!==s||e[6]!==r?(a=(0,c.jsx)(To,{"data-slot":"avatar",className:r,...s}),e[5]=s,e[6]=r,e[7]=a):a=e[7],a}function Nt(t){const e=(0,Vn.c)(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=oe("aspect-square size-full",n),e[3]=n,e[4]=r):r=e[4];let a;return e[5]!==s||e[6]!==r?(a=(0,c.jsx)(Vo,{"data-slot":"avatar-image",className:r,...s}),e[5]=s,e[6]=r,e[7]=a):a=e[7],a}function At(t){const e=(0,Vn.c)(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=oe("bg-muted flex size-full items-center justify-center rounded-full",n),e[3]=n,e[4]=r):r=e[4];let a;return e[5]!==s||e[6]!==r?(a=(0,c.jsx)(ri,{"data-slot":"avatar-fallback",className:r,...s}),e[5]=s,e[6]=r,e[7]=a):a=e[7],a}var cc=ie(),dc=t=>{const e=(0,cc.c)(23),{handleProfileClick:n}=t,{currentUser:s}=Ge(),{unreadCount:r}=Is(s),{unreadCount:a}=Ms(s),o=gn();let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=[{id:"home",icon:Bn,path:"/"},{id:"community",icon:vn,path:"/community"},{id:"reels",icon:os,path:"/reels"},{id:"messages",icon:Zr,path:"/messages"},{id:"notifications",icon:cs,path:"/notifications"}],e[0]=l):l=e[0];const u=l;let h;e[1]!==a||e[2]!==r?(h=u.map(z=>(0,c.jsx)(Qr,{to:z.path,className:fc,children:C=>{const{isActive:M}=C;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(z.icon,{size:26,strokeWidth:M?2.5:2}),z.id==="notifications"&&r>0&&(0,c.jsx)("span",{className:"absolute top-3 right-[30%] size-2 bg-rose-500 rounded-full ring-2 ring-white dark:ring-black"}),z.id==="messages"&&a>0&&(0,c.jsx)("span",{className:"absolute top-3 right-[30%] size-2 bg-rose-500 rounded-full ring-2 ring-white dark:ring-black"})]})}},z.id)),e[1]=a,e[2]=r,e[3]=h):h=e[3];let d;e[4]!==s||e[5]!==n?(d=()=>{s&&n(s.handle)},e[4]=s,e[5]=n,e[6]=d):d=e[6];const i=`size-7 border-2 ${o.pathname.startsWith("/u/")?"border-black dark:border-white":"border-transparent opacity-70"}`,f=s?.avatar||"/default-avatar.webp";let m;e[7]!==f?(m=(0,c.jsx)(Nt,{src:f,alt:"Profile",className:"object-cover"}),e[7]=f,e[8]=m):m=e[8];let g;e[9]!==s?.handle?.[0]?(g=s?.handle?.[0]?.toUpperCase(),e[9]=s?.handle?.[0],e[10]=g):g=e[10];let b;e[11]!==g?(b=(0,c.jsx)(At,{children:g}),e[11]=g,e[12]=b):b=e[12];let x;e[13]!==i||e[14]!==m||e[15]!==b?(x=(0,c.jsxs)(Ct,{className:i,children:[m,b]}),e[13]=i,e[14]=m,e[15]=b,e[16]=x):x=e[16];let v;e[17]!==d||e[18]!==x?(v=(0,c.jsx)("button",{onClick:d,className:"flex-1 flex flex-col items-center justify-center h-full",children:x}),e[17]=d,e[18]=x,e[19]=v):v=e[19];let S;return e[20]!==v||e[21]!==h?(S=(0,c.jsxs)("nav",{className:"fixed bottom-0 left-0 right-0 z-[40] flex h-16 items-center border-t border-zinc-100 bg-white/90 pb-safe backdrop-blur-md dark:border-zinc-800 dark:bg-black/90 md:hidden",children:[h,v]}),e[20]=v,e[21]=h,e[22]=S):S=e[22],S},uc=dc;function fc(t){const{isActive:e}=t;return`flex flex-1 flex-col items-center justify-center h-full transition-all duration-200 relative ${e?"text-black dark:text-white":"text-zinc-400 opacity-70"}`}var mc=ie(),hc=()=>{const t=(0,mc.c)(5);let e,n;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,c.jsx)("img",{src:"/welcome-banner.webp",alt:"Welcome Banner",fetchPriority:"high",loading:"eager",decoding:"async",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-700"}),n=(0,c.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"}),t[0]=e,t[1]=n):(e=t[0],n=t[1]);let s;t[2]===Symbol.for("react.memo_cache_sentinel")?(s=(0,c.jsx)("h1",{className:"text-3xl sm:text-4xl font-black mb-1 drop-shadow-lg",children:"Welcome to Sysm"}),t[2]=s):s=t[2];let r;t[3]===Symbol.for("react.memo_cache_sentinel")?(r=(0,c.jsxs)("div",{className:"absolute bottom-6 left-8 text-white",children:[s,(0,c.jsxs)("p",{className:"text-sm sm:text-base font-medium opacity-90 tracking-wide drop-shadow-md",children:["a social network built by"," ",(0,c.jsx)("a",{href:"https://t.me/systemadminbd",target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:"@Systemadminbd"})]})]}),t[3]=r):r=t[3];let a;return t[4]===Symbol.for("react.memo_cache_sentinel")?(a=(0,c.jsxs)("div",{className:"relative w-full aspect-[21/9] sm:aspect-[2.5/1] rounded-3xl overflow-hidden mb-6 group cursor-pointer",children:[e,n,r,(0,c.jsx)("div",{className:"absolute bottom-4 right-8",children:(0,c.jsx)("img",{src:"/logo.webp",className:"size-12 animate-pulse opacity-80 rounded-xl",alt:"",loading:"lazy",decoding:"async"})})]}),t[4]=a):a=t[4],a},gc=hc,pc=ie(),vc=t=>{const e=(0,pc.c)(26),{onPostClick:n}=t,s=gn(),r=pn(),{darkMode:a}=Wn(),o=s.pathname==="/";let l;e[0]!==s.pathname?(l=s.pathname.startsWith("/reels")||s.pathname.startsWith("/messages")&&s.pathname.split("/").length>2,e[0]=s.pathname,e[1]=l):l=e[1];const u=l;let h;e[2]!==r?(h=M=>{r(`/u/${M}`)},e[2]=r,e[3]=h):h=e[3];const d=h,i=`min-h-screen bg-[--background] text-[--foreground] font-sans selection:bg-violet-500 selection:text-white transition-colors duration-200 ${a?"dark":""}`;let f;e[4]!==n?(f=(0,c.jsx)(kc,{onPostClick:n}),e[4]=n,e[5]=f):f=e[5];let m;e[6]!==o?(m=o&&(0,c.jsx)("div",{className:"w-full max-w-full overflow-hidden",children:(0,c.jsx)(gc,{})}),e[6]=o,e[7]=m):m=e[7];let g;e[8]===Symbol.for("react.memo_cache_sentinel")?(g=(0,c.jsx)("div",{className:"w-full",children:(0,c.jsx)(Ua,{})}),e[8]=g):g=e[8];let b;e[9]!==m?(b=(0,c.jsxs)("div",{className:"flex flex-col flex-1 w-0 overflow-x-hidden",children:[m,g]}),e[9]=m,e[10]=b):b=e[10];let x;e[11]!==s.pathname?(x=!s.pathname.startsWith("/messages")&&(0,c.jsx)(vu,{}),e[11]=s.pathname,e[12]=x):x=e[12];let v;e[13]!==b||e[14]!==x?(v=(0,c.jsxs)("div",{className:"flex-1 flex justify-center gap-x-2 md:gap-x-8 py-0 md:py-5 px-0 md:px-4",children:[b,x]}),e[13]=b,e[14]=x,e[15]=v):v=e[15];let S;e[16]!==f||e[17]!==v?(S=(0,c.jsxs)("div",{className:"flex justify-center w-full max-w-[1300px] mx-auto min-h-screen px-0 sm:px-0",children:[f,v]}),e[16]=f,e[17]=v,e[18]=S):S=e[18];let z;e[19]!==d||e[20]!==u?(z=!u&&(0,c.jsx)(uc,{handleProfileClick:d}),e[19]=d,e[20]=u,e[21]=z):z=e[21];let C;return e[22]!==S||e[23]!==z||e[24]!==i?(C=(0,c.jsxs)("div",{className:i,children:[S,z]}),e[22]=S,e[23]=z,e[24]=i,e[25]=C):C=e[25],C},bc=vc,xc=ie(),yc=t=>{const e=(0,xc.c)(2),{children:n}=t;let s;return e[0]!==n?(s=(0,c.jsx)("div",{className:"w-full animate-in fade-in slide-in-from-bottom-2 duration-300 ease-out",children:n}),e[0]=n,e[1]=s):s=e[1],s},et=yc,wc=ie(),jc=t=>{const e=(0,wc.c)(18),{onPostClick:n}=t,{currentUser:s}=Ge(),{unreadCount:r}=Is(s),{unreadCount:a}=Ms(s);let o,l,u,h,d;e[0]===Symbol.for("react.memo_cache_sentinel")?(o={id:"home",icon:Bn,path:"/"},l={id:"community",icon:vn,path:"/community"},u={id:"reels",icon:os,path:"/reels"},h={id:"messages",icon:Zr,path:"/messages"},d={id:"notifications",icon:cs,path:"/notifications"},e[0]=o,e[1]=l,e[2]=u,e[3]=h,e[4]=d):(o=e[0],l=e[1],u=e[2],h=e[3],d=e[4]);const i=s?`/u/${s.handle}`:"/community";let f;e[5]!==i?(f=[o,l,u,h,d,{id:"profile",icon:In,path:i}],e[5]=i,e[6]=f):f=e[6];const m=f;let g;e[7]===Symbol.for("react.memo_cache_sentinel")?(g=(0,c.jsx)(Xr,{to:"/",className:"mb-8 hover:scale-110 transition-transform",children:(0,c.jsx)("img",{src:"/logo.webp",alt:"Logo",className:"size-8 rounded-lg"})}),e[7]=g):g=e[7];let b;e[8]!==a||e[9]!==m||e[10]!==r?(b=m.map(S=>(0,c.jsxs)(Qr,{to:S.path,className:_c,children:[(0,c.jsx)(S.icon,{size:26,strokeWidth:2.5}),S.id==="notifications"&&r>0&&(0,c.jsx)("span",{className:"absolute top-2 right-2 size-2 bg-rose-500 rounded-full ring-2 ring-white dark:ring-black"}),S.id==="messages"&&a>0&&(0,c.jsx)("span",{className:"absolute top-2 right-2 size-2 bg-rose-500 rounded-full ring-2 ring-white dark:ring-black"})]},S.id)),e[8]=a,e[9]=m,e[10]=r,e[11]=b):b=e[11];let x;e[12]!==s||e[13]!==n?(x=s&&(0,c.jsx)("button",{onClick:n,className:"p-2.5 mt-2 rounded-xl text-white bg-zinc-950 dark:bg-white dark:text-zinc-950 hover:scale-110 active:scale-95 transition-all duration-200 shadow-lg cursor-pointer",title:"Create Post",children:(0,c.jsx)(Wt,{size:26,strokeWidth:2.5})}),e[12]=s,e[13]=n,e[14]=x):x=e[14];let v;return e[15]!==x||e[16]!==b?(v=(0,c.jsxs)("aside",{className:"sticky top-0 hidden md:flex h-screen w-[68px] flex-col items-center py-5 border-r border-zinc-100 dark:border-zinc-800 shrink-0 bg-white dark:bg-black transition-colors duration-200",children:[g,(0,c.jsxs)("nav",{className:"flex flex-col gap-y-4 w-full items-center",children:[b,x]})]}),e[15]=x,e[16]=b,e[17]=v):v=e[17],v},kc=jc;function _c(t){const{isActive:e}=t;return`p-2.5 rounded-xl transition-all duration-200 border border-transparent relative ${e?"text-black dark:text-white bg-zinc-100 dark:bg-zinc-900 border-zinc-200 dark:border-zinc-800":"text-zinc-500 hover:bg-zinc-50 dark:hover:bg-zinc-900"}`}var mt=ie();function xm(t){const e=(0,mt.c)(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let s;return e[2]!==n?(s=(0,c.jsx)(zo,{"data-slot":"alert-dialog",...n}),e[2]=n,e[3]=s):s=e[3],s}function Sc(t){const e=(0,mt.c)(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let s;return e[2]!==n?(s=(0,c.jsx)(lo,{"data-slot":"alert-dialog-portal",...n}),e[2]=n,e[3]=s):s=e[3],s}function Cc(t){const e=(0,mt.c)(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=oe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),e[3]=n,e[4]=r):r=e[4];let a;return e[5]!==s||e[6]!==r?(a=(0,c.jsx)(ei,{"data-slot":"alert-dialog-overlay",className:r,...s}),e[5]=s,e[6]=r,e[7]=a):a=e[7],a}function ym(t){const e=(0,mt.c)(9);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]===Symbol.for("react.memo_cache_sentinel")?(r=(0,c.jsx)(Cc,{}),e[3]=r):r=e[3];let a;e[4]!==n?(a=oe("bg-white dark:bg-zinc-950 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-2xl border border-zinc-100 dark:border-zinc-800 p-6 shadow-xl duration-200 sm:max-w-md",n),e[4]=n,e[5]=a):a=e[5];let o;return e[6]!==s||e[7]!==a?(o=(0,c.jsxs)(Sc,{children:[r,(0,c.jsx)(so,{"data-slot":"alert-dialog-content","aria-describedby":void 0,className:a,...s})]}),e[6]=s,e[7]=a,e[8]=o):o=e[8],o}function wm(t){const e=(0,mt.c)(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=oe("flex flex-col gap-2 text-center sm:text-left",n),e[3]=n,e[4]=r):r=e[4];let a;return e[5]!==s||e[6]!==r?(a=(0,c.jsx)("div",{"data-slot":"alert-dialog-header",className:r,...s}),e[5]=s,e[6]=r,e[7]=a):a=e[7],a}function jm(t){const e=(0,mt.c)(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=oe("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",n),e[3]=n,e[4]=r):r=e[4];let a;return e[5]!==s||e[6]!==r?(a=(0,c.jsx)("div",{"data-slot":"alert-dialog-footer",className:r,...s}),e[5]=s,e[6]=r,e[7]=a):a=e[7],a}function km(t){const e=(0,mt.c)(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=oe("text-lg font-semibold",n),e[3]=n,e[4]=r):r=e[4];let a;return e[5]!==s||e[6]!==r?(a=(0,c.jsx)(Ao,{"data-slot":"alert-dialog-title",className:r,...s}),e[5]=s,e[6]=r,e[7]=a):a=e[7],a}function _m(t){const e=(0,mt.c)(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=oe("text-muted-foreground text-sm",n),e[3]=n,e[4]=r):r=e[4];let a;return e[5]!==s||e[6]!==r?(a=(0,c.jsx)(uo,{"data-slot":"alert-dialog-description",className:r,...s}),e[5]=s,e[6]=r,e[7]=a):a=e[7],a}function Sm(t){const e=(0,mt.c)(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=oe("inline-flex items-center justify-center rounded-full px-4 py-2 text-sm font-bold transition-all active:scale-95 bg-zinc-900 text-white hover:bg-zinc-800 dark:bg-white dark:text-black dark:hover:bg-zinc-200",n),e[3]=n,e[4]=r):r=e[4];let a;return e[5]!==s||e[6]!==r?(a=(0,c.jsx)(So,{className:r,...s}),e[5]=s,e[6]=r,e[7]=a):a=e[7],a}function Cm(t){const e=(0,mt.c)(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=oe("inline-flex items-center justify-center rounded-full px-4 py-2 text-sm font-bold border border-zinc-200 bg-white text-zinc-900 hover:bg-zinc-50 dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50 dark:hover:bg-zinc-900",n),e[3]=n,e[4]=r):r=e[4];let a;return e[5]!==s||e[6]!==r?(a=(0,c.jsx)(No,{className:r,...s}),e[5]=s,e[6]=r,e[7]=a):a=e[7],a}var Nc=ie(),Ac=t=>{const e=(0,Nc.c)(12);let n,s,r,a;e[0]!==t?({children:n,variant:r,className:a,...s}=t,e[0]=t,e[1]=n,e[2]=s,e[3]=r,e[4]=a):(n=e[1],s=e[2],r=e[3],a=e[4]);const o=r===void 0?"primary":r,l=a===void 0?"":a;let u;e[5]===Symbol.for("react.memo_cache_sentinel")?(u={primary:"text-white hover:text-white bg-zinc-900 hover:bg-zinc-800 border border-zinc-900 dark:bg-white dark:text-black dark:border-white dark:hover:bg-zinc-200",secondary:"text-zinc-900 border border-zinc-300 hover:border-zinc-400 bg-transparent hover:bg-zinc-50 dark:text-white dark:border-zinc-700 dark:hover:border-zinc-600 dark:hover:bg-zinc-900",outline:"text-zinc-900 border border-zinc-300 hover:border-zinc-400 bg-white dark:bg-transparent dark:text-white dark:border-zinc-700 dark:hover:bg-zinc-900",danger:"text-white bg-red-500 hover:bg-red-600 border border-red-500",ghost:"text-zinc-500 hover:bg-zinc-100 dark:text-zinc-400 dark:hover:bg-zinc-800 border-transparent"},e[5]=u):u=e[5];const h=`rounded-full font-bold inline-flex items-center justify-center relative overflow-hidden px-4 py-1.5 transition-all duration-200 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed disabled:active:scale-100 touch-manipulation ${u[o]} ${l}`;let d;e[6]!==n?(d=(0,c.jsx)("div",{className:"flex items-center gap-x-1.5",children:n}),e[6]=n,e[7]=d):d=e[7];let i;return e[8]!==s||e[9]!==h||e[10]!==d?(i=(0,c.jsx)("button",{className:h,...s,children:d}),e[8]=s,e[9]=h,e[10]=d,e[11]=i):i=e[11],i},Ze=Ac,Dt=ie();function Nm(t){const e=(0,Dt.c)(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let s;return e[2]!==n?(s=(0,c.jsx)(Ja,{"data-slot":"context-menu",...n}),e[2]=n,e[3]=s):s=e[3],s}function Am(t){const e=(0,Dt.c)(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let s;return e[2]!==n?(s=(0,c.jsx)(ao,{"data-slot":"context-menu-trigger",...n}),e[2]=n,e[3]=s):s=e[3],s}function zm(t){const e=(0,Dt.c)(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=oe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-context-menu-content-available-height) min-w-[8rem] origin-(--radix-context-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",n),e[3]=n,e[4]=r):r=e[4];let a;return e[5]!==s||e[6]!==r?(a=(0,c.jsx)(mi,{children:(0,c.jsx)(oo,{"data-slot":"context-menu-content",className:r,...s})}),e[5]=s,e[6]=r,e[7]=a):a=e[7],a}function Em(t){const e=(0,Dt.c)(12);let n,s,r,a;e[0]!==t?({className:n,inset:s,variant:a,...r}=t,e[0]=t,e[1]=n,e[2]=s,e[3]=r,e[4]=a):(n=e[1],s=e[2],r=e[3],a=e[4]);const o=a===void 0?"default":a;let l;e[5]!==n?(l=oe("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),e[5]=n,e[6]=l):l=e[6];let u;return e[7]!==s||e[8]!==r||e[9]!==l||e[10]!==o?(u=(0,c.jsx)(fo,{"data-slot":"context-menu-item","data-inset":s,"data-variant":o,className:l,...r}),e[7]=s,e[8]=r,e[9]=l,e[10]=o,e[11]=u):u=e[11],u}function Rm(t){const e=(0,Dt.c)(10);let n,s,r;e[0]!==t?({className:n,inset:s,...r}=t,e[0]=t,e[1]=n,e[2]=s,e[3]=r):(n=e[1],s=e[2],r=e[3]);let a;e[4]!==n?(a=oe("text-foreground px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",n),e[4]=n,e[5]=a):a=e[5];let o;return e[6]!==s||e[7]!==r||e[8]!==a?(o=(0,c.jsx)(yo,{"data-slot":"context-menu-label","data-inset":s,className:a,...r}),e[6]=s,e[7]=r,e[8]=a,e[9]=o):o=e[9],o}function Im(t){const e=(0,Dt.c)(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=oe("bg-border -mx-1 my-1 h-px",n),e[3]=n,e[4]=r):r=e[4];let a;return e[5]!==s||e[6]!==r?(a=(0,c.jsx)(Co,{"data-slot":"context-menu-separator",className:r,...s}),e[5]=s,e[6]=r,e[7]=a):a=e[7],a}var jt=ie();function Ds(t){const e=(0,jt.c)(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let s;return e[2]!==n?(s=(0,c.jsx)(oi,{"data-slot":"dialog",...n}),e[2]=n,e[3]=s):s=e[3],s}function zc(t){const e=(0,jt.c)(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let s;return e[2]!==n?(s=(0,c.jsx)(Ho,{"data-slot":"dialog-portal",...n}),e[2]=n,e[3]=s):s=e[3],s}function Ec(t){const e=(0,jt.c)(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=oe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),e[3]=n,e[4]=r):r=e[4];let a;return e[5]!==s||e[6]!==r?(a=(0,c.jsx)(Ka,{"data-slot":"dialog-overlay",className:r,...s}),e[5]=s,e[6]=r,e[7]=a):a=e[7],a}function Ts(t){const e=(0,jt.c)(11);let n,s,r;e[0]!==t?({className:s,children:n,...r}=t,e[0]=t,e[1]=n,e[2]=s,e[3]=r):(n=e[1],s=e[2],r=e[3]);let a;e[4]===Symbol.for("react.memo_cache_sentinel")?(a=(0,c.jsx)(Ec,{}),e[4]=a):a=e[4];let o;e[5]!==s?(o=oe("bg-white dark:bg-zinc-950 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-2xl border border-zinc-100 dark:border-zinc-800 p-6 shadow-xl duration-200 sm:max-w-md",s),e[5]=s,e[6]=o):o=e[6];let l;return e[7]!==n||e[8]!==r||e[9]!==o?(l=(0,c.jsxs)(zc,{children:[a,(0,c.jsx)(Ro,{"data-slot":"alert-dialog-content","aria-describedby":void 0,className:o,...r,children:n})]}),e[7]=n,e[8]=r,e[9]=o,e[10]=l):l=e[10],l}function Ps(t){const e=(0,jt.c)(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=oe("flex flex-col gap-2 text-center sm:text-left",n),e[3]=n,e[4]=r):r=e[4];let a;return e[5]!==s||e[6]!==r?(a=(0,c.jsx)("div",{"data-slot":"dialog-header",className:r,...s}),e[5]=s,e[6]=r,e[7]=a):a=e[7],a}function Fs(t){const e=(0,jt.c)(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=oe("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",n),e[3]=n,e[4]=r):r=e[4];let a;return e[5]!==s||e[6]!==r?(a=(0,c.jsx)("div",{"data-slot":"dialog-footer",className:r,...s}),e[5]=s,e[6]=r,e[7]=a):a=e[7],a}function Os(t){const e=(0,jt.c)(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=oe("text-lg leading-none font-semibold",n),e[3]=n,e[4]=r):r=e[4];let a;return e[5]!==s||e[6]!==r?(a=(0,c.jsx)(Jo,{"data-slot":"dialog-title",className:r,...s}),e[5]=s,e[6]=r,e[7]=a):a=e[7],a}function Rc(t){const e=(0,jt.c)(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=oe("text-muted-foreground text-sm",n),e[3]=n,e[4]=r):r=e[4];let a;return e[5]!==s||e[6]!==r?(a=(0,c.jsx)(xo,{"data-slot":"dialog-description",className:r,...s}),e[5]=s,e[6]=r,e[7]=a):a=e[7],a}var Zt=ie();function Ic(t){const e=(0,Zt.c)(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let s;return e[2]!==n?(s=(0,c.jsx)(ho,{"data-slot":"dropdown-menu",...n}),e[2]=n,e[3]=s):s=e[3],s}function Mc(t){const e=(0,Zt.c)(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let s;return e[2]!==n?(s=(0,c.jsx)(ro,{"data-slot":"dropdown-menu-trigger",...n}),e[2]=n,e[3]=s):s=e[3],s}function Dc(t){const e=(0,Zt.c)(10);let n,s,r;e[0]!==t?({className:n,sideOffset:r,...s}=t,e[0]=t,e[1]=n,e[2]=s,e[3]=r):(n=e[1],s=e[2],r=e[3]);const a=r===void 0?4:r;let o;e[4]!==n?(o=oe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",n),e[4]=n,e[5]=o):o=e[5];let l;return e[6]!==s||e[7]!==a||e[8]!==o?(l=(0,c.jsx)(mo,{children:(0,c.jsx)(Za,{"data-slot":"dropdown-menu-content",sideOffset:a,className:o,...s})}),e[6]=s,e[7]=a,e[8]=o,e[9]=l):l=e[9],l}function fr(t){const e=(0,Zt.c)(12);let n,s,r,a;e[0]!==t?({className:n,inset:s,variant:a,...r}=t,e[0]=t,e[1]=n,e[2]=s,e[3]=r,e[4]=a):(n=e[1],s=e[2],r=e[3],a=e[4]);const o=a===void 0?"default":a;let l;e[5]!==n?(l=oe("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),e[5]=n,e[6]=l):l=e[6];let u;return e[7]!==s||e[8]!==r||e[9]!==l||e[10]!==o?(u=(0,c.jsx)(Yo,{"data-slot":"dropdown-menu-item","data-inset":s,"data-variant":o,className:l,...r}),e[7]=s,e[8]=r,e[9]=l,e[10]=o,e[11]=u):u=e[11],u}function Mm(t){const e=(0,Zt.c)(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=oe("bg-border -mx-1 my-1 h-px",n),e[3]=n,e[4]=r):r=e[4];let a;return e[5]!==s||e[6]!==r?(a=(0,c.jsx)(bo,{"data-slot":"dropdown-menu-separator",className:r,...s}),e[5]=s,e[6]=r,e[7]=a):a=e[7],a}var Tc=Object.defineProperty,Pc=(t,e)=>{for(var n in e)Tc(t,n,{get:e[n],enumerable:!0})},gt={};Pc(gt,{ActiveEmoji:()=>oa,Empty:()=>aa,List:()=>na,Loading:()=>sa,Root:()=>Ks,Search:()=>Zs,SkinTone:()=>ia,SkinToneSelector:()=>ra,Viewport:()=>Js});var Ls="'Apple Color Emoji', 'Noto Color Emoji', 'Twemoji Mozilla', 'Android Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', EmojiSymbols, sans-serif",Yn=["none","light","medium-light","medium","medium-dark","dark"];function Cn(t){return t.charAt(0).toUpperCase()+t.slice(1)}var rt=2,He=null;function mr(t){try{He??=document.createElement("canvas").getContext("2d",{willReadFrequently:!0})}catch{}if(!He||(queueMicrotask(()=>{He&&(He=null)}),He.canvas.width=rt,He.canvas.height=rt,He.font=`2px ${Ls}`,He.textBaseline="middle",He.measureText(t).width>=rt*2))return!1;He.fillStyle="#00f",He.fillText(t,0,0);let e=He.getImageData(0,0,rt,rt).data;He.clearRect(0,0,rt,rt),He.fillStyle="#f00",He.fillText(t,0,0);let n=He.getImageData(0,0,rt,rt).data;for(let s=0;s<rt*rt*4;s+=4)if(e[s]!==n[s]||e[s+1]!==n[s+1]||e[s+2]!==n[s+2])return!1;return!0}function hr(t,e,n){try{let s=t.getItem(e);if(!s)throw new Error(`No value found for "${e}".`);return n(JSON.parse(s))}catch{return null}}function Us(t,e,n){t.setItem(e,JSON.stringify(n))}function gr(t){return e=>e===void 0?void 0:t(e)}function pr(t){return e=>e===null?null:t(e)}function Ue(t){if(typeof t!="string")throw new Error;return t}function sn(t){if(typeof t!="number")throw new Error;return t}function Bs(t){if(typeof t!="boolean")throw new Error;return t}function pt(t){return e=>{if(typeof e!="object"||e===null)throw new Error;let n={};for(let s in t){let r=e[s];r===void 0&&t[s](void 0),n[s]=t[s](r)}return n}}function Nn(t){return e=>{if(!Array.isArray(e))throw new Error;return e.length>0&&t(e[0]),e}}var Hs=(t,e)=>`${t}/${e}/data.json`,qs=(t,e)=>`${t}/${e}/messages.json`,Fc=["bn","da","de","en-gb","en","es-mx","es","et","fi","fr","hi","hu","it","ja","ko","lt","ms","nb","nl","pl","pt","ru","sv","th","uk","vi","zh-hant","zh"],vr="en",Ws=t=>`frimousse/data/${t}`,br="frimousse/metadata";async function xr(t,e){try{return(await fetch(t,{method:"HEAD",signal:e})).headers.get("etag")}catch{return null}}async function Oc(t,e,n){let[{emojis:s,emojisEtag:r},{messages:a,messagesEtag:o}]=await Promise.all([fetch(Hs(t,e),{signal:n}).then(async l=>({emojis:await l.json(),emojisEtag:l.headers.get("etag")})),fetch(qs(t,e),{signal:n}).then(async l=>({messages:await l.json(),messagesEtag:l.headers.get("etag")}))]);return{emojis:s,messages:a,emojisEtag:r,messagesEtag:o}}async function Lc(t,e,n){let[s,r]=await Promise.all([xr(Hs(t,e),n),xr(qs(t,e),n)]);return{emojisEtag:s,messagesEtag:r}}function Uc(t){return t.skins?t.skins.filter(e=>typeof e.tone=="number").reduce((e,n)=>{let s=Yn[n.tone];return e[s]=n.emoji,e},{}):void 0}async function yr(t,e,n){let{emojis:s,emojisEtag:r,messages:a,messagesEtag:o}=await Oc(t,e,n),l=a.subgroups.find(m=>m.key==="country-flag"||m.key==="subdivision-flag"),u=a.groups.filter(m=>m.key!=="component"),h=s.filter(m=>"group"in m),d=u.map(m=>({index:m.order,label:Cn(m.message)})),i=a.skinTones.reduce((m,g)=>(m[g.key]=Cn(g.message),m),{}),f={locale:e,emojis:h.map(m=>({emoji:m.emoji,category:m.group,version:m.version,label:Cn(m.label),tags:m.tags??[],countryFlag:l&&m.subgroup===l.order||void 0,skins:Uc(m)})),categories:d,skinTones:i};return Us(localStorage,Ws(e),{data:f,metadata:{emojisEtag:r,messagesEtag:o}}),f}function Bc(t,e){let n=new Map;for(let o of t)n.has(o.version)||n.set(o.version,o.emoji);let s=[...n.keys()].sort((o,l)=>l-o),r=s[0]??0,a=mr("");if(typeof e=="number")return{emojiVersion:e,countryFlags:a};for(let o of s)if(mr(n.get(o)))return{emojiVersion:o,countryFlags:a};return{emojiVersion:r,countryFlags:a}}var Hc=pt({emojiVersion:sn,countryFlags:Bs}),qc=pt({data:pt({locale:Ue,emojis:Nn(pt({emoji:Ue,category:sn,label:Ue,version:sn,tags:Nn(Ue),countryFlag:gr(Bs),skins:gr(pt({light:Ue,"medium-light":Ue,medium:Ue,"medium-dark":Ue,dark:Ue}))})),categories:Nn(pt({index:sn,label:Ue})),skinTones:pt({light:Ue,"medium-light":Ue,medium:Ue,"medium-dark":Ue,dark:Ue})}),metadata:pt({emojisEtag:pr(Ue),messagesEtag:pr(Ue)})});async function Wc({locale:t,emojiVersion:e,emojibaseUrl:n,signal:s}){let r=typeof n=="string"?n:`https://cdn.jsdelivr.net/npm/emojibase-data@${typeof e=="number"?Math.floor(e):"latest"}`,a=hr(sessionStorage,br,Hc),o=hr(localStorage,Ws(t),qc),l;if(!o)l=await yr(r,t,s);else if(a)l=o.data;else try{let{emojisEtag:u,messagesEtag:h}=await Lc(r,t,s);l=!u||!h||u!==o.metadata.emojisEtag||h!==o.metadata.messagesEtag?await yr(r,t,s):o.data}catch{l=o.data}return a??=Bc(l.emojis,e),Us(sessionStorage,br,a),{locale:t,emojis:l.emojis.filter(u=>{let h=u.version<=a.emojiVersion;return u.countryFlag?h&&a.countryFlags:h}),categories:l.categories,skinTones:l.skinTones}}function wr(t){return Fc.includes(t)?t:(console.warn(`Locale "${t}" is not supported, using "${vr}" instead.`),vr)}function jr(t){return Yn.includes(t)?t:(console.warn(`Skin tone "${t}" is not valid, using "none" instead.`),"none")}function Vc(t,e){let n=[];if(e<=0)return n;for(let s=0,r=t.length;s<r;s+=e)n.push(t.slice(s,s+e));return n}function Yc(t,e){if(!e)return t;let n=e.toLowerCase().trim(),s=new WeakMap;return t.filter(r=>{let a=0;r.label.toLowerCase().includes(n)&&(a+=10);for(let o of r.tags)o.toLowerCase().includes(n)&&(a+=1);return a>0?(s.set(r,a),!0):!1}).sort((r,a)=>(s.get(a)??0)-(s.get(r)??0))}function Xc(t,e,n,s){let r=Yc(t.emojis,s),a=[],o=[],l=[],u={},h=0,d=0;for(let i of r)u[i.category]||(u[i.category]=[]),u[i.category].push({emoji:n&&n!=="none"&&i.skins?i.skins[n]:i.emoji,label:i.label});for(let i of t.categories){let f=u[i.index];if(!f||f.length===0)continue;let m=Vc(Array.from(f),e).map(g=>({categoryIndex:h,emojis:g}));a.push(...m),o.push({label:i.label,rowsCount:m.length,startRowIndex:d}),l.push(d),h++,d+=m.length}return{count:r.length,categories:o,categoriesStartRowIndices:l,rows:a,skinTones:t.skinTones}}function Qc(t){let e={},n=null,s=null,r=new Set,a=()=>{if(n){e=n,n=null;for(let h of r)h(e)}s=null},o=()=>n??e,l=h=>{n??=e,Object.assign(n,typeof h=="function"?h(o()):h),s||(s=requestAnimationFrame(a))},u=h=>(r.add(h),()=>r.delete(h));return e=t(l,o),{get:o,set:l,subscribe:u}}function Kc(t){let[e]=(0,p.useState)(t);return e}function Zc(t){let e=(0,p.createContext)(null);return{useStore:()=>{let n=(0,p.useContext)(e);if(!n)throw new Error(t);return n},Provider:({store:n,children:s})=>(0,c.jsx)(e.Provider,{value:n,children:s})}}function Je(t,e,n=Object.is){let[s,r]=(0,p.useState)(()=>e(t.get()));return(0,p.useEffect)(()=>t.subscribe(()=>{let a=e(t.get());r(o=>n(o,a)?o:a)}),[t,e,n]),(0,p.useDebugValue)(s),s}function ct(t,e,n){return Je(t,(0,p.useCallback)(s=>s[e],[e]),n)}var kr=2;function Jc(t,e,n,s,r){let a=0;return Qc((o,l)=>({locale:e,columns:n,sticky:s,skinTone:r,onEmojiSelect:t,data:null,search:"",interaction:"none",activeColumnIndex:0,activeRowIndex:0,rowHeight:null,categoryHeaderHeight:null,viewportWidth:null,viewportHeight:null,viewportCurrentCategoryIndex:null,viewportStartCategoryIndex:0,viewportStartRowIndex:0,viewportEndRowIndex:0,rootRef:null,searchRef:null,viewportRef:null,listRef:null,updateViewportState:u=>{let h=l(),d=u?.data??h.data,i=u?.categoryHeaderHeight??h.categoryHeaderHeight,f=u?.rowHeight??h.rowHeight,m=u?.viewportHeight??h.viewportHeight;if(!d||d.rows.length===0||!i||!f||!m)return o({...u,viewportStartCategoryIndex:0,viewportStartRowIndex:0,viewportEndRowIndex:0});let g=0,b=0;for(let w of d.categories)if(b++*i+w.startRowIndex*f<a)g+=i;else break;let x=d.categories.length*i+d.rows.length*f,v=Math.floor(kr*f/2),S=Math.ceil(kr*f/2),z=Math.min(a-g-v,x-m),C=z+m+S,M=Math.max(0,Math.floor(z/f)),_=Math.min(d.rows.length-1,Math.ceil(C/f)),D=d.rows[M]?.categoryIndex;return o(D===void 0&&u?u:{...u,viewportStartCategoryIndex:D,viewportStartRowIndex:M,viewportEndRowIndex:_})},onDataChange:u=>{l().updateViewportState({data:u,activeColumnIndex:0,activeRowIndex:0})},onSearchChange:u=>{o({search:u,interaction:u?"keyboard":"none"})},onActiveEmojiChange:(u,h,d)=>{if(o({interaction:u,activeColumnIndex:h,activeRowIndex:d}),u!=="keyboard")return;let{listRef:i,viewportRef:f,sticky:m,rowHeight:g,viewportHeight:b,categoryHeaderHeight:x}=l(),v=i?.current,S=f?.current;if(!v||!S||!g||!x||!b)return;let z=d;z===0&&S.scrollTo({top:0,behavior:"instant"});let C=v.querySelector(`[aria-rowindex="${z}"]`);if(!(C instanceof HTMLElement))return;let M=C.offsetTop,_=getComputedStyle(C),D=Number.parseFloat(_.scrollMarginTop),w=Number.parseFloat(_.scrollMarginBottom),y=a+D;m&&M<a+b/2&&(y+=x);let A=y+b-w;(M<y||M+g>A)&&S.scrollTo({top:Math.max(M<y+x?M-Math.max(m?x:0,D):M-b+g+w,0),behavior:"instant"})},onActiveEmojiReset:()=>{o({interaction:"none",activeColumnIndex:0,activeRowIndex:0})},onRowHeightChange:u=>{l().updateViewportState({rowHeight:u})},onCategoryHeaderHeightChange:u=>{l().updateViewportState({categoryHeaderHeight:u})},onViewportSizeChange:(u,h)=>{l().updateViewportState({viewportWidth:u,viewportHeight:h})},onViewportScroll:u=>{a=u,l().updateViewportState()}}))}var{useStore:Xe,Provider:Gc}=Zc("EmojiPicker.Root is missing.");function $c(t){return t.search}function Xn(t){return t.interaction==="none"?void 0:t.data?.rows[t.activeRowIndex]?.emojis[t.activeColumnIndex]}function ed(t){return t.data===void 0||typeof t.data?.count=="number"&&t.data.count===0}function td(t){return t.data===null||t.viewportHeight===null||t.rowHeight===null||t.categoryHeaderHeight===null}function Vs(t){return t.data?.rows.length}function nd(t){return t.data?.categories.length}function rd(t){return t.data?.categoriesStartRowIndices}function sd(t){return t.data?.skinTones}function Ys(t,e){return t?.emoji===e?.emoji}function ad(t,e){return t?.categoryIndex!==e?.categoryIndex||t?.emojis.length!==e?.emojis.length?!1:!!t?.emojis.every((n,s)=>Ys(n,e?.emojis[s]))}var Lt="",_r=/\p{Emoji_Modifier_Base}/u,od=/\uFE0F$/,id=/\u{1F3FB}|\u{1F3FC}|\u{1F3FD}|\u{1F3FE}|\u{1F3FF}/gu,ld={light:"","medium-light":"",medium:"","medium-dark":"",dark:""};function cd(t,e){if(!t.split(Lt).some(s=>_r.test(s)))return t;let n=t.split(Lt).map(s=>s.replace(id,"")).join(Lt);return e==="none"?n:n.split(Lt).map((s,r,a)=>{let o=a.length>1;return!_r.test(s)||o&&s===""?s:s.replace(od,"")+ld[e]}).join(Lt)}function dd(t){return Yn.map(e=>({skinTone:e,emoji:cd(t,e)}))}function Xs(){return(0,p.useDeferredValue)(Je(Xe(),Xn,Ys))}function Qs(t=""){let e=Xe(),n=ct(e,"skinTone"),s=(0,p.useMemo)(()=>dd(t),[t]);return[n,(0,p.useCallback)(r=>{e.set({skinTone:r})},[]),s]}function Qn(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||typeof e!="object"||t===null||e===null||Array.isArray(t)!==Array.isArray(e))return!1;let n=Object.keys(t),s=Object.keys(e);return n.length!==s.length?!1:n.every(r=>r in e&&t[r]===e[r])}function ud(...t){}function fd(t,e){let n=null;if(typeof window.requestIdleCallback=="function")n=window.requestIdleCallback(t,e);else{let s=Date.now();n=window.setTimeout(()=>{t({didTimeout:!1,timeRemaining:()=>Math.max(0,(e?.timeout??50)-(Date.now()-s))})},10)}return()=>{typeof window.cancelIdleCallback=="function"?window.cancelIdleCallback(n):window.clearTimeout(n)}}var at=typeof window<"u"?p.useLayoutEffect:p.useEffect;function md(t){let e=(0,p.useRef)(t);return at(()=>{e.current=t}),(0,p.useCallback)((...n)=>e.current(...n),[])}function hd({emojiVersion:t,emojibaseUrl:e}){let[n,s]=(0,p.useState)(void 0),r=Xe(),a=ct(r,"locale"),o=ct(r,"columns"),l=ct(r,"skinTone"),u=ct(r,"search");return(0,p.useEffect)(()=>{let h=new AbortController,d=h.signal;return Wc({locale:a,emojiVersion:t,emojibaseUrl:e,signal:d}).then(i=>{s(i)}).catch(i=>{d.aborted||console.error(i)}),()=>{h.abort()}},[t,e,a]),(0,p.useEffect)(()=>{if(n)return fd(()=>{r.get().onDataChange(Xc(n,o,l,u))},{timeout:100})},[n,o,l,u]),null}var Ks=(0,p.forwardRef)(({locale:t="en",columns:e=9,skinTone:n="none",onEmojiSelect:s=ud,emojiVersion:r,emojibaseUrl:a,onFocusCapture:o,onBlurCapture:l,children:u,style:h,sticky:d=!0,...i},f)=>{let m=md(s),g=Kc(()=>Jc(m,wr(t),e,d,jr(n))),[b,x]=(0,p.useState)(!1),v=(0,p.useRef)(null),S=(0,p.useCallback)(M=>{M&&(v.current=M,g.set({rootRef:v}))},[]);at(()=>{g.set({locale:wr(t)})},[t]),at(()=>{g.set({columns:e})},[e]),at(()=>{g.set({sticky:d})},[d]),at(()=>{g.set({skinTone:jr(n)})},[n]);let z=(0,p.useCallback)(M=>{o?.(M);let{searchRef:_,viewportRef:D}=g.get(),w=M.target===_?.current||M.target.hasAttribute("frimousse-search"),y=M.target===D?.current||M.target.hasAttribute("frimousse-viewport");M.isDefaultPrevented()||(x(w||y),M.isDefaultPrevented()||(x(w||y),y?g.get().onActiveEmojiChange("keyboard",0,0):w&&g.get().search===""&&g.set({interaction:"none"})))},[o]),C=(0,p.useCallback)(M=>{l?.(M),!M.isDefaultPrevented()&&!M.currentTarget.contains(M.relatedTarget)&&x(!1)},[l]);return at(()=>{b||g.get().onActiveEmojiReset()},[b]),(0,p.useImperativeHandle)(f,()=>v.current),(0,p.useEffect)(()=>{if(!b)return;function M(_){if(_.defaultPrevented||!_.key.startsWith("Arrow")&&_.key!=="Enter")return;let{data:D,onEmojiSelect:w,onActiveEmojiChange:y,interaction:A,activeColumnIndex:R,activeRowIndex:E}=g.get();if(_.key==="Enter"){let I=Xn(g.get());I&&(_.preventDefault(),w(I))}if(_.key.startsWith("Arrow")){let I=R,N=E;if(_.preventDefault(),A!=="none"){if(D?.rows&&D.rows.length>0)switch(_.key){case"ArrowLeft":if(I===0){let F=N-1,j=D.rows[F];j&&(N=F,I=j.emojis.length-1)}else I-=1;break;case"ArrowRight":if(I===D.rows[N].emojis.length-1){let F=N+1;D.rows[F]&&(N=F,I=0)}else I+=1;break;case"ArrowUp":{let F=D.rows[N-1];F&&(N-=1,F.emojis[I]||(I=F.emojis.length-1));break}case"ArrowDown":{let F=D.rows[N+1];F&&(N+=1,F.emojis[I]||(I=F.emojis.length-1));break}}y("keyboard",I,N)}else y("keyboard",0,0)}}return document.addEventListener("keydown",M),()=>{document.removeEventListener("keydown",M)}},[b]),at(()=>{let M=null,_=null,D=null,w=null,y=g.subscribe(N=>{v.current&&(M!==N.viewportWidth&&(M=N.viewportWidth,v.current.style.setProperty("--frimousse-viewport-width",`${N.viewportWidth}px`)),_!==N.viewportHeight&&(_=N.viewportHeight,v.current.style.setProperty("--frimousse-viewport-height",`${N.viewportHeight}px`)),D!==N.rowHeight&&(D=N.rowHeight,v.current.style.setProperty("--frimousse-row-height",`${N.rowHeight}px`)),w!==N.categoryHeaderHeight&&(w=N.categoryHeaderHeight,v.current.style.setProperty("--frimousse-category-header-height",`${N.categoryHeaderHeight}px`)))}),{viewportWidth:A,viewportHeight:R,rowHeight:E,categoryHeaderHeight:I}=g.get();return A&&v.current.style.setProperty("--frimousse-viewport-width",`${A}px`),R&&v.current.style.setProperty("--frimousse-viewport-height",`${R}px`),E&&v.current.style.setProperty("--frimousse-row-height",`${E}px`),I&&v.current.style.setProperty("--frimousse-category-header-height",`${I}px`),y},[]),(0,c.jsx)("div",{"data-focused":b?"":void 0,"frimousse-root":"",onBlurCapture:C,onFocusCapture:z,...i,ref:S,style:{"--frimousse-emoji-font":Ls,...h},children:(0,c.jsxs)(Gc,{store:g,children:[(0,c.jsx)(hd,{emojiVersion:r,emojibaseUrl:a}),u]})})}),Zs=(0,p.forwardRef)(({value:t,defaultValue:e,onChange:n,...s},r)=>{let a=Xe(),o=(0,p.useRef)(null),l=(0,p.useCallback)(i=>{i&&(o.current=i,a.set({searchRef:o}))},[]),u=typeof t=="string",h=(0,p.useRef)(u);(0,p.useEffect)(()=>{h.current=u},[u]),at(()=>{a.set({search:typeof t=="string"?t:typeof e=="string"?e:""})},[]),at(()=>{typeof t=="string"&&a.get().onSearchChange(t)},[t]);let d=(0,p.useCallback)(i=>{n?.(i),i.isDefaultPrevented()||a.get().onSearchChange(i.target.value)},[n]);return(0,p.useImperativeHandle)(r,()=>o.current),(0,c.jsx)("input",{autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",enterKeyHint:"done","frimousse-search":"",placeholder:"Search",spellCheck:!1,type:"search",...s,defaultValue:e,onChange:d,ref:l,value:t})}),gd=(0,p.memo)(()=>{let t=Xs();return t?(0,c.jsx)("div",{"aria-live":"polite",style:{border:0,clip:"rect(0, 0, 0, 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:1,wordWrap:"normal"},children:t.label}):null}),Js=(0,p.forwardRef)(({children:t,onScroll:e,onKeyDown:n,style:s,...r},a)=>{let o=Xe(),l=(0,p.useRef)(null),u=(0,p.useCallback)(f=>{f&&(l.current=f,o.set({viewportRef:l}))},[]),h=Je(o,Vs),d=Je(o,nd),i=(0,p.useCallback)(f=>{e?.(f),o.get().onViewportScroll(f.currentTarget.scrollTop)},[e]);return at(()=>{if(!l.current)return;let f=new ResizeObserver(([m])=>{let g=m?.borderBoxSize[0]?.inlineSize??0,b=m?.borderBoxSize[0]?.blockSize??0,{onViewportSizeChange:x,viewportHeight:v,viewportWidth:S}=o.get();(v!==b||S!==g)&&x(g,b)});return f.observe(l.current),o.get().onViewportSizeChange(l.current.offsetWidth,l.current.clientHeight),()=>{f.disconnect()}},[]),(0,p.useImperativeHandle)(a,()=>l.current),(0,c.jsxs)("div",{"frimousse-viewport":"",...r,onScroll:i,ref:u,style:{position:"relative",boxSizing:"border-box",contain:"layout paint",containIntrinsicSize:typeof h=="number"&&typeof d=="number"?`var(--frimousse-viewport-width, auto) calc(${h} * var(--frimousse-row-height) + ${d} * var(--frimousse-category-header-height))`:void 0,overflowY:"auto",overscrollBehavior:"contain",scrollbarGutter:"stable",willChange:"scroll-position",...s},children:[(0,c.jsx)(gd,{}),t]})});function Gs(t,e,n){return{emoji:{...t,isActive:n},role:"gridcell","aria-colindex":e,"aria-selected":n||void 0,"aria-label":t.label,"data-active":n?"":void 0,"frimousse-emoji":"",style:{fontFamily:"var(--frimousse-emoji-font)"},tabIndex:-1}}function $s(t,e=!1){return{role:e?void 0:"row","aria-rowindex":e?void 0:t,"frimousse-row":"",style:{contain:e?void 0:"content",height:e?void 0:"var(--frimousse-row-height)",display:"flex"}}}function ea(t,e){return{"frimousse-category":"",style:{contain:"content",top:e?`calc(${t} * var(--frimousse-category-header-height) + ${e.startRowIndex} * var(--frimousse-row-height))`:void 0,height:e?`calc(var(--frimousse-category-header-height) + ${e.rowsCount} * var(--frimousse-row-height))`:void 0,width:"100%",pointerEvents:"none",position:"absolute"}}}function ta(t,e=!1,n=!0){return{category:t,"frimousse-category-header":"",style:{contain:e?void 0:"layout paint",height:e?void 0:"var(--frimousse-category-header-height)",pointerEvents:"auto",position:n?"sticky":void 0,top:0}}}function Sr(t,e,n,s){return{"frimousse-list-sizer":"",style:{position:"relative",boxSizing:"border-box",height:`calc(${t} * var(--frimousse-row-height) + ${e} * var(--frimousse-category-header-height))`,paddingTop:`calc(${n} * var(--frimousse-row-height) + ${s} * var(--frimousse-category-header-height))`}}}function Cr(t,e,n){return{"aria-colcount":t,"aria-rowcount":e,"frimousse-list":"",style:{"--frimousse-list-columns":t,...n},role:"grid"}}function pd(t){t.preventDefault()}var vd=(0,p.memo)(({Emoji:t,emoji:e,columnIndex:n,rowIndex:s})=>{let r=Xe(),a=Je(r,h=>Xn(h)?.emoji===e.emoji),o=(0,p.useCallback)(()=>{r.get().onEmojiSelect(e)},[e]),l=(0,p.useCallback)(()=>{r.get().onActiveEmojiChange("pointer",n,s)},[n,s]),u=(0,p.useCallback)(()=>{r.get().onActiveEmojiReset()},[]);return(0,c.jsx)(t,{...Gs(e,n,a),onClick:o,onPointerDown:pd,onPointerEnter:l,onPointerLeave:u})}),bd=(0,p.memo)(({Row:t,Emoji:e,rowIndex:n})=>{let s=Je(Xe(),r=>r.data?.rows[n],ad);return s?(0,c.jsx)(t,{...$s(n),children:s.emojis.map((r,a)=>(0,c.jsx)(vd,{Emoji:e,columnIndex:a,emoji:r,rowIndex:n},r.label))}):null}),xd=(0,p.memo)(({CategoryHeader:t,categoryIndex:e})=>{let n=Xe(),s=Je(n,a=>a.data?.categories[e],Qn),r=ct(n,"sticky");return s?(0,c.jsx)("div",{...ea(e,s),children:(0,c.jsx)(t,{...ta({label:s.label},!1,r)})}):null}),Nr=(0,p.memo)(({CategoryHeader:t,Row:e,Emoji:n})=>{let s=(0,p.useRef)(null),r=Xe(),a=ct(r,"columns"),o=(0,p.useMemo)(()=>Array(a).fill({emoji:"",label:""}),[a]),l=(0,p.useMemo)(()=>({label:"Category"}),[]),u=(0,p.useRef)(null),h=(0,p.useRef)(null);return at(()=>{let d=s.current?.parentElement?.parentElement;if(!d||!u.current||!h.current)return;let i=new ResizeObserver(g=>{for(let b of g){let x=b.contentRect.height,{onRowHeightChange:v,onCategoryHeaderHeightChange:S,rowHeight:z,categoryHeaderHeight:C}=r.get();b.target===u.current&&z!==x&&v(x),b.target===h.current&&C!==x&&S(x)}});i.observe(d),i.observe(u.current),i.observe(h.current);let{onRowHeightChange:f,onCategoryHeaderHeightChange:m}=r.get();return f(u.current.clientHeight),m(h.current.clientHeight),()=>{i.disconnect()}},[]),(0,c.jsxs)("div",{"aria-hidden":!0,ref:s,style:{height:0,visibility:"hidden"},children:[(0,c.jsx)("div",{"frimousse-row-sizer":"",ref:u,children:(0,c.jsx)(e,{...$s(-1,!0),children:o.map((d,i)=>(0,c.jsx)(n,{...Gs(d,i,!1)},i))})}),(0,c.jsx)("div",{...ea(-1),children:(0,c.jsx)("div",{"frimousse-category-header-sizer":"",ref:h,children:(0,c.jsx)(t,{...ta(l,!0)})})})]})});function yd({category:t,...e}){return(0,c.jsx)("div",{...e,children:t.label})}function wd({emoji:t,...e}){return(0,c.jsx)("button",{type:"button",...e,children:t.emoji})}function jd({...t}){return(0,c.jsx)("div",{...t})}var na=(0,p.forwardRef)(({style:t,components:e,...n},s)=>{let r=Xe(),a=(0,p.useRef)(null),o=(0,p.useCallback)(v=>{v&&(a.current=v,r.set({listRef:a}))},[]),l=e?.CategoryHeader??yd,u=e?.Emoji??wd,h=e?.Row??jd,d=ct(r,"columns"),i=ct(r,"viewportStartRowIndex"),f=ct(r,"viewportEndRowIndex"),m=Je(r,Vs),g=Je(r,rd,Qn),b=(0,p.useMemo)(()=>g?.filter(v=>v<i).length??0,[g,i]),x=g?.length??0;return(0,p.useImperativeHandle)(s,()=>a.current),!m||!g||x===0?(0,c.jsx)("div",{...Cr(d,0,t),...n,children:(0,c.jsx)("div",{...Sr(0,0,0,0),children:(0,c.jsx)(Nr,{CategoryHeader:l,Emoji:u,Row:h})})}):(0,c.jsx)("div",{...Cr(d,m,t),...n,ref:o,children:(0,c.jsxs)("div",{...Sr(m,x,i,b),children:[(0,c.jsx)(Nr,{CategoryHeader:l,Emoji:u,Row:h}),Array.from({length:f-i+1},(v,S)=>{let z=i+S;return(0,c.jsxs)(p.Fragment,{children:[g.indexOf(z)>=0&&(0,c.jsx)("div",{style:{height:"var(--frimousse-category-header-height)"}}),(0,c.jsx)(bd,{Emoji:u,Row:h,rowIndex:z})]},z)}),Array.from({length:x},(v,S)=>(0,c.jsx)(xd,{CategoryHeader:l,categoryIndex:S},S))]})})}),ra=(0,p.forwardRef)(({emoji:t,onClick:e,"aria-label":n="Change skin tone",...s},r)=>{let a=Je(Xe(),sd,Qn),[o,l,u]=Qs(t),h=(0,p.useMemo)(()=>Math.max(0,u.findIndex(b=>b.skinTone===o)),[o,u]),d=u[h],i=u[(h+1)%u.length].skinTone,f=o==="none"?void 0:a?.[o],m=i==="none"?void 0:a?.[i],g=(0,p.useCallback)(b=>{e?.(b),b.isDefaultPrevented()||l(i)},[e,l,i]);return(0,c.jsx)("button",{type:"button",...s,"aria-label":n+(m?` (${m})`:""),"aria-live":"polite","aria-valuetext":f,"frimousse-skin-tone-selector":"",onClick:g,ref:r,children:d.emoji})});function sa({children:t,...e}){return Je(Xe(),td)?(0,c.jsx)("span",{"frimousse-loading":"",...e,children:t}):null}function kd({children:t}){return t({search:Je(Xe(),$c)})}function aa({children:t,...e}){return Je(Xe(),ed)?(0,c.jsx)("span",{"frimousse-empty":"",...e,children:typeof t=="function"?(0,c.jsx)(kd,{children:t}):t}):null}function oa({children:t}){return t({emoji:Xs()})}function ia({children:t,emoji:e}){let[n,s,r]=Qs(e);return t({skinTone:n,setSkinTone:s,skinToneVariations:r})}Ks.displayName="EmojiPicker.Root";Zs.displayName="EmojiPicker.Search";Js.displayName="EmojiPicker.Viewport";na.displayName="EmojiPicker.List";sa.displayName="EmojiPicker.Loading";aa.displayName="EmojiPicker.Empty";ra.displayName="EmojiPicker.SkinToneSelector";oa.displayName="EmojiPicker.ActiveEmoji";ia.displayName="EmojiPicker.SkinTone";var _d=ie(),Sd=t=>{const e=(0,_d.c)(10),{onEmojiSelect:n,className:s}=t;let r;e[0]!==s?(r=oe("isolate flex h-[350px] w-[320px] flex-col overflow-hidden rounded-xl border border-zinc-200 bg-white shadow-xl dark:border-zinc-800 dark:bg-zinc-950",s),e[0]=s,e[1]=r):r=e[1];let a;e[2]===Symbol.for("react.memo_cache_sentinel")?(a=(0,c.jsx)(gt.Search,{className:"z-10 mx-3 mt-3 appearance-none rounded-lg border-none bg-zinc-100 px-3 py-2 text-sm outline-none placeholder:text-zinc-500 focus:ring-1 focus:ring-violet-500 dark:bg-zinc-900 dark:text-white",placeholder:"Search emojis..."}),e[2]=a):a=e[2];let o,l;e[3]===Symbol.for("react.memo_cache_sentinel")?(o=(0,c.jsx)(gt.Loading,{className:"absolute inset-0 flex items-center justify-center text-zinc-400 text-sm dark:text-zinc-500",children:"Loading"}),l=(0,c.jsx)(gt.Empty,{className:"absolute inset-0 flex items-center justify-center text-zinc-400 text-sm dark:text-zinc-500",children:"No emoji found."}),e[3]=o,e[4]=l):(o=e[3],l=e[4]);let u,h;e[5]===Symbol.for("react.memo_cache_sentinel")?(u=(0,c.jsxs)(gt.Viewport,{className:"relative flex-1 outline-none no-scrollbar",children:[o,l,(0,c.jsx)(gt.List,{className:"select-none pb-2",components:{CategoryHeader:Cd,Row:Nd,Emoji:Ad}})]}),h=(0,c.jsx)(gt.ActiveEmoji,{children:zd}),e[5]=u,e[6]=h):(u=e[5],h=e[6]);let d;return e[7]!==n||e[8]!==r?(d=(0,c.jsxs)(gt.Root,{onEmojiSelect:n,className:r,children:[a,u,h]}),e[7]=n,e[8]=r,e[9]=d):d=e[9],d},Dm=Sd;function Cd(t){const{category:e,...n}=t;return(0,c.jsx)("div",{className:"bg-white/80 px-4 pt-4 pb-1.5 font-bold text-zinc-500 text-[11px] uppercase tracking-wider backdrop-blur-sm dark:bg-zinc-950/80 dark:text-zinc-400",...n,children:e.label})}function Nd(t){const{children:e,...n}=t;return(0,c.jsx)("div",{className:"scroll-my-1 px-2",...n,children:e})}function Ad(t){const{emoji:e,...n}=t;return(0,c.jsx)("button",{className:"flex aspect-square size-9 items-center justify-center rounded-lg text-xl transition-colors hover:bg-zinc-100 data-[active]:bg-violet-500/10 data-[active]:text-violet-500 dark:hover:bg-zinc-900 dark:data-[active]:bg-violet-500/20",...n,children:e.emoji})}function zd(t){const{emoji:e}=t;return(0,c.jsx)("div",{className:"flex items-center gap-3 border-t border-zinc-100 p-3 dark:border-zinc-800",children:e?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{className:"text-2xl",children:e.emoji}),(0,c.jsx)("span",{className:"text-xs font-bold text-zinc-600 dark:text-zinc-400 truncate",children:e.label.replace(/:/g,"").replace(/_/g," ")})]}):(0,c.jsx)("span",{className:"text-xs font-medium text-zinc-400",children:"Select an emoji..."})})}var Ed=ie(),Rd=t=>{const e=(0,Ed.c)(33),{src:n,isOpen:s,onClose:r,onCropComplete:a,aspect:o,circular:l}=t,[u,h]=(0,p.useState)(),[d,i]=(0,p.useState)(null),f=(0,p.useRef)(null);let m;e[0]!==o?(m=E=>{const{width:I,height:N}=E.currentTarget;h(o?Ba(Ha({unit:"%",width:100},o,I,N),I,N):{unit:"%",width:100,height:100,x:0,y:0})},e[0]=o,e[1]=m):m=e[1];const g=m;let b;e[2]!==d||e[3]!==r||e[4]!==a?(b=async()=>{if(d&&f.current)try{a(await xi(f.current,d)),r()}catch(E){console.error("Error cropping image:",E)}},e[2]=d,e[3]=r,e[4]=a,e[5]=b):b=e[5];const x=b;let v;e[6]!==r?(v=E=>!E&&r(),e[6]=r,e[7]=v):v=e[7];let S;e[8]===Symbol.for("react.memo_cache_sentinel")?(S=(0,c.jsx)(Ps,{className:"p-4 shrink-0",children:(0,c.jsx)(Os,{children:"Crop Image"})}),e[8]=S):S=e[8];let z,C;e[9]===Symbol.for("react.memo_cache_sentinel")?(z=E=>h(E),C=(E,I)=>i(I),e[9]=z,e[10]=C):(z=e[9],C=e[10]);let M;e[11]!==g||e[12]!==n?(M=(0,c.jsx)("img",{ref:f,src:n,alt:"Crop preview",onLoad:g,className:"max-h-[60vh] w-auto block"}),e[11]=g,e[12]=n,e[13]=M):M=e[13];let _;e[14]!==o||e[15]!==l||e[16]!==u||e[17]!==M?(_=(0,c.jsx)("div",{className:"p-6 flex items-center justify-center bg-zinc-100/50 dark:bg-zinc-950/50 min-h-[300px] max-h-[65vh] overflow-auto",children:(0,c.jsx)(Oa,{crop:u,onChange:z,onComplete:C,aspect:o,circularCrop:l,className:"max-w-full shadow-2xl",children:M})}),e[14]=o,e[15]=l,e[16]=u,e[17]=M,e[18]=_):_=e[18];let D;e[19]!==r?(D=(0,c.jsx)(Ze,{variant:"outline",onClick:r,className:"!w-auto px-6",children:"Cancel"}),e[19]=r,e[20]=D):D=e[20];let w;e[21]!==x?(w=(0,c.jsx)(Ze,{onClick:x,className:"!w-auto px-6",children:"Apply Crop"}),e[21]=x,e[22]=w):w=e[22];let y;e[23]!==w||e[24]!==D?(y=(0,c.jsxs)(Fs,{className:"p-4 bg-white dark:bg-zinc-900 shrink-0 flex flex-row justify-end gap-2",children:[D,w]}),e[23]=w,e[24]=D,e[25]=y):y=e[25];let A;e[26]!==y||e[27]!==_?(A=(0,c.jsxs)(Ts,{className:"sm:max-w-2xl bg-white dark:bg-zinc-900 p-0 overflow-hidden",children:[S,_,y]}),e[26]=y,e[27]=_,e[28]=A):A=e[28];let R;return e[29]!==s||e[30]!==A||e[31]!==v?(R=(0,c.jsx)(Ds,{open:s,onOpenChange:v,children:A}),e[29]=s,e[30]=A,e[31]=v,e[32]=R):R=e[32],R},Id=Rd,Md=ie(),Dd=t=>{const e=(0,Md.c)(105),{images:n,currentIndex:s,onClose:r,onNavigate:a}=t,o=s===void 0?0:s,[l,u]=(0,p.useState)(1);let h;e[0]===Symbol.for("react.memo_cache_sentinel")?(h={x:0,y:0},e[0]=h):h=e[0];const[d,i]=(0,p.useState)(h),[f,m]=(0,p.useState)(!1);let g;e[1]===Symbol.for("react.memo_cache_sentinel")?(g={x:0,y:0},e[1]=g):g=e[1];const[b,x]=(0,p.useState)(g),[v,S]=(0,p.useState)(null),[z,C]=(0,p.useState)(null),M=(0,p.useRef)(null),_=(0,p.useRef)(null);let D;e[2]===Symbol.for("react.memo_cache_sentinel")?(D=()=>u(Pd),e[2]=D):D=e[2];const w=D;let y;e[3]===Symbol.for("react.memo_cache_sentinel")?(y=()=>{u(se=>{const xe=Math.max(se-.5,1);return xe===1&&i({x:0,y:0}),xe})},e[3]=y):y=e[3];const A=y;let R;e[4]===Symbol.for("react.memo_cache_sentinel")?(R=()=>{u(1),i({x:0,y:0})},e[4]=R):R=e[4];const E=R;let I;e[5]!==o||e[6]!==a?(I=()=>{o>0&&(E(),a(o-1))},e[5]=o,e[6]=a,e[7]=I):I=e[7];const N=I;let F;e[8]!==o||e[9]!==n?.length||e[10]!==a?(F=()=>{o<(n?.length||0)-1&&(E(),a(o+1))},e[8]=o,e[9]=n?.length,e[10]=a,e[11]=F):F=e[11],n?.length;const j=F;let k;e[12]!==j||e[13]!==N||e[14]!==r?(k=()=>{const se=xe=>{xe.key==="Escape"&&r(),xe.key==="ArrowLeft"&&N(),xe.key==="ArrowRight"&&j()};return window.addEventListener("keydown",se),()=>window.removeEventListener("keydown",se)},e[12]=j,e[13]=N,e[14]=r,e[15]=k):k=e[15];let P;if(e[16]!==o||e[17]!==j||e[18]!==N||e[19]!==r?(P=[o,r,N,j],e[16]=o,e[17]=j,e[18]=N,e[19]=r,e[20]=P):P=e[20],(0,p.useEffect)(k,P),!n||n.length===0)return null;const T=n[o],O=n.length>1;let q;e[21]!==d.x||e[22]!==d.y||e[23]!==l?(q=se=>{l>1&&(m(!0),x({x:se.clientX-d.x,y:se.clientY-d.y}))},e[21]=d.x,e[22]=d.y,e[23]=l,e[24]=q):q=e[24];const B=q;let H;e[25]!==b||e[26]!==f||e[27]!==l?(H=se=>{f&&l>1&&i({x:se.clientX-b.x,y:se.clientY-b.y})},e[25]=b,e[26]=f,e[27]=l,e[28]=H):H=e[28];const U=H;let L;e[29]===Symbol.for("react.memo_cache_sentinel")?(L=()=>m(!1),e[29]=L):L=e[29];const V=L;let Z;e[30]!==d.x||e[31]!==d.y||e[32]!==l?(Z=se=>{se.touches.length===1?(S({x:se.touches[0].clientX,y:se.touches[0].clientY,time:Date.now()}),l>1&&(m(!0),x({x:se.touches[0].clientX-d.x,y:se.touches[0].clientY-d.y}))):se.touches.length===2&&C(Math.hypot(se.touches[0].clientX-se.touches[1].clientX,se.touches[0].clientY-se.touches[1].clientY))},e[30]=d.x,e[31]=d.y,e[32]=l,e[33]=Z):Z=e[33];const X=Z;let W;e[34]!==b||e[35]!==z||e[36]!==f||e[37]!==l?(W=se=>{if(se.touches.length===1)f&&l>1&&i({x:se.touches[0].clientX-b.x,y:se.touches[0].clientY-b.y});else if(se.touches.length===2&&z){const xe=Math.hypot(se.touches[0].clientX-se.touches[1].clientX,se.touches[0].clientY-se.touches[1].clientY);u(Math.min(Math.max(l*(xe/z),1),4)),C(xe)}},e[34]=b,e[35]=z,e[36]=f,e[37]=l,e[38]=W):W=e[38];const ee=W;let K;e[39]!==j||e[40]!==N||e[41]!==l||e[42]!==v?(K=se=>{if(se.touches.length<2&&C(null),m(!1),v&&l===1){const xe={x:se.changedTouches[0].clientX,y:se.changedTouches[0].clientY},je=xe.x-v.x,Ae=xe.y-v.y,Te=Date.now()-v.time;Math.abs(je)>50&&Math.abs(Ae)<50&&Te<300&&(je>0?N():j())}S(null)},e[39]=j,e[40]=N,e[41]=l,e[42]=v,e[43]=K):K=e[43];const Q=K;let te;e[44]!==T?(te=se=>{se.stopPropagation();const xe=document.createElement("a");xe.href=T,xe.download=`sysm-${Date.now()}.jpg`,document.body.appendChild(xe),xe.click(),document.body.removeChild(xe)},e[44]=T,e[45]=te):te=e[45];const J=te,G=O?`${o+1} / ${n.length}`:"Image View";let ne;e[46]!==G?(ne=(0,c.jsx)("div",{className:"flex flex-col",children:(0,c.jsx)("span",{className:"text-white font-bold text-lg drop-shadow-md",children:G})}),e[46]=G,e[47]=ne):ne=e[47];let re;e[48]===Symbol.for("react.memo_cache_sentinel")?(re=(0,c.jsx)("button",{onClick:A,className:"text-white p-2 hover:bg-white/10 rounded-full transition-colors hidden sm:block",children:(0,c.jsx)(Go,{size:20})}),e[48]=re):re=e[48];let le;e[49]===Symbol.for("react.memo_cache_sentinel")?(le=(0,c.jsx)("button",{onClick:w,className:"text-white p-2 hover:bg-white/10 rounded-full transition-colors hidden sm:block",children:(0,c.jsx)(ai,{size:20})}),e[49]=le):le=e[49];let ae;e[50]===Symbol.for("react.memo_cache_sentinel")?(ae=(0,c.jsx)("button",{onClick:E,className:"text-white p-2 hover:bg-white/10 rounded-full transition-colors",children:(0,c.jsx)(vo,{size:20})}),e[50]=ae):ae=e[50];let be;e[51]===Symbol.for("react.memo_cache_sentinel")?(be=(0,c.jsx)(si,{size:20}),e[51]=be):be=e[51];let ye;e[52]!==J?(ye=(0,c.jsx)("button",{onClick:J,className:"text-white p-2 hover:bg-white/10 rounded-full transition-colors",children:be}),e[52]=J,e[53]=ye):ye=e[53];let ce;e[54]===Symbol.for("react.memo_cache_sentinel")?(ce=(0,c.jsx)("div",{className:"w-px h-6 bg-white/20 mx-1 hidden sm:block"}),e[54]=ce):ce=e[54];let ve;e[55]===Symbol.for("react.memo_cache_sentinel")?(ve=(0,c.jsx)(Mt,{size:24}),e[55]=ve):ve=e[55];let me;e[56]!==r?(me=(0,c.jsx)("button",{onClick:r,className:"text-white p-2 bg-white/10 hover:bg-white/20 rounded-full transition-all",children:ve}),e[56]=r,e[57]=me):me=e[57];let _e;e[58]!==ye||e[59]!==me?(_e=(0,c.jsxs)("div",{className:"flex items-center gap-1 sm:gap-3",onClick:Fd,children:[re,le,ae,ye,ce,me]}),e[58]=ye,e[59]=me,e[60]=_e):_e=e[60];let Se;e[61]!==ne||e[62]!==_e?(Se=(0,c.jsxs)("div",{className:"absolute top-0 left-0 right-0 p-4 z-20 flex items-center justify-between bg-gradient-to-b from-black/60 to-transparent",children:[ne,_e]}),e[61]=ne,e[62]=_e,e[63]=Se):Se=e[63];let we;e[64]!==o||e[65]!==N||e[66]!==O||e[67]!==l?(we=O&&o>0&&l===1&&(0,c.jsx)("button",{onClick:se=>{se.stopPropagation(),N()},className:"absolute left-6 z-10 p-4 bg-white/5 hover:bg-white/10 rounded-full text-white backdrop-blur-sm transition-all active:scale-90 hidden md:flex",children:(0,c.jsx)(as,{size:32})}),e[64]=o,e[65]=N,e[66]=O,e[67]=l,e[68]=we):we=e[68];const Re=`translate(${d.x}px, ${d.y}px) scale(${l})`;let Ie;e[69]!==Re?(Ie={transform:Re},e[69]=Re,e[70]=Ie):Ie=e[70];let de;e[71]!==T?(de=(0,c.jsx)("img",{ref:_,src:T,className:"max-w-[95vw] max-h-[85vh] object-contain select-none shadow-2xl rounded-sm",alt:"",draggable:!1}),e[71]=T,e[72]=de):de=e[72];let Ce;e[73]!==B||e[74]!==Ie||e[75]!==de?(Ce=(0,c.jsx)("div",{className:"relative transition-transform duration-200 ease-out cursor-grab active:cursor-grabbing",style:Ie,onMouseDown:B,onClick:Od,children:de}),e[73]=B,e[74]=Ie,e[75]=de,e[76]=Ce):Ce=e[76];let ke;e[77]!==o||e[78]!==j||e[79]!==O||e[80]!==n.length||e[81]!==l?(ke=O&&o<n.length-1&&l===1&&(0,c.jsx)("button",{onClick:se=>{se.stopPropagation(),j()},className:"absolute right-6 z-10 p-4 bg-white/5 hover:bg-white/10 rounded-full text-white backdrop-blur-sm transition-all active:scale-90 hidden md:flex",children:(0,c.jsx)($r,{size:32})}),e[77]=o,e[78]=j,e[79]=O,e[80]=n.length,e[81]=l,e[82]=ke):ke=e[82];let ze;e[83]!==we||e[84]!==Ce||e[85]!==ke?(ze=(0,c.jsxs)("div",{className:"w-full h-full relative flex items-center justify-center",children:[we,Ce,ke]}),e[83]=we,e[84]=Ce,e[85]=ke,e[86]=ze):ze=e[86];let Ee;e[87]!==o||e[88]!==O||e[89]!==n||e[90]!==a?(Ee=O&&(0,c.jsx)("div",{className:"absolute bottom-8 flex gap-3 p-3 bg-black/40 backdrop-blur-xl rounded-2xl border border-white/10 overflow-x-auto max-w-[90%] hide-scrollbar",onClick:Ld,children:n.map((se,xe)=>(0,c.jsx)("button",{onClick:()=>{E(),a(xe)},className:`size-14 rounded-xl overflow-hidden border-2 transition-all shrink-0 ${xe===o?"border-violet-500 scale-110 shadow-lg shadow-violet-500/20":"border-transparent opacity-40 hover:opacity-100"}`,children:(0,c.jsx)("img",{src:se,className:"size-full object-cover",alt:""})},xe))}),e[87]=o,e[88]=O,e[89]=n,e[90]=a,e[91]=Ee):Ee=e[91];let Me;e[92]!==O||e[93]!==l?(Me=l===1&&O&&(0,c.jsx)("div",{className:"absolute bottom-4 text-white/30 text-[10px] uppercase tracking-widest font-bold md:hidden",children:"Swipe to navigate"}),e[92]=O,e[93]=l,e[94]=Me):Me=e[94];let Ke;return e[95]!==U||e[96]!==Q||e[97]!==ee||e[98]!==X||e[99]!==r||e[100]!==Se||e[101]!==ze||e[102]!==Ee||e[103]!==Me?(Ke=(0,c.jsxs)("div",{ref:M,className:"fixed inset-0 z-[100] bg-black/95 backdrop-blur-md flex flex-col items-center justify-center overflow-hidden touch-none",onMouseMove:U,onMouseUp:V,onMouseLeave:V,onTouchStart:X,onTouchMove:ee,onTouchEnd:Q,onClick:r,children:[Se,ze,Ee,Me]}),e[95]=U,e[96]=Q,e[97]=ee,e[98]=X,e[99]=r,e[100]=Se,e[101]=ze,e[102]=Ee,e[103]=Me,e[104]=Ke):Ke=e[104],Ke},Td=Dd;function Pd(t){return Math.min(t+.5,4)}function Fd(t){return t.stopPropagation()}function Od(t){return t.stopPropagation()}function Ld(t){return t.stopPropagation()}var Ud=ie(),la=p.forwardRef((t,e)=>{const n=(0,Ud.c)(20);let s,r,a,o,l;n[0]!==t?({className:s,label:r,type:l,textarea:o,...a}=t,n[0]=t,n[1]=s,n[2]=r,n[3]=a,n[4]=o,n[5]=l):(s=n[1],r=n[2],a=n[3],o=n[4],l=n[5]);const u=o?"textarea":"input";let h;n[6]!==r?(h=r&&(0,c.jsx)("label",{className:"text-sm font-bold text-zinc-500 dark:text-zinc-400 ml-1",children:r}),n[6]=r,n[7]=h):h=n[7];const d=o&&"min-h-[100px] resize-none";let i;n[8]!==s||n[9]!==d?(i=oe("flex w-full rounded-xl border border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900 px-4 py-2.5 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-violet-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:ring-offset-zinc-950 dark:text-white transition-all",d,s),n[8]=s,n[9]=d,n[10]=i):i=n[10];let f;n[11]!==u||n[12]!==a||n[13]!==e||n[14]!==i||n[15]!==l?(f=(0,c.jsx)(u,{type:l,className:i,ref:e,...a}),n[11]=u,n[12]=a,n[13]=e,n[14]=i,n[15]=l,n[16]=f):f=n[16];let m;return n[17]!==h||n[18]!==f?(m=(0,c.jsxs)("div",{className:"w-full space-y-1.5",children:[h,f]}),n[17]=h,n[18]=f,n[19]=m):m=n[19],m});la.displayName="Input";var bt=la,Bd=ie(),Hd=t=>{const e=(0,Bd.c)(20),{isOpen:n,onClose:s,title:r,children:a,footer:o,description:l,className:u}=t;let h;e[0]!==s?(h=v=>{v||s()},e[0]=s,e[1]=h):h=e[1];const d=h;let i;e[2]!==u?(i=oe("sm:max-w-md max-h-[calc(100dvh-2rem)] flex flex-col p-0 gap-0 overflow-hidden bg-white dark:bg-zinc-900",u),e[2]=u,e[3]=i):i=e[3];let f;e[4]!==l||e[5]!==r?(f=r&&(0,c.jsxs)(Ps,{className:"px-5 py-4 shrink-0",children:[(0,c.jsx)(Os,{className:"text-xl font-bold",children:r}),l&&(0,c.jsx)(Rc,{children:l})]}),e[4]=l,e[5]=r,e[6]=f):f=e[6];let m;e[7]!==a?(m=(0,c.jsx)("div",{className:"flex-1 overflow-y-auto p-5 min-h-0",children:a}),e[7]=a,e[8]=m):m=e[8];let g;e[9]!==o?(g=o&&(0,c.jsx)(Fs,{className:"px-5 py-4 shrink-0 bg-white dark:bg-zinc-900",children:o}),e[9]=o,e[10]=g):g=e[10];let b;e[11]!==i||e[12]!==f||e[13]!==m||e[14]!==g?(b=(0,c.jsxs)(Ts,{className:i,children:[f,m,g]}),e[11]=i,e[12]=f,e[13]=m,e[14]=g,e[15]=b):b=e[15];let x;return e[16]!==d||e[17]!==n||e[18]!==b?(x=(0,c.jsx)(Ds,{open:n,onOpenChange:d,children:b}),e[16]=d,e[17]=n,e[18]=b,e[19]=x):x=e[19],x},Tt=Hd,qd=ie(),Wd=t=>{const e=(0,qd.c)(20),{title:n,message:s,icon:r,showHome:a,showBack:o}=t,l=n===void 0?"Not Found":n,u=s===void 0?"The content you are looking for doesn't exist or has been removed.":s,h=r===void 0?is:r,d=a===void 0?!0:a,i=o===void 0?!0:o,f=pn(),m=h;let g;e[0]!==m?(g=(0,c.jsx)("div",{className:"bg-zinc-100 dark:bg-zinc-900 p-6 rounded-full mb-6",children:(0,c.jsx)(m,{size:48,className:"text-zinc-400 dark:text-zinc-600"})}),e[0]=m,e[1]=g):g=e[1];let b;e[2]!==l?(b=(0,c.jsx)("h2",{className:"text-2xl font-black mb-2 dark:text-white",children:l}),e[2]=l,e[3]=b):b=e[3];let x;e[4]!==u?(x=(0,c.jsx)("p",{className:"text-zinc-500 dark:text-zinc-400 max-w-xs mb-8 leading-relaxed",children:u}),e[4]=u,e[5]=x):x=e[5];let v;e[6]!==f||e[7]!==i?(v=i&&(0,c.jsxs)(Ze,{variant:"secondary",onClick:()=>f(-1),className:"rounded-full px-6",children:[(0,c.jsx)(ko,{size:18,className:"mr-2"}),"Go Back"]}),e[6]=f,e[7]=i,e[8]=v):v=e[8];let S;e[9]!==f||e[10]!==d?(S=d&&(0,c.jsxs)(Ze,{onClick:()=>f("/"),className:"bg-zinc-900 dark:bg-white text-white dark:text-zinc-900 rounded-full px-6",children:[(0,c.jsx)(Bn,{size:18,className:"mr-2"}),"Home"]}),e[9]=f,e[10]=d,e[11]=S):S=e[11];let z;e[12]!==S||e[13]!==v?(z=(0,c.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-3",children:[v,S]}),e[12]=S,e[13]=v,e[14]=z):z=e[14];let C;return e[15]!==z||e[16]!==g||e[17]!==b||e[18]!==x?(C=(0,c.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[400px] p-8 text-center animate-in fade-in zoom-in-95 duration-300",children:[g,b,x,z]}),e[15]=z,e[16]=g,e[17]=b,e[18]=x,e[19]=C):C=e[19],C},Tm=Wd,Kn=ie();function Pm(t){const e=(0,Kn.c)(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let s;return e[2]!==n?(s=(0,c.jsx)(po,{"data-slot":"popover",...n}),e[2]=n,e[3]=s):s=e[3],s}function Fm(t){const e=(0,Kn.c)(4);let n;e[0]!==t?({...n}=t,e[0]=t,e[1]=n):n=e[1];let s;return e[2]!==n?(s=(0,c.jsx)(Xo,{"data-slot":"popover-trigger",...n}),e[2]=n,e[3]=s):s=e[3],s}function Om(t){const e=(0,Kn.c)(12);let n,s,r,a;e[0]!==t?({className:n,align:r,sideOffset:a,...s}=t,e[0]=t,e[1]=n,e[2]=s,e[3]=r,e[4]=a):(n=e[1],s=e[2],r=e[3],a=e[4]);const o=r===void 0?"center":r,l=a===void 0?4:a;let u;e[5]!==n?(u=oe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 rounded-md border p-4 shadow-md outline-hidden",n),e[5]=n,e[6]=u):u=e[6];let h;return e[7]!==o||e[8]!==s||e[9]!==l||e[10]!==u?(h=(0,c.jsx)(to,{children:(0,c.jsx)(no,{"data-slot":"popover-content",align:o,sideOffset:l,className:u,...s})}),e[7]=o,e[8]=s,e[9]=l,e[10]=u,e[11]=h):h=e[11],h}var Vd=ie(),Yd=()=>{const t=(0,Vd.c)(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,c.jsx)(Fo,{size:16,className:"fill-blue-500 text-white ml-1 inline-block shrink-0"}),t[0]=e):e=t[0],e},ca=Yd;const Xd=(t,e,n)=>{const s=t?.id,[r,a]=(0,p.useState)(!1),[o,l]=(0,p.useState)({followers:t?.followers||t?.follower_count||0,following:t?.following||t?.following_count||0}),[u,h]=(0,p.useState)(!1);return(0,p.useEffect)(()=>{t&&(l({followers:t.followers||t.follower_count||0,following:t.following||t.following_count||0}),s&&en(s)&&(Ai(s).then(i=>{i&&l({followers:i.followers,following:i.following})}).catch(()=>{}),e&&en(e)?Ni(e,s).then(a).catch(()=>a(!1)):a(!1)))},[t,s,e]),{isFollowing:r,stats:o,loading:u,handleFollow:async()=>{if(!e)return n("Please login to follow!","error");if(e===s)return n("You cannot follow yourself!","error");if(!s||!en(s)||!en(e)){const i=!r;a(i),l(f=>{const m=typeof f.followers=="string"?parseInt(f.followers.replace(/,/g,"")):f.followers||0;return{...f,followers:i?m+1:Math.max(0,m-1)}}),n(i?"Followed":"Unfollowed");return}h(!0);try{const i=await Ci(e,s);a(i),l(f=>({...f,followers:i?(f.followers||0)+1:Math.max(0,(f.followers||0)-1)})),n(i?"Followed":"Unfollowed")}catch(i){console.error("Failed to toggle follow:",i),n("Failed to update follow status","error")}finally{h(!1)}},setStats:l}};var Qd=({profile:t,onUserClick:e,isCommunity:n=!1})=>{const{onlineUsers:s}=dl(),{currentUser:r}=Ge(),{addToast:a}=wt(),o=s.has(t.id),[l,u]=(0,p.useState)(!1),[h,d]=(0,p.useState)(n),{isFollowing:i,loading:f,handleFollow:m}=Xd(n?null:t,r?.id,a);(0,p.useEffect)(()=>{n&&r&&t.id?qi(t.id,r.id).then(u).finally(()=>d(!1)):d(!1)},[n,r,t.id]);const g=async v=>{if(v.stopPropagation(),!r)return a("Please login to join communities","error");d(!0);try{const S=await Hi(t.id,r.id);u(S),a(S?`Joined ${t.name}`:`Left ${t.name}`)}catch{a("Failed to update membership","error")}finally{d(!1)}},b=r?.id===t.id,x=n?h:f;return(0,c.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-zinc-100 dark:border-zinc-800 hover:bg-zinc-50 dark:hover:bg-zinc-900/40 transition-colors group cursor-pointer",onClick:()=>e(t.handle),children:[(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsxs)(Ct,{className:`size-12 border border-zinc-200 dark:border-zinc-800 shadow-sm ${n?"rounded-2xl":""}`,children:[(0,c.jsx)(Nt,{src:t.avatar,alt:t.handle,className:"object-cover"}),(0,c.jsx)(At,{className:n?"rounded-2xl":"",children:t.handle?.[0]?.toUpperCase()})]}),o&&!n&&(0,c.jsx)("span",{className:"absolute bottom-0 right-0 size-3 bg-emerald-500 border-2 border-white dark:border-black rounded-full shadow-sm"})]}),(0,c.jsxs)("div",{className:"flex flex-col",children:[(0,c.jsxs)("div",{className:"flex items-center gap-1",children:[(0,c.jsx)("span",{className:"font-bold text-zinc-900 dark:text-white leading-none",children:t.name}),t.verified&&(0,c.jsx)(ca,{})]}),(0,c.jsxs)("span",{className:"text-sm text-zinc-500 mt-0.5",children:["@",t.handle]}),n&&(0,c.jsxs)("span",{className:"text-xs text-zinc-400 mt-1",children:[t.membersCount||0," members"]}),!n&&t.followers&&(0,c.jsxs)("span",{className:"text-xs text-zinc-400 mt-1",children:[t.followers," followers"]})]})]}),!b&&(0,c.jsx)(Ze,{variant:n?l?"secondary":"outline":i?"secondary":"outline",className:"!w-auto !py-1.5 !px-4 text-sm font-bold rounded-full border-zinc-200 dark:border-zinc-700 hover:bg-zinc-100 dark:hover:bg-zinc-800",onClick:n?g:v=>{v.stopPropagation(),m()},disabled:x,children:x?(0,c.jsx)(ft,{size:14,className:"animate-spin"}):n?l?"Joined":"Join":i?"Following":"Follow"})]})},Lm=Qd,da=ie();function Um(t){const e=(0,da.c)(14);let n,s,r;e[0]!==t?({className:s,children:n,...r}=t,e[0]=t,e[1]=n,e[2]=s,e[3]=r):(n=e[1],s=e[2],r=e[3]);let a;e[4]!==s?(a=oe("relative",s),e[4]=s,e[5]=a):a=e[5];let o;e[6]!==n?(o=(0,c.jsx)(_o,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:n}),e[6]=n,e[7]=o):o=e[7];let l,u;e[8]===Symbol.for("react.memo_cache_sentinel")?(l=(0,c.jsx)(Kd,{}),u=(0,c.jsx)(di,{}),e[8]=l,e[9]=u):(l=e[8],u=e[9]);let h;return e[10]!==r||e[11]!==a||e[12]!==o?(h=(0,c.jsxs)(jo,{"data-slot":"scroll-area",className:a,...r,children:[o,l,u]}),e[10]=r,e[11]=a,e[12]=o,e[13]=h):h=e[13],h}function Kd(t){const e=(0,da.c)(13);let n,s,r;e[0]!==t?({className:n,orientation:r,...s}=t,e[0]=t,e[1]=n,e[2]=s,e[3]=r):(n=e[1],s=e[2],r=e[3]);const a=r===void 0?"vertical":r,o=a==="vertical"&&"h-full w-2.5 border-l border-l-transparent",l=a==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent";let u;e[4]!==n||e[5]!==o||e[6]!==l?(u=oe("flex touch-none p-px transition-colors select-none",o,l,n),e[4]=n,e[5]=o,e[6]=l,e[7]=u):u=e[7];let h;e[8]===Symbol.for("react.memo_cache_sentinel")?(h=(0,c.jsx)(li,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"}),e[8]=h):h=e[8];let d;return e[9]!==a||e[10]!==s||e[11]!==u?(d=(0,c.jsx)(Ga,{"data-slot":"scroll-area-scrollbar",orientation:a,className:u,...s,children:h}),e[9]=a,e[10]=s,e[11]=u,e[12]=d):d=e[12],d}var Zd=ie(),Jd=t=>{const e=(0,Zd.c)(13),{value:n,onChange:s,onClear:r,placeholder:a}=t,o=a===void 0?"Search...":a;let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,c.jsx)(Kr,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-zinc-400 group-focus-within:text-violet-500 transition-colors"}),e[0]=l):l=e[0];let u;e[1]!==s?(u=f=>s(f.target.value),e[1]=s,e[2]=u):u=e[2];let h;e[3]!==o||e[4]!==u||e[5]!==n?(h=(0,c.jsx)("input",{className:"w-full rounded-full border border-zinc-100 dark:border-zinc-800 bg-zinc-50 dark:bg-zinc-900/50 text-zinc-900 dark:text-white px-11 py-2.5 text-sm outline-none focus:border-violet-500 focus:ring-1 focus:ring-violet-500 transition-all",placeholder:o,value:n,onChange:u}),e[3]=o,e[4]=u,e[5]=n,e[6]=h):h=e[6];let d;e[7]!==r||e[8]!==n?(d=n&&(0,c.jsx)("button",{onClick:r,className:"absolute right-4 top-1/2 -translate-y-1/2 text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-200 transition-colors",children:(0,c.jsx)(Mt,{size:16})}),e[7]=r,e[8]=n,e[9]=d):d=e[9];let i;return e[10]!==h||e[11]!==d?(i=(0,c.jsxs)("div",{className:"relative group w-full",children:[l,h,d]}),e[10]=h,e[11]=d,e[12]=i):i=e[12],i},Ar=Jd,zt=ie(),Bm=Ko;var Hm=ui,Gd=p.forwardRef((t,e)=>{const n=(0,zt.c)(12);let s,r,a;n[0]!==t?({className:r,children:s,...a}=t,n[0]=t,n[1]=s,n[2]=r,n[3]=a):(s=n[1],r=n[2],a=n[3]);let o;n[4]!==r?(o=oe("flex h-9 w-full items-center justify-between rounded-md border border-zinc-200 bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-white placeholder:text-zinc-500 focus:outline-none focus:ring-1 focus:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 dark:border-zinc-800 dark:ring-offset-zinc-950 dark:focus:ring-zinc-300 [&>span]:line-clamp-1",r),n[4]=r,n[5]=o):o=n[5];let l;n[6]===Symbol.for("react.memo_cache_sentinel")?(l=(0,c.jsx)(Lo,{asChild:!0,children:(0,c.jsx)(rs,{className:"h-4 w-4 opacity-50"})}),n[6]=l):l=n[6];let u;return n[7]!==s||n[8]!==a||n[9]!==e||n[10]!==o?(u=(0,c.jsxs)(ls,{ref:e,className:o,...a,children:[s,l]}),n[7]=s,n[8]=a,n[9]=e,n[10]=o,n[11]=u):u=n[11],u});Gd.displayName=ls.displayName;var ua=p.forwardRef((t,e)=>{const n=(0,zt.c)(10);let s,r;n[0]!==t?({className:s,...r}=t,n[0]=t,n[1]=s,n[2]=r):(s=n[1],r=n[2]);let a;n[3]!==s?(a=oe("flex cursor-default items-center justify-center py-1",s),n[3]=s,n[4]=a):a=n[4];let o;n[5]===Symbol.for("react.memo_cache_sentinel")?(o=(0,c.jsx)(Bo,{className:"h-4 w-4"}),n[5]=o):o=n[5];let l;return n[6]!==r||n[7]!==e||n[8]!==a?(l=(0,c.jsx)(es,{ref:e,className:a,...r,children:o}),n[6]=r,n[7]=e,n[8]=a,n[9]=l):l=n[9],l});ua.displayName=es.displayName;var fa=p.forwardRef((t,e)=>{const n=(0,zt.c)(10);let s,r;n[0]!==t?({className:s,...r}=t,n[0]=t,n[1]=s,n[2]=r):(s=n[1],r=n[2]);let a;n[3]!==s?(a=oe("flex cursor-default items-center justify-center py-1",s),n[3]=s,n[4]=a):a=n[4];let o;n[5]===Symbol.for("react.memo_cache_sentinel")?(o=(0,c.jsx)(rs,{className:"h-4 w-4"}),n[5]=o):o=n[5];let l;return n[6]!==r||n[7]!==e||n[8]!==a?(l=(0,c.jsx)(ts,{ref:e,className:a,...r,children:o}),n[6]=r,n[7]=e,n[8]=a,n[9]=l):l=n[9],l});fa.displayName=ts.displayName;var $d=p.forwardRef((t,e)=>{const n=(0,zt.c)(21);let s,r,a,o;n[0]!==t?({className:r,children:s,position:o,...a}=t,n[0]=t,n[1]=s,n[2]=r,n[3]=a,n[4]=o):(s=n[1],r=n[2],a=n[3],o=n[4]);const l=o===void 0?"popper":o,u=l==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1";let h;n[5]!==r||n[6]!==u?(h=oe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-zinc-200 bg-white text-zinc-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50",u,r),n[5]=r,n[6]=u,n[7]=h):h=n[7];let d;n[8]===Symbol.for("react.memo_cache_sentinel")?(d=(0,c.jsx)(ua,{}),n[8]=d):d=n[8];const i=l==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]";let f;n[9]!==i?(f=oe("p-1",i),n[9]=i,n[10]=f):f=n[10];let m;n[11]!==s||n[12]!==f?(m=(0,c.jsx)(Po,{className:f,children:s}),n[11]=s,n[12]=f,n[13]=m):m=n[13];let g;n[14]===Symbol.for("react.memo_cache_sentinel")?(g=(0,c.jsx)(fa,{}),n[14]=g):g=n[14];let b;return n[15]!==l||n[16]!==a||n[17]!==e||n[18]!==h||n[19]!==m?(b=(0,c.jsx)($o,{children:(0,c.jsxs)(ss,{ref:e,className:h,position:l,...a,children:[d,m,g]})}),n[15]=l,n[16]=a,n[17]=e,n[18]=h,n[19]=m,n[20]=b):b=n[20],b});$d.displayName=ss.displayName;var eu=p.forwardRef((t,e)=>{const n=(0,zt.c)(9);let s,r;n[0]!==t?({className:s,...r}=t,n[0]=t,n[1]=s,n[2]=r):(s=n[1],r=n[2]);let a;n[3]!==s?(a=oe("px-2 py-1.5 text-sm font-semibold",s),n[3]=s,n[4]=a):a=n[4];let o;return n[5]!==r||n[6]!==e||n[7]!==a?(o=(0,c.jsx)(Gr,{ref:e,className:a,...r}),n[5]=r,n[6]=e,n[7]=a,n[8]=o):o=n[8],o});eu.displayName=Gr.displayName;var tu=p.forwardRef((t,e)=>{const n=(0,zt.c)(14);let s,r,a;n[0]!==t?({className:r,children:s,...a}=t,n[0]=t,n[1]=s,n[2]=r,n[3]=a):(s=n[1],r=n[2],a=n[3]);let o;n[4]!==r?(o=oe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-zinc-100 focus:text-zinc-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-zinc-800 dark:focus:text-zinc-50",r),n[4]=r,n[5]=o):o=n[5];let l;n[6]===Symbol.for("react.memo_cache_sentinel")?(l=(0,c.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,c.jsx)(ii,{children:(0,c.jsx)(qo,{className:"h-4 w-4"})})}),n[6]=l):l=n[6];let u;n[7]!==s?(u=(0,c.jsx)(Uo,{children:s}),n[7]=s,n[8]=u):u=n[8];let h;return n[9]!==a||n[10]!==e||n[11]!==o||n[12]!==u?(h=(0,c.jsxs)(ns,{ref:e,className:o,...a,children:[l,u]}),n[9]=a,n[10]=e,n[11]=o,n[12]=u,n[13]=h):h=n[13],h});tu.displayName=ns.displayName;var nu=p.forwardRef((t,e)=>{const n=(0,zt.c)(9);let s,r;n[0]!==t?({className:s,...r}=t,n[0]=t,n[1]=s,n[2]=r):(s=n[1],r=n[2]);let a;n[3]!==s?(a=oe("-mx-1 my-1 h-px bg-zinc-100 dark:bg-zinc-800",s),n[3]=s,n[4]=a):a=n[4];let o;return n[5]!==r||n[6]!==e||n[7]!==a?(o=(0,c.jsx)(Jr,{ref:e,className:a,...r}),n[5]=r,n[6]=e,n[7]=a,n[8]=o):o=n[8],o});nu.displayName=Jr.displayName;var ru=ie(),su=t=>{const e=(0,ru.c)(9),{className:n}=t,{setAuthMode:s}=Ge();let r;e[0]!==n?(r=oe("border border-[--border] rounded-2xl p-8 flex flex-col items-center text-center gap-4 bg-[--card] shadow-sm",n),e[0]=n,e[1]=r):r=e[1];let a,o;e[2]===Symbol.for("react.memo_cache_sentinel")?(a=(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)("div",{className:"size-16 rounded-full border-4 border-amber-400 border-t-transparent animate-spin duration-[3000ms]"}),(0,c.jsx)("span",{className:"absolute inset-0 flex items-center justify-center text-2xl",children:""})]}),o=(0,c.jsx)("h3",{className:"font-extrabold text-lg text-[--foreground] mt-2 leading-tight",children:"Get your Sysm account now!"}),e[2]=a,e[3]=o):(a=e[2],o=e[3]);let l;e[4]!==s?(l=(0,c.jsx)("button",{onClick:()=>s("signup"),className:"w-full bg-zinc-950 dark:bg-white text-white dark:text-zinc-950 py-2.5 rounded-full font-black text-sm uppercase tracking-wider hover:opacity-90 active:scale-95 transition-all shadow-lg cursor-pointer",children:"Signup now"}),e[4]=s,e[5]=l):l=e[5];let u;return e[6]!==r||e[7]!==l?(u=(0,c.jsxs)("div",{className:r,children:[a,o,l]}),e[6]=r,e[7]=l,e[8]=u):u=e[8],u},au=su,ou=ie(),iu=()=>{const t=(0,ou.c)(3);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,c.jsx)("div",{className:"size-11 rounded-full bg-zinc-200 dark:bg-zinc-800 shrink-0"}),t[0]=e):e=t[0];let n;t[1]===Symbol.for("react.memo_cache_sentinel")?(n=(0,c.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,c.jsx)("div",{className:"h-4 bg-zinc-200 dark:bg-zinc-800 rounded w-1/3"}),(0,c.jsx)("div",{className:"h-4 bg-zinc-200 dark:bg-zinc-800 rounded w-16"})]}),t[1]=n):n=t[1];let s;return t[2]===Symbol.for("react.memo_cache_sentinel")?(s=(0,c.jsx)("div",{className:"px-5 pt-4 pb-3 border-b border-zinc-100 dark:border-zinc-800 animate-pulse",children:(0,c.jsxs)("div",{className:"flex items-start gap-x-3",children:[e,(0,c.jsxs)("div",{className:"flex-1 min-w-0",children:[n,(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)("div",{className:"h-3 bg-zinc-200 dark:bg-zinc-800 rounded w-full"}),(0,c.jsx)("div",{className:"h-3 bg-zinc-200 dark:bg-zinc-800 rounded w-5/6"})]}),(0,c.jsx)("div",{className:"h-48 bg-zinc-200 dark:bg-zinc-800 rounded-xl w-full mt-3"})]})]})}),t[2]=s):s=t[2],s},qm=iu,xn=ie();function lu(t){const e=(0,xn.c)(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=oe("flex flex-col gap-2",n),e[3]=n,e[4]=r):r=e[4];let a;return e[5]!==s||e[6]!==r?(a=(0,c.jsx)(Wo,{"data-slot":"tabs",className:r,...s}),e[5]=s,e[6]=r,e[7]=a):a=e[7],a}function cu(t){const e=(0,xn.c)(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=oe("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",n),e[3]=n,e[4]=r):r=e[4];let a;return e[5]!==s||e[6]!==r?(a=(0,c.jsx)(ti,{"data-slot":"tabs-list",className:r,...s}),e[5]=s,e[6]=r,e[7]=a):a=e[7],a}function zr(t){const e=(0,xn.c)(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=oe("inline-flex items-center justify-center gap-1.5 px-2 py-1 text-sm font-medium whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 outline-none focus:outline-none focus-visible:outline-none ring-0 focus:ring-0 focus-visible:ring-0 shadow-none data-[state=active]:shadow-none",n),e[3]=n,e[4]=r):r=e[4];let a;return e[5]!==s||e[6]!==r?(a=(0,c.jsx)(Do,{"data-slot":"tabs-trigger",className:r,...s}),e[5]=s,e[6]=r,e[7]=a):a=e[7],a}function Er(t){const e=(0,xn.c)(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=oe("flex-1 outline-none",n),e[3]=n,e[4]=r):r=e[4];let a;return e[5]!==s||e[6]!==r?(a=(0,c.jsx)(Zo,{"data-slot":"tabs-content",className:r,...s}),e[5]=s,e[6]=r,e[7]=a):a=e[7],a}var du=ie(),uu=t=>{const e=(0,du.c)(18),{name:n,number:s}=t,r=n===void 0?"BRUCE WAYNE":n,a=s===void 0?"9759 2484 5269 6576":s;let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=(0,c.jsx)("style",{children:`
        .credit-card-container {
          perspective: 1000px;
          width: 240px;
          height: 154px;
        }
        .credit-card-inner {
          position: relative;
          width: 100%;
          height: 100%;
          text-align: center;
          transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
          transform-style: preserve-3d;
          cursor: pointer;
        }
        .credit-card-container:hover .credit-card-inner {
          transform: rotateY(180deg);
        }
        .credit-card-front, .credit-card-back {
          position: absolute;
          width: 100%;
          height: 100%;
          -webkit-backface-visibility: hidden;
          backface-visibility: hidden;
          border-radius: 1rem;
          display: flex;
          flex-direction: column;
          justify-content: center;
          background-color: #171717;
          box-shadow: 0 2px 2px rgba(0,0,0,0.4), 0 7px 13px -3px rgba(0,0,0,0.3), inset 0 -1px 0 rgba(0,0,0,0.2);
          color: white;
          overflow: hidden;
        }
        .credit-card-back {
          transform: rotateY(180deg);
        }
      `}),e[0]=o):o=e[0];let l;e[1]===Symbol.for("react.memo_cache_sentinel")?(l=(0,c.jsx)("p",{className:"absolute text-[0.5em] font-bold tracking-[.2em] top-[2em] left-[18.6em]",children:"VICTIMCARD"}),e[1]=l):l=e[1];let u;e[2]===Symbol.for("react.memo_cache_sentinel")?(u=(0,c.jsxs)("svg",{className:"absolute top-[6.8em] left-[11.7em]",xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36",viewBox:"0 0 48 48",children:[(0,c.jsx)("path",{fill:"#ff9800",d:"M32 10A14 14 0 1 0 32 38A14 14 0 1 0 32 10Z"}),(0,c.jsx)("path",{fill:"#d50000",d:"M16 10A14 14 0 1 0 16 38A14 14 0 1 0 16 10Z"}),(0,c.jsx)("path",{fill:"#ff3d00",d:"M18,24c0,4.755,2.376,8.95,6,11.48c3.624-2.53,6-6.725,6-11.48s-2.376-8.95-6-11.48 C20.376,15.05,18,19.245,18,24z"})]}),e[2]=u):u=e[2];let h;e[3]===Symbol.for("react.memo_cache_sentinel")?(h=(0,c.jsx)("svg",{version:"1.1",className:"absolute top-[2.3em] left-[1.5em]",width:"30px",height:"30px",viewBox:"0 0 50 50",children:(0,c.jsx)("image",{width:"50",height:"50",x:"0",y:"0",href:`data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAABGdBTUEAALGPC/xhBQAAACBjSFJN
                AAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAB6VBMVEUAAACNcTiVeUKVeUOY
                fEaafEeUeUSYfEWZfEaykleyklaXe0SWekSZZjOYfEWYe0WXfUWXe0WcgEicfkiXe0SVekSXekSW
                ekKYe0a9nF67m12ZfUWUeEaXfESVekOdgEmVeUWWekSniU+VeUKVeUOrjFKYfEWliE6WeESZe0GS
                e0WYfES7ml2Xe0WXeESUeEOWfEWcf0eWfESXe0SXfEWYekSVeUKXfEWxklawkVaZfEWWekOUekOW
                ekSYfESZe0eXekWYfEWZe0WZe0eVeUSWeETAnmDCoWLJpmbxy4P1zoXwyoLIpWbjvXjivnjgu3bf
                u3beunWvkFWxkle/nmDivXiWekTnwXvkwHrCoWOuj1SXe0TEo2TDo2PlwHratnKZfEbQrWvPrWua
                fUfbt3PJp2agg0v0zYX0zYSfgkvKp2frxX7mwHrlv3rsxn/yzIPgvHfduXWXe0XuyIDzzISsjVO1
                lVm0lFitjVPzzIPqxX7duna0lVncuHTLqGjvyIHeuXXxyYGZfUayk1iyk1e2lln1zYTEomO2llrb
                tnOafkjFpGSbfkfZtXLhvHfkv3nqxH3mwXujhU3KqWizlFilh06khk2fgkqsjlPHpWXJp2erjVOh
                g0yWe0SliE+XekShhEvAn2D///+gx8TWAAAARnRSTlMACVCTtsRl7Pv7+vxkBab7pZv5+ZlL/UnU
                /f3SJCVe+Fx39naA9/75XSMh0/3SSkia+pil/KRj7Pr662JPkrbP7OLQ0JFOijI1MwAAAAFiS0dE
                orDd34wAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfnAg0IDx2lsiuJAAACLElEQVRIx2Ng
                GAXkAUYmZhZWPICFmYkRVQcbOwenmzse4MbFzc6DpIGXj8PD04sA8PbhF+CFaxEU8iWkAQT8hEVg
                OkTF/InR4eUVICYO1SIhCRMLDAoKDvFDVhUaEhwUFAjjSUlDdMiEhcOEItzdI6OiYxA6YqODIt3d
                I2DcuDBZsBY5eVTr4xMSYcyk5BRUOXkFsBZFJTQnp6alQxgZmVloUkrKYC0qqmji2WE5EEZuWB6a
                lKoKdi35YQUQRkFYPpFaCouKIYzi6EDitJSUlsGY5RWVRGjJLyxNy4ZxqtIqqvOxaVELQwZFZdkI
                JVU1RSiSalAt6rUwUBdWG1CP6pT6gNqwOrgCdQyHNYR5YQFhDXj8MiK1IAeyN6aORiyBjByVTc0F
                qBoKWpqwRCVSgilOaY2OaUPw29qjOzqLvTAchpos47u6EZyYnngUSRwpuTe6D+6qaFQdOPNLRzOM
                1dzhRZyW+CZouHk3dWLXglFcFIflQhj9YWjJGlZcaKAVSvjyPrRQ0oQVKDAQHlYFYUwIm4gqExGm
                BSkutaVQJeomwViTJqPK6OhCy2Q9sQBk8cY0DxjTJw0lAQWK6cOKfgNhpKK7ZMpUeF3jPa28BCET
                amiEqJKM+X1gxvWXpoUjVIVPnwErw71nmpgiqiQGBjNzbgs3j1nus+fMndc+Cwm0T52/oNR9lsdC
              S24ra7Tq1cbWjpXV3sHRCb1idXZ0sGdltXNxRateRwHRAACYHutzk/2I5QAAACV0RVh0ZGF0ZTpj
              cmVhdGUAMjAyMy0wMi0xM1QwODoxNToyOSswMDowMEUnN7UAAAAldEVYdGRhdGU6bW9kaWZ5ADIw
              MjMtMDItMTNUMDg6MTU6MjkrMDA6MDA0eo8JAAAAKHRFWHRkYXRlOnRpbWVzdGFtcAAyMDIzLTAy
              LTEzVDA4OjE1OjI5KzAwOjAwY2+u1gAAAABJRU5ErkJggg==`})}),e[3]=h):h=e[3];let d;e[4]===Symbol.for("react.memo_cache_sentinel")?(d=(0,c.jsx)("svg",{version:"1.1",className:"absolute top-[3.5em] left-[12.4em]",width:"20px",height:"20px",viewBox:"0 0 50 50",children:(0,c.jsx)("image",{width:"50",height:"50",x:"0",y:"0",href:`data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAQAAAC0NkA6AAAABGdBTUEAALGPC/xhBQAAACBjSFJN
                AAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAJcEhZ
                cwAACxMAAAsTAQCanBgAAAAHdElNRQfnAg0IEzgIwaKTAAADDklEQVRYw+1XS0iUURQ+f5qPyjQf
                lGRFEEFK76koKGxRbWyVVLSOgsCgwjZBJJYuKogSIoOonUK4q3U0WVBWFPZYiIE6kuArG3VGzK/F
                fPeMM/MLt99/NuHdfPd888/57jn3nvsQWWj/VcMlvMMd5KRTogqx9iCdIjUUmcGR9ImUYowyP3xN
                GQJoRLVaZ2DaZf8kyjEJALhI28ELioyiwC+Rc3QZwRYyO/DH51hQgWm6DMIh10KmD4u9O16K49it
                VoPOAmcGAWWOepXIRScAoJZ2Frro8oN+EyTT6lWkkg6msZfMSR35QTJmjU0g15tIGSJ08ZZMJkJk
                HpNZgSkyXosS13TkJpZ62mPIJvOSzC1bp8vRhhCakEk7G9/o4gmZdbpsTcKu0m63FbnBP9Qrc15z
                bkbemfgNDtEOI8NO5L5O9VYyRYgmJayZ9nPaxZrSjW4+F6Uw9yQqIiIZwhp2huQTf6OIvCZyGM6g
                DJBZbyXifJXr7FZjGXsdxADxI7HUJFB6iWvsIhFpkoiIiGTJfjJfiCuJg2ZEspq9EHGVpYgzKqwJ
                qSAOEwuJQ/pxPvE3cYltJCLdxBLiSKKIE5HxJKcTRNeadxfhDiuYw44zVs1dxKwRk/uCxIiQkxKB
                sSctRVAge9g1E15EHE6yRUaJecRxcWlukdRIbGFOSZCMWQA/iWauIP3slREHXPyliqBcrrD71Amz
                Z+rD1Mt2Yr8TZc/UR4/YtFnbijnHi3UrN9vKQ9rPaJf867ZiaqDB+czeKYmd3pNa6fuI75MiC0uX
                XSR5aEMf7s7a6r/PudVXkjFb/SsrCRfROk0Fx6+H1i9kkTGn/E1vEmt1m089fh+RKdQ5O+xNJPUi
                cUIjO0Dm7HwvErEr0YxeibL1StSh37STafE4I7zcBdRq1DiOkdmlTJVnkQTBTS7X1FYyvfO4piaI
                nKbDCDaT2anLudYXCRFsQBgAcIF2/Okwgvz5+Z4tsw118dzruvIvjhTB+HOuWy8UvovEH6beitBK
                xDyxm9MmISKCWrzB7bSlaqGlsf0FC0gMjzTg6GgAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDIt
                MTNUMDg6MTk6NTYrMDA6MDCjlq7LAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTAyLTEzVDA4OjE5
              OjU2KzAwOjAw0ssWdwAAACh0RVh0ZGF0ZTp0aW1lc3RhbXAAMjAyMy0wMi0xM1QwODoxOTo1Nisw
              MDowMIXeN6gAAAAASUVORK5CYII=`})}),e[4]=d):d=e[4];let i;e[5]!==a?(i=(0,c.jsx)("p",{className:"absolute text-[.6em] font-bold top-[8.3em] left-[1.6em] uppercase tracking-wider",children:a}),e[5]=a,e[6]=i):i=e[6];let f;e[7]===Symbol.for("react.memo_cache_sentinel")?(f=(0,c.jsx)("p",{className:"absolute text-[0.5em] font-bold top-[13.6em] left-[3.2em]",children:"1 2 / 2 4"}),e[7]=f):f=e[7];let m;e[8]!==r?(m=(0,c.jsx)("p",{className:"absolute text-[0.5em] font-bold top-[16.1em] left-[2em] uppercase tracking-tighter truncate w-[160px] text-left",children:r}),e[8]=r,e[9]=m):m=e[9];let g;e[10]!==m||e[11]!==i?(g=(0,c.jsxs)("div",{className:"credit-card-front",children:[l,u,h,d,i,f,m]}),e[10]=m,e[11]=i,e[12]=g):g=e[12];let b,x;e[13]===Symbol.for("react.memo_cache_sentinel")?(b=(0,c.jsx)("div",{className:"absolute w-full h-[1.5em] top-[2.4em] bg-black bg-[repeating-linear-gradient(45deg,#303030,#303030_10px,#202020_10px,#202020_20px)] left-0"}),x=(0,c.jsx)("div",{className:"absolute w-[8em] h-[0.8em] top-[5em] left-[0.8em] bg-white rounded-[2.5px]"}),e[13]=b,e[14]=x):(b=e[13],x=e[14]);let v;e[15]===Symbol.for("react.memo_cache_sentinel")?(v=(0,c.jsxs)("div",{className:"credit-card-back",children:[b,x,(0,c.jsx)("div",{className:"absolute w-[4.1em] h-[0.8em] top-[5em] left-[10em] bg-white rounded-[2.5px]",children:(0,c.jsx)("p",{className:"text-black font-bold text-center m-[.2em] text-[0.5em]",children:"***"})})]}),e[15]=v):v=e[15];let S;return e[16]!==g?(S=(0,c.jsxs)(c.Fragment,{children:[o,(0,c.jsx)("div",{className:"flex items-center justify-center p-8",children:(0,c.jsx)("div",{className:"credit-card-container",children:(0,c.jsxs)("div",{className:"credit-card-inner",children:[g,v]})})})]}),e[16]=g,e[17]=S):S=e[17],S},Wm=uu,fu=ie();function Vm(t){const e=(0,fu.c)(8);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let r;e[3]!==n?(r=oe("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),e[3]=n,e[4]=r):r=e[4];let a;return e[5]!==s||e[6]!==r?(a=(0,c.jsx)("textarea",{"data-slot":"textarea",className:r,...s}),e[5]=s,e[6]=r,e[7]=a):a=e[7],a}var mu=ie(),hu=t=>{const e=(0,mu.c)(7),{className:n}=t;let s;e[0]!==n?(s=oe("flex items-center gap-1 px-1 py-1.5",n),e[0]=n,e[1]=s):s=e[1];let r,a,o;e[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,c.jsx)("div",{className:"size-1.5 rounded-full bg-zinc-400 dark:bg-zinc-500 animate-dot-pulse"}),a=(0,c.jsx)("div",{className:"size-1.5 rounded-full bg-zinc-400 dark:bg-zinc-500 animate-dot-pulse [animation-delay:0.2s]"}),o=(0,c.jsx)("div",{className:"size-1.5 rounded-full bg-zinc-400 dark:bg-zinc-500 animate-dot-pulse [animation-delay:0.4s]"}),e[2]=r,e[3]=a,e[4]=o):(r=e[2],a=e[3],o=e[4]);let l;return e[5]!==s?(l=(0,c.jsxs)("div",{className:s,children:[r,a,o]}),e[5]=s,e[6]=l):l=e[6],l},Ym=hu,gu=ie(),pu=()=>{const t=(0,gu.c)(48),{currentUser:e,setAuthMode:n}=Ge(),{darkMode:s,toggleDarkMode:r}=Wn(),[a,o]=(0,p.useState)(""),l=pn();let u;t[0]===Symbol.for("react.memo_cache_sentinel")?(u={queryKey:["trending-hashtags"],queryFn:bu,staleTime:3e5,refetchInterval:6e4},t[0]=u):u=t[0];const{data:h}=Rt(u);let d;t[1]!==h?(d=h===void 0?[]:h,t[1]=h,t[2]=d):d=t[2];const i=d;let f;t[3]===Symbol.for("react.memo_cache_sentinel")?(f=[" 2026 Sysm","Terms","Privacy","Guidelines","Discord","Sysm","GitHub","Support","Status"],t[3]=f):f=t[3];const m=f;let g;t[4]!==s?(g=s?(0,c.jsx)(Oo,{size:20}):(0,c.jsx)(wo,{size:20}),t[4]=s,t[5]=g):g=t[5];let b;t[6]!==g||t[7]!==r?(b=(0,c.jsx)("button",{onClick:r,className:"p-3 rounded-full bg-zinc-50 dark:bg-zinc-900 text-zinc-500 dark:text-zinc-400 border border-zinc-100 dark:border-zinc-800 hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-all cursor-pointer",title:"Toggle Theme",children:g}),t[6]=g,t[7]=r,t[8]=b):b=t[8];const x=b;if(e){let R;t[9]===Symbol.for("react.memo_cache_sentinel")?(R=()=>o(""),t[9]=R):R=t[9];let E;t[10]!==a?(E=(0,c.jsx)("div",{className:"flex-1",children:(0,c.jsx)(Ar,{value:a,onChange:o,onClear:R})}),t[10]=a,t[11]=E):E=t[11];let I;t[12]!==E||t[13]!==x?(I=(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[E,x]}),t[12]=E,t[13]=x,t[14]=I):I=t[14];let N;t[15]===Symbol.for("react.memo_cache_sentinel")?(N=(0,c.jsx)("h3",{className:"font-extrabold text-xl mb-4 px-2 text-[--foreground]",children:"What's happening"}),t[15]=N):N=t[15];let F;if(t[16]!==l||t[17]!==i){let O;t[19]!==l?(O=q=>(0,c.jsxs)("div",{onClick:()=>l(`/tags/${q.name.replace(/^#/,"")}`),className:"px-3 py-3 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-xl cursor-pointer transition-colors group",children:[(0,c.jsx)("div",{className:"text-xs text-zinc-500 dark:text-zinc-400 font-medium",children:"Trending"}),(0,c.jsxs)("div",{className:"font-bold text-[--foreground]",children:["#",q.name.replace(/^#/,"")]}),(0,c.jsxs)("div",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:[q.usage_count," posts"]})]},q.id),t[19]=l,t[20]=O):O=t[20],F=i.map(O),t[16]=l,t[17]=i,t[18]=F}else F=t[18];let j;t[21]!==i.length?(j=i.length===0&&(0,c.jsx)("p",{className:"text-sm text-zinc-500 px-2",children:"No trends yet"}),t[21]=i.length,t[22]=j):j=t[22];let k;t[23]!==F||t[24]!==j?(k=(0,c.jsxs)("div",{className:"bg-zinc-50 dark:bg-zinc-900 rounded-2xl p-4 border border-[--border]",children:[N,(0,c.jsxs)("div",{className:"flex flex-col gap-1",children:[F,j]})]}),t[23]=F,t[24]=j,t[25]=k):k=t[25];let P;t[26]===Symbol.for("react.memo_cache_sentinel")?(P=(0,c.jsx)("div",{className:"flex flex-wrap gap-x-4 gap-y-2 px-2 text-[13px] text-zinc-500 font-medium pb-5",children:m.map(xu)}),t[26]=P):P=t[26];let T;return t[27]!==k||t[28]!==I?(T=(0,c.jsxs)("aside",{className:"sticky top-5 hidden w-[320px] shrink-0 flex-col gap-y-6 lg:flex overflow-y-auto max-h-screen",children:[I,k,P]}),t[27]=k,t[28]=I,t[29]=T):T=t[29],T}let v,S;t[30]!==n?(v=(0,c.jsx)("button",{onClick:()=>n("signup"),className:"flex-1 bg-[--card] border border-[--border] py-2.5 rounded-full font-bold text-[--foreground] hover:bg-zinc-50 dark:hover:bg-zinc-900 transition-colors shadow-sm cursor-pointer",children:"Signup"}),S=()=>n("login"),t[30]=n,t[31]=v,t[32]=S):(v=t[31],S=t[32]);let z;t[33]===Symbol.for("react.memo_cache_sentinel")?(z=(0,c.jsx)("img",{src:"/logo.webp",alt:"",className:"size-4 rounded-sm"}),t[33]=z):z=t[33];let C;t[34]!==S?(C=(0,c.jsxs)("button",{onClick:S,className:"flex-1 bg-zinc-950 dark:bg-white text-white dark:text-zinc-950 py-2.5 rounded-full font-bold flex items-center justify-center gap-2 hover:opacity-90 transition-opacity cursor-pointer",children:[z,"Login"]}),t[34]=S,t[35]=C):C=t[35];let M;t[36]!==v||t[37]!==C||t[38]!==x?(M=(0,c.jsxs)("div",{className:"flex gap-3",children:[v,C,x]}),t[36]=v,t[37]=C,t[38]=x,t[39]=M):M=t[39];let _;t[40]===Symbol.for("react.memo_cache_sentinel")?(_=()=>o(""),t[40]=_):_=t[40];let D;t[41]!==a?(D=(0,c.jsx)(Ar,{value:a,onChange:o,onClear:_}),t[41]=a,t[42]=D):D=t[42];let w;t[43]===Symbol.for("react.memo_cache_sentinel")?(w=(0,c.jsx)(au,{}),t[43]=w):w=t[43];let y;t[44]===Symbol.for("react.memo_cache_sentinel")?(y=(0,c.jsx)("div",{className:"flex flex-wrap gap-x-4 gap-y-2 px-2 text-[13px] text-zinc-500 font-medium pb-5",children:m.map(yu)}),t[44]=y):y=t[44];let A;return t[45]!==M||t[46]!==D?(A=(0,c.jsxs)("aside",{className:"sticky top-5 hidden w-[350px] shrink-0 flex-col gap-y-6 lg:flex pr-4",children:[M,D,w,y]}),t[45]=M,t[46]=D,t[47]=A):A=t[47],A},vu=pu;function bu(){return Ki(5)}function xu(t){return(0,c.jsx)("a",{href:"#",className:"hover:underline",children:t},t)}function yu(t){return(0,c.jsx)("a",{href:"#",className:"hover:underline",children:t},t)}var Xm=ie(),wu=({isOpen:t,onClose:e})=>{const{currentUser:n}=Ge(),{addToast:s}=wt(),r=pn(),[a,o]=(0,p.useState)({name:"",handle:"",description:"",isPrivate:!1}),[l,u]=(0,p.useState)(!1),h=async d=>{if(d.preventDefault(),!(!a.name||!a.handle||!n)){u(!0);try{const i=await Vi({name:a.name,handle:a.handle.toLowerCase().replace(/[^a-z0-9_]/g,""),description:a.description,is_private:a.isPrivate,creator_id:n.id}),{error:f}=await Y.from("community_members").insert([{community_id:i.id,user_id:n.id,role:"admin"}]);if(f)throw f;s(`Community "${i.name}" created!`),e(),r(`/c/${i.handle}`)}catch(i){console.error(i),s(i.message||"Failed to create community","error")}finally{u(!1)}}};return(0,c.jsx)(Tt,{isOpen:t,onClose:()=>!l&&e(),title:"Create Community",className:"sm:max-w-md",children:(0,c.jsxs)("form",{onSubmit:h,className:"space-y-5",children:[(0,c.jsxs)("div",{className:"flex flex-col items-center justify-center p-6 bg-zinc-50 dark:bg-zinc-900 rounded-2xl border-2 border-dashed border-zinc-200 dark:border-zinc-800",children:[(0,c.jsx)("div",{className:"size-20 rounded-2xl bg-white dark:bg-black flex items-center justify-center shadow-sm mb-3",children:(0,c.jsx)(vn,{size:32,className:"text-violet-600"})}),(0,c.jsx)("p",{className:"text-xs font-medium text-zinc-500 text-center max-w-[200px]",children:"Communities are where people with shared interests connect."})]}),(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsxs)("div",{className:"space-y-1.5",children:[(0,c.jsx)("label",{className:"text-sm font-bold ml-1",children:"Community Name"}),(0,c.jsx)("input",{type:"text",required:!0,className:"w-full bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-4 py-2.5 outline-none focus:ring-2 focus:ring-violet-500/20 focus:border-violet-500 transition-all",placeholder:"e.g. Photography Enthusiasts",value:a.name,onChange:d=>o({...a,name:d.target.value})})]}),(0,c.jsxs)("div",{className:"space-y-1.5",children:[(0,c.jsx)("label",{className:"text-sm font-bold ml-1",children:"Handle"}),(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-zinc-500 font-medium",children:"c/"}),(0,c.jsx)("input",{type:"text",required:!0,className:"w-full bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl pl-8 pr-4 py-2.5 outline-none focus:ring-2 focus:ring-violet-500/20 focus:border-violet-500 transition-all",placeholder:"photography",value:a.handle,onChange:d=>o({...a,handle:d.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"")})})]})]}),(0,c.jsxs)("div",{className:"space-y-1.5",children:[(0,c.jsx)("label",{className:"text-sm font-bold ml-1",children:"Description (Optional)"}),(0,c.jsx)("textarea",{className:"w-full bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-4 py-2.5 outline-none focus:ring-2 focus:ring-violet-500/20 focus:border-violet-500 transition-all min-h-[100px] resize-none",placeholder:"What is this community about?",value:a.description,onChange:d=>o({...a,description:d.target.value})})]}),(0,c.jsxs)("div",{className:"flex items-center justify-between p-4 bg-zinc-50 dark:bg-zinc-900 rounded-xl border border-zinc-200 dark:border-zinc-800",children:[(0,c.jsxs)("div",{className:"flex flex-col",children:[(0,c.jsx)("span",{className:"text-sm font-bold",children:"Private Community"}),(0,c.jsx)("span",{className:"text-[10px] text-zinc-500",children:"Only Admins can post in private communities"})]}),(0,c.jsx)("input",{type:"checkbox",className:"size-5 rounded-md accent-violet-600 cursor-pointer",checked:a.isPrivate,onChange:d=>o({...a,isPrivate:d.target.checked})})]})]}),(0,c.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,c.jsx)(Ze,{type:"button",variant:"outline",className:"flex-1",onClick:e,disabled:l,children:"Cancel"}),(0,c.jsx)(Ze,{type:"submit",className:"flex-1",disabled:l||!a.name||!a.handle,children:l?(0,c.jsx)(ft,{size:18,className:"animate-spin"}):"Create"})]})]})})},Qm=wu;function ju(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return(0,p.useMemo)(()=>s=>{e.forEach(r=>r(s))},e)}var yn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Pt(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function Zn(t){return"nodeType"in t}function Qe(t){var e,n;return t?Pt(t)?t:Zn(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function Jn(t){const{Document:e}=Qe(t);return t instanceof e}function Jt(t){return Pt(t)?!1:t instanceof Qe(t).HTMLElement}function ma(t){return t instanceof Qe(t).SVGElement}function Ft(t){return t?Pt(t)?t.document:Zn(t)?Jn(t)?t:Jt(t)||ma(t)?t.ownerDocument:document:document:document}var dt=yn?p.useLayoutEffect:p.useEffect;function Gn(t){const e=(0,p.useRef)(t);return dt(()=>{e.current=t}),(0,p.useCallback)(function(){for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return e.current==null?void 0:e.current(...s)},[])}function ku(){const t=(0,p.useRef)(null);return[(0,p.useCallback)((e,n)=>{t.current=setInterval(e,n)},[]),(0,p.useCallback)(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[])]}function Vt(t,e){e===void 0&&(e=[t]);const n=(0,p.useRef)(t);return dt(()=>{n.current!==t&&(n.current=t)},e),n}function Gt(t,e){const n=(0,p.useRef)();return(0,p.useMemo)(()=>{const s=t(n.current);return n.current=s,s},[...e])}function un(t){const e=Gn(t),n=(0,p.useRef)(null);return[n,(0,p.useCallback)(s=>{s!==n.current&&e?.(s,n.current),n.current=s},[])]}function Dn(t){const e=(0,p.useRef)();return(0,p.useEffect)(()=>{e.current=t},[t]),e.current}var An={};function $t(t,e){return(0,p.useMemo)(()=>{if(e)return e;const n=An[t]==null?0:An[t]+1;return An[t]=n,t+"-"+n},[t,e])}function ha(t){return function(e){for(var n=arguments.length,s=new Array(n>1?n-1:0),r=1;r<n;r++)s[r-1]=arguments[r];return s.reduce((a,o)=>{const l=Object.entries(o);for(const[u,h]of l){const d=a[u];d!=null&&(a[u]=d+t*h)}return a},{...e})}}var It=ha(1),Yt=ha(-1);function _u(t){return"clientX"in t&&"clientY"in t}function $n(t){if(!t)return!1;const{KeyboardEvent:e}=Qe(t.target);return e&&t instanceof e}function Su(t){if(!t)return!1;const{TouchEvent:e}=Qe(t.target);return e&&t instanceof e}function Tn(t){if(Su(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return _u(t)?{x:t.clientX,y:t.clientY}:null}var Xt=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[Xt.Translate.toString(t),Xt.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:s}=t;return e+" "+n+"ms "+s}}}),Rr="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Cu(t){return t.matches(Rr)?t:t.querySelector(Rr)}var Nu={display:"none"};function Au(t){let{id:e,value:n}=t;return p.createElement("div",{id:e,style:Nu},n)}function zu(t){let{id:e,announcement:n,ariaLiveType:s="assertive"}=t;return p.createElement("div",{id:e,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":s,"aria-atomic":!0},n)}function Eu(){const[t,e]=(0,p.useState)("");return{announce:(0,p.useCallback)(n=>{n!=null&&e(n)},[]),announcement:t}}var Ut=Yr(),ga=(0,p.createContext)(null);function Ru(t){const e=(0,p.useContext)(ga);(0,p.useEffect)(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function Iu(){const[t]=(0,p.useState)(()=>new Set),e=(0,p.useCallback)(n=>(t.add(n),()=>t.delete(n)),[t]);return[(0,p.useCallback)(n=>{let{type:s,event:r}=n;t.forEach(a=>{var o;return(o=a[s])==null?void 0:o.call(a,r)})},[t]),e]}var Mu={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Du={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function Tu(t){let{announcements:e=Du,container:n,hiddenTextDescribedById:s,screenReaderInstructions:r=Mu}=t;const{announce:a,announcement:o}=Eu(),l=$t("DndLiveRegion"),[u,h]=(0,p.useState)(!1);if((0,p.useEffect)(()=>{h(!0)},[]),Ru((0,p.useMemo)(()=>({onDragStart(i){let{active:f}=i;a(e.onDragStart({active:f}))},onDragMove(i){let{active:f,over:m}=i;e.onDragMove&&a(e.onDragMove({active:f,over:m}))},onDragOver(i){let{active:f,over:m}=i;a(e.onDragOver({active:f,over:m}))},onDragEnd(i){let{active:f,over:m}=i;a(e.onDragEnd({active:f,over:m}))},onDragCancel(i){let{active:f,over:m}=i;a(e.onDragCancel({active:f,over:m}))}}),[a,e])),!u)return null;const d=p.createElement(p.Fragment,null,p.createElement(Au,{id:s,value:r.draggable}),p.createElement(zu,{id:l,announcement:o}));return n?(0,Ut.createPortal)(d,n):d}var Pe;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Pe||(Pe={}));function fn(){}function Ir(t,e){return(0,p.useMemo)(()=>({sensor:t,options:e??{}}),[t,e])}function Pu(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return(0,p.useMemo)(()=>[...e].filter(s=>s!=null),[...e])}var ot=Object.freeze({x:0,y:0});function pa(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function va(t,e){let{data:{value:n}}=t,{data:{value:s}}=e;return n-s}function Fu(t,e){let{data:{value:n}}=t,{data:{value:s}}=e;return s-n}function Mr(t){let{left:e,top:n,height:s,width:r}=t;return[{x:e,y:n},{x:e+r,y:n},{x:e,y:n+s},{x:e+r,y:n+s}]}function ba(t,e){if(!t||t.length===0)return null;const[n]=t;return e?n[e]:n}function Dr(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}var Ou=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:s}=t;const r=Dr(e,e.left,e.top),a=[];for(const o of s){const{id:l}=o,u=n.get(l);if(u){const h=pa(Dr(u),r);a.push({id:l,data:{droppableContainer:o,value:h}})}}return a.sort(va)},Lu=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:s}=t;const r=Mr(e),a=[];for(const o of s){const{id:l}=o,u=n.get(l);if(u){const h=Mr(u),d=r.reduce((f,m,g)=>f+pa(h[g],m),0),i=Number((d/4).toFixed(4));a.push({id:l,data:{droppableContainer:o,value:i}})}}return a.sort(va)};function Uu(t,e){const n=Math.max(e.top,t.top),s=Math.max(e.left,t.left),r=Math.min(e.left+e.width,t.left+t.width),a=Math.min(e.top+e.height,t.top+t.height),o=r-s,l=a-n;if(s<r&&n<a){const u=e.width*e.height,h=t.width*t.height,d=o*l,i=d/(u+h-d);return Number(i.toFixed(4))}return 0}var Bu=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:s}=t;const r=[];for(const a of s){const{id:o}=a,l=n.get(o);if(l){const u=Uu(l,e);u>0&&r.push({id:o,data:{droppableContainer:a,value:u}})}}return r.sort(Fu)};function Hu(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function xa(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:ot}function qu(t){return function(n){for(var s=arguments.length,r=new Array(s>1?s-1:0),a=1;a<s;a++)r[a-1]=arguments[a];return r.reduce((o,l)=>({...o,top:o.top+t*l.y,bottom:o.bottom+t*l.y,left:o.left+t*l.x,right:o.right+t*l.x}),{...n})}}var Wu=qu(1);function Vu(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function Yu(t,e,n){const s=Vu(e);if(!s)return t;const{scaleX:r,scaleY:a,x:o,y:l}=s,u=t.left-o-(1-r)*parseFloat(n),h=t.top-l-(1-a)*parseFloat(n.slice(n.indexOf(" ")+1)),d=r?t.width/r:t.width,i=a?t.height/a:t.height;return{width:d,height:i,top:h,right:u+d,bottom:h+i,left:u}}var Xu={ignoreTransform:!1};function Ot(t,e){e===void 0&&(e=Xu);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:h,transformOrigin:d}=Qe(t).getComputedStyle(t);h&&(n=Yu(n,h,d))}const{top:s,left:r,width:a,height:o,bottom:l,right:u}=n;return{top:s,left:r,width:a,height:o,bottom:l,right:u}}function Tr(t){return Ot(t,{ignoreTransform:!0})}function Qu(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function Ku(t,e){return e===void 0&&(e=Qe(t).getComputedStyle(t)),e.position==="fixed"}function Zu(t,e){e===void 0&&(e=Qe(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const r=e[s];return typeof r=="string"?n.test(r):!1})}function wn(t,e){const n=[];function s(r){if(e!=null&&n.length>=e||!r)return n;if(Jn(r)&&r.scrollingElement!=null&&!n.includes(r.scrollingElement))return n.push(r.scrollingElement),n;if(!Jt(r)||ma(r)||n.includes(r))return n;const a=Qe(t).getComputedStyle(r);return r!==t&&Zu(r,a)&&n.push(r),Ku(r,a)?n:s(r.parentNode)}return t?s(t):n}function ya(t){const[e]=wn(t,1);return e??null}function zn(t){return!yn||!t?null:Pt(t)?t:Zn(t)?Jn(t)||t===Ft(t).scrollingElement?window:Jt(t)?t:null:null}function wa(t){return Pt(t)?t.scrollX:t.scrollLeft}function ja(t){return Pt(t)?t.scrollY:t.scrollTop}function Pn(t){return{x:wa(t),y:ja(t)}}var Fe;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Fe||(Fe={}));function ka(t){return!yn||!t?!1:t===document.scrollingElement}function _a(t){const e={x:0,y:0},n=ka(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},s={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height};return{isTop:t.scrollTop<=e.y,isLeft:t.scrollLeft<=e.x,isBottom:t.scrollTop>=s.y,isRight:t.scrollLeft>=s.x,maxScroll:s,minScroll:e}}var Ju={x:.2,y:.2};function Gu(t,e,n,s,r){let{top:a,left:o,right:l,bottom:u}=n;s===void 0&&(s=10),r===void 0&&(r=Ju);const{isTop:h,isBottom:d,isLeft:i,isRight:f}=_a(t),m={x:0,y:0},g={x:0,y:0},b={height:e.height*r.y,width:e.width*r.x};return!h&&a<=e.top+b.height?(m.y=Fe.Backward,g.y=s*Math.abs((e.top+b.height-a)/b.height)):!d&&u>=e.bottom-b.height&&(m.y=Fe.Forward,g.y=s*Math.abs((e.bottom-b.height-u)/b.height)),!f&&l>=e.right-b.width?(m.x=Fe.Forward,g.x=s*Math.abs((e.right-b.width-l)/b.width)):!i&&o<=e.left+b.width&&(m.x=Fe.Backward,g.x=s*Math.abs((e.left+b.width-o)/b.width)),{direction:m,speed:g}}function $u(t){if(t===document.scrollingElement){const{innerWidth:a,innerHeight:o}=window;return{top:0,left:0,right:a,bottom:o,width:a,height:o}}const{top:e,left:n,right:s,bottom:r}=t.getBoundingClientRect();return{top:e,left:n,right:s,bottom:r,width:t.clientWidth,height:t.clientHeight}}function Sa(t){return t.reduce((e,n)=>It(e,Pn(n)),ot)}function ef(t){return t.reduce((e,n)=>e+wa(n),0)}function tf(t){return t.reduce((e,n)=>e+ja(n),0)}function nf(t,e){if(e===void 0&&(e=Ot),!t)return;const{top:n,left:s,bottom:r,right:a}=e(t);ya(t)&&(r<=0||a<=0||n>=window.innerHeight||s>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}var rf=[["x",["left","right"],ef],["y",["top","bottom"],tf]],er=class{constructor(t,e){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=wn(e),s=Sa(n);this.rect={...t},this.width=t.width,this.height=t.height;for(const[r,a,o]of rf)for(const l of a)Object.defineProperty(this,l,{get:()=>{const u=o(n),h=s[r]-u;return this.rect[l]+h},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}},Bt=class{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...e)})},this.target=t}add(t,e,n){var s;(s=this.target)==null||s.addEventListener(t,e,n),this.listeners.push([t,e,n])}};function sf(t){const{EventTarget:e}=Qe(t);return t instanceof e?t:Ft(t)}function En(t,e){const n=Math.abs(t.x),s=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+s**2)>e:"x"in e&&"y"in e?n>e.x&&s>e.y:"x"in e?n>e.x:"y"in e?s>e.y:!1}var tt;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(tt||(tt={}));function Pr(t){t.preventDefault()}function af(t){t.stopPropagation()}var ge;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(ge||(ge={}));var Ca={start:[ge.Space,ge.Enter],cancel:[ge.Esc],end:[ge.Space,ge.Enter,ge.Tab]},of=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case ge.Right:return{...n,x:n.x+25};case ge.Left:return{...n,x:n.x-25};case ge.Down:return{...n,y:n.y+25};case ge.Up:return{...n,y:n.y-25}}},tr=class{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:e}}=t;this.props=t,this.listeners=new Bt(Ft(e)),this.windowListeners=new Bt(Qe(e)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(tt.Resize,this.handleCancel),this.windowListeners.add(tt.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(tt.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:e}=this.props,n=t.node.current;n&&nf(n),e(ot)}handleKeyDown(t){if($n(t)){const{active:e,context:n,options:s}=this.props,{keyboardCodes:r=Ca,coordinateGetter:a=of,scrollBehavior:o="smooth"}=s,{code:l}=t;if(r.end.includes(l)){this.handleEnd(t);return}if(r.cancel.includes(l)){this.handleCancel(t);return}const{collisionRect:u}=n.current,h=u?{x:u.left,y:u.top}:ot;this.referenceCoordinates||(this.referenceCoordinates=h);const d=a(t,{active:e,context:n.current,currentCoordinates:h});if(d){const i=Yt(d,h),f={x:0,y:0},{scrollableAncestors:m}=n.current;for(const g of m){const b=t.code,{isTop:x,isRight:v,isLeft:S,isBottom:z,maxScroll:C,minScroll:M}=_a(g),_=$u(g),D={x:Math.min(b===ge.Right?_.right-_.width/2:_.right,Math.max(b===ge.Right?_.left:_.left+_.width/2,d.x)),y:Math.min(b===ge.Down?_.bottom-_.height/2:_.bottom,Math.max(b===ge.Down?_.top:_.top+_.height/2,d.y))},w=b===ge.Right&&!v||b===ge.Left&&!S,y=b===ge.Down&&!z||b===ge.Up&&!x;if(w&&D.x!==d.x){const A=g.scrollLeft+i.x,R=b===ge.Right&&A<=C.x||b===ge.Left&&A>=M.x;if(R&&!i.y){g.scrollTo({left:A,behavior:o});return}R?f.x=g.scrollLeft-A:f.x=b===ge.Right?g.scrollLeft-C.x:g.scrollLeft-M.x,f.x&&g.scrollBy({left:-f.x,behavior:o});break}else if(y&&D.y!==d.y){const A=g.scrollTop+i.y,R=b===ge.Down&&A<=C.y||b===ge.Up&&A>=M.y;if(R&&!i.x){g.scrollTo({top:A,behavior:o});return}R?f.y=g.scrollTop-A:f.y=b===ge.Down?g.scrollTop-C.y:g.scrollTop-M.y,f.y&&g.scrollBy({top:-f.y,behavior:o});break}}this.handleMove(t,It(Yt(d,this.referenceCoordinates),f))}}}handleMove(t,e){const{onMove:n}=this.props;t.preventDefault(),n(e)}handleEnd(t){const{onEnd:e}=this.props;t.preventDefault(),this.detach(),e()}handleCancel(t){const{onCancel:e}=this.props;t.preventDefault(),this.detach(),e()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}};tr.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:s=Ca,onActivation:r}=e,{active:a}=n;const{code:o}=t.nativeEvent;if(s.start.includes(o)){const l=a.activatorNode.current;return l&&t.target!==l?!1:(t.preventDefault(),r?.({event:t.nativeEvent}),!0)}return!1}}];function Fr(t){return!!(t&&"distance"in t)}function Or(t){return!!(t&&"delay"in t)}var nr=class{constructor(t,e,n){var s;n===void 0&&(n=sf(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=e;const{event:r}=t,{target:a}=r;this.props=t,this.events=e,this.document=Ft(a),this.documentListeners=new Bt(this.document),this.listeners=new Bt(n),this.windowListeners=new Bt(Qe(a)),this.initialCoordinates=(s=Tn(r))!=null?s:ot,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:e,bypassActivationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(tt.Resize,this.handleCancel),this.windowListeners.add(tt.DragStart,Pr),this.windowListeners.add(tt.VisibilityChange,this.handleCancel),this.windowListeners.add(tt.ContextMenu,Pr),this.documentListeners.add(tt.Keydown,this.handleKeydown),e){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Or(e)){this.timeoutId=setTimeout(this.handleStart,e.delay),this.handlePending(e);return}if(Fr(e)){this.handlePending(e);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,e){const{active:n,onPending:s}=this.props;s(n,t,this.initialCoordinates,e)}handleStart(){const{initialCoordinates:t}=this,{onStart:e}=this.props;t&&(this.activated=!0,this.documentListeners.add(tt.Click,af,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(tt.SelectionChange,this.removeTextSelection),e(t))}handleMove(t){var e;const{activated:n,initialCoordinates:s,props:r}=this,{onMove:a,options:{activationConstraint:o}}=r;if(!s)return;const l=(e=Tn(t))!=null?e:ot,u=Yt(s,l);if(!n&&o){if(Fr(o)){if(o.tolerance!=null&&En(u,o.tolerance))return this.handleCancel();if(En(u,o.distance))return this.handleStart()}if(Or(o)&&En(u,o.tolerance))return this.handleCancel();this.handlePending(o,u);return}t.cancelable&&t.preventDefault(),a(l)}handleEnd(){const{onAbort:t,onEnd:e}=this.props;this.detach(),this.activated||t(this.props.active),e()}handleCancel(){const{onAbort:t,onCancel:e}=this.props;this.detach(),this.activated||t(this.props.active),e()}handleKeydown(t){t.code===ge.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}},lf={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}},rr=class extends nr{constructor(t){const{event:e}=t,n=Ft(e.target);super(t,lf,n)}};rr.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:s}=e;return!n.isPrimary||n.button!==0?!1:(s?.({event:n}),!0)}}];var cf={move:{name:"mousemove"},end:{name:"mouseup"}},Fn;(function(t){t[t.RightClick=2]="RightClick"})(Fn||(Fn={}));var df=class extends nr{constructor(t){super(t,cf,Ft(t.event.target))}};df.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:s}=e;return n.button===Fn.RightClick?!1:(s?.({event:n}),!0)}}];var Rn={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}},uf=class extends nr{constructor(t){super(t,Rn)}static setup(){return window.addEventListener(Rn.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Rn.move.name,t)};function t(){}}};uf.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:s}=e;const{touches:r}=n;return r.length>1?!1:(s?.({event:n}),!0)}}];var Ht;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Ht||(Ht={}));var mn;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(mn||(mn={}));function ff(t){let{acceleration:e,activator:n=Ht.Pointer,canScroll:s,draggingRect:r,enabled:a,interval:o=5,order:l=mn.TreeOrder,pointerCoordinates:u,scrollableAncestors:h,scrollableAncestorRects:d,delta:i,threshold:f}=t;const m=hf({delta:i,disabled:!a}),[g,b]=ku(),x=(0,p.useRef)({x:0,y:0}),v=(0,p.useRef)({x:0,y:0}),S=(0,p.useMemo)(()=>{switch(n){case Ht.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case Ht.DraggableRect:return r}},[n,r,u]),z=(0,p.useRef)(null),C=(0,p.useCallback)(()=>{const _=z.current;if(!_)return;const D=x.current.x*v.current.x,w=x.current.y*v.current.y;_.scrollBy(D,w)},[]),M=(0,p.useMemo)(()=>l===mn.TreeOrder?[...h].reverse():h,[l,h]);(0,p.useEffect)(()=>{if(!a||!h.length||!S){b();return}for(const _ of M){if(s?.(_)===!1)continue;const D=d[h.indexOf(_)];if(!D)continue;const{direction:w,speed:y}=Gu(_,D,S,e,f);for(const A of["x","y"])m[A][w[A]]||(y[A]=0,w[A]=0);if(y.x>0||y.y>0){b(),z.current=_,g(C,o),x.current=y,v.current=w;return}}x.current={x:0,y:0},v.current={x:0,y:0},b()},[e,C,s,b,a,o,JSON.stringify(S),JSON.stringify(m),g,h,M,d,JSON.stringify(f)])}var mf={x:{[Fe.Backward]:!1,[Fe.Forward]:!1},y:{[Fe.Backward]:!1,[Fe.Forward]:!1}};function hf(t){let{delta:e,disabled:n}=t;const s=Dn(e);return Gt(r=>{if(n||!s||!r)return mf;const a={x:Math.sign(e.x-s.x),y:Math.sign(e.y-s.y)};return{x:{[Fe.Backward]:r.x[Fe.Backward]||a.x===-1,[Fe.Forward]:r.x[Fe.Forward]||a.x===1},y:{[Fe.Backward]:r.y[Fe.Backward]||a.y===-1,[Fe.Forward]:r.y[Fe.Forward]||a.y===1}}},[n,e,s])}function gf(t,e){const n=e!=null?t.get(e):void 0,s=n?n.node.current:null;return Gt(r=>{var a;return e==null?null:(a=s??r)!=null?a:null},[s,e])}function pf(t,e){return(0,p.useMemo)(()=>t.reduce((n,s)=>{const{sensor:r}=s,a=r.activators.map(o=>({eventName:o.eventName,handler:e(o.handler,s)}));return[...n,...a]},[]),[t,e])}var Qt;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Qt||(Qt={}));var On;(function(t){t.Optimized="optimized"})(On||(On={}));var Lr=new Map;function vf(t,e){let{dragging:n,dependencies:s,config:r}=e;const[a,o]=(0,p.useState)(null),{frequency:l,measure:u,strategy:h}=r,d=(0,p.useRef)(t),i=x(),f=Vt(i),m=(0,p.useCallback)(function(v){v===void 0&&(v=[]),!f.current&&o(S=>S===null?v:S.concat(v.filter(z=>!S.includes(z))))},[f]),g=(0,p.useRef)(null),b=Gt(v=>{if(i&&!n)return Lr;if(!v||v===Lr||d.current!==t||a!=null){const S=new Map;for(let z of t){if(!z)continue;if(a&&a.length>0&&!a.includes(z.id)&&z.rect.current){S.set(z.id,z.rect.current);continue}const C=z.node.current,M=C?new er(u(C),C):null;z.rect.current=M,M&&S.set(z.id,M)}return S}return v},[t,a,n,i,u]);return(0,p.useEffect)(()=>{d.current=t},[t]),(0,p.useEffect)(()=>{i||m()},[n,i]),(0,p.useEffect)(()=>{a&&a.length>0&&o(null)},[JSON.stringify(a)]),(0,p.useEffect)(()=>{i||typeof l!="number"||g.current!==null||(g.current=setTimeout(()=>{m(),g.current=null},l))},[l,i,m,...s]),{droppableRects:b,measureDroppableContainers:m,measuringScheduled:a!=null};function x(){switch(h){case Qt.Always:return!1;case Qt.BeforeDragging:return n;default:return!n}}}function Na(t,e){return Gt(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function bf(t,e){return Na(t,e)}function xf(t){let{callback:e,disabled:n}=t;const s=Gn(e),r=(0,p.useMemo)(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(s)},[s,n]);return(0,p.useEffect)(()=>()=>r?.disconnect(),[r]),r}function jn(t){let{callback:e,disabled:n}=t;const s=Gn(e),r=(0,p.useMemo)(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(s)},[n]);return(0,p.useEffect)(()=>()=>r?.disconnect(),[r]),r}function yf(t){return new er(Ot(t),t)}function Ur(t,e,n){e===void 0&&(e=yf);const[s,r]=(0,p.useState)(null);function a(){r(u=>{if(!t)return null;if(t.isConnected===!1){var h;return(h=u??n)!=null?h:null}const d=e(t);return JSON.stringify(u)===JSON.stringify(d)?u:d})}const o=xf({callback(u){if(t)for(const h of u){const{type:d,target:i}=h;if(d==="childList"&&i instanceof HTMLElement&&i.contains(t)){a();break}}}}),l=jn({callback:a});return dt(()=>{a(),t?(l?.observe(t),o?.observe(document.body,{childList:!0,subtree:!0})):(l?.disconnect(),o?.disconnect())},[t]),s}function wf(t){return xa(t,Na(t))}var Br=[];function jf(t){const e=(0,p.useRef)(t),n=Gt(s=>t?s&&s!==Br&&t&&e.current&&t.parentNode===e.current.parentNode?s:wn(t):Br,[t]);return(0,p.useEffect)(()=>{e.current=t},[t]),n}function kf(t){const[e,n]=(0,p.useState)(null),s=(0,p.useRef)(t),r=(0,p.useCallback)(a=>{const o=zn(a.target);o&&n(l=>l?(l.set(o,Pn(o)),new Map(l)):null)},[]);return(0,p.useEffect)(()=>{const a=s.current;if(t!==a){o(a);const l=t.map(u=>{const h=zn(u);return h?(h.addEventListener("scroll",r,{passive:!0}),[h,Pn(h)]):null}).filter(u=>u!=null);n(l.length?new Map(l):null),s.current=t}return()=>{o(t),o(a)};function o(l){l.forEach(u=>{zn(u)?.removeEventListener("scroll",r)})}},[r,t]),(0,p.useMemo)(()=>t.length?e?Array.from(e.values()).reduce((a,o)=>It(a,o),ot):Sa(t):ot,[t,e])}function Hr(t,e){e===void 0&&(e=[]);const n=(0,p.useRef)(null);return(0,p.useEffect)(()=>{n.current=null},e),(0,p.useEffect)(()=>{const s=t!==ot;s&&!n.current&&(n.current=t),!s&&n.current&&(n.current=null)},[t]),n.current?Yt(t,n.current):ot}function _f(t){(0,p.useEffect)(()=>{if(!yn)return;const e=t.map(n=>{let{sensor:s}=n;return s.setup==null?void 0:s.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function Sf(t,e){return(0,p.useMemo)(()=>t.reduce((n,s)=>{let{eventName:r,handler:a}=s;return n[r]=o=>{a(o,e)},n},{}),[t,e])}function Aa(t){return(0,p.useMemo)(()=>t?Qu(t):null,[t])}var qr=[];function Cf(t,e){e===void 0&&(e=Ot);const[n]=t,s=Aa(n?Qe(n):null),[r,a]=(0,p.useState)(qr);function o(){a(()=>t.length?t.map(u=>ka(u)?s:new er(e(u),u)):qr)}const l=jn({callback:o});return dt(()=>{l?.disconnect(),o(),t.forEach(u=>l?.observe(u))},[t]),r}function Nf(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Jt(e)?e:t}function Af(t){let{measure:e}=t;const[n,s]=(0,p.useState)(null),r=jn({callback:(0,p.useCallback)(l=>{for(const{target:u}of l)if(Jt(u)){s(h=>{const d=e(u);return h?{...h,width:d.width,height:d.height}:d});break}},[e])}),[a,o]=un((0,p.useCallback)(l=>{const u=Nf(l);r?.disconnect(),u&&r?.observe(u),s(u?e(u):null)},[e,r]));return(0,p.useMemo)(()=>({nodeRef:a,rect:n,setRef:o}),[n,a,o])}var zf=[{sensor:rr,options:{}},{sensor:tr,options:{}}],Ef={current:{}},an={draggable:{measure:Tr},droppable:{measure:Tr,strategy:Qt.WhileDragging,frequency:On.Optimized},dragOverlay:{measure:Ot}},qt=class extends Map{get(t){var e;return t!=null&&(e=super.get(t))!=null?e:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:e}=t;return!e})}getNodeFor(t){var e,n;return(e=(n=this.get(t))==null?void 0:n.node.current)!=null?e:void 0}},Rf={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new qt,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:fn},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:an,measureDroppableContainers:fn,windowRect:null,measuringScheduled:!1},If={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:fn,draggableNodes:new Map,over:null,measureDroppableContainers:fn},kn=(0,p.createContext)(If),za=(0,p.createContext)(Rf);function Mf(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new qt}}}function Df(t,e){switch(e.type){case Pe.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Pe.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Pe.DragEnd:case Pe.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Pe.RegisterDroppable:{const{element:n}=e,{id:s}=n,r=new qt(t.droppable.containers);return r.set(s,n),{...t,droppable:{...t.droppable,containers:r}}}case Pe.SetDroppableDisabled:{const{id:n,key:s,disabled:r}=e,a=t.droppable.containers.get(n);if(!a||s!==a.key)return t;const o=new qt(t.droppable.containers);return o.set(n,{...a,disabled:r}),{...t,droppable:{...t.droppable,containers:o}}}case Pe.UnregisterDroppable:{const{id:n,key:s}=e,r=t.droppable.containers.get(n);if(!r||s!==r.key)return t;const a=new qt(t.droppable.containers);return a.delete(n),{...t,droppable:{...t.droppable,containers:a}}}default:return t}}function Tf(t){let{disabled:e}=t;const{active:n,activatorEvent:s,draggableNodes:r}=(0,p.useContext)(kn),a=Dn(s),o=Dn(n?.id);return(0,p.useEffect)(()=>{if(!e&&!s&&a&&o!=null){if(!$n(a)||document.activeElement===a.target)return;const l=r.get(o);if(!l)return;const{activatorNode:u,node:h}=l;if(!u.current&&!h.current)return;requestAnimationFrame(()=>{for(const d of[u.current,h.current]){if(!d)continue;const i=Cu(d);if(i){i.focus();break}}})}},[s,e,r,o,a]),null}function Pf(t,e){let{transform:n,...s}=e;return t!=null&&t.length?t.reduce((r,a)=>a({transform:r,...s}),n):n}function Ff(t){return(0,p.useMemo)(()=>({draggable:{...an.draggable,...t?.draggable},droppable:{...an.droppable,...t?.droppable},dragOverlay:{...an.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function Of(t){let{activeNode:e,measure:n,initialRect:s,config:r=!0}=t;const a=(0,p.useRef)(!1),{x:o,y:l}=typeof r=="boolean"?{x:r,y:r}:r;dt(()=>{if(!o&&!l||!e){a.current=!1;return}if(a.current||!s)return;const u=e?.node.current;if(!u||u.isConnected===!1)return;const h=xa(n(u),s);if(o||(h.x=0),l||(h.y=0),a.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const d=ya(u);d&&d.scrollBy({top:h.y,left:h.x})}},[e,o,l,s,n])}var Ea=(0,p.createContext)({...ot,scaleX:1,scaleY:1}),vt;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(vt||(vt={}));var Lf=(0,p.memo)(function(e){var n,s,r,a;let{id:o,accessibility:l,autoScroll:u=!0,children:h,sensors:d=zf,collisionDetection:i=Bu,measuring:f,modifiers:m,...g}=e;const[b,x]=(0,p.useReducer)(Df,void 0,Mf),[v,S]=Iu(),[z,C]=(0,p.useState)(vt.Uninitialized),M=z===vt.Initialized,{draggable:{active:_,nodes:D,translate:w},droppable:{containers:y}}=b,A=_!=null?D.get(_):null,R=(0,p.useRef)({initial:null,translated:null}),E=(0,p.useMemo)(()=>{var je;return _!=null?{id:_,data:(je=A?.data)!=null?je:Ef,rect:R}:null},[_,A]),I=(0,p.useRef)(null),[N,F]=(0,p.useState)(null),[j,k]=(0,p.useState)(null),P=Vt(g,Object.values(g)),T=$t("DndDescribedBy",o),O=(0,p.useMemo)(()=>y.getEnabled(),[y]),q=Ff(f),{droppableRects:B,measureDroppableContainers:H,measuringScheduled:U}=vf(O,{dragging:M,dependencies:[w.x,w.y],config:q.droppable}),L=gf(D,_),V=(0,p.useMemo)(()=>j?Tn(j):null,[j]),Z=xe(),X=bf(L,q.draggable.measure);Of({activeNode:_!=null?D.get(_):null,config:Z.layoutShiftCompensation,initialRect:X,measure:q.draggable.measure});const W=Ur(L,q.draggable.measure,X),ee=Ur(L?L.parentElement:null),K=(0,p.useRef)({activatorEvent:null,active:null,activeNode:L,collisionRect:null,collisions:null,droppableRects:B,draggableNodes:D,draggingNode:null,draggingNodeRect:null,droppableContainers:y,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Q=y.getNodeFor((n=K.current.over)==null?void 0:n.id),te=Af({measure:q.dragOverlay.measure}),J=(s=te.nodeRef.current)!=null?s:L,G=M?(r=te.rect)!=null?r:W:null,ne=!!(te.nodeRef.current&&te.rect),re=wf(ne?null:W),le=Aa(J?Qe(J):null),ae=jf(M?Q??L:null),be=Cf(ae),ye=Pf(m,{transform:{x:w.x-re.x,y:w.y-re.y,scaleX:1,scaleY:1},activatorEvent:j,active:E,activeNodeRect:W,containerNodeRect:ee,draggingNodeRect:G,over:K.current.over,overlayNodeRect:te.rect,scrollableAncestors:ae,scrollableAncestorRects:be,windowRect:le}),ce=V?It(V,w):null,ve=kf(ae),me=Hr(ve),_e=Hr(ve,[W]),Se=It(ye,me),we=G?Wu(G,ye):null,Re=E&&we?i({active:E,collisionRect:we,droppableRects:B,droppableContainers:O,pointerCoordinates:ce}):null,Ie=ba(Re,"id"),[de,Ce]=(0,p.useState)(null),ke=Hu(ne?ye:It(ye,_e),(a=de?.rect)!=null?a:null,W),ze=(0,p.useRef)(null),Ee=(0,p.useCallback)((je,Ae)=>{let{sensor:Te,options:De}=Ae;if(I.current==null)return;const Ne=D.get(I.current);if(!Ne)return;const $=je.nativeEvent;ze.current=new Te({active:I.current,activeNode:Ne,event:$,options:De,context:K,onAbort(ue){if(!D.get(ue))return;const{onDragAbort:pe}=P.current,fe={id:ue};pe?.(fe),v({type:"onDragAbort",event:fe})},onPending(ue,pe,fe,Oe){if(!D.get(ue))return;const{onDragPending:$e}=P.current,Be={id:ue,constraint:pe,initialCoordinates:fe,offset:Oe};$e?.(Be),v({type:"onDragPending",event:Be})},onStart(ue){const pe=I.current;if(pe==null)return;const fe=D.get(pe);if(!fe)return;const{onDragStart:Oe}=P.current,$e={activatorEvent:$,active:{id:pe,data:fe.data,rect:R}};(0,Ut.unstable_batchedUpdates)(()=>{Oe?.($e),C(vt.Initializing),x({type:Pe.DragStart,initialCoordinates:ue,active:pe}),v({type:"onDragStart",event:$e}),F(ze.current),k($)})},onMove(ue){x({type:Pe.DragMove,coordinates:ue})},onEnd:he(Pe.DragEnd),onCancel:he(Pe.DragCancel)});function he(ue){return async function(){const{active:fe,collisions:Oe,over:$e,scrollAdjustedTranslate:Be}=K.current;let Le=null;if(fe&&Be){const{cancelDrop:nt}=P.current;Le={activatorEvent:$,active:fe,collisions:Oe,delta:Be,over:$e},ue===Pe.DragEnd&&typeof nt=="function"&&await Promise.resolve(nt(Le))&&(ue=Pe.DragCancel)}I.current=null,(0,Ut.unstable_batchedUpdates)(()=>{x({type:ue}),C(vt.Uninitialized),Ce(null),F(null),k(null),ze.current=null;const nt=ue===Pe.DragEnd?"onDragEnd":"onDragCancel";if(Le){const ht=P.current[nt];ht?.(Le),v({type:nt,event:Le})}})}}},[D]),Me=pf(d,(0,p.useCallback)((je,Ae)=>(Te,De)=>{const Ne=Te.nativeEvent,$=D.get(De);if(I.current!==null||!$||Ne.dndKit||Ne.defaultPrevented)return;const he={active:$};je(Te,Ae.options,he)===!0&&(Ne.dndKit={capturedBy:Ae.sensor},I.current=De,Ee(Te,Ae))},[D,Ee]));_f(d),dt(()=>{W&&z===vt.Initializing&&C(vt.Initialized)},[W,z]),(0,p.useEffect)(()=>{const{onDragMove:je}=P.current,{active:Ae,activatorEvent:Te,collisions:De,over:Ne}=K.current;if(!Ae||!Te)return;const $={active:Ae,activatorEvent:Te,collisions:De,delta:{x:Se.x,y:Se.y},over:Ne};(0,Ut.unstable_batchedUpdates)(()=>{je?.($),v({type:"onDragMove",event:$})})},[Se.x,Se.y]),(0,p.useEffect)(()=>{const{active:je,activatorEvent:Ae,collisions:Te,droppableContainers:De,scrollAdjustedTranslate:Ne}=K.current;if(!je||I.current==null||!Ae||!Ne)return;const{onDragOver:$}=P.current,he=De.get(Ie),ue=he&&he.rect.current?{id:he.id,rect:he.rect.current,data:he.data,disabled:he.disabled}:null,pe={active:je,activatorEvent:Ae,collisions:Te,delta:{x:Ne.x,y:Ne.y},over:ue};(0,Ut.unstable_batchedUpdates)(()=>{Ce(ue),$?.(pe),v({type:"onDragOver",event:pe})})},[Ie]),dt(()=>{K.current={activatorEvent:j,active:E,activeNode:L,collisionRect:we,collisions:Re,droppableRects:B,draggableNodes:D,draggingNode:J,draggingNodeRect:G,droppableContainers:y,over:de,scrollableAncestors:ae,scrollAdjustedTranslate:Se},R.current={initial:G,translated:we}},[E,L,Re,we,D,J,G,B,y,de,ae,Se]),ff({...Z,delta:w,draggingRect:we,pointerCoordinates:ce,scrollableAncestors:ae,scrollableAncestorRects:be});const Ke=(0,p.useMemo)(()=>({active:E,activeNode:L,activeNodeRect:W,activatorEvent:j,collisions:Re,containerNodeRect:ee,dragOverlay:te,draggableNodes:D,droppableContainers:y,droppableRects:B,over:de,measureDroppableContainers:H,scrollableAncestors:ae,scrollableAncestorRects:be,measuringConfiguration:q,measuringScheduled:U,windowRect:le}),[E,L,W,j,Re,ee,te,D,y,B,de,H,ae,be,q,U,le]),se=(0,p.useMemo)(()=>({activatorEvent:j,activators:Me,active:E,activeNodeRect:W,ariaDescribedById:{draggable:T},dispatch:x,draggableNodes:D,over:de,measureDroppableContainers:H}),[j,Me,E,W,x,T,D,de,H]);return p.createElement(ga.Provider,{value:S},p.createElement(kn.Provider,{value:se},p.createElement(za.Provider,{value:Ke},p.createElement(Ea.Provider,{value:ke},h)),p.createElement(Tf,{disabled:l?.restoreFocus===!1})),p.createElement(Tu,{...l,hiddenTextDescribedById:T}));function xe(){const je=N?.autoScrollEnabled===!1,Ae=typeof u=="object"?u.enabled===!1:u===!1,Te=M&&!je&&!Ae;return typeof u=="object"?{...u,enabled:Te}:{enabled:Te}}}),Uf=(0,p.createContext)(null),Wr="button",Bf="Draggable";function Hf(t){let{id:e,data:n,disabled:s=!1,attributes:r}=t;const a=$t(Bf),{activators:o,activatorEvent:l,active:u,activeNodeRect:h,ariaDescribedById:d,draggableNodes:i,over:f}=(0,p.useContext)(kn),{role:m=Wr,roleDescription:g="draggable",tabIndex:b=0}=r??{},x=u?.id===e,v=(0,p.useContext)(x?Ea:Uf),[S,z]=un(),[C,M]=un(),_=Sf(o,e),D=Vt(n);return dt(()=>(i.set(e,{id:e,key:a,node:S,activatorNode:C,data:D}),()=>{const w=i.get(e);w&&w.key===a&&i.delete(e)}),[i,e]),{active:u,activatorEvent:l,activeNodeRect:h,attributes:(0,p.useMemo)(()=>({role:m,tabIndex:b,"aria-disabled":s,"aria-pressed":x&&m===Wr?!0:void 0,"aria-roledescription":g,"aria-describedby":d.draggable}),[s,m,b,x,g,d.draggable]),isDragging:x,listeners:s?void 0:_,node:S,over:f,setNodeRef:z,setActivatorNodeRef:M,transform:v}}function qf(){return(0,p.useContext)(za)}var Wf="Droppable",Vf={timeout:25};function Yf(t){let{data:e,disabled:n=!1,id:s,resizeObserverConfig:r}=t;const a=$t(Wf),{active:o,dispatch:l,over:u,measureDroppableContainers:h}=(0,p.useContext)(kn),d=(0,p.useRef)({disabled:n}),i=(0,p.useRef)(!1),f=(0,p.useRef)(null),m=(0,p.useRef)(null),{disabled:g,updateMeasurementsFor:b,timeout:x}={...Vf,...r},v=Vt(b??s),S=jn({callback:(0,p.useCallback)(()=>{if(!i.current){i.current=!0;return}m.current!=null&&clearTimeout(m.current),m.current=setTimeout(()=>{h(Array.isArray(v.current)?v.current:[v.current]),m.current=null},x)},[x]),disabled:g||!o}),[z,C]=un((0,p.useCallback)((_,D)=>{S&&(D&&(S.unobserve(D),i.current=!1),_&&S.observe(_))},[S])),M=Vt(e);return(0,p.useEffect)(()=>{!S||!z.current||(S.disconnect(),i.current=!1,S.observe(z.current))},[z,S]),(0,p.useEffect)(()=>(l({type:Pe.RegisterDroppable,element:{id:s,key:a,disabled:n,node:z,rect:f,data:M}}),()=>l({type:Pe.UnregisterDroppable,key:a,id:s})),[s]),(0,p.useEffect)(()=>{n!==d.current.disabled&&(l({type:Pe.SetDroppableDisabled,id:s,key:a,disabled:n}),d.current.disabled=n)},[s,a,n,l]),{active:o,rect:f,isOver:u?.id===s,node:z,over:u,setNodeRef:C}}function sr(t,e,n){const s=t.slice();return s.splice(n<0?s.length+n:n,0,s.splice(e,1)[0]),s}function Xf(t,e){return t.reduce((n,s,r)=>{const a=e.get(s);return a&&(n[r]=a),n},Array(t.length))}function nn(t){return t!==null&&t>=0}function Qf(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Kf(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}var ar=t=>{let{rects:e,activeIndex:n,overIndex:s,index:r}=t;const a=sr(e,s,n),o=e[r],l=a[r];return!l||!o?null:{x:l.left-o.left,y:l.top-o.top,scaleX:l.width/o.width,scaleY:l.height/o.height}},Ra="Sortable",Ia=p.createContext({activeIndex:-1,containerId:Ra,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:ar,disabled:{draggable:!1,droppable:!1}});function Zf(t){let{children:e,id:n,items:s,strategy:r=ar,disabled:a=!1}=t;const{active:o,dragOverlay:l,droppableRects:u,over:h,measureDroppableContainers:d}=qf(),i=$t(Ra,n),f=l.rect!==null,m=(0,p.useMemo)(()=>s.map(_=>typeof _=="object"&&"id"in _?_.id:_),[s]),g=o!=null,b=o?m.indexOf(o.id):-1,x=h?m.indexOf(h.id):-1,v=(0,p.useRef)(m),S=!Qf(m,v.current),z=x!==-1&&b===-1||S,C=Kf(a);dt(()=>{S&&g&&d(m)},[S,m,g,d]),(0,p.useEffect)(()=>{v.current=m},[m]);const M=(0,p.useMemo)(()=>({activeIndex:b,containerId:i,disabled:C,disableTransforms:z,items:m,overIndex:x,useDragOverlay:f,sortedRects:Xf(m,u),strategy:r}),[b,i,C.draggable,C.droppable,z,m,x,u,f,r]);return p.createElement(Ia.Provider,{value:M},e)}var Jf=t=>{let{id:e,items:n,activeIndex:s,overIndex:r}=t;return sr(n,s,r).indexOf(e)},Gf=t=>{let{containerId:e,isSorting:n,wasDragging:s,index:r,items:a,newIndex:o,previousItems:l,previousContainerId:u,transition:h}=t;return!h||!s||l!==a&&r===o?!1:n?!0:o!==r&&e===u},$f={duration:200,easing:"ease"},Ma="transform",e0=Xt.Transition.toString({property:Ma,duration:0,easing:"linear"}),t0={roleDescription:"sortable"};function n0(t){let{disabled:e,index:n,node:s,rect:r}=t;const[a,o]=(0,p.useState)(null),l=(0,p.useRef)(n);return dt(()=>{if(!e&&n!==l.current&&s.current){const u=r.current;if(u){const h=Ot(s.current,{ignoreTransform:!0}),d={x:u.left-h.left,y:u.top-h.top,scaleX:u.width/h.width,scaleY:u.height/h.height};(d.x||d.y)&&o(d)}}n!==l.current&&(l.current=n)},[e,n,s,r]),(0,p.useEffect)(()=>{a&&o(null)},[a]),a}function r0(t){let{animateLayoutChanges:e=Gf,attributes:n,disabled:s,data:r,getNewIndex:a=Jf,id:o,strategy:l,resizeObserverConfig:u,transition:h=$f}=t;const{items:d,containerId:i,activeIndex:f,disabled:m,disableTransforms:g,sortedRects:b,overIndex:x,useDragOverlay:v,strategy:S}=(0,p.useContext)(Ia),z=s0(s,m),C=d.indexOf(o),M=(0,p.useMemo)(()=>({sortable:{containerId:i,index:C,items:d},...r}),[i,r,C,d]),_=(0,p.useMemo)(()=>d.slice(d.indexOf(o)),[d,o]),{rect:D,node:w,isOver:y,setNodeRef:A}=Yf({id:o,data:M,disabled:z.droppable,resizeObserverConfig:{updateMeasurementsFor:_,...u}}),{active:R,activatorEvent:E,activeNodeRect:I,attributes:N,setNodeRef:F,listeners:j,isDragging:k,over:P,setActivatorNodeRef:T,transform:O}=Hf({id:o,data:M,attributes:{...t0,...n},disabled:z.draggable}),q=ju(A,F),B=!!R,H=B&&!g&&nn(f)&&nn(x),U=!v&&k,L=U&&H?O:null,V=H?L??(l??S)({rects:b,activeNodeRect:I,activeIndex:f,overIndex:x,index:C}):null,Z=nn(f)&&nn(x)?a({id:o,items:d,activeIndex:f,overIndex:x}):C,X=R?.id,W=(0,p.useRef)({activeId:X,items:d,newIndex:Z,containerId:i}),ee=d!==W.current.items,K=e({active:R,containerId:i,isDragging:k,isSorting:B,id:o,index:C,items:d,newIndex:W.current.newIndex,previousItems:W.current.items,previousContainerId:W.current.containerId,transition:h,wasDragging:W.current.activeId!=null}),Q=n0({disabled:!K,index:C,node:w,rect:D});return(0,p.useEffect)(()=>{B&&W.current.newIndex!==Z&&(W.current.newIndex=Z),i!==W.current.containerId&&(W.current.containerId=i),d!==W.current.items&&(W.current.items=d)},[B,Z,i,d]),(0,p.useEffect)(()=>{if(X===W.current.activeId)return;if(X!=null&&W.current.activeId==null){W.current.activeId=X;return}const J=setTimeout(()=>{W.current.activeId=X},50);return()=>clearTimeout(J)},[X]),{active:R,activeIndex:f,attributes:N,data:M,rect:D,index:C,newIndex:Z,items:d,isOver:y,isSorting:B,isDragging:k,listeners:j,node:w,overIndex:x,over:P,setNodeRef:q,setActivatorNodeRef:T,setDroppableNodeRef:A,setDraggableNodeRef:F,transform:Q??V,transition:te()};function te(){if(Q||ee&&W.current.newIndex===C)return e0;if(!(U&&!$n(E)||!h)&&(B||K))return Xt.Transition.toString({...h,property:Ma})}}function s0(t,e){var n,s;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t?.draggable)!=null?n:e.draggable,droppable:(s=t?.droppable)!=null?s:e.droppable}}function hn(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}var a0=[ge.Down,ge.Right,ge.Up,ge.Left],o0=(t,e)=>{let{context:{active:n,collisionRect:s,droppableRects:r,droppableContainers:a,over:o,scrollableAncestors:l}}=e;if(a0.includes(t.code)){if(t.preventDefault(),!n||!s)return;const u=[];a.getEnabled().forEach(i=>{if(!i||i!=null&&i.disabled)return;const f=r.get(i.id);if(f)switch(t.code){case ge.Down:s.top<f.top&&u.push(i);break;case ge.Up:s.top>f.top&&u.push(i);break;case ge.Left:s.left>f.left&&u.push(i);break;case ge.Right:s.left<f.left&&u.push(i);break}});const h=Lu({active:n,collisionRect:s,droppableRects:r,droppableContainers:u,pointerCoordinates:null});let d=ba(h,"id");if(d===o?.id&&h.length>1&&(d=h[1].id),d!=null){const i=a.get(n.id),f=a.get(d),m=f?r.get(f.id):null,g=f?.node.current;if(g&&m&&i&&f){const b=wn(g).some((C,M)=>l[M]!==C),x=Da(i,f),v=i0(i,f),S=b||!x?{x:0,y:0}:{x:v?s.width-m.width:0,y:v?s.height-m.height:0},z={x:m.left,y:m.top};return S.x&&S.y?z:Yt(z,S)}}}};function Da(t,e){return!hn(t)||!hn(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function i0(t,e){return!hn(t)||!hn(e)||!Da(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}var l0=ie(),c0=t=>{const e=(0,l0.c)(33),{id:n,file:s,index:r,total:a,onRemove:o,onAddThumbnail:l,customThumbnail:u}=t;let h;e[0]!==n?(h={id:n},e[0]=n,e[1]=h):h=e[1];const{attributes:d,listeners:i,setNodeRef:f,transform:m,transition:g,isDragging:b}=r0(h);let x;e[2]!==m?(x=Xt.Transform.toString(m),e[2]=m,e[3]=x):x=e[3];const v=b?50:"auto",S=b?.5:1;let z;e[4]!==x||e[5]!==v||e[6]!==S||e[7]!==g?(z={transform:x,transition:g,zIndex:v,opacity:S},e[4]=x,e[5]=v,e[6]=S,e[7]=g,e[8]=z):z=e[8];const C=z,M=`relative group overflow-hidden bg-zinc-100 dark:bg-zinc-800 rounded-2xl border border-zinc-100 dark:border-zinc-800 shadow-sm transition-shadow ${a===3&&r===0?"row-span-2":""} ${b?"shadow-xl ring-2 ring-violet-500":""}`;let _;e[9]!==u||e[10]!==s?(_=s.type.startsWith("image/")?(0,c.jsx)("img",{src:URL.createObjectURL(s),className:"size-full object-cover pointer-events-none",alt:""}):(0,c.jsx)("div",{className:"size-full flex flex-col items-center justify-center text-zinc-500 gap-2 pointer-events-none",children:s.type.startsWith("video/")?(0,c.jsx)(c.Fragment,{children:u?(0,c.jsx)("img",{src:URL.createObjectURL(u),className:"size-full object-cover opacity-60",alt:"Custom thumbnail"}):(0,c.jsx)("div",{className:"size-10 rounded-full bg-black/20 flex items-center justify-center backdrop-blur-sm",children:(0,c.jsx)(Wt,{size:20,className:"text-zinc-400"})})}):(0,c.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,c.jsx)(ni,{size:24}),(0,c.jsx)("span",{className:"text-[10px] font-bold truncate max-w-[100px] px-2",children:s.name})]})}),e[9]=u,e[10]=s,e[11]=_):_=e[11];let D;e[12]!==d||e[13]!==i||e[14]!==_?(D=(0,c.jsx)("div",{...d,...i,className:"size-full cursor-grab active:cursor-grabbing",children:_}),e[12]=d,e[13]=i,e[14]=_,e[15]=D):D=e[15];let w;e[16]!==u||e[17]!==s.type||e[18]!==l?(w=s.type.startsWith("video/")&&(0,c.jsx)("button",{type:"button",onClick:l,className:"absolute inset-x-0 bottom-0 bg-black/60 text-white text-[10px] font-bold py-2 backdrop-blur-md hover:bg-black/80 transition-colors z-10",children:u?"Change Cover":"Add Cover"}),e[16]=u,e[17]=s.type,e[18]=l,e[19]=w):w=e[19];let y;e[20]!==n||e[21]!==o?(y=()=>o(n),e[20]=n,e[21]=o,e[22]=y):y=e[22];let A;e[23]===Symbol.for("react.memo_cache_sentinel")?(A=(0,c.jsx)(Mt,{size:14,strokeWidth:2.5}),e[23]=A):A=e[23];let R;e[24]!==y?(R=(0,c.jsx)("button",{type:"button",onClick:y,className:"absolute top-2 right-2 p-1.5 rounded-full bg-black/50 text-white hover:bg-rose-500 transition-colors backdrop-blur-md z-20",children:A}),e[24]=y,e[25]=R):R=e[25];let E;return e[26]!==f||e[27]!==C||e[28]!==R||e[29]!==M||e[30]!==D||e[31]!==w?(E=(0,c.jsxs)("div",{ref:f,style:C,className:M,children:[D,w,R]}),e[26]=f,e[27]=C,e[28]=R,e[29]=M,e[30]=D,e[31]=w,e[32]=E):E=e[32],E},d0=({isOpen:t,onClose:e,initialCommunity:n})=>{const{currentUser:s}=Ge(),{addPost:r}=ec(),{addToast:a}=wt(),[o,l]=(0,p.useState)(""),[u,h]=(0,p.useState)([]),[d,i]=(0,p.useState)({}),[f,m]=(0,p.useState)(!1),[g,b]=(0,p.useState)({options:["",""],duration:"1 day"}),[x,v]=(0,p.useState)(!1),[S,z]=(0,p.useState)(null),C=Pu(Ir(rr,{activationConstraint:{distance:8}}),Ir(tr,{coordinateGetter:o0}));(0,p.useEffect)(()=>{z(n||null)},[n,t]);const{data:M=[]}=Rt({queryKey:["user-communities",s?.id],queryFn:()=>Wi(s?.id),enabled:!!s?.id}),_=(0,p.useRef)(null),D=(0,p.useRef)(null),[w,y]=(0,p.useState)(null),A=P=>{const T=Array.from(P.target.files).map(O=>({id:Math.random().toString(36).substring(2,11),file:O}));h(O=>[...O,...T])},R=P=>{const T=P.target.files[0];T&&w!==null&&i(O=>({...O,[w]:T})),y(null)},E=P=>{h(O=>O.filter(q=>q.id!==P));const T={...d};delete T[P],i(T)},I=P=>{const{active:T,over:O}=P;O&&T.id!==O.id&&h(q=>sr(q,q.findIndex(B=>B.id===T.id),q.findIndex(B=>B.id===O.id)))},N=()=>{g.options.length<4&&b(P=>({...P,options:[...P.options,""]}))},F=P=>{b(T=>({...T,options:T.options.filter((O,q)=>q!==P)}))},j=(P,T)=>{const O=[...g.options];O[P]=T,b(q=>({...q,options:O}))},k=async P=>{if(P.preventDefault(),!(!o.trim()&&u.length===0||!s)){v(!0);try{const T=[];for(let q=0;q<u.length;q++){const B=u[q],H=d[B.id]||null,U=await St(B.file,"media",H);T.push(U)}let O=null;f&&g.options.some(q=>q.trim())&&(O={options:g.options.filter(q=>q.trim()).map((q,B)=>({id:B+1,text:q,votes:0})),ends_at:new Date(Date.now()+1440*60*1e3).toISOString()}),await r({content:o,media:T,poll:O,type:T.length>0?T[0].type==="video"?"video":"image":O?"poll":"text",userId:s.id,communityId:S?.id||null}),l(""),h([]),m(!1),b({options:["",""],duration:"1 day"}),z(null),e(),a("Post published!")}catch(T){console.error("Failed to create post:",T),a("Failed to publish post.","error")}finally{v(!1)}}};return(0,c.jsx)(Tt,{isOpen:t,onClose:()=>!x&&e(),title:"Create Post",className:"sm:max-w-[600px] p-0 overflow-hidden gap-0",footer:(0,c.jsxs)("div",{className:"flex items-center justify-between w-full pt-2",children:[(0,c.jsxs)("div",{className:"flex gap-1",children:[(0,c.jsx)("button",{type:"button",onClick:()=>_.current?.click(),className:"p-2 text-violet-600 hover:bg-violet-50 dark:text-violet-400 dark:hover:bg-violet-900/20 rounded-full transition-all active:scale-95",title:"Attach media",children:(0,c.jsx)(Eo,{size:20})}),(0,c.jsx)("button",{type:"button",onClick:()=>m(!f),className:`p-2 rounded-full transition-all active:scale-95 ${f?"bg-violet-50 text-violet-600 dark:bg-violet-900/20 dark:text-violet-400":"text-violet-600 hover:bg-violet-50 dark:text-violet-400 dark:hover:bg-violet-900/20"}`,title:"Add poll",children:(0,c.jsx)(Io,{size:20})})]}),(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[(0,c.jsx)("div",{className:"h-6 w-px bg-zinc-200 dark:bg-zinc-800"}),(0,c.jsx)(Ze,{onClick:k,disabled:!o.trim()&&u.length===0||x,className:"rounded-full px-6 h-9 text-sm font-bold bg-zinc-900 dark:bg-white text-white dark:text-zinc-950 hover:opacity-90 disabled:opacity-50 transition-all shadow-md active:scale-95",children:x?(0,c.jsx)(ft,{size:16,className:"animate-spin"}):"Post"})]}),(0,c.jsx)("input",{type:"file",ref:_,onChange:A,multiple:!0,className:"hidden",accept:"image/*,video/*,application/pdf"}),(0,c.jsx)("input",{type:"file",ref:D,onChange:R,className:"hidden",accept:"image/*"})]}),children:(0,c.jsxs)("div",{className:"flex flex-col gap-4 p-1",children:[(0,c.jsxs)("div",{className:"flex items-start gap-3",children:[(0,c.jsxs)(Ct,{className:"size-10 border border-zinc-100 dark:border-zinc-800 shadow-sm shrink-0",children:[(0,c.jsx)(Nt,{src:s?.avatar,className:"object-cover"}),(0,c.jsx)(At,{children:s?.handle?.[0]?.toUpperCase()})]}),(0,c.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,c.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,c.jsx)("span",{className:"font-bold text-sm text-zinc-900 dark:text-zinc-100 truncate",children:s?.name}),(0,c.jsxs)(Ic,{children:[(0,c.jsx)(Mc,{asChild:!0,children:(0,c.jsx)("button",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-full border border-zinc-200 dark:border-zinc-700 bg-white dark:bg-zinc-900 text-xs font-bold text-zinc-600 dark:text-zinc-300 hover:bg-zinc-50 dark:hover:bg-zinc-800 transition-all group",children:S?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(vn,{size:12,className:"text-violet-500"}),(0,c.jsx)("span",{className:"max-w-[100px] truncate",children:S.name})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(ir,{size:12,className:"text-zinc-400 group-hover:text-violet-500 transition-colors"}),(0,c.jsx)("span",{children:"Everyone"})]})})}),(0,c.jsxs)(Dc,{align:"start",className:"w-60 p-1.5 rounded-xl shadow-xl border-zinc-100 dark:border-zinc-800",children:[(0,c.jsxs)(fr,{onClick:()=>z(null),className:"gap-3 py-2 px-3 rounded-lg cursor-pointer focus:bg-zinc-50 dark:focus:bg-zinc-800",children:[(0,c.jsx)("div",{className:"size-8 rounded-full bg-zinc-100 dark:bg-zinc-800 flex items-center justify-center shrink-0",children:(0,c.jsx)(ir,{size:16,className:"text-zinc-500"})}),(0,c.jsxs)("div",{className:"flex flex-col",children:[(0,c.jsx)("span",{className:"font-bold text-sm",children:"Everyone"}),(0,c.jsx)("span",{className:"text-[11px] text-zinc-500",children:"Public feed"})]})]}),M.length>0&&(0,c.jsx)("div",{className:"h-px bg-zinc-100 dark:bg-zinc-800 my-1 mx-2"}),(0,c.jsx)("div",{className:"max-h-[200px] overflow-y-auto",children:M.filter(P=>!P.isPrivate||P.myRole==="admin").map(P=>(0,c.jsxs)(fr,{onClick:()=>z(P),className:"gap-3 py-2 px-3 rounded-lg cursor-pointer focus:bg-zinc-50 dark:focus:bg-zinc-800",children:[(0,c.jsxs)(Ct,{className:"size-8 border border-zinc-100 dark:border-zinc-700",children:[(0,c.jsx)(Nt,{src:P.avatar}),(0,c.jsx)(At,{children:P.name[0]})]}),(0,c.jsxs)("div",{className:"flex flex-col min-w-0",children:[(0,c.jsx)("span",{className:"font-bold text-sm truncate",children:P.name}),(0,c.jsx)("span",{className:"text-[11px] text-zinc-500",children:"Community"})]})]},P.id))})]})]})]}),(0,c.jsx)("textarea",{className:"w-full bg-transparent border-none outline-none text-lg min-h-[100px] max-h-[400px] resize-none dark:text-zinc-100 placeholder:text-zinc-400 font-medium leading-relaxed",placeholder:"What's on your mind?",autoFocus:!0,value:o,onChange:P=>{l(P.target.value),P.target.style.height="auto",P.target.style.height=P.target.scrollHeight+"px"}})]})]}),(0,c.jsxs)("div",{className:"pl-[52px]",children:[u.length>0&&(0,c.jsx)("div",{className:"mb-4 animate-in fade-in zoom-in-95 duration-200",children:(0,c.jsx)(Lf,{sensors:C,collisionDetection:Ou,onDragEnd:I,children:(0,c.jsx)(Zf,{items:u.map(P=>P.id),strategy:ar,children:(0,c.jsx)("div",{className:`grid gap-2 rounded-2xl overflow-hidden border border-zinc-100 dark:border-zinc-800 shadow-sm ${u.length===1?"grid-cols-1":"grid-cols-2 aspect-[16/9]"}`,children:u.map((P,T)=>(0,c.jsx)(c0,{id:P.id,file:P.file,index:T,total:u.length,onRemove:E,customThumbnail:d[P.id],onAddThumbnail:()=>{y(P.id),D.current?.click()}},P.id))})})})}),f&&(0,c.jsxs)("div",{className:"mb-4 p-4 rounded-xl border border-violet-100 dark:border-violet-900/30 bg-violet-50/30 dark:bg-violet-900/10 space-y-3 animate-in slide-in-from-top-2 duration-200",children:[(0,c.jsxs)("div",{className:"flex justify-between items-center px-1",children:[(0,c.jsx)("span",{className:"text-xs font-bold text-violet-600 dark:text-violet-400 uppercase tracking-wider",children:"Poll Options"}),(0,c.jsx)("button",{type:"button",onClick:()=>m(!1),className:"text-zinc-400 hover:text-rose-500 transition-colors",children:(0,c.jsx)(Mt,{size:16})})]}),(0,c.jsx)("div",{className:"space-y-2",children:g.options.map((P,T)=>(0,c.jsxs)("div",{className:"flex gap-2 group",children:[(0,c.jsxs)("div",{className:"flex-1 relative",children:[(0,c.jsx)("input",{className:"w-full bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 rounded-lg pl-4 pr-10 py-2.5 text-sm outline-none focus:border-violet-500 focus:ring-2 focus:ring-violet-500/10 transition-all font-medium placeholder:font-normal",placeholder:`Option ${T+1}`,value:P,autoFocus:T===g.options.length-1,onChange:O=>j(T,O.target.value)}),(0,c.jsxs)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-[10px] font-bold text-zinc-300 pointer-events-none",children:[P.length,"/25"]})]}),g.options.length>2&&(0,c.jsx)("button",{type:"button",onClick:()=>F(T),className:"p-2.5 text-zinc-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg transition-colors",children:(0,c.jsx)(fi,{size:18})})]},T))}),g.options.length<4&&(0,c.jsx)("button",{type:"button",onClick:N,className:"w-full py-2.5 text-sm font-bold text-violet-600 dark:text-violet-400 hover:bg-violet-100 dark:hover:bg-violet-900/30 rounded-lg border border-dashed border-violet-200 dark:border-violet-800 transition-all",children:"+ Add option"}),(0,c.jsxs)("div",{className:"flex items-center gap-2 pt-1 px-1",children:[(0,c.jsx)("span",{className:"text-[10px] font-medium text-zinc-500",children:"Poll ends in"}),(0,c.jsxs)("select",{className:"bg-transparent text-[10px] font-bold text-zinc-700 dark:text-zinc-300 outline-none cursor-pointer hover:text-violet-600",value:g.duration,onChange:P=>b({...g,duration:P.target.value}),children:[(0,c.jsx)("option",{value:"1 day",children:"1 day"}),(0,c.jsx)("option",{value:"3 days",children:"3 days"}),(0,c.jsx)("option",{value:"7 days",children:"7 days"})]})]})]})]})]})})},u0=d0,f0=({isOpen:t,onClose:e})=>{const{currentUser:n}=Ge(),{addToast:s}=wt(),r=Un(),[a,o]=(0,p.useState)(null),[l,u]=(0,p.useState)(!1),[h,d]=(0,p.useState)(null),i=(0,p.useRef)(null),f=x=>{const v=x.target.files[0];v&&o(v)},m=()=>{if(!a)return;const x=new FileReader;x.onload=()=>{d(x.result)},x.readAsDataURL(a)},g=x=>{o(new File([x],`story-cropped-${Date.now()}.jpg`,{type:"image/jpeg"})),d(null)},b=async()=>{if(!(!a||!n)){u(!0);try{const x=await St(a);await Bi(n.id,x.url,x.type),o(null),e(),s("Story shared!"),r.invalidateQueries(["stories"])}catch(x){console.error("Failed to create story:",x),s("Failed to share story.")}finally{u(!1)}}};return(0,c.jsxs)(Tt,{isOpen:t,onClose:()=>!l&&e(),title:"Add Story",children:[(0,c.jsxs)("div",{className:"space-y-6",children:[a?(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsxs)("div",{className:"relative aspect-[9/16] w-full max-w-[280px] mx-auto rounded-3xl overflow-hidden shadow-2xl",children:[(0,c.jsx)("img",{src:URL.createObjectURL(a),className:"w-full h-full object-cover",alt:"Preview"}),(0,c.jsx)("button",{onClick:()=>o(null),className:"absolute top-4 right-4 p-2 bg-black/50 text-white rounded-full hover:bg-rose-500 transition-colors",title:"Remove",children:(0,c.jsx)(Mt,{size:20})})]}),(0,c.jsxs)("div",{className:"flex items-center justify-center gap-4 py-2 bg-zinc-50/50 dark:bg-zinc-900/50 rounded-2xl",children:[(0,c.jsxs)("button",{onClick:m,className:"flex flex-col items-center gap-1.5 p-3 rounded-xl hover:bg-white dark:hover:bg-zinc-800 transition-all text-zinc-600 dark:text-zinc-400 hover:text-violet-600 dark:hover:text-violet-400 group",children:[(0,c.jsx)("div",{className:"p-2 rounded-lg bg-white dark:bg-zinc-800 shadow-sm group-hover:shadow-md transition-all",children:(0,c.jsx)(go,{size:20})}),(0,c.jsx)("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:"Crop / Edit"})]}),(0,c.jsxs)("button",{className:"flex flex-col items-center gap-1.5 p-3 rounded-xl opacity-40 cursor-not-allowed text-zinc-600 dark:text-zinc-400",children:[(0,c.jsx)("div",{className:"p-2 rounded-lg bg-white dark:bg-zinc-800 shadow-sm",children:(0,c.jsx)("svg",{size:20,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-5 h-5",children:(0,c.jsx)("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 21 3 22l1-4.5L17 3z"})})}),(0,c.jsx)("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:"Text"})]}),(0,c.jsxs)("button",{className:"flex flex-col items-center gap-1.5 p-3 rounded-xl opacity-40 cursor-not-allowed text-zinc-600 dark:text-zinc-400",children:[(0,c.jsx)("div",{className:"p-2 rounded-lg bg-white dark:bg-zinc-800 shadow-sm",children:(0,c.jsxs)("svg",{size:20,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-5 h-5",children:[(0,c.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,c.jsx)("path",{d:"M8 14s1.5 2 4 2 4-2 4-2"}),(0,c.jsx)("line",{x1:"9",y1:"9",x2:"9.01",y2:"9"}),(0,c.jsx)("line",{x1:"15",y1:"9",x2:"15.01",y2:"9"})]})}),(0,c.jsx)("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:"Stickers"})]})]})]}):(0,c.jsxs)("div",{className:"py-10",children:[(0,c.jsxs)("div",{className:"relative w-full group",onClick:()=>i.current?.click(),children:[(0,c.jsx)("div",{className:"relative z-40 cursor-pointer group-hover:translate-x-8 group-hover:shadow-2xl group-hover:-translate-y-8 transition-all duration-500 bg-zinc-900 dark:bg-white flex items-center justify-center h-32 w-32 mx-auto rounded-xl border-4 border-white dark:border-zinc-900",children:(0,c.jsxs)("svg",{className:"h-8 w-8 text-white/60 dark:text-zinc-950/60",strokeLinejoin:"round",strokeLinecap:"round",strokeWidth:"2",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,c.jsx)("path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"}),(0,c.jsx)("path",{d:"M7 9l5 -5l5 5"}),(0,c.jsx)("path",{d:"M12 4l0 12"})]})}),(0,c.jsx)("div",{className:"absolute border-2 opacity-0 group-hover:opacity-80 transition-all duration-300 border-dashed border-violet-500 inset-0 z-30 bg-transparent flex items-center justify-center h-32 w-32 mx-auto rounded-xl"})]}),(0,c.jsxs)("div",{className:"text-center mt-8",children:[(0,c.jsx)("p",{className:"font-bold dark:text-white",children:"Choose a photo"}),(0,c.jsx)("p",{className:"text-sm text-zinc-500",children:"Stories last for 24 hours"})]})]}),(0,c.jsx)("input",{type:"file",ref:i,onChange:f,className:"hidden",accept:"image/*"}),(0,c.jsx)(Ze,{className:"w-full py-3 text-lg",disabled:!a||l,onClick:b,children:l?(0,c.jsx)(ft,{size:24,className:"animate-spin mx-auto"}):"Share story"})]}),h&&(0,c.jsx)(Id,{src:h,isOpen:!!h,onClose:()=>d(null),onCropComplete:g,aspect:9/16})]})},m0=f0;function Km({isOpen:t,onClose:e,community:n,onUpdate:s}){const{addToast:r}=wt(),[a,o]=(0,p.useState)({name:"",handle:"",description:"",avatar:"",cover:"",isPrivate:!1}),[l,u]=(0,p.useState)(!1),h=(0,p.useRef)(null),d=(0,p.useRef)(null);(0,p.useEffect)(()=>{n&&t&&o({name:n.name||"",handle:n.handle||"",description:n.description||"",avatar:n.avatar||"",cover:n.cover||"",isPrivate:n.isPrivate||!1})},[n,t]);const i=(g,b)=>{const x=g.target.files[0];x&&f(x,b)},f=async(g,b)=>{u(!0);try{const x=await St(g);o(v=>({...v,[b]:x.url})),r(`${b.charAt(0).toUpperCase()+b.slice(1)} uploaded!`)}catch{r(`Failed to upload ${b}`,"error")}finally{u(!1)}},m=async g=>{if(g.preventDefault(),!(!a.name||!a.handle||!n)){u(!0);try{const b=await Yi(n.id,{name:a.name,handle:a.handle.toLowerCase().replace(/[^a-z0-9_]/g,""),description:a.description,avatar_url:a.avatar,cover_url:a.cover,is_private:a.isPrivate});r("Community updated successfully!"),s&&s(b),e()}catch(b){console.error(b),r(b.message||"Failed to update community","error")}finally{u(!1)}}};return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(Tt,{isOpen:t,onClose:()=>!l&&e(),title:"Edit Community",className:"sm:max-w-xl",children:[(0,c.jsxs)("div",{className:"space-y-6 max-h-[85vh] overflow-y-auto px-1",children:[(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsxs)("div",{className:"h-32 sm:h-40 bg-zinc-100 dark:bg-zinc-900 rounded-xl overflow-hidden relative group",children:[a.cover&&(0,c.jsx)("img",{src:a.cover,className:"w-full h-full object-cover",alt:""}),(0,c.jsx)("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:(0,c.jsx)("button",{onClick:()=>d.current?.click(),className:"p-3 bg-black/60 text-white rounded-full hover:bg-black transition-all",children:(0,c.jsx)(lr,{size:20})})})]}),(0,c.jsx)("div",{className:"absolute -bottom-8 left-6",children:(0,c.jsxs)("div",{className:"relative group size-20 sm:size-24 rounded-2xl border-4 border-white dark:border-black bg-zinc-100 dark:bg-zinc-800 overflow-hidden shadow-lg",children:[(0,c.jsx)("img",{src:a.avatar,className:"size-full object-cover",alt:""}),(0,c.jsx)("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:(0,c.jsx)("button",{onClick:()=>h.current?.click(),className:"text-white p-2",children:(0,c.jsx)(lr,{size:18})})})]})})]}),(0,c.jsx)("div",{className:"pt-6",children:(0,c.jsxs)("form",{onSubmit:m,className:"space-y-5",children:[(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsxs)("div",{className:"space-y-1.5",children:[(0,c.jsx)("label",{className:"text-sm font-bold ml-1",children:"Community Name"}),(0,c.jsx)("input",{type:"text",required:!0,className:"w-full bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-4 py-2.5 outline-none focus:ring-2 focus:ring-violet-500/20 focus:border-violet-500 transition-all font-medium",value:a.name,onChange:g=>o({...a,name:g.target.value})})]}),(0,c.jsxs)("div",{className:"space-y-1.5",children:[(0,c.jsx)("label",{className:"text-sm font-bold ml-1",children:"Handle"}),(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-zinc-500 font-medium text-sm",children:"c/"}),(0,c.jsx)("input",{type:"text",required:!0,className:"w-full bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl pl-8 pr-4 py-2.5 outline-none focus:ring-2 focus:ring-violet-500/20 focus:border-violet-500 transition-all font-medium text-sm",value:a.handle,onChange:g=>o({...a,handle:g.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"")})})]})]}),(0,c.jsxs)("div",{className:"space-y-1.5",children:[(0,c.jsx)("label",{className:"text-sm font-bold ml-1",children:"Description"}),(0,c.jsx)("textarea",{className:"w-full bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-4 py-2.5 outline-none focus:ring-2 focus:ring-violet-500/20 focus:border-violet-500 transition-all min-h-[100px] resize-none font-medium",placeholder:"What is this community about?",value:a.description,onChange:g=>o({...a,description:g.target.value})})]}),(0,c.jsxs)("div",{className:"flex items-center justify-between p-4 bg-zinc-50 dark:bg-zinc-900 rounded-xl border border-zinc-200 dark:border-zinc-800",children:[(0,c.jsxs)("div",{className:"flex flex-col",children:[(0,c.jsx)("span",{className:"text-sm font-bold",children:"Private Community"}),(0,c.jsx)("span",{className:"text-[10px] text-zinc-500",children:"Only Admins can post in private communities"})]}),(0,c.jsx)("input",{type:"checkbox",className:"size-5 rounded-md accent-violet-600 cursor-pointer",checked:a.isPrivate,onChange:g=>o({...a,isPrivate:g.target.checked})})]})]}),(0,c.jsxs)("div",{className:"flex gap-3 pt-6 py-2",children:[(0,c.jsx)(Ze,{type:"button",variant:"outline",className:"flex-1 rounded-xl h-11 font-bold",onClick:e,disabled:l,children:"Cancel"}),(0,c.jsx)(Ze,{type:"submit",className:"flex-1 rounded-xl h-11 font-bold bg-zinc-900 dark:bg-white text-white dark:text-black hover:bg-zinc-800 dark:hover:bg-zinc-200 transition-all active:scale-95",disabled:l||!a.name,children:l?(0,c.jsx)(ft,{size:18,className:"animate-spin"}):"Save Changes"})]})]})})]}),(0,c.jsx)("input",{type:"file",ref:h,className:"hidden",accept:"image/*",onChange:g=>i(g,"avatar")}),(0,c.jsx)("input",{type:"file",ref:d,className:"hidden",accept:"image/*",onChange:g=>i(g,"cover")})]})})}var h0=({isOpen:t,onClose:e,editProfileData:n,setEditProfileData:s})=>{const{updateProfile:r}=Ge(),{addToast:a}=wt(),[o,l]=(0,p.useState)(!1),[u,h]=(0,p.useState)(null),[d,i]=(0,p.useState)(null),f=(0,p.useRef)(null),m=(0,p.useRef)(null),g=(x,v)=>{const S=x.target.files[0];S&&(v==="avatar"?h(S):i(S))},b=async()=>{l(!0);try{let x=n.avatar,v=n.cover;u&&(x=(await St(u)).url),d&&(v=(await St(d)).url),await r({...n,avatar:x,cover:v}),h(null),i(null),e(),a("Profile updated!")}catch(x){console.error("Failed to update profile:",x),a("Failed to update profile.","error")}finally{l(!1)}};return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(Tt,{isOpen:t,onClose:()=>!o&&e(),title:"Edit Profile",children:(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsx)("input",{type:"file",ref:m,className:"hidden",accept:"image/*",onChange:x=>g(x,"cover")}),(0,c.jsx)("input",{type:"file",ref:f,className:"hidden",accept:"image/*",onChange:x=>g(x,"avatar")}),(0,c.jsxs)("div",{className:"relative h-32 bg-zinc-100 dark:bg-zinc-800 rounded-xl overflow-hidden group cursor-pointer",onClick:()=>m.current?.click(),children:[(d||n?.cover)&&(0,c.jsx)("img",{src:d?URL.createObjectURL(d):n.cover,className:"w-full h-full object-cover opacity-60",alt:""}),(0,c.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,c.jsx)("div",{className:"bg-black/50 p-2 rounded-full text-white group-hover:scale-110 transition-transform",children:(0,c.jsx)(Wt,{size:20})})})]}),(0,c.jsx)("div",{className:"relative -mt-16 ml-4",children:(0,c.jsxs)("div",{className:"relative size-24 rounded-full border-4 border-white dark:border-black overflow-hidden group cursor-pointer shadow-lg bg-white dark:bg-black",onClick:()=>f.current?.click(),children:[(u||n?.avatar)&&(0,c.jsxs)(Ct,{className:"size-full opacity-60 rounded-none",children:[(0,c.jsx)(Nt,{src:u?URL.createObjectURL(u):n.avatar,className:"object-cover"}),(0,c.jsx)(At,{children:n?.handle?.[0]?.toUpperCase()})]}),(0,c.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,c.jsx)("div",{className:"bg-black/50 p-2 rounded-full text-white group-hover:scale-110 transition-transform",children:(0,c.jsx)(Wt,{size:16})})})]})}),(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsx)(bt,{label:"Name",value:n?.name||"",onChange:x=>s({...n,name:x.target.value})}),(0,c.jsx)(bt,{label:"Bio",textarea:!0,value:n?.bio||"",onChange:x=>s({...n,bio:x.target.value})}),(0,c.jsx)(bt,{label:"Location",value:n?.location||"",onChange:x=>s({...n,location:x.target.value})}),(0,c.jsx)(bt,{label:"Website",value:n?.website||"",onChange:x=>s({...n,website:x.target.value})})]}),(0,c.jsx)(Ze,{className:"w-full py-3",disabled:o,onClick:b,children:o?(0,c.jsx)(ft,{size:24,className:"animate-spin text-white mx-auto"}):"Save changes"})]})})})},g0=h0;function Zm({isOpen:t,onClose:e,community:n}){const{addToast:s}=wt(),{currentUser:r}=Ge(),[a,o]=(0,p.useState)([]),[l,u]=(0,p.useState)(!1),[h,d]=(0,p.useState)(""),[i,f]=(0,p.useState)("members"),[m,g]=(0,p.useState)(!1),b=r?.id===n?.creatorId,x=(0,p.useCallback)(async(M="")=>{if(n?.id){u(!0),g(!0);try{o(await Xi(n.id,M))}catch(_){console.error("Failed to load members:",_),s("Failed to load members","error")}finally{u(!1)}}},[n?.id,s]);(0,p.useEffect)(()=>{t&&n?.id?x(""):(d(""),o([]),g(!1))},[t,n?.id,x]),(0,p.useEffect)(()=>{if(h.length>=2){const M=setTimeout(()=>{x(h)},500);return()=>clearTimeout(M)}else h.length===0&&m&&x("")},[h,x,m]);const v=async(M,_)=>{try{const D=_==="admin"?"member":"admin";await Qi(n.id,M,D),o(w=>w.map(y=>y.userId===M?{...y,role:D}:y)),s(`Role updated to ${D}`)}catch{s("Failed to update role","error")}},S=(0,p.useMemo)(()=>a.filter(M=>M.role==="admin"||M.userId===n.creatorId),[a,n.creatorId]),z=(0,p.useMemo)(()=>a.filter(M=>M.role!=="admin"&&M.userId!==n.creatorId),[a,n.creatorId]),C=M=>l?(0,c.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,c.jsx)(ft,{className:"animate-spin text-violet-500",size:32})}):M.length>0?(0,c.jsx)("div",{className:"divide-y divide-zinc-100 dark:divide-zinc-800/50",children:M.map(_=>(0,c.jsxs)("div",{className:"p-4 flex items-center justify-between hover:bg-white dark:hover:bg-zinc-800/50 transition-colors",children:[(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[(0,c.jsxs)(Ct,{className:"size-10 border border-zinc-200 dark:border-zinc-700 shadow-sm",children:[(0,c.jsx)(Nt,{src:_.user.avatar_url}),(0,c.jsx)(At,{children:_.user.username?.[0]?.toUpperCase()})]}),(0,c.jsxs)("div",{className:"flex flex-col min-w-0",children:[(0,c.jsxs)("div",{className:"flex items-center gap-1",children:[(0,c.jsx)("span",{className:"text-sm font-bold truncate max-w-[140px] dark:text-white",children:_.user.display_name}),_.user.is_verified&&(0,c.jsx)(ca,{})]}),(0,c.jsxs)("span",{className:"text-xs text-zinc-500 font-medium",children:["@",_.user.username]})]})]}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[_.userId===n.creatorId?(0,c.jsx)("span",{className:"text-[10px] font-black px-3 py-1 bg-zinc-200 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-400 rounded-full tracking-wider",children:"OWNER"}):b&&(0,c.jsx)("button",{onClick:()=>v(_.userId,_.role),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full text-[11px] font-bold transition-all ${_.role==="admin"?"bg-rose-50 text-rose-600 hover:bg-rose-100 dark:bg-rose-950/20 dark:text-rose-400":"bg-zinc-100 text-zinc-600 hover:bg-zinc-200 dark:bg-zinc-800 dark:text-zinc-400 dark:hover:bg-zinc-700"}`,children:_.role==="admin"?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(eo,{size:14}),"Admin"]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(In,{size:14}),"Make Admin"]})}),!b&&_.role==="admin"&&_.userId!==n.creatorId&&(0,c.jsx)("span",{className:"text-[10px] font-black px-3 py-1 bg-violet-50 dark:bg-violet-900/20 text-violet-600 dark:text-violet-400 rounded-full tracking-wider",children:"ADMIN"})]})]},_.userId))}):(0,c.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 text-center px-6",children:[(0,c.jsx)("div",{className:"size-12 rounded-full bg-zinc-100 dark:bg-zinc-800 flex items-center justify-center mb-3",children:(0,c.jsx)(In,{size:24,className:"text-zinc-400"})}),(0,c.jsxs)("p",{className:"text-sm font-bold dark:text-white",children:["No ",i," found"]}),(0,c.jsx)("p",{className:"text-xs text-zinc-500 mt-1",children:"Try a different search term"})]});return(0,c.jsx)(Tt,{isOpen:t,onClose:e,title:"Manage Members",className:"sm:max-w-md",children:(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)(Kr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400",size:18}),(0,c.jsx)("input",{type:"text",placeholder:"Search members...",className:"w-full bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl pl-10 pr-4 py-2.5 text-sm outline-none focus:ring-2 focus:ring-violet-500/20 focus:border-violet-500 transition-all font-medium",value:h,onChange:M=>d(M.target.value)})]}),(0,c.jsxs)(lu,{value:i,onValueChange:f,className:"w-full",children:[(0,c.jsxs)(cu,{className:"w-full bg-zinc-100 dark:bg-zinc-900 p-1 rounded-xl h-11",children:[(0,c.jsxs)(zr,{value:"members",className:"flex-1 rounded-lg font-bold data-[state=active]:bg-white dark:data-[state=active]:bg-zinc-800 dark:text-zinc-400 dark:data-[state=active]:text-white",children:["Members (",z.length,")"]}),(0,c.jsxs)(zr,{value:"admins",className:"flex-1 rounded-lg font-bold data-[state=active]:bg-white dark:data-[state=active]:bg-zinc-800 dark:text-zinc-400 dark:data-[state=active]:text-white",children:["Admins (",S.length,")"]})]}),(0,c.jsxs)("div",{className:"mt-4 bg-zinc-50 dark:bg-zinc-900 rounded-2xl border border-zinc-100 dark:border-zinc-800 overflow-hidden min-h-[300px] max-h-[400px] overflow-y-auto",children:[(0,c.jsx)(Er,{value:"members",className:"m-0",children:C(z)}),(0,c.jsx)(Er,{value:"admins",className:"m-0",children:C(S)})]})]})]})})}var p0=ie(),v0=t=>{const e=(0,p0.c)(22),{isPostModalOpen:n,setIsPostModalOpen:s,isEditProfileOpen:r,setIsEditProfileOpen:a,isStoryModalOpen:o,setIsStoryModalOpen:l,editProfileData:u,setEditProfileData:h,postCommunity:d}=t;let i;e[0]!==s?(i=()=>s(!1),e[0]=s,e[1]=i):i=e[1];let f;e[2]!==n||e[3]!==d||e[4]!==i?(f=(0,c.jsx)(u0,{isOpen:n,onClose:i,initialCommunity:d}),e[2]=n,e[3]=d,e[4]=i,e[5]=f):f=e[5];let m;e[6]!==a?(m=()=>a(!1),e[6]=a,e[7]=m):m=e[7];let g;e[8]!==u||e[9]!==r||e[10]!==h||e[11]!==m?(g=(0,c.jsx)(g0,{isOpen:r,onClose:m,editProfileData:u,setEditProfileData:h}),e[8]=u,e[9]=r,e[10]=h,e[11]=m,e[12]=g):g=e[12];let b;e[13]!==l?(b=()=>l(!1),e[13]=l,e[14]=b):b=e[14];let x;e[15]!==o||e[16]!==b?(x=(0,c.jsx)(m0,{isOpen:o,onClose:b}),e[15]=o,e[16]=b,e[17]=x):x=e[17];let v;return e[18]!==f||e[19]!==g||e[20]!==x?(v=(0,c.jsxs)(c.Fragment,{children:[f,g,x]}),e[18]=f,e[19]=g,e[20]=x,e[21]=v):v=e[21],v},b0=v0,x0=ie(),y0=t=>{const e=(0,x0.c)(91),{story:n,onClose:s}=t,[r,a]=(0,p.useState)(0),[o,l]=(0,p.useState)(0),[u,h]=(0,p.useState)(!1),d=n.stories,i=d[r];let f;e[0]!==r||e[1]!==s||e[2]!==d.length||e[3]!==n.user.id?(f=()=>{r<d.length-1?(a(j0),l(0)):s(n.user.id)},e[0]=r,e[1]=s,e[2]=d.length,e[3]=n.user.id,e[4]=f):f=e[4];const m=f;let g;e[5]!==r?(g=()=>{r>0&&(a(k0),l(0))},e[5]=r,e[6]=g):g=e[6];const b=g;let x;e[7]===Symbol.for("react.memo_cache_sentinel")?(x=J=>{J.stopPropagation(),h(_0)},e[7]=x):x=e[7];const v=x;let S;e[8]!==m||e[9]!==u?(S=()=>{if(u)return;const J=setInterval(()=>{l(G=>G>=100?(m(),100):G+1)},50);return()=>clearInterval(J)},e[8]=m,e[9]=u,e[10]=S):S=e[10];let z;e[11]!==r||e[12]!==m||e[13]!==u?(z=[m,r,u],e[11]=r,e[12]=m,e[13]=u,e[14]=z):z=e[14],(0,p.useEffect)(S,z);let C;if(e[15]!==r||e[16]!==o||e[17]!==d){let J;e[19]!==r||e[20]!==o?(J=(G,ne)=>(0,c.jsx)("div",{className:"flex-1 h-full bg-white/30 rounded-full overflow-hidden",children:(0,c.jsx)("div",{className:"h-full bg-white transition-all duration-100",style:{width:ne<r?"100%":ne===r?`${o}%`:"0%"}})},ne),e[19]=r,e[20]=o,e[21]=J):J=e[21],C=d.map(J),e[15]=r,e[16]=o,e[17]=d,e[18]=C}else C=e[18];let M;e[22]!==C?(M=(0,c.jsx)("div",{className:"flex gap-1.5 h-0.5 w-full bg-transparent",children:C}),e[22]=C,e[23]=M):M=e[23];const _=`/u/${n.user.handle}`;let D;e[24]!==n.user.avatar||e[25]!==n.user.handle?(D=(0,c.jsx)(Nt,{src:n.user.avatar,alt:n.user.handle,className:"object-cover"}),e[24]=n.user.avatar,e[25]=n.user.handle,e[26]=D):D=e[26];let w;e[27]!==n.user.handle?.[0]?(w=n.user.handle?.[0]?.toUpperCase(),e[27]=n.user.handle?.[0],e[28]=w):w=e[28];let y;e[29]!==w?(y=(0,c.jsx)(At,{children:w}),e[29]=w,e[30]=y):y=e[30];let A;e[31]!==y||e[32]!==D?(A=(0,c.jsxs)(Ct,{className:"size-10 border border-white/20 shadow-sm",children:[D,y]}),e[31]=y,e[32]=D,e[33]=A):A=e[33];let R;e[34]!==n.user.handle?(R=(0,c.jsx)("span",{className:"text-white text-sm font-bold shadow-black drop-shadow-md",children:n.user.handle}),e[34]=n.user.handle,e[35]=R):R=e[35];let E;e[36]!==i.created_at?(E=new Date(i.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),e[36]=i.created_at,e[37]=E):E=e[37];let I;e[38]!==E?(I=(0,c.jsx)("span",{className:"text-white/60 text-[10px] shadow-black drop-shadow-md",children:E}),e[38]=E,e[39]=I):I=e[39];let N;e[40]!==R||e[41]!==I?(N=(0,c.jsxs)("div",{className:"flex flex-col",children:[R,I]}),e[40]=R,e[41]=I,e[42]=N):N=e[42];let F;e[43]!==A||e[44]!==N||e[45]!==_?(F=(0,c.jsxs)(Xr,{to:_,className:"flex items-center gap-3 hover:opacity-80 transition-opacity",onClick:S0,children:[A,N]}),e[43]=A,e[44]=N,e[45]=_,e[46]=F):F=e[46];let j;e[47]!==s||e[48]!==n.user.id?(j=()=>s(n.user.id),e[47]=s,e[48]=n.user.id,e[49]=j):j=e[49];let k;e[50]===Symbol.for("react.memo_cache_sentinel")?(k=(0,c.jsx)(Mt,{size:24}),e[50]=k):k=e[50];let P;e[51]!==j?(P=(0,c.jsx)("button",{onClick:j,className:"text-white p-2 hover:bg-white/10 rounded-full transition-colors",children:k}),e[51]=j,e[52]=P):P=e[52];let T;e[53]!==F||e[54]!==P?(T=(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[F,P]}),e[53]=F,e[54]=P,e[55]=T):T=e[55];let O;e[56]!==T||e[57]!==M?(O=(0,c.jsxs)("div",{className:"absolute top-0 left-0 right-0 p-4 z-20 flex flex-col gap-4",children:[M,T]}),e[56]=T,e[57]=M,e[58]=O):O=e[58];let q;e[59]!==r||e[60]!==b?(q=r>0&&(0,c.jsx)("button",{onClick:J=>{J.stopPropagation(),b()},className:"absolute left-4 z-30 p-2 bg-black/20 hover:bg-black/40 rounded-full text-white backdrop-blur-md transition-all active:scale-90",children:(0,c.jsx)(as,{size:32})}),e[59]=r,e[60]=b,e[61]=q):q=e[61];let B;e[62]!==i.id||e[63]!==i.media?(B=(0,c.jsx)("img",{src:i.media,className:"max-w-full max-h-full object-contain rounded-xl shadow-2xl animate-in fade-in zoom-in-95 duration-300",alt:""},i.id),e[62]=i.id,e[63]=i.media,e[64]=B):B=e[64];let H;e[65]!==u?(H=u&&(0,c.jsx)("div",{className:"absolute inset-0 z-10 flex items-center justify-center pointer-events-none",children:(0,c.jsx)("div",{className:"px-4 py-2 bg-black/40 rounded-full text-white text-xs font-bold backdrop-blur-md border border-white/10 animate-in fade-in zoom-in duration-200",children:"PAUSED"})}),e[65]=u,e[66]=H):H=e[66];let U;e[67]!==B||e[68]!==H?(U=(0,c.jsxs)("div",{className:"relative w-full h-full flex items-center justify-center",children:[B,H]}),e[67]=B,e[68]=H,e[69]=U):U=e[69];let L;e[70]!==m?(L=J=>{J.stopPropagation(),m()},e[70]=m,e[71]=L):L=e[71];let V;e[72]===Symbol.for("react.memo_cache_sentinel")?(V=(0,c.jsx)($r,{size:32}),e[72]=V):V=e[72];let Z;e[73]!==L?(Z=(0,c.jsx)("button",{onClick:L,className:"absolute right-4 z-30 p-2 bg-black/20 hover:bg-black/40 rounded-full text-white backdrop-blur-md transition-all active:scale-90",children:V}),e[73]=L,e[74]=Z):Z=e[74];let X;e[75]!==b?(X=(0,c.jsx)("div",{className:"w-[30%] cursor-w-resize",onClick:b}),e[75]=b,e[76]=X):X=e[76];let W;e[77]===Symbol.for("react.memo_cache_sentinel")?(W=(0,c.jsx)("div",{className:"w-[40%] cursor-pointer flex items-center justify-center",onClick:v}),e[77]=W):W=e[77];let ee;e[78]!==m?(ee=(0,c.jsx)("div",{className:"w-[30%] cursor-e-resize",onClick:m}),e[78]=m,e[79]=ee):ee=e[79];let K;e[80]!==X||e[81]!==ee?(K=(0,c.jsxs)("div",{className:"absolute inset-0 flex z-20",children:[X,W,ee]}),e[80]=X,e[81]=ee,e[82]=K):K=e[82];let Q;e[83]!==q||e[84]!==U||e[85]!==Z||e[86]!==K?(Q=(0,c.jsxs)("div",{className:"w-full h-full max-w-xl relative flex items-center justify-center p-2",children:[q,U,Z,K]}),e[83]=q,e[84]=U,e[85]=Z,e[86]=K,e[87]=Q):Q=e[87];let te;return e[88]!==O||e[89]!==Q?(te=(0,c.jsxs)("div",{className:"fixed inset-0 z-[100] bg-black flex flex-col items-center justify-center animate-in fade-in duration-300",children:[O,Q]}),e[88]=O,e[89]=Q,e[90]=te):te=e[90],te},w0=y0;function j0(t){return t+1}function k0(t){return t-1}function _0(t){return!t}function S0(t){return t.stopPropagation()}var C0=({type:t,onComplete:e,onSwitch:n})=>{const{login:s,signup:r}=Ge(),{addToast:a}=wt(),[o,l]=(0,p.useState)({name:"",email:"",username:"",password:""}),[u,h]=(0,p.useState)(!1),[d,i]=(0,p.useState)(null),f=async m=>{m.preventDefault(),h(!0),i(null);try{t==="login"?(await s({email:o.email,password:o.password}),a("Welcome back!"),e()):(await r({email:o.email,password:o.password,username:o.username,name:o.name}),a("Confirm Your Email","info"),n())}catch(g){console.error("Auth error:",g),i(g.message||"Authentication failed. Please check your credentials."),a("Authentication failed!")}finally{h(!1)}};return(0,c.jsxs)("div",{className:"max-w-md mx-auto p-8 w-full animate-in fade-in slide-in-from-bottom-5 duration-300",children:[(0,c.jsxs)("div",{className:"text-center mb-8",children:[(0,c.jsx)("div",{className:"flex justify-center mb-4",children:(0,c.jsx)("div",{className:"bg-black dark:bg-white dark:text-black text-white p-3 rounded-2xl shadow-lg",children:(0,c.jsx)("img",{src:"/logo.webp",alt:"Logo",className:"size-16 rounded-2xl shadow-xl border-2 border-zinc-100 dark:border-zinc-800"})})}),(0,c.jsx)("h2",{className:"text-3xl font-extrabold mb-2 dark:text-white tracking-tight",children:t==="login"?"Welcome back!":"Join Sysm today"}),(0,c.jsx)("p",{className:"text-zinc-500 font-medium",children:"The decentralized social network"})]}),d&&(0,c.jsxs)("div",{className:"mb-6 p-4 bg-rose-50 dark:bg-rose-900/20 border border-rose-100 dark:border-rose-800 rounded-xl flex items-center gap-3 text-rose-600 dark:text-rose-400 text-sm",children:[(0,c.jsx)(is,{size:18}),(0,c.jsx)("span",{children:d})]}),(0,c.jsxs)("form",{onSubmit:f,className:"space-y-4",children:[(0,c.jsx)(bt,{label:"Email",type:"email",placeholder:"john@example.com",value:o.email,onChange:m=>l({...o,email:m.target.value}),required:!0}),t==="signup"&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(bt,{label:"Name",placeholder:"John Doe",value:o.name,onChange:m=>l({...o,name:m.target.value}),required:!0}),(0,c.jsx)(bt,{label:"Username",placeholder:"johndoe",value:o.username,onChange:m=>{const g=m.target.value.replace(/[^a-zA-Z0-9_]/g,"");l({...o,username:g})},required:!0})]}),(0,c.jsx)(bt,{label:"Password",type:"password",placeholder:"",value:o.password,onChange:m=>l({...o,password:m.target.value}),required:!0}),(0,c.jsx)(Ze,{type:"submit",className:"w-full justify-center py-3 mt-6 text-lg",disabled:u,children:u?(0,c.jsx)(ft,{size:24,className:"animate-spin"}):t==="login"?"Log in":"Sign up"})]}),(0,c.jsxs)("div",{className:"mt-8 text-center text-sm",children:[(0,c.jsx)("span",{className:"text-zinc-500",children:t==="login"?"Don't have an account?":"Already have an account?"}),(0,c.jsx)("button",{onClick:n,className:"font-bold ml-1 hover:underline dark:text-white",children:t==="login"?"Sign up":"Log in"})]})]})},N0=C0,Ta=ie(),A0=(0,p.lazy)(()=>ut(()=>import("./Home-Cl9PyK4K.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),z0=(0,p.lazy)(()=>ut(()=>import("./Explore-qKvkSXsb.js"),__vite__mapDeps([11,1,2,3,4,5,6,7,8,9,10]))),E0=(0,p.lazy)(()=>ut(()=>import("./Reels-CX175cyF.js"),__vite__mapDeps([12,1,2,3,4,5,6,7,8,9,10]))),Vr=(0,p.lazy)(()=>ut(()=>import("./Messages-CSG1M7Na.js"),__vite__mapDeps([13,1,2,3,4,5,6,7,10,9]))),R0=(0,p.lazy)(()=>ut(()=>import("./Notifications-DETL3-DS.js"),__vite__mapDeps([14,1,2,3,4,5,6,10,9]))),I0=(0,p.lazy)(()=>ut(()=>import("./Profile-BlbDpkLS.js"),__vite__mapDeps([15,1,2,3,4,5,6,7,8,9,10]))),M0=(0,p.lazy)(()=>ut(()=>import("./Community-DBSjheF7.js"),__vite__mapDeps([16,1,2,3,4,5,6,7,8,9,10]))),D0=(0,p.lazy)(()=>ut(()=>import("./PostDetails-IW51fRxy.js"),__vite__mapDeps([17,1,2,3,4,5,6,7,8,9,10]))),T0=(0,p.lazy)(()=>ut(()=>import("./Settings-B07beP6R.js"),__vite__mapDeps([18,1,2,3,4,5,6]))),P0=(0,p.lazy)(()=>ut(()=>import("./HashtagFeed-Ly4TA39T.js"),__vite__mapDeps([19,1,2,3,4,5,6,7,8,9,10]))),F0=()=>{const t=(0,Ta.c)(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,c.jsx)("div",{className:"flex h-screen w-full items-center justify-center",children:(0,c.jsx)(ft,{size:40,className:"animate-spin text-violet-500"})}),t[0]=e):e=t[0],e};function O0(){const t=(0,Ta.c)(55),e=gn(),{currentUser:n,authMode:s,setAuthMode:r}=Ge(),{darkMode:a}=Wn(),{isOpen:o,images:l,currentIndex:u,closeLightbox:h,setIndex:d}=rc(),[i,f]=(0,p.useState)(!1),[m,g]=(0,p.useState)(!1),[b,x]=(0,p.useState)(!1);let v;t[0]===Symbol.for("react.memo_cache_sentinel")?(v={},t[0]=v):v=t[0];const[S,z]=(0,p.useState)(v),[C,M]=(0,p.useState)(null),[_,D]=(0,p.useState)(null);if(s){const K=a?"dark":"";let Q;t[1]!==r?(Q=()=>r(null),t[1]=r,t[2]=Q):Q=t[2];let te;t[3]!==s||t[4]!==r?(te=()=>r(s==="login"?"signup":"login"),t[3]=s,t[4]=r,t[5]=te):te=t[5];let J;t[6]!==s||t[7]!==Q||t[8]!==te?(J=(0,c.jsx)("div",{className:"min-h-screen bg-white dark:bg-black flex items-center justify-center p-4",children:(0,c.jsx)(et,{children:(0,c.jsx)(N0,{type:s,onComplete:Q,onSwitch:te})})}),t[6]=s,t[7]=Q,t[8]=te,t[9]=J):J=t[9];let G;return t[10]!==K||t[11]!==J?(G=(0,c.jsx)("div",{className:K,children:J}),t[10]=K,t[11]=J,t[12]=G):G=t[12],G}let w;t[13]===Symbol.for("react.memo_cache_sentinel")?(w=(0,c.jsx)(bi,{}),t[13]=w):w=t[13];let y;t[14]===Symbol.for("react.memo_cache_sentinel")?(y=(0,c.jsx)(F0,{}),t[14]=y):y=t[14];let A;t[15]===Symbol.for("react.memo_cache_sentinel")?(A=(0,c.jsx)(bc,{onPostClick:()=>f(!0)}),t[15]=A):A=t[15];let R;t[16]===Symbol.for("react.memo_cache_sentinel")?(R=(0,c.jsx)(We,{path:"/",element:(0,c.jsx)(et,{children:(0,c.jsx)(A0,{onStoryClick:D,onAddStory:()=>x(!0)})})}),t[16]=R):R=t[16];let E;t[17]===Symbol.for("react.memo_cache_sentinel")?(E=(0,c.jsx)(We,{path:"/home",element:(0,c.jsx)(or,{to:"/",replace:!0})}),t[17]=E):E=t[17];let I;t[18]===Symbol.for("react.memo_cache_sentinel")?(I=(0,c.jsx)(We,{path:"/community",element:(0,c.jsx)(et,{children:(0,c.jsx)(z0,{})})}),t[18]=I):I=t[18];let N;t[19]===Symbol.for("react.memo_cache_sentinel")?(N=(0,c.jsx)(We,{path:"/reels",element:(0,c.jsx)(et,{children:(0,c.jsx)(E0,{})})}),t[19]=N):N=t[19];let F;t[20]===Symbol.for("react.memo_cache_sentinel")?(F=(0,c.jsx)(We,{path:"/messages",element:(0,c.jsx)(et,{children:(0,c.jsx)(Vr,{})})}),t[20]=F):F=t[20];let j;t[21]===Symbol.for("react.memo_cache_sentinel")?(j=(0,c.jsx)(We,{path:"/settings",element:(0,c.jsx)(et,{children:(0,c.jsx)(T0,{})})}),t[21]=j):j=t[21];let k;t[22]===Symbol.for("react.memo_cache_sentinel")?(k=(0,c.jsx)(We,{path:"/messages/:id",element:(0,c.jsx)(et,{children:(0,c.jsx)(Vr,{})})}),t[22]=k):k=t[22];let P;t[23]===Symbol.for("react.memo_cache_sentinel")?(P=(0,c.jsx)(We,{path:"/notifications",element:(0,c.jsx)(et,{children:(0,c.jsx)(R0,{})})}),t[23]=P):P=t[23];let T;t[24]===Symbol.for("react.memo_cache_sentinel")?(T=(0,c.jsx)(We,{path:"/post/:id",element:(0,c.jsx)(et,{children:(0,c.jsx)(D0,{})})}),t[24]=T):T=t[24];let O;t[25]===Symbol.for("react.memo_cache_sentinel")?(O=(0,c.jsx)(We,{path:"/c/:handle",element:(0,c.jsx)(et,{children:(0,c.jsx)(M0,{onPostInCommunity:K=>{M(K),f(!0)}})})}),t[25]=O):O=t[25];let q;t[26]===Symbol.for("react.memo_cache_sentinel")?(q=(0,c.jsx)(We,{path:"/tags/:tag",element:(0,c.jsx)(et,{children:(0,c.jsx)(P0,{})})}),t[26]=q):q=t[26];let B;t[27]===Symbol.for("react.memo_cache_sentinel")?(B=(0,c.jsx)(We,{path:"/u/:handle",element:(0,c.jsx)(et,{children:(0,c.jsx)(I0,{onEditProfile:K=>{z(K),g(!0)}})})}),t[27]=B):B=t[27];let H;t[28]===Symbol.for("react.memo_cache_sentinel")?(H=(0,c.jsxs)(We,{element:A,children:[R,E,I,N,F,j,k,P,T,O,q,B,(0,c.jsx)(We,{path:"*",element:(0,c.jsx)(or,{to:"/community"})})]}),t[28]=H):H=t[28];let U;t[29]!==e?(U=(0,c.jsx)(p.Suspense,{fallback:y,children:(0,c.jsx)(Fa,{location:e,children:H},e.pathname)}),t[29]=e,t[30]=U):U=t[30];let L;t[31]===Symbol.for("react.memo_cache_sentinel")?(L=K=>{f(K),K||M(null)},t[31]=L):L=t[31];let V;t[32]!==S||t[33]!==m||t[34]!==i||t[35]!==b||t[36]!==C?(V=(0,c.jsx)(b0,{isPostModalOpen:i,setIsPostModalOpen:L,isEditProfileOpen:m,setIsEditProfileOpen:g,isStoryModalOpen:b,setIsStoryModalOpen:x,editProfileData:S,setEditProfileData:z,postCommunity:C}),t[32]=S,t[33]=m,t[34]=i,t[35]=b,t[36]=C,t[37]=V):V=t[37];let Z;t[38]!==_?(Z=_&&(0,c.jsx)(w0,{story:_,onClose:K=>{if(K){const Q=JSON.parse(localStorage.getItem("seenStories")||"[]");Q.includes(K)||localStorage.setItem("seenStories",JSON.stringify([...Q,K]))}D(null)}}),t[38]=_,t[39]=Z):Z=t[39];let X;t[40]!==h||t[41]!==u||t[42]!==l||t[43]!==o||t[44]!==d?(X=o&&(0,c.jsx)(Td,{images:l,currentIndex:u,onClose:h,onNavigate:d}),t[40]=h,t[41]=u,t[42]=l,t[43]=o,t[44]=d,t[45]=X):X=t[45];let W;t[46]!==n||t[47]!==e.pathname?(W=n&&e.pathname==="/"&&(0,c.jsx)("button",{onClick:()=>f(!0),className:"fixed bottom-20 right-5 md:hidden z-50 bg-zinc-950 dark:bg-white text-white dark:text-zinc-950 size-12 rounded-full flex items-center justify-center shadow-2xl hover:scale-110 active:scale-90 transition-all cursor-pointer group",title:"Create Post",children:(0,c.jsx)(Wt,{size:28,className:"group-hover:rotate-90 transition-transform duration-300"})}),t[46]=n,t[47]=e.pathname,t[48]=W):W=t[48];let ee;return t[49]!==U||t[50]!==V||t[51]!==Z||t[52]!==X||t[53]!==W?(ee=(0,c.jsxs)(oc,{children:[w,U,V,Z,X,W]}),t[49]=U,t[50]=V,t[51]=Z,t[52]=X,t[53]=W,t[54]=ee):ee=t[54],ee}var L0=new Va;(0,hi.createRoot)(document.getElementById("root")).render((0,c.jsx)(p.StrictMode,{children:(0,c.jsx)(Ya,{client:L0,children:(0,c.jsx)(La,{children:(0,c.jsx)(fl,{children:(0,c.jsx)(il,{children:(0,c.jsx)(cl,{children:(0,c.jsx)($l,{children:(0,c.jsx)(Jl,{children:(0,c.jsx)(nc,{children:(0,c.jsx)(O0,{})})})})})})})})})}));export{Nt as $,Dm as A,rm as At,Im as B,Y as Bt,ca as C,$0 as Ct,Tm as D,im as Dt,Fm as E,G0 as Et,Mc as F,Ci as Ft,Cm as G,Ze as H,Nm as I,X0 as It,jm as J,ym as K,zm as L,ds as Lt,Dc as M,K0 as Mt,fr as N,Z0 as Nt,Tt as O,am as Ot,Mm as P,Q0 as Pt,At as Q,Em as R,Y0 as Rt,Xd as S,sm as St,Om as T,J0 as Tt,xm as U,Am as V,Sm as W,km as X,wm as Y,Ct as Z,Hm as _,um as _t,Vm as a,Wn as at,Kd as b,em as bt,Er as c,St as ct,qm as d,mm as dt,Ms as et,au as f,hm as ft,Gd as g,dm as gt,tu as h,fm as ht,Ym as i,wt as it,Ic as j,Ni as jt,bt as k,tm as kt,cu as l,pm as lt,$d as m,Hi as mt,Km as n,rc as nt,Wm as o,dl as ot,Bm as p,gm as pt,_m as q,Qm as r,ec as rt,lu as s,Ge as st,Zm as t,bm as tt,zr as u,qi as ut,Ar as v,cm as vt,Pm as w,om as wt,Lm as x,nm as xt,Um as y,lm as yt,Rm as z,en as zt};
