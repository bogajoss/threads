import{a as ue}from"./rolldown-runtime-BaZ8gS7u.js";import{E as fe,S as ce,b as U,c as W,x as ie}from"./framework-CsA6nn9m.js";import{a as te,n as se,r as ee,t as Z}from"./query-QyXblnmD.js";import{Bt as me,Ct as de,Dt as ge,Et as he,Ft as pe,Gt as ye,Jt as Pe,Lt as _e,Nt as ve,Ot as be,Pt as we,Rt as $e,St as Ce,Tt as Se,Ut as Me,Vt as Re,Wt as Le,Xt as Fe,Yt as qe,Zt as Ne,_t as ne,an as oe,bt as I,gt as ke,in as Y,jt as xe,kt as De,nn as ae,s as Qe,vt as Te,wt as Ee,yt as Ke,zt as Ae}from"./index-Bi9jckpT.js";var Oe=W();const Be=(e,i,n)=>{const s=(0,Oe.c)(16);let t,o;s[0]!==i||s[1]!==e?(t=["follows",i,e],o=p=>{const{pageParam:w}=p;return(i==="Followers"?Pe:qe)(e,w,10)},s[0]=i,s[1]=e,s[2]=t,s[3]=o):(t=s[2],o=s[3]);const a=!!e&&n;let m;s[4]!==t||s[5]!==o||s[6]!==a?(m={queryKey:t,queryFn:o,initialPageParam:null,getNextPageParam:je,enabled:a},s[4]=t,s[5]=o,s[6]=a,s[7]=m):m=s[7];const{data:u,fetchNextPage:c,hasNextPage:l,isFetchingNextPage:r,isLoading:$}=Z(m);let P;s[8]!==u?.pages?(P=u?.pages.flatMap(Je)||[],s[8]=u?.pages,s[9]=P):P=s[9];const d=P;let g;return s[10]!==c||s[11]!==d||s[12]!==l||s[13]!==r||s[14]!==$?(g={followList:d,fetchNextPage:c,hasNextPage:l,isFetchingNextPage:r,isLoading:$},s[10]=c,s[11]=d,s[12]=l,s[13]=r,s[14]=$,s[15]=g):g=s[15],g};function je(e){if(!(!e||e.length<10))return e[e.length-1].followed_at}function Je(e){return e}var ze=W(),O=ue(fe(),1);const Et=(e,i,n,s)=>{const t=(0,ze.c)(92),o=te();let a;t[0]!==i?(a=i||{comments:0,likes:0,mirrors:0,reposts:0},t[0]=i,t[1]=a):a=t[1];const[m,u]=(0,O.useState)(a);let c,l;t[2]!==i?(c=()=>{i&&u(E=>({...E,...i}))},l=[i],t[2]=i,t[3]=c,t[4]=l):(c=t[3],l=t[4]),(0,O.useEffect)(c,l);const r=n?.id;let $;t[5]!==e||t[6]!==r?($=["post",e,"liked",r],t[5]=e,t[6]=r,t[7]=$):$=t[7];let P;t[8]!==n?.id||t[9]!==e?(P=()=>we(e,n?.id),t[8]=n?.id,t[9]=e,t[10]=P):P=t[10];let d;t[11]!==n||t[12]!==e?(d=!!n&&Y(e)&&Y(n.id),t[11]=n,t[12]=e,t[13]=d):d=t[13];let g;t[14]!==$||t[15]!==P||t[16]!==d?(g={queryKey:$,queryFn:P,enabled:d,staleTime:6e5},t[14]=$,t[15]=P,t[16]=d,t[17]=g):g=t[17];const{data:p}=ee(g),w=p===void 0?!1:p,_=n?.id;let b;t[18]!==e||t[19]!==_?(b=["post",e,"reposted",_],t[18]=e,t[19]=_,t[20]=b):b=t[20];let v;t[21]!==n?.id||t[22]!==e?(v=()=>pe(e,n?.id),t[21]=n?.id,t[22]=e,t[23]=v):v=t[23];let f;t[24]!==n||t[25]!==e?(f=!!n&&Y(e)&&Y(n.id),t[24]=n,t[25]=e,t[26]=f):f=t[26];let h;t[27]!==b||t[28]!==v||t[29]!==f?(h={queryKey:b,queryFn:v,enabled:f,staleTime:6e5},t[27]=b,t[28]=v,t[29]=f,t[30]=h):h=t[30];const{data:y}=ee(h),C=y===void 0?!1:y;let M;t[31]!==n?.id||t[32]!==e?(M=()=>Le(e,n?.id),t[31]=n?.id,t[32]=e,t[33]=M):M=t[33];let N;t[34]!==n?.id||t[35]!==e||t[36]!==o?(N=async()=>{await o.cancelQueries({queryKey:["post",e,"liked",n?.id]});const E=o.getQueryData(["post",e,"liked",n?.id]);return o.setQueryData(["post",e,"liked",n?.id],!E),u(z=>({...z,likes:E?(z.likes||0)-1:(z.likes||0)+1})),{previousLiked:E}},t[34]=n?.id,t[35]=e,t[36]=o,t[37]=N):N=t[37];let k;t[38]!==n?.id||t[39]!==e||t[40]!==o||t[41]!==s?(k=(E,z,F)=>{F?.previousLiked!==void 0&&(o.setQueryData(["post",e,"liked",n?.id],F.previousLiked),u(D=>({...D,likes:F.previousLiked?(D.likes||0)+1:(D.likes||0)-1}))),s("Failed to update like","error")},t[38]=n?.id,t[39]=e,t[40]=o,t[41]=s,t[42]=k):k=t[42];let q;t[43]!==n?.id||t[44]!==e||t[45]!==o?(q=()=>{o.invalidateQueries({queryKey:["post",e,"liked",n?.id]})},t[43]=n?.id,t[44]=e,t[45]=o,t[46]=q):q=t[46];let A;t[47]!==M||t[48]!==N||t[49]!==k||t[50]!==q?(A={mutationFn:M,onMutate:N,onError:k,onSettled:q},t[47]=M,t[48]=N,t[49]=k,t[50]=q,t[51]=A):A=t[51];const Q=se(A);let x;t[52]!==n?.id||t[53]!==e?(x=()=>ye(e,n?.id),t[52]=n?.id,t[53]=e,t[54]=x):x=t[54];let R;t[55]!==n?.id||t[56]!==e||t[57]!==o?(R=async()=>{await o.cancelQueries({queryKey:["post",e,"reposted",n?.id]});const E=o.getQueryData(["post",e,"reposted",n?.id]);return o.setQueryData(["post",e,"reposted",n?.id],!E),u(z=>({...z,reposts:E?(z.reposts||0)-1:(z.reposts||0)+1,mirrors:E?(z.mirrors||0)-1:(z.mirrors||0)+1})),{previousReposted:E}},t[55]=n?.id,t[56]=e,t[57]=o,t[58]=R):R=t[58];let S;t[59]!==n?.id||t[60]!==e||t[61]!==o||t[62]!==s?(S=(E,z,F)=>{F?.previousReposted!==void 0&&(o.setQueryData(["post",e,"reposted",n?.id],F.previousReposted),u(D=>({...D,reposts:F.previousReposted?(D.reposts||0)+1:(D.reposts||0)-1,mirrors:F.previousReposted?(D.mirrors||0)+1:(D.mirrors||0)-1}))),s("Failed to update repost","error")},t[59]=n?.id,t[60]=e,t[61]=o,t[62]=s,t[63]=S):S=t[63];let L;t[64]!==n?.id||t[65]!==e||t[66]!==o?(L=()=>{o.invalidateQueries({queryKey:["post",e,"reposted",n?.id]})},t[64]=n?.id,t[65]=e,t[66]=o,t[67]=L):L=t[67];let B;t[68]!==s?(B=E=>{s(E?"Reposted!":"Removed repost")},t[68]=s,t[69]=B):B=t[69];let K;t[70]!==x||t[71]!==R||t[72]!==S||t[73]!==L||t[74]!==B?(K={mutationFn:x,onMutate:R,onError:S,onSettled:L,onSuccess:B},t[70]=x,t[71]=R,t[72]=S,t[73]=L,t[74]=B,t[75]=K):K=t[75];const H=se(K);let J;t[76]!==n||t[77]!==Q||t[78]!==e||t[79]!==s?(J=async E=>{if(E&&E.stopPropagation(),!n)return s("Please login to like!","error");!Y(e)||!Y(n.id)||Q.mutate()},t[76]=n,t[77]=Q,t[78]=e,t[79]=s,t[80]=J):J=t[80];const j=J;let T;t[81]!==n||t[82]!==e||t[83]!==H||t[84]!==s?(T=async E=>{if(E&&E.stopPropagation(),!n)return s("Please login to repost!","error");!Y(e)||!Y(n.id)||H.mutate()},t[81]=n,t[82]=e,t[83]=H,t[84]=s,t[85]=T):T=t[85];const V=T;let G;return t[86]!==j||t[87]!==V||t[88]!==w||t[89]!==C||t[90]!==m?(G={liked:w,reposted:C,localStats:m,setLocalStats:u,handleLike:j,handleRepost:V},t[86]=j,t[87]=V,t[88]=w,t[89]=C,t[90]=m,t[91]=G):G=t[91],G};var He=W();const Kt=e=>{const i=(0,He.c)(5);let n;i[0]!==e?(n=()=>ae(e),i[0]=e,i[1]=n):n=i[1];const[s,t]=(0,O.useState)(n);let o,a;return i[2]!==e?(o=()=>{if(!e)return;const m=setTimeout(()=>{t(ae(e))},0),u=setInterval(()=>{t(ae(e))},6e4);return()=>{clearTimeout(m),clearInterval(u)}},a=[e],i[2]=e,i[3]=o,i[4]=a):(o=i[3],a=i[4]),(0,O.useEffect)(o,a),s};var Ve=W();const At=()=>{const e=(0,Ve.c)(27),[i,n]=(0,O.useState)(!1),[s,t]=(0,O.useState)(!1),[o,a]=(0,O.useState)(0),[m,u]=(0,O.useState)(null),[c,l]=(0,O.useState)(null),r=(0,O.useRef)(null),$=(0,O.useRef)(null);let P;e[0]===Symbol.for("react.memo_cache_sentinel")?(P=[],e[0]=P):P=e[0];const d=(0,O.useRef)(P);let g;e[1]===Symbol.for("react.memo_cache_sentinel")?(g=()=>{$.current=window.setInterval(()=>{a(Ge)},1e3)},e[1]=g):g=e[1];const p=g;let w;e[2]===Symbol.for("react.memo_cache_sentinel")?(w=()=>{$.current&&(clearInterval($.current),$.current=null)},e[2]=w):w=e[2];const _=w;let b;e[3]===Symbol.for("react.memo_cache_sentinel")?(b=async()=>{try{const R=await navigator.mediaDevices.getUserMedia({audio:!0}),S=new MediaRecorder(R);r.current=S,d.current=[],S.ondataavailable=L=>{L.data.size>0&&d.current.push(L.data)},S.onstop=()=>{const L=new Blob(d.current,{type:"audio/webm;codecs=opus"}),B=URL.createObjectURL(L);u(L),l(B),R.getTracks().forEach(We)},S.start(),n(!0),t(!1),a(0),p()}catch(R){const S=R;throw console.error("Error accessing microphone:",S),S}},e[3]=b):b=e[3];const v=b;let f;e[4]!==i?(f=()=>{r.current&&i&&(r.current.stop(),n(!1),t(!1),_())},e[4]=i,e[5]=f):f=e[5];const h=f;let y;e[6]!==s||e[7]!==i?(y=()=>{r.current&&i&&!s&&(r.current.pause(),t(!0),_())},e[6]=s,e[7]=i,e[8]=y):y=e[8];const C=y;let M;e[9]!==s||e[10]!==i?(M=()=>{r.current&&i&&s&&(r.current.resume(),t(!1),p())},e[9]=s,e[10]=i,e[11]=M):M=e[11];const N=M;let k;e[12]!==i?(k=()=>{r.current&&i&&(r.current.stop(),r.current.onstop=null,n(!1),t(!1),_(),a(0),r.current.stream&&r.current.stream.getTracks().forEach(Xe))},e[12]=i,e[13]=k):k=e[13];const q=k;let A;e[14]!==c?(A=()=>{c&&URL.revokeObjectURL(c),u(null),l(null),a(0)},e[14]=c,e[15]=A):A=e[15];const Q=A;let x;return e[16]!==m||e[17]!==c||e[18]!==q||e[19]!==Q||e[20]!==s||e[21]!==i||e[22]!==C||e[23]!==o||e[24]!==N||e[25]!==h?(x={isRecording:i,isPaused:s,recordingTime:o,startRecording:v,stopRecording:h,pauseRecording:C,resumeRecording:N,cancelRecording:q,audioBlob:m,audioUrl:c,clearAudio:Q},e[16]=m,e[17]=c,e[18]=q,e[19]=Q,e[20]=s,e[21]=i,e[22]=C,e[23]=o,e[24]=N,e[25]=h,e[26]=x):x=e[26],x};function Ge(e){return e+1}function We(e){return e.stop()}function Xe(e){return e.stop()}var Ye=W();const Ot=(e,i,n)=>{const s=(0,Ye.c)(31),t=te();let o,a;s[0]!==n||s[1]!==e?(o=["comments",e,n],a=y=>{const{pageParam:C}=y;return _e(e,C,10,n)},s[0]=n,s[1]=e,s[2]=o,s[3]=a):(o=s[2],a=s[3]);let m;s[4]!==i?(m=i?{pages:[i],pageParams:[null]}:void 0,s[4]=i,s[5]=m):m=s[5];const u=!!e;let c;s[6]!==o||s[7]!==a||s[8]!==m||s[9]!==u?(c={queryKey:o,queryFn:a,initialPageParam:null,getNextPageParam:Ze,initialData:m,enabled:u},s[6]=o,s[7]=a,s[8]=m,s[9]=u,s[10]=c):c=s[10];const{data:l,fetchNextPage:r,hasNextPage:$,isFetchingNextPage:P,isLoading:d,refetch:g}=Z(c);let p;s[11]!==l?.pages?(p=l?.pages.flatMap(Ue)||[],s[11]=l?.pages,s[12]=p):p=s[12];const w=p;let _;s[13]!==e?(_=y=>{const{userId:C,content:M,media:N,replyToId:k}=y;return ve(e,C,M,N,k)},s[13]=e,s[14]=_):_=s[14];let b;s[15]!==n||s[16]!==e||s[17]!==t?(b=()=>{t.invalidateQueries({queryKey:["comments",e]}),n&&t.invalidateQueries({queryKey:["comments",e,n]})},s[15]=n,s[16]=e,s[17]=t,s[18]=b):b=s[18];let v;s[19]!==_||s[20]!==b?(v={mutationFn:_,onSuccess:b},s[19]=_,s[20]=b,s[21]=v):v=s[21];const f=se(v);let h;return s[22]!==f.isPending||s[23]!==f.mutateAsync||s[24]!==w||s[25]!==r||s[26]!==$||s[27]!==P||s[28]!==d||s[29]!==g?(h={comments:w,fetchNextPage:r,hasNextPage:$,isFetchingNextPage:P,isLoading:d,refetch:g,addComment:f.mutateAsync,isSubmitting:f.isPending},s[22]=f.isPending,s[23]=f.mutateAsync,s[24]=w,s[25]=r,s[26]=$,s[27]=P,s[28]=d,s[29]=g,s[30]=h):h=s[30],h};function Ze(e){if(!(!e||e.length<10))return e[e.length-1].created_at}function Ue(e){return e}var Ie=W();const Bt=()=>{const e=(0,Ie.c)(53),{handle:i}=ie(),n=U(),{currentUser:s}=I(),{addToast:t}=ne();let o,a;e[0]!==i?(o=["profile",i],a=()=>Fe(i),e[0]=i,e[1]=o,e[2]=a):(o=e[1],a=e[2]);const m=!!i;let u;e[3]!==o||e[4]!==a||e[5]!==m?(u={queryKey:o,queryFn:a,enabled:m,staleTime:3e5},e[3]=o,e[4]=a,e[5]=m,e[6]=u):u=e[6];const{data:c,isLoading:l}=ee(u),[r,$]=(0,O.useState)("feed"),P=c?.id;let d;e[7]!==P?(d=["posts","user",P],e[7]=P,e[8]=d):d=e[8];let g;e[9]!==c?.id?(g=F=>{const{pageParam:D}=F;return me(c?.id,D,10)},e[9]=c?.id,e[10]=g):g=e[10];const p=!!c?.id;let w;e[11]!==d||e[12]!==g||e[13]!==p?(w={queryKey:d,queryFn:g,enabled:p,initialPageParam:null,getNextPageParam:et},e[11]=d,e[12]=g,e[13]=p,e[14]=w):w=e[14];const{data:_,fetchNextPage:b,hasNextPage:v,isFetchingNextPage:f,isLoading:h}=Z(w);let y;e[15]!==_?.pages?(y=_?.pages.flatMap(tt)||[],e[15]=_?.pages,e[16]=y):y=e[16];const C=y,[M,N]=(0,O.useState)(!1),[k,q]=(0,O.useState)("Followers"),{followList:A,fetchNextPage:Q,hasNextPage:x,isFetchingNextPage:R,isLoading:S}=Be(c?.id,k,M);let L;e[17]===Symbol.for("react.memo_cache_sentinel")?(L=F=>{q(F),N(!0)},e[17]=L):L=e[17];const B=L;let K;e:{if(r==="feed"){let F;e[18]!==C?(F=C.filter(st),e[18]=C,e[19]=F):F=e[19],K=F;break e}if(r==="media"){let F;e[20]!==C?(F=C.filter(it),e[20]=C,e[21]=F):F=e[21],K=F;break e}if(r==="collections"){let F;e[22]===Symbol.for("react.memo_cache_sentinel")?(F=[],e[22]=F):F=e[22],K=F;break e}K=C}const H=K;let J;e[23]!==n?(J=F=>{n(`/post/${F}`)},e[23]=n,e[24]=J):J=e[24];const j=J;let T;e[25]!==i||e[26]!==n?(T=F=>{F!==i&&n(`/u/${F}`)},e[25]=i,e[26]=n,e[27]=T):T=e[27];const V=T;let G;e[28]!==b?(G=F=>{b()},e[28]=b,e[29]=G):G=e[29];const E=G;let z;return e[30]!==r||e[31]!==t||e[32]!==s||e[33]!==Q||e[34]!==H||e[35]!==A||e[36]!==k||e[37]!==i||e[38]!==j||e[39]!==V||e[40]!==x||e[41]!==v||e[42]!==R||e[43]!==f||e[44]!==M||e[45]!==S||e[46]!==E||e[47]!==h||e[48]!==l||e[49]!==n||e[50]!==c||e[51]!==C?(z={handle:i,profile:c,loading:l,userPosts:C,setUserPosts:nt,activeProfileTab:r,setActiveProfileTab:$,loadingPosts:h,isFetchingMorePosts:f,hasMorePosts:v,filteredPosts:H,isFollowModalOpen:M,setIsFollowModalOpen:N,followModalType:k,followListData:A,isListLoading:S,isFetchingMoreFollows:R,hasMoreFollows:x,openFollowModal:B,fetchNextFollows:Q,handlePostClick:j,handleUserClick:V,loadUserPosts:E,currentUser:s,addToast:t,navigate:n},e[30]=r,e[31]=t,e[32]=s,e[33]=Q,e[34]=H,e[35]=A,e[36]=k,e[37]=i,e[38]=j,e[39]=V,e[40]=x,e[41]=v,e[42]=R,e[43]=f,e[44]=M,e[45]=S,e[46]=E,e[47]=h,e[48]=l,e[49]=n,e[50]=c,e[51]=C,e[52]=z):z=e[52],z};function et(e){if(!(!e||e.length<10))return e[e.length-1].sort_timestamp||e[e.length-1].created_at}function tt(e){return e}function st(e){return e.community_id===null&&e.parent_id===null}function it(e){return e.community_id===null&&e.parent_id===null&&(e.type==="video"||e.type==="image"||e.media&&e.media.length>0)}function nt(){return console.warn("setUserPosts is deprecated")}var ot=W();const jt=()=>{const e=(0,ot.c)(75),{handle:i}=ie(),n=U(),{currentUser:s}=I(),{addToast:t}=ne(),o=te();let a,m;e[0]!==i?(a=["community",i],m=()=>Ee(i),e[0]=i,e[1]=a,e[2]=m):(a=e[1],m=e[2]);const u=!!i;let c;e[3]!==a||e[4]!==m||e[5]!==u?(c={queryKey:a,queryFn:m,enabled:u,staleTime:6e5},e[3]=a,e[4]=m,e[5]=u,e[6]=c):c=e[6];const{data:l,isLoading:r,refetch:$}=ee(c),P=l?.id,d=s?.id;let g;e[7]!==P||e[8]!==d?(g=["community",P,"membership",d],e[7]=P,e[8]=d,e[9]=g):g=e[9];let p;e[10]!==l?.id||e[11]!==s?.id?(p=()=>Ce(l?.id,s?.id),e[10]=l?.id,e[11]=s?.id,e[12]=p):p=e[12];const w=!!l?.id&&!!s?.id;let _;e[13]!==g||e[14]!==p||e[15]!==w?(_={queryKey:g,queryFn:p,enabled:w,staleTime:3e5},e[13]=g,e[14]=p,e[15]=w,e[16]=_):_=e[16];const{data:b}=ee(_),v=!!b,f=b?.role||null,h=l?.id;let y;e[17]!==h?(y=["posts","community",h],e[17]=h,e[18]=y):y=e[18];let C;e[19]!==l?.id?(C=z=>{const{pageParam:F}=z;return Se(l?.id,F,10)},e[19]=l?.id,e[20]=C):C=e[20];const M=!!l?.id;let N;e[21]!==y||e[22]!==C||e[23]!==M?(N={queryKey:y,queryFn:C,enabled:M,initialPageParam:null,getNextPageParam:at},e[21]=y,e[22]=C,e[23]=M,e[24]=N):N=e[24];const{data:k,fetchNextPage:q,hasNextPage:A,isFetchingNextPage:Q,isLoading:x}=Z(N);let R;e[25]!==k?.pages?(R=k?.pages.flatMap(rt)||[],e[25]=k?.pages,e[26]=R):R=e[26];const S=R;let L;e[27]!==l?.id||e[28]!==s?.id?(L=()=>he(l?.id,s?.id),e[27]=l?.id,e[28]=s?.id,e[29]=L):L=e[29];let B;e[30]!==l?.id||e[31]!==s?.id||e[32]!==i||e[33]!==o?(B=async()=>{await o.cancelQueries({queryKey:["community",l?.id,"membership",s?.id]}),await o.cancelQueries({queryKey:["community",i]});const z=o.getQueryData(["community",l?.id,"membership",s?.id]),F=o.getQueryData(["community",i]);return o.setQueryData(["community",l?.id,"membership",s?.id],z?null:{role:"member"}),o.setQueryData(["community",i],D=>D&&{...D,membersCount:z?D.membersCount-1:D.membersCount+1}),{previousMembership:z,previousCommunity:F}},e[30]=l?.id,e[31]=s?.id,e[32]=i,e[33]=o,e[34]=B):B=e[34];let K;e[35]!==t||e[36]!==l?.id||e[37]!==s?.id||e[38]!==i||e[39]!==o?(K=(z,F,D)=>{D?.previousMembership!==void 0&&o.setQueryData(["community",l?.id,"membership",s?.id],D.previousMembership),D?.previousCommunity&&o.setQueryData(["community",i],D.previousCommunity),t("Failed to update membership","error")},e[35]=t,e[36]=l?.id,e[37]=s?.id,e[38]=i,e[39]=o,e[40]=K):K=e[40];let H;e[41]!==l?.id||e[42]!==s?.id||e[43]!==i||e[44]!==o?(H=()=>{o.invalidateQueries({queryKey:["community",l?.id,"membership",s?.id]}),o.invalidateQueries({queryKey:["community",i]})},e[41]=l?.id,e[42]=s?.id,e[43]=i,e[44]=o,e[45]=H):H=e[45];let J;e[46]!==t||e[47]!==l?(J=z=>{l&&t(z?`Joined ${l.name}`:`Left ${l.name}`)},e[46]=t,e[47]=l,e[48]=J):J=e[48];let j;e[49]!==L||e[50]!==B||e[51]!==K||e[52]!==H||e[53]!==J?(j={mutationFn:L,onMutate:B,onError:K,onSettled:H,onSuccess:J},e[49]=L,e[50]=B,e[51]=K,e[52]=H,e[53]=J,e[54]=j):j=e[54];const T=se(j);let V;e[55]!==t||e[56]!==s||e[57]!==T?(V=async()=>{if(!s)return t("Please login to join communities","error");T.mutate()},e[55]=t,e[56]=s,e[57]=T,e[58]=V):V=e[58];const G=V;let E;return e[59]!==t||e[60]!==l||e[61]!==S||e[62]!==s||e[63]!==q||e[64]!==G||e[65]!==A||e[66]!==Q||e[67]!==v||e[68]!==T.isPending||e[69]!==r||e[70]!==x||e[71]!==n||e[72]!==$||e[73]!==f?(E={community:l,loading:r,isMember:v,userRole:f,isJoining:T.isPending,communityPosts:S,loadingPosts:x,isFetchingMorePosts:Q,hasMorePosts:A,handleJoinToggle:G,loadCommunityPosts:q,refetchCommunity:$,currentUser:s,addToast:t,navigate:n},e[59]=t,e[60]=l,e[61]=S,e[62]=s,e[63]=q,e[64]=G,e[65]=A,e[66]=Q,e[67]=v,e[68]=T.isPending,e[69]=r,e[70]=x,e[71]=n,e[72]=$,e[73]=f,e[74]=E):E=e[74],E};function at(e){if(!(!e||e.length<10))return e[e.length-1].sort_timestamp}function rt(e){return e}var lt=W();const Jt=()=>{const e=(0,lt.c)(48),{currentUser:i}=I(),n=U(),[s,t]=ce();let o;e[0]!==s?(o=s.get("q")||"",e[0]=s,e[1]=o):o=e[1];const a=o;let m;e[2]!==s||e[3]!==a?(m=s.get("tab")||(a?"posts":"communities"),e[2]=s,e[3]=a,e[4]=m):m=e[4];const u=m,[c,l]=(0,O.useState)(!1);let r;e[5]===Symbol.for("react.memo_cache_sentinel")?(r=["explore","communities"],e[5]=r):r=e[5];let $;e[6]===Symbol.for("react.memo_cache_sentinel")?($={queryKey:r,queryFn:ct,initialPageParam:null,getNextPageParam:ut},e[6]=$):$=e[6];const{data:P,fetchNextPage:d,hasNextPage:g,isFetchingNextPage:p,isLoading:w}=Z($);let _;e[7]!==P?.pages?(_=P?.pages.flatMap(ft)||[],e[7]=P?.pages,e[8]=_):_=e[8];const b=_;let v,f;e[9]!==a?(v=["explore","posts",a],f=j=>{const{pageParam:T}=j;return a?Me(a,T,10,!0):$e(T,10)},e[9]=a,e[10]=v,e[11]=f):(v=e[10],f=e[11]);let h;e[12]!==v||e[13]!==f?(h={queryKey:v,queryFn:f,initialPageParam:null,getNextPageParam:mt},e[12]=v,e[13]=f,e[14]=h):h=e[14];const{data:y,fetchNextPage:C,hasNextPage:M,isFetchingNextPage:N,isLoading:k}=Z(h);let q;e[15]!==y?.pages?(q=y?.pages.flatMap(dt)||[],e[15]=y?.pages,e[16]=q):q=e[16];const A=q;let Q=b;if(a){let j;if(e[17]!==Q||e[18]!==a){let T;e[20]!==a?(T=V=>V.name?.toLowerCase().includes(a.toLowerCase())||V.handle?.toLowerCase().includes(a.toLowerCase()),e[20]=a,e[21]=T):T=e[21],j=Q.filter(T),e[17]=Q,e[18]=a,e[19]=j}else j=e[19];Q=j}const x=Q;let R;e[22]!==n?(R=j=>{n(`/c/${j}`)},e[22]=n,e[23]=R):R=e[23];const S=R;let L;e[24]!==t?(L=j=>{t(T=>(j?T.set("q",j):T.delete("q"),T),{replace:!0})},e[24]=t,e[25]=L):L=e[25];const B=L;let K;e[26]!==t?(K=j=>{t(T=>(T.set("tab",j),T),{replace:!0})},e[26]=t,e[27]=K):K=e[27];const H=K;let J;return e[28]!==u||e[29]!==b||e[30]!==i||e[31]!==d||e[32]!==C||e[33]!==x||e[34]!==S||e[35]!==B||e[36]!==H||e[37]!==g||e[38]!==M||e[39]!==w||e[40]!==c||e[41]!==p||e[42]!==N||e[43]!==k||e[44]!==n||e[45]!==A||e[46]!==a?(J={currentUser:i,searchQuery:a,setSearchQuery:B,activeTab:u,setActiveTab:H,isCreateModalOpen:c,setIsCreateModalOpen:l,communitiesData:b,isCommunitiesLoading:w,isFetchingMoreCommunities:p,hasMoreCommunities:g,postsData:A,isPostsLoading:k,isFetchingMorePosts:N,hasMorePosts:M,filteredCommunities:x,handleCommunityClick:S,loadCommunities:d,loadPosts:C,navigate:n},e[28]=u,e[29]=b,e[30]=i,e[31]=d,e[32]=C,e[33]=x,e[34]=S,e[35]=B,e[36]=H,e[37]=g,e[38]=M,e[39]=w,e[40]=c,e[41]=p,e[42]=N,e[43]=k,e[44]=n,e[45]=A,e[46]=a,e[47]=J):J=e[47],J};function ct(e){const{pageParam:i}=e;return de(i,10)}function ut(e){if(!(!e||e.length<10))return e[e.length-1].createdAt}function ft(e){return e}function mt(e){if(!(!e||e.length<10))return e[e.length-1].sort_timestamp||e[e.length-1].sortTimestamp}function dt(e){return e}var gt=W();const zt=()=>{const e=(0,gt.c)(21),{currentUser:i}=I(),{posts:n,loading:s,hasMore:t,isFetchingNextPage:o,fetchNextPage:a,refreshPosts:m}=ke(),{addToast:u}=ne(),c=U();let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=["stories"],e[0]=l):l=e[0];let r;e[1]===Symbol.for("react.memo_cache_sentinel")?(r={queryKey:l,queryFn:ht,initialPageParam:null,getNextPageParam:pt,refetchInterval:6e4},e[1]=r):r=e[1];const{data:$,isLoading:P}=Z(r);let d;if(e[2]!==$?.pages){const f=$?.pages.flatMap(yt)||[],h=JSON.parse(localStorage.getItem("seenStories")||"[]");d=f.reduce(Pt,[]).map(y=>({...y,isSeen:h.includes(y.user.id)})),e[2]=$?.pages,e[3]=d}else d=e[3];const g=d;let p;e[4]!==c?(p=f=>{c(`/post/${f}`)},e[4]=c,e[5]=p):p=e[5];const w=p;let _;e[6]!==c?(_=f=>{c(`/u/${f}`)},e[6]=c,e[7]=_):_=e[7];const b=_;let v;return e[8]!==u||e[9]!==i||e[10]!==a||e[11]!==g||e[12]!==w||e[13]!==b||e[14]!==t||e[15]!==n||e[16]!==o||e[17]!==s||e[18]!==P||e[19]!==m?(v={currentUser:i,homePosts:n,groupedStories:g,isPostsLoading:s,isStoriesLoading:P,hasMore:t,isFetchingNextPage:o,fetchNextPage:a,refreshPosts:m,addToast:u,handlePostClick:w,handleUserClick:b},e[8]=u,e[9]=i,e[10]=a,e[11]=g,e[12]=w,e[13]=b,e[14]=t,e[15]=n,e[16]=o,e[17]=s,e[18]=P,e[19]=m,e[20]=v):v=e[20],v};function ht(e){const{pageParam:i}=e;return ge(i,10)}function pt(e){if(!(!e||e.length<10))return e[e.length-1].created_at}function yt(e){return e}function Pt(e,i){const n=e.find(s=>s.user.id===i.user_id);return n?n.stories.push(i):e.push({user:i.user,stories:[i],isSeen:!1}),e}var _t=W();const Ht=()=>{const e=(0,_t.c)(59),{id:i}=ie(),n=U(),{currentUser:s}=I(),{onlineUsers:t}=Ke(),o=te(),[a,m]=(0,O.useState)("");let u;e[0]===Symbol.for("react.memo_cache_sentinel")?(u=[],e[0]=u):u=e[0];const[c,l]=(0,O.useState)(u),{conversations:r,isConvLoading:$,refetchConversations:P,refetchMessages:d,sendMessage:g,sendTypingStatus:p,typingStatus:w,markAsRead:_,formatMessages:b,onDeleteMessage:v,conversationReactions:f,messages:h,isMsgLoading:y,fetchNextMessages:C,hasMoreMessages:M,isFetchingMoreMessages:N}=Qe(s,i);let k;e:{if(!i||r.length===0){k=null;break e}let D;e[1]!==r||e[2]!==i?(D=r.find(X=>X.id===i)||null,e[1]=r,e[2]=i,e[3]=D):D=e[3],k=D}const q=k;let A,Q;e[4]!==i||e[5]!==_?(A=()=>{i&&_(i)},Q=[i,_],e[4]=i,e[5]=_,e[6]=A,e[7]=Q):(A=e[6],Q=e[7]),(0,O.useEffect)(A,Q);let x;e[8]!==r||e[9]!==s?.id||e[10]!==a?(x=()=>{const D=setTimeout(async()=>{if(a.length>1){const X=await Ne(a),re=r.map(vt);l(X.filter(le=>le.id!==s?.id&&!re.includes(le.id)))}else l([])},300);return()=>clearTimeout(D)},e[8]=r,e[9]=s?.id,e[10]=a,e[11]=x):x=e[11];const R=s?.id;let S;e[12]!==r||e[13]!==a||e[14]!==R?(S=[a,r,R],e[12]=r,e[13]=a,e[14]=R,e[15]=S):S=e[15],(0,O.useEffect)(x,S);let L;e[16]!==s||e[17]!==n||e[18]!==o?(L=async D=>{if(s)try{const X=await xe(s.id,D.id);o.invalidateQueries({queryKey:["conversations",s.id]}),m(""),n(`/messages/${X}`)}catch(X){console.error("Failed to start conversation:",X)}},e[16]=s,e[17]=n,e[18]=o,e[19]=L):L=e[19];const B=L;let K;e[20]!==n?(K=D=>{n(`/messages/${D.id}`)},e[20]=n,e[21]=K):K=e[21];const H=K;let J;e[22]!==f||e[23]!==b||e[24]!==h?(J=b(h,f),e[22]=f,e[23]=b,e[24]=h,e[25]=J):J=e[25];const j=J;let T;if(e[26]!==r||e[27]!==a){let D;e[29]!==a?(D=X=>X.user?.name?.toLowerCase().includes(a.toLowerCase())||X.user?.handle?.toLowerCase().includes(a.toLowerCase())||X.lastMessage?.toLowerCase().includes(a.toLowerCase()),e[29]=a,e[30]=D):D=e[30],T=r.filter(D),e[26]=r,e[27]=a,e[28]=T}else T=e[28];const V=T,G=q&&w[q.id];let E;e[31]!==t||e[32]!==q?(E=q&&q.user?.id&&t.has(q.user.id),e[31]=t,e[32]=q,e[33]=E):E=e[33];const z=E;let F;return e[34]!==r||e[35]!==G||e[36]!==s||e[37]!==C||e[38]!==V||e[39]!==H||e[40]!==B||e[41]!==M||e[42]!==i||e[43]!==$||e[44]!==N||e[45]!==y||e[46]!==j||e[47]!==a||e[48]!==n||e[49]!==v||e[50]!==t||e[51]!==z||e[52]!==P||e[53]!==d||e[54]!==q||e[55]!==g||e[56]!==p||e[57]!==c?(F={id:i,currentUser:s,onlineUsers:t,msgSearchQuery:a,setMsgSearchQuery:m,userSearchResults:c,conversations:r,filteredConversations:V,selectedConversation:q,localMessages:j,isConvLoading:$,isMsgLoading:y,currentIsTyping:G,otherUserIsOnline:z,handleStartConversation:B,handleSelectConversation:H,refetchConversations:P,refetchMessages:d,sendMessage:g,onDeleteMessage:v,sendTypingStatus:p,navigate:n,fetchNextMessages:C,hasMoreMessages:M,isFetchingMoreMessages:N},e[34]=r,e[35]=G,e[36]=s,e[37]=C,e[38]=V,e[39]=H,e[40]=B,e[41]=M,e[42]=i,e[43]=$,e[44]=N,e[45]=y,e[46]=j,e[47]=a,e[48]=n,e[49]=v,e[50]=t,e[51]=z,e[52]=P,e[53]=d,e[54]=q,e[55]=g,e[56]=p,e[57]=c,e[58]=F):F=e[58],F};function vt(e){return e.user?.id}var bt=W();const Vt=()=>{const e=(0,bt.c)(48),{currentUser:i}=I(),n=U(),s=te(),t=i?.id;let o;e[0]!==t?(o=["notifications",t],e[0]=t,e[1]=o):o=e[1];let a;e[2]!==i?.id?(a=R=>{const{pageParam:S}=R;return be(i?.id,S,10)},e[2]=i?.id,e[3]=a):a=e[3];const m=!!i?.id;let u;e[4]!==o||e[5]!==a||e[6]!==m?(u={queryKey:o,queryFn:a,enabled:m,initialPageParam:null,getNextPageParam:wt},e[4]=o,e[5]=a,e[6]=m,e[7]=u):u=e[7];const{data:c,fetchNextPage:l,hasNextPage:r,isFetchingNextPage:$,isLoading:P,refetch:d}=Z(u);let g;e[8]!==c?.pages?(g=c?.pages.flatMap($t)||[],e[8]=c?.pages,e[9]=g):g=e[9];const p=g;let w;e[10]!==i||e[11]!==s?(w=()=>{if(!i?.id)return;const R=oe.channel(`user_notifications:${i.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`recipient_id=eq.${i.id}`},()=>{s.invalidateQueries({queryKey:["notifications",i.id]})}).subscribe();return()=>{oe.removeChannel(R)}},e[10]=i,e[11]=s,e[12]=w):w=e[12];const _=i?.id;let b;e[13]!==s||e[14]!==_?(b=[_,s],e[13]=s,e[14]=_,e[15]=b):b=e[15],(0,O.useEffect)(w,b);let v;e[16]!==i?(v=()=>i?De(i.id):Promise.resolve(),e[16]=i,e[17]=v):v=e[17];let f,h,y;e[18]!==i?.id||e[19]!==s?(f=async()=>{await s.cancelQueries({queryKey:["notifications",i?.id]});const R=s.getQueryData(["notifications",i?.id]);return s.setQueryData(["notifications",i?.id],Mt),{previousNotifications:R}},h=(R,S,L)=>{L?.previousNotifications&&s.setQueryData(["notifications",i?.id],L.previousNotifications)},y=()=>{s.invalidateQueries({queryKey:["notifications",i?.id]})},e[18]=i?.id,e[19]=s,e[20]=f,e[21]=h,e[22]=y):(f=e[20],h=e[21],y=e[22]);let C;e[23]!==f||e[24]!==h||e[25]!==y||e[26]!==v?(C={mutationFn:v,onMutate:f,onError:h,onSettled:y},e[23]=f,e[24]=h,e[25]=y,e[26]=v,e[27]=C):C=e[27];const M=se(C);let N;e[28]!==n?(N=R=>{R.type==="follow"?n(`/u/${R.user}`):R.post_id&&n(`/post/${R.post_id}`)},e[28]=n,e[29]=N):N=e[29];const k=N;let q;e[30]!==i?.id||e[31]!==M||e[32]!==p?(q=()=>{i?.id&&p.some(Rt)&&M.mutate()},e[30]=i?.id,e[31]=M,e[32]=p,e[33]=q):q=e[33];const A=i?.id;let Q;e[34]!==M||e[35]!==p.length||e[36]!==A?(Q=[A,p.length,M],e[34]=M,e[35]=p.length,e[36]=A,e[37]=Q):Q=e[37],(0,O.useEffect)(q,Q);let x;return e[38]!==i||e[39]!==l||e[40]!==k||e[41]!==r||e[42]!==$||e[43]!==P||e[44]!==n||e[45]!==p||e[46]!==d?(x={currentUser:i,notifications:p,isLoading:P,isFetchingMore:$,hasMore:r,loadNotifications:l,refreshNotifications:d,handleNotificationClick:k,navigate:n},e[38]=i,e[39]=l,e[40]=k,e[41]=r,e[42]=$,e[43]=P,e[44]=n,e[45]=p,e[46]=d,e[47]=x):x=e[47],x};function wt(e){if(!(!e||e.length<10))return e[e.length-1].created_at}function $t(e){return e}function Ct(e){return{...e,is_read:!0}}function St(e){return e.map(Ct)}function Mt(e){return e&&{...e,pages:e.pages.map(St)}}function Rt(e){return!e.is_read}var Lt=W();const Gt=()=>{const e=(0,Lt.c)(23),{id:i}=ie(),n=U(),{currentUser:s}=I(),{addToast:t}=ne(),o=te();let a,m;e[0]!==i?(a=["post",i],m=async()=>{if(!i||!Y(i))throw new Error("Invalid post ID");return Ae(i)},e[0]=i,e[1]=a,e[2]=m):(a=e[1],m=e[2]);const u=!!i;let c;e[3]!==a||e[4]!==m||e[5]!==u?(c={queryKey:a,queryFn:m,enabled:u,retry:!1},e[3]=a,e[4]=m,e[5]=u,e[6]=c):c=e[6];const{data:l,isLoading:r,isError:$}=ee(c);let P;e[7]!==n?(P=v=>{n(`/u/${v}`)},e[7]=n,e[8]=P):P=e[8];const d=P;let g;e[9]!==n?(g=()=>{n(-1)},e[9]=n,e[10]=g):g=e[10];const p=g;let w;e[11]!==o?(w=(v,f,h)=>{o.setQueryData(["post",v],y=>y&&{...y,content:f,media:h})},e[11]=o,e[12]=w):w=e[12];const _=w;let b;return e[13]!==t||e[14]!==s||e[15]!==p||e[16]!==_||e[17]!==d||e[18]!==$||e[19]!==r||e[20]!==n||e[21]!==l?(b={post:l,isLoading:r,isError:$,currentUser:s,addToast:t,navigate:n,handleUserClick:d,handleDelete:p,handleUpdate:_},e[13]=t,e[14]=s,e[15]=p,e[16]=_,e[17]=d,e[18]=$,e[19]=r,e[20]=n,e[21]=l,e[22]=b):b=e[22],b};var Ft=W();const Wt=()=>{const e=(0,Ft.c)(34),i=U(),{id:n}=ie(),[s]=ce();let t;e[0]!==n||e[1]!==s?(t=n||s.get("id"),e[0]=n,e[1]=s,e[2]=t):t=e[2];const o=t,a=(0,O.useRef)(null);let m;e[3]===Symbol.for("react.memo_cache_sentinel")?(m=new Map,e[3]=m):m=e[3];const u=(0,O.useRef)(m),[c,l]=(0,O.useState)(null),[r,$]=(0,O.useState)(!0);let P;e[4]===Symbol.for("react.memo_cache_sentinel")?(P=["reels"],e[4]=P):P=e[4];let d;e[5]===Symbol.for("react.memo_cache_sentinel")?(d={queryKey:P,queryFn:qt,initialPageParam:null,getNextPageParam:Nt},e[5]=d):d=e[5];const{data:g,fetchNextPage:p,hasNextPage:w,isFetchingNextPage:_,isLoading:b}=Z(d);let v;e[6]!==g?.pages?(v=g?.pages.flatMap(kt)||[],e[6]=g?.pages,e[7]=v):v=e[7];const f=v;let h,y;e[8]!==c||e[9]!==f||e[10]!==o?(h=()=>{if(f.length>0)if(o)if(f.find(S=>S.id===o)){l(o);const S=u.current.get(o);S&&S.scrollIntoView({behavior:"instant"})}else c||l(f[0].id);else c||l(f[0].id)},y=[f,o,c],e[8]=c,e[9]=f,e[10]=o,e[11]=h,e[12]=y):(h=e[11],y=e[12]),(0,O.useEffect)(h,y);let C,M;e[13]!==f.length?(C=()=>{if(f.length===0)return;const S={root:a.current,threshold:.6},L=K=>{K.forEach(H=>{if(H.isIntersecting){const J=H.target.getAttribute("data-id");J&&l(J)}})},B=new IntersectionObserver(L,S);return u.current.forEach(K=>B.observe(K)),()=>B.disconnect()},M=[f.length],e[13]=f.length,e[14]=C,e[15]=M):(C=e[14],M=e[15]),(0,O.useEffect)(C,M);let N;e[16]!==r?(N=()=>{$(!r)},e[16]=r,e[17]=N):N=e[17];const k=N;let q;e[18]===Symbol.for("react.memo_cache_sentinel")?(q=(S,L)=>{L?u.current.set(S,L):u.current.delete(S)},e[18]=q):q=e[18];const A=q;let Q,x;e[19]!==p||e[20]!==w||e[21]!==_?(Q=()=>{const S=()=>{if(!a.current||_||!w)return;const{scrollTop:B,scrollHeight:K,clientHeight:H}=a.current;B+H>=K-800&&p()},L=a.current;if(L)return L.addEventListener("scroll",S),()=>L.removeEventListener("scroll",S)},x=[_,w,p],e[19]=p,e[20]=w,e[21]=_,e[22]=Q,e[23]=x):(Q=e[22],x=e[23]),(0,O.useEffect)(Q,x);let R;return e[24]!==c||e[25]!==p||e[26]!==w||e[27]!==_||e[28]!==b||e[29]!==r||e[30]!==i||e[31]!==f||e[32]!==k?(R={reels:f,loading:b,loadingMore:_,activeReelId:c,hasMore:w,isMuted:r,containerRef:a,setReelRef:A,navigate:i,toggleMute:k,loadReels:p},e[24]=c,e[25]=p,e[26]=w,e[27]=_,e[28]=b,e[29]=r,e[30]=i,e[31]=f,e[32]=k,e[33]=R):R=e[33],R};function qt(e){const{pageParam:i}=e;return Re(i,10)}function Nt(e){if(!(!e||e.length<10))return e[e.length-1].sort_timestamp||e[e.length-1].created_at}function kt(e){return e}const Xt=()=>{const{currentUser:e,logout:i}=I(),{darkMode:n,toggleDarkMode:s,fontSize:t,setFontSize:o,dataSaver:a,setDataSaver:m}=Te(),{addToast:u}=ne(),[c,l]=(0,O.useState)(!1),[r,$]=(0,O.useState)({newPassword:"",confirmPassword:""}),[P,d]=(0,O.useState)(!1),g=async()=>{try{await i(),u("Logged out successfully")}catch(h){console.error("Logout error:",h),u("Failed to logout")}};return{currentUser:e,darkMode:n,toggleDarkMode:s,fontSize:t,setFontSize:o,dataSaver:a,setDataSaver:m,isChangingPassword:c,setIsChangingPassword:l,passwordData:r,setPasswordData:$,loading:P,handleLogout:g,handlePasswordChange:async h=>{if(h.preventDefault(),r.newPassword!==r.confirmPassword){u("Passwords do not match","error");return}if(r.newPassword.length<6){u("Password must be at least 6 characters","error");return}d(!0);try{const{error:y}=await oe.auth.updateUser({password:r.newPassword});if(y)throw y;u("Password updated successfully!"),l(!1),$({newPassword:"",confirmPassword:""})}catch(y){console.error("Password update error:",y),u(y.message||"Failed to update password","error")}finally{d(!1)}},handlePasswordReset:async()=>{if(e?.email){d(!0);try{const{error:h}=await oe.auth.resetPasswordForEmail(e.email,{redirectTo:`${window.location.origin}/settings?type=recovery`});if(h)throw h;u("Password reset email sent!")}catch(h){console.error("Reset password error:",h),u(h.message||"Failed to send reset email","error")}finally{d(!1)}}},handleClearCache:()=>{["seenStories","font-size","data-saver","theme"].forEach(h=>localStorage.removeItem(h)),u("Cache cleared! Reloading..."),setTimeout(()=>window.location.reload(),1500)},handleDownloadData:async()=>{if(e){d(!0);try{const h={user:{id:e.id,handle:e.handle,name:e.name,email:e.email},exportDate:new Date().toISOString(),note:"This is a mock export of your Sysm data."},y=new Blob([JSON.stringify(h,null,2)],{type:"application/json"}),C=URL.createObjectURL(y),M=document.createElement("a");M.href=C,M.download=`sysm-data-${e.handle}.json`,M.click(),URL.revokeObjectURL(C),u("Data export started!")}catch{u("Failed to export data","error")}finally{d(!1)}}},handleDeleteAccount:()=>{window.confirm("Are you absolutely sure? This will permanently delete your account and all associated data. This action is irreversible.")&&(u("Account deletion request submitted. Logging out..."),setTimeout(g,2e3))},handleReportBug:()=>{window.prompt("Please describe the bug you found:")&&u("Bug reported! Thank you for your feedback.")}}};export{Ht as a,jt as c,At as d,Kt as f,Vt as i,Bt as l,Wt as n,zt as o,Et as p,Gt as r,Jt as s,Xt as t,Ot as u};
