const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home--wbsMi47.js","assets/framework-BnK0ORzS.js","assets/database-BXMLJMrA.js","assets/rolldown-runtime-2JzG8er9.js","assets/framework-sg0yWRLc.css","assets/vendor-CLhjLqcy.js","assets/post-Ca04UuPR.js","assets/hooks-BtU9GUXO.js","assets/linkify-_ptynTVQ.js","assets/Explore-BBKGa9EU.js","assets/Reels-cNR0KuNI.js","assets/Messages-BWrMps4R.js","assets/Notifications-DsiJ6rtR.js","assets/Profile-C5b8MH7N.js","assets/Community-DPFDDZIU.js","assets/PostDetails-DrJ83F7X.js","assets/Settings-CQxE3IS6.js","assets/HashtagFeed-BlBufnKw.js"])))=>i.map(i=>d[i]);
import{n as wt}from"./rolldown-runtime-2JzG8er9.js";import{$ as ds,$n as ms,$t as us,A as fs,Ar as hs,At as xs,B as yt,Bn as jt,Ct as ps,D as gs,Dr as _t,Dt as bs,En as rt,Er as vs,Et as ws,F as ys,Ft as js,G as _s,Gn as Ns,H as Nt,Hn as kt,Ht as He,I as ks,Ir as me,It as zs,J as Ss,Jn as mt,K as Cs,L as zt,Ln as As,Lr as $s,Lt as Ps,M as xl,Mr as Ms,Mt as Es,N as Is,Nn as Rs,Nr as Ge,Nt as Ts,O as Fs,Or as St,Ot as qs,P as Ct,Pr as et,Pt as Ds,Q as Ls,Qn as Os,R as Ws,Rr as Vs,St as Bs,Tn as Us,Tt as Ys,U as At,Un as $t,Ut as nt,V as Pt,Vn as Qs,W as Xs,Wn as Mt,X as Ks,Xn as Zs,Xt as Js,Y as Hs,Yn as Et,Yt as Gs,Z as ea,_t as ta,ar as it,at as sa,b as aa,bt as na,ct as ra,d as ia,dt as la,er as at,et as oa,fn as ca,ft as da,gt as ma,ht as ua,in as fa,ir as ha,it as ye,j as It,jn as Rt,jr as ie,jt as xa,k as pa,kn as ut,kr as ft,kt as ga,l as ba,ln as va,lt as wa,mn as ya,mt as ja,nr as _a,nt as Na,or as ka,ot as za,pt as Sa,q as Ca,qn as Aa,qt as $a,rn as Tt,rr as Oe,rt as Pa,s as Ma,sn as Ue,st as Ea,tr as R,tt as Ia,u as Ra,ut as Ta,vn as Ft,vt as Fa,wn as qa,wt as Da,x as La,xn as ue,xt as Oa,y as ht,yt as Wa,z as Va,zn as Ba,zt as We}from"./framework-BnK0ORzS.js";import{t as Ua}from"./query-yUKEikTC.js";import{t as Ya}from"./database-BXMLJMrA.js";import{a as Qa,c as Xa,i as Ka,n as Za,o as Ja,r as Ha,s as Ga,t as en}from"./vendor-CLhjLqcy.js";/* empty css                 */(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}})();var tn=$s(),b=wt(Vs(),1),sn="https://dbkcedktqhueqnulnosq.supabase.co",an="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRia2NlZGt0cWh1ZXFudWxub3NxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg5NzE1NTQsImV4cCI6MjA4NDU0NzU1NH0.m_Tv-H7o5mL1Nac6TH-S1JkS1x7ZN1AK_4Mt1hZlkvU";const y=Ya(sn,an);var nn=R();function M(...t){return Ga(Xa(t))}const rn=()=>{const t=(0,nn.c)(2),{pathname:e}=Ge();let s;return t[0]!==e?(s=[e],t[0]=e,t[1]=s):s=t[1],(0,b.useEffect)(on,s),null},Je=t=>typeof t!="string"?!1:/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t),ln=(t,e)=>{const s=document.createElement("canvas"),n=t.naturalWidth/t.width,r=t.naturalHeight/t.height;s.width=e.width*n,s.height=e.height*r;const i=s.getContext("2d");return i.imageSmoothingEnabled=!0,i.imageSmoothingQuality="high",i.drawImage(t,e.x*n,e.y*r,e.width*n,e.height*r,0,0,e.width*n,e.height*r),new Promise((l,o)=>{s.toBlob(c=>{if(!c){o(new Error("Canvas is empty"));return}l(c)},"image/jpeg",.95)})},qt=t=>{if(!t)return"";const e=new Date-new Date(t),s=Math.floor(e/1e3),n=Math.floor(s/60),r=Math.floor(n/60),i=Math.floor(r/24);return s<60?"Just now":n<60?`${n}m ago`:r<24?`${r}h ago`:i<7?`${i}d ago`:new Date(t).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit",year:"2-digit"})},wl=t=>typeof t!="string"?!1:/[\u0980-\u09FF]/.test(t),yl=t=>{if(!t)return null;const e=t.match(/(https?:\/\/[^\s]+)/g);return e?e[0]:null};function on(){window.scrollTo(0,0)}const ge=t=>t?{id:t.id,handle:t.username,name:t.display_name,avatar:t.avatar_url||"/default-avatar.webp",cover:t.cover_url||"/welcome-banner.webp",verified:t.is_verified,bio:t.bio,location:t.location,website:t.website,follower_count:t.follower_count||0,following_count:t.following_count||0,lastSeen:t.last_seen_at}:null,be=t=>{if(!t)return null;const e=t.reposter_id||t.reposter_data?.id||t.reposted_by?.id,s=Math.random().toString(36).substring(2,9),n=`${t.feed_id||(e?`${t.id}-${e}`:`${t.id}-orig`)}-${s}`;return{...t,feed_id:n,stats:{comments:t.comments_count||0,likes:t.likes_count||0,mirrors:t.mirrors_count||0},user:ge(t.author_data||t.user),community:t.community_data||t.communities?{...t.community_data||t.communities,avatar:(t.community_data||t.communities).avatar_url||(t.community_data||t.communities).avatar}:null,repostedBy:t.reposter_data?{handle:t.reposter_data.username,name:t.reposter_data.display_name,id:t.reposter_data.id}:t.reposted_by?{handle:t.reposted_by.username,name:t.reposted_by.display_name,id:t.reposted_by.id}:null,timeAgo:qt(t.created_at)}},Dt=t=>t?{...t,stats:{likes:t.likes_count||0},user:ge(t.user),timeAgo:qt(t.created_at)}:null,cn=t=>t?{...t,user:t.actor?.username,avatar:t.actor?.avatar_url||"/default-avatar.webp"}:null,Lt=t=>t?{...t,media:t.media_url,user:ge(t.user)}:null,Ye=t=>t?{id:t.id,handle:t.handle,name:t.name,description:t.description,avatar:t.avatar_url||"/default-avatar.webp",cover:t.cover_url||"/welcome-banner.webp",membersCount:t.members_count||0,postsCount:t.posts_count||0,isPrivate:t.is_private,createdAt:t.created_at,type:"community",creatorId:t.creator_id}:null,dn=t=>t?{id:t.id,conversation_id:t.conversation_id,sender_id:t.sender_id,content:t.content,type:t.type||"text",media:t.media||[],reply_to_id:t.reply_to_id,is_read:t.is_read,created_at:t.created_at}:null,mn=(t,e)=>{if(!t||!t.conversation)return null;const s=t.conversation,n=s.participants.find(i=>i.user?.id!==e)||s.participants[0],r=s.messages?.filter(i=>!i.is_read&&i.sender_id!==e).length||0;return{id:s.id,user:ge(n?.user),lastMessage:s.last_message_content||"No messages yet",lastMessageAt:s.last_message_at,time:s.last_message_at?new Date(s.last_message_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"",unread:r}},jl=async(t,e=10)=>{const{data:s,error:n}=await y.from("users").select("*").or(`username.ilike.%${t}%,display_name.ilike.%${t}%`).limit(e);if(n)throw n;return s.map(ge)},Ot=async(t,e="id")=>{let s=y.from("users").select("*");e==="id"?s=s.eq("id",t):s=s.ilike("username",t);const{data:n,error:r}=await s.maybeSingle();if(r)throw r;return n?ge(n):null},un=t=>Ot(t,"username"),je=async t=>{if(!t)return;const{error:e}=await y.from("users").update({last_seen_at:new Date().toISOString()}).eq("id",t);if(e)throw e},fn=async(t,e)=>{const s={display_name:e.name,username:e.handle,avatar_url:e.avatar,bio:e.bio,cover_url:e.cover,website:e.website,location:e.location};Object.keys(s).forEach(r=>s[r]===void 0&&delete s[r]);const{error:n}=await y.from("users").update(s).eq("id",t);if(n)throw n},hn=async(t,e)=>{const{data:s}=await y.from("follows").select("*").eq("follower_id",t).eq("following_id",e).maybeSingle();return s?(await y.from("follows").delete().eq("follower_id",t).eq("following_id",e),!1):(await y.from("follows").insert([{follower_id:t,following_id:e}]),!0)},xn=async(t,e)=>{if(!t)return!1;const{data:s}=await y.from("follows").select("*").eq("follower_id",t).eq("following_id",e).maybeSingle();return!!s},_l=async(t,e=null,s=10)=>{let n=y.from("follows").select(`
      created_at,
      user:users!follower_id (
        id,
        username,
        display_name,
        avatar_url,
        is_verified,
        bio
      )
    `).eq("following_id",t).order("created_at",{ascending:!1}).limit(s);e&&(n=n.lt("created_at",e));const{data:r,error:i}=await n;if(i)throw i;return r.map(l=>({...ge(l.user),followed_at:l.created_at}))},Nl=async(t,e=null,s=10)=>{let n=y.from("follows").select(`
      created_at,
      user:users!following_id (
        id,
        username,
        display_name,
        avatar_url,
        is_verified,
        bio
      )
    `).eq("follower_id",t).order("created_at",{ascending:!1}).limit(s);e&&(n=n.lt("created_at",e));const{data:r,error:i}=await n;if(i)throw i;return r.map(l=>({...ge(l.user),followed_at:l.created_at}))},pn=async t=>{const{data:e,error:s}=await y.from("users").select("follower_count, following_count").eq("id",t).maybeSingle();return s||!e?{followers:0,following:0}:{followers:e.follower_count||0,following:e.following_count||0}},gn=async(t=null,e=10)=>{let s=y.from("unified_posts").select("*").order("sort_timestamp",{ascending:!1}).limit(e);t&&(s=s.lt("sort_timestamp",t));const{data:n,error:r}=await s;if(r)throw r;return n.map(be)},kl=async t=>{const{data:e,error:s}=await y.from("posts").select(`
            *,
            user:users!user_id (
                id,
                username,
                display_name,
                avatar_url,
                is_verified,
                bio,
                location,
                website,
                follower_count,
                following_count
            ),
            communities (
                id,
                handle,
                name,
                avatar_url
            ),
            quoted_post:posts!quoted_post_id (
                *,
                user:users!user_id (
                    id,
                    username,
                    display_name,
                    avatar_url,
                    is_verified
                )
            )
        `).eq("id",t).single();if(s)throw s;return be(e)},zl=async(t,e=null,s=10)=>{let n=y.from("unified_posts").select("*").or(`user_id.eq.${t},reposter_id.eq.${t}`).order("sort_timestamp",{ascending:!1}).limit(s);e&&(n=n.lt("sort_timestamp",e));const{data:r,error:i}=await n;if(i)throw i;return r.map(be)},bn=async({content:t,media:e=[],type:s="text",userId:n,poll:r=null,parentId:i=null,communityId:l=null})=>{const{data:o,error:c}=await y.from("posts").insert([{user_id:n,content:t,media:e,type:s,poll:r,parent_id:i,community_id:l}]).select(`
            *,
            user:users!user_id (
                id,
                username,
                display_name,
                avatar_url,
                is_verified
            ),
            communities:community_id (
                id,
                handle,
                name,
                avatar_url
            )
        `);if(c)throw c;return be(o[0])},vn=async t=>{const{error:e}=await y.from("posts").delete().eq("id",t);if(e)throw e},wn=async(t,e)=>{const{error:s}=await y.from("posts").update(e).eq("id",t);if(s)throw s},Sl=async(t,e=null,s=10)=>{let n=y.from("comments").select(`
            *,
            user:users!user_id (
                id,
                username,
                display_name,
                avatar_url,
                is_verified
            )
        `).eq("post_id",t).order("created_at",{ascending:!0}).limit(s);e&&(n=n.gt("created_at",e));const{data:r,error:i}=await n;if(i)throw i;return r.map(Dt)},Cl=async(t,e,s,n=[])=>{const{data:r,error:i}=await y.from("comments").insert([{post_id:t,user_id:e,content:s,media:n}]).select(`
            *,
            user:users!user_id (
                id,
                username,
                display_name,
                avatar_url,
                is_verified
            )
        `);if(i)throw i;return Dt(r[0])},Al=async(t,e)=>{const{data:s}=await y.from("likes").select("*").eq("post_id",t).eq("user_id",e).maybeSingle();return s?(await y.from("likes").delete().eq("post_id",t).eq("user_id",e),!1):(await y.from("likes").insert([{post_id:t,user_id:e}]),!0)},$l=async(t,e)=>{if(!e)return!1;const{data:s}=await y.from("likes").select("*").eq("post_id",t).eq("user_id",e).maybeSingle();return!!s},Pl=async(t,e)=>{const{data:s}=await y.from("reposts").select("*").eq("post_id",t).eq("user_id",e).maybeSingle();return s?(await y.from("reposts").delete().eq("post_id",t).eq("user_id",e),!1):(await y.from("reposts").insert([{post_id:t,user_id:e}]),!0)},Ml=async(t,e)=>{if(!e)return!1;const{data:s}=await y.from("reposts").select("*").eq("post_id",t).eq("user_id",e).maybeSingle();return!!s},El=async(t,e=null,s=10,n=!1)=>{let r=y.from("unified_posts").select("*").ilike("content",`%${t}%`);n&&(r=r.not("community_id","is",null).is("reposter_id",null)),r=r.order("sort_timestamp",{ascending:!1}).limit(s),e&&(r=r.lt("sort_timestamp",e));const{data:i,error:l}=await r;if(l)throw l;return i.map(be)},Il=async(t=null,e=10)=>{let s=y.from("unified_posts").select("*").not("community_id","is",null).is("reposter_id",null).order("sort_timestamp",{ascending:!1}).limit(e);t&&(s=s.lt("sort_timestamp",t));const{data:n,error:r}=await s;if(r)throw r;return n.map(be)},Rl=async(t=null,e=10)=>{let s=y.from("unified_posts").select("*").eq("type","video").order("sort_timestamp",{ascending:!1}).limit(e);t&&(s=s.lt("sort_timestamp",t));const{data:n,error:r}=await s;if(r)throw r;return n.map(be)},Tl=async(t,e)=>{const{data:s}=await y.from("conversation_participants").select("conversation_id").eq("user_id",t),n=s.map(o=>o.conversation_id),{data:r}=await y.from("conversation_participants").select("conversation_id").eq("user_id",e).in("conversation_id",n).maybeSingle();if(r)return r.conversation_id;const{data:i,error:l}=await y.from("conversations").insert([{}]).select().single();if(l)throw l;return await y.from("conversation_participants").insert([{conversation_id:i.id,user_id:t},{conversation_id:i.id,user_id:e}]),i.id},yn=async t=>{if(!t)return 0;const{data:e}=await y.from("conversation_participants").select("conversation_id").eq("user_id",t),s=e?.map(i=>i.conversation_id)||[];if(s.length===0)return 0;const{count:n,error:r}=await y.from("messages").select("*",{count:"exact",head:!0}).eq("is_read",!1).neq("sender_id",t).in("conversation_id",s);if(r)throw r;return n||0},jn=async(t,e)=>{if(!t||!e)return;const{error:s}=await y.from("messages").update({is_read:!0}).eq("conversation_id",t).neq("sender_id",e).eq("is_read",!1);if(s)throw s},_n=async t=>{if(!t)return[];const{data:e,error:s}=await y.from("conversation_participants").select(`
            conversation:conversations (
                id,
                last_message_at,
                last_message_content,
                participants:conversation_participants (
                    user:users (
                        id,
                        username,
                        display_name,
                        avatar_url,
                        last_seen_at
                    )
                ),
                messages (
                    id,
                    is_read,
                    sender_id
                )
            )
        `).eq("user_id",t);if(s)throw s;return e.map(n=>mn(n,t)).sort((n,r)=>n.lastMessageAt?r.lastMessageAt?new Date(r.lastMessageAt)-new Date(n.lastMessageAt):-1:1)},Fl=async t=>{const{data:e,error:s}=await y.from("messages").select("*").eq("conversation_id",t).order("created_at",{ascending:!0});if(s)throw s;return e.map(dn)},Nn=async()=>{const{data:t,error:e}=await y.from("message_reactions").select("*");if(e)throw e;return t||[]},kn=async(t,e,s)=>{const{data:n}=await y.from("message_reactions").select("*").eq("message_id",t).eq("user_id",e).maybeSingle();return n?n.emoji===s?(await y.from("message_reactions").delete().eq("id",n.id),{action:"removed",emoji:s}):(await y.from("message_reactions").update({emoji:s}).eq("id",n.id),{action:"updated",emoji:s}):(await y.from("message_reactions").insert([{message_id:t,user_id:e,emoji:s}]),{action:"added",emoji:s})},zn=async(t,e,s,n="text",r=[],i=null)=>{const{data:l,error:o}=await y.from("messages").insert([{conversation_id:t,sender_id:e,content:s,type:n,media:r,reply_to_id:i}]).select();if(o)throw o;return await y.from("conversations").update({last_message_at:new Date,last_message_content:n==="image"||r&&r.length>0?"Sent an image":s}).eq("id",t),l[0]},Sn=async t=>{const{error:e}=await y.from("messages").delete().eq("id",t);if(e)throw e},ql=async(t,e=null,s=10)=>{if(!t)return[];let n=y.from("notifications").select(`
            *,
            actor:users!actor_id (
                username,
                avatar_url
            )
        `).eq("recipient_id",t).order("created_at",{ascending:!1}).limit(s);e&&(n=n.lt("created_at",e));const{data:r,error:i}=await n;if(i)throw i;return r.map(cn)},Dl=async t=>{const{error:e}=await y.from("notifications").update({is_read:!0}).eq("recipient_id",t).eq("is_read",!1);if(e)throw e},Cn=async t=>{if(!t)return 0;const{count:e,error:s}=await y.from("notifications").select("*",{count:"exact",head:!0}).eq("recipient_id",t).eq("is_read",!1);if(s)throw s;return e||0},Ll=async()=>{const{data:t,error:e}=await y.from("stories").select(`
            *,
            user:users!user_id (
                id,
                username,
                display_name,
                avatar_url,
                is_verified
            )
        `).gt("expires_at",new Date().toISOString()).order("created_at",{ascending:!1});if(e)throw e;return t.map(Lt)},An=async(t,e,s="image")=>{const{data:n,error:r}=await y.from("stories").insert([{user_id:t,media_url:e,type:s}]).select(`
            *,
            user:users!user_id (
                id,
                username,
                display_name,
                avatar_url,
                is_verified
            )
        `);if(r)throw r;return Lt(n[0])},Ol=async(t=null,e=10)=>{let s=y.from("communities").select("*").order("created_at",{ascending:!1}).limit(e);t&&(s=s.lt("created_at",t));const{data:n,error:r}=await s;if(r)throw r;return n.map(Ye)},Wl=async t=>{const{data:e,error:s}=await y.from("communities").select("*").eq("handle",t).single();if(s)throw s;return Ye(e)},Vl=async(t,e=null,s=10)=>{let n=y.from("unified_posts").select("*").eq("community_id",t).is("reposter_id",null).order("sort_timestamp",{ascending:!1}).limit(s);e&&(n=n.lt("sort_timestamp",e));const{data:r,error:i}=await n;if(i)throw i;return r.map(be)},$n=async(t,e)=>{const{data:s}=await y.from("community_members").select("*").eq("community_id",t).eq("user_id",e).maybeSingle();if(s){const{error:n}=await y.from("community_members").delete().eq("community_id",t).eq("user_id",e);if(n)throw n;return!1}else{const{error:n}=await y.from("community_members").insert([{community_id:t,user_id:e}]);if(n)throw n;return!0}},Pn=async(t,e)=>{if(!e)return null;const{data:s}=await y.from("community_members").select("*").eq("community_id",t).eq("user_id",e).maybeSingle();return s},Mn=async t=>{if(!t)return[];const{data:e,error:s}=await y.from("community_members").select(`
      role,
      communities (*)
    `).eq("user_id",t);if(s)throw s;return e.map(n=>({...Ye(n.communities),myRole:n.role}))},En=async t=>{const{data:e,error:s}=await y.from("communities").insert([t]).select().single();if(s)throw s;return Ye(e)},In=async(t,e)=>{const{data:s,error:n}=await y.from("communities").update(e).eq("id",t).select().single();if(n)throw n;return Ye(s)},Rn=async(t,e="")=>{let s=y.from("community_members").select(`
      role,
      user_id,
      users:user_id!inner (
        id,
        username,
        display_name,
        avatar_url,
        is_verified
      )
    `).eq("community_id",t);e&&(s=s.or(`username.ilike.%${e}%,display_name.ilike.%${e}%`,{foreignTable:"users"}));const{data:n,error:r}=await s.limit(20);if(r)throw r;return n.map(i=>({role:i.role,userId:i.user_id,user:i.users}))},Tn=async(t,e,s)=>{const{data:n,error:r}=await y.from("community_members").update({role:s}).eq("community_id",t).eq("user_id",e).select().single();if(r)throw r;return n},Fn=async(t=5)=>{const{data:e,error:s}=await y.from("hashtags").select("*").order("usage_count",{ascending:!1}).limit(t);if(s)throw s;return e},qn=async t=>{try{const e=`https://api.allorigins.win/raw?url=${encodeURIComponent(t)}`,s=await fetch(e);if(!s.ok)throw new Error("Failed to fetch preview");const n=await s.text(),r=new DOMParser().parseFromString(n,"text/html"),i=l=>r.querySelector(`meta[property="${l}"]`)?.getAttribute("content")||r.querySelector(`meta[name="${l}"]`)?.getAttribute("content");return{title:i("og:title")||r.title||t,description:i("og:description")||i("description")||"",image:i("og:image")||i("twitter:image")||"",siteName:i("og:site_name")||new URL(t).hostname,url:t}}catch(e){return console.error("Link preview error:",e),null}},Bl=async t=>{if(!t)return null;try{const{data:e}=await y.from("link_previews").select("*").eq("url",t).maybeSingle();if(e)return y.from("link_previews").update({last_used_at:new Date().toISOString()}).eq("url",t).then(()=>{}),{title:e.title,description:e.description,image:e.image,siteName:e.site_name,url:e.url};const s=await qn(t);return s?(y.from("link_previews").insert([{url:s.url,title:s.title,description:s.description,image:s.image,site_name:s.siteName}]).then(({error:n})=>{n&&console.error("Cache save error:",n)}),s):null}catch(e){return console.error("Link preview cache error:",e),null}},Dn=async(t,e={})=>{if(!t.type.startsWith("image/"))return t;const s={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0,initialQuality:.8,fileType:"image/webp",...e};try{const n=await Ja(t,s);return console.log(`Original size: ${(t.size/1024/1024).toFixed(2)} MB`),console.log(`Compressed size: ${(n.size/1024/1024).toFixed(2)} MB`),n}catch(n){return console.error("Image compression failed:",n),t}},Ln=(t,e=1)=>new Promise((s,n)=>{const r=document.createElement("video");r.preload="metadata",r.src=URL.createObjectURL(t),r.muted=!0,r.playsInline=!0,r.onloadedmetadata=()=>{r.currentTime=e},r.onseeked=()=>{const i=document.createElement("canvas");i.width=r.videoWidth,i.height=r.videoHeight,i.getContext("2d").drawImage(r,0,0,i.width,i.height),i.toBlob(l=>{const o=new File([l],"thumbnail.webp",{type:"image/webp"});URL.revokeObjectURL(r.src),s(o)},"image/webp",.7)},r.onerror=i=>n(i)}),_e=async(t,e="media",s=null)=>{let n=t,r=t.name.split(".").pop(),i=null;if(t.type.startsWith("image/"))try{n=await Dn(t),r="webp"}catch(d){console.error("Image compression failed, uploading original:",d)}if(t.type.startsWith("video/"))try{s?i=(await _e(s,e)).url:i=(await _e(await Ln(t),e)).url}catch(d){console.error("Failed to handle video poster:",d)}const l=`${`${crypto.randomUUID()}.${r}`}`,{data:o,error:c}=await y.storage.from(e).upload(l,n);if(c)throw c;const{data:{publicUrl:m}}=y.storage.from(e).getPublicUrl(o.path);return{url:m,poster:i,name:t.name,type:t.type.startsWith("image/")?"image":t.type.startsWith("video/")?"video":"file",size:n.size}};var a=wt(ka(),1),Wt=(0,b.createContext)();const On=({children:t})=>{const[e,s]=(0,b.useState)(null),[n,r]=(0,b.useState)(null),[i,l]=(0,b.useState)({}),[o,c]=(0,b.useState)(!0),m=async h=>{try{const u=await Ot(h.id);u?(s(u),l(v=>({...v,[u.handle.toLowerCase()]:u}))):s({id:h.id,email:h.email,name:h.email.split("@")[0],handle:h.email.split("@")[0],avatar:"/default-avatar.webp",verified:!1})}catch(u){console.error("Error fetching user profile:",u)}finally{c(!1)}};(0,b.useEffect)(()=>{if(!e?.id)return;je(e.id);const h=setInterval(()=>je(e.id),3e4),u=()=>{document.visibilityState==="visible"&&je(e.id)};return window.addEventListener("visibilitychange",u),window.addEventListener("beforeunload",()=>je(e.id)),()=>{clearInterval(h),window.removeEventListener("visibilitychange",u),window.removeEventListener("beforeunload",()=>je(e.id))}},[e?.id]),(0,b.useEffect)(()=>{y.auth.getSession().then(({data:{session:u}})=>{u?m(u.user):c(!1)});const{data:{subscription:h}}=y.auth.onAuthStateChange((u,v)=>{v?m(v.user):(s(null),c(!1))});return()=>h.unsubscribe()},[]);const d=async({email:h,password:u})=>{const{data:v,error:w}=await y.auth.signInWithPassword({email:h,password:u});if(w)throw w;return r(null),v},f=async({email:h,password:u,username:v,name:w})=>{const{data:{user:j},error:_}=await y.auth.signUp({email:h,password:u,options:{data:{username:v.toLowerCase(),name:w}}});if(_)throw _;return r(null),j},x=async()=>{await y.auth.signOut(),s(null),r(null)},p=async h=>{e&&(await fn(e.id,h),await m(e))},g=async h=>{const u=h.toLowerCase();if(i[u])return i[u];const v=await un(h);return v?(l(w=>({...w,[u]:v})),v):null};return(0,a.jsx)(Wt.Provider,{value:{currentUser:e,authMode:n,setAuthMode:r,profiles:i,login:d,signup:f,logout:x,updateProfile:p,getProfileByHandle:g,loading:o},children:!o&&t})},ce=()=>{const t=(0,b.useContext)(Wt);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t};var Wn=R(),Vt=(0,b.createContext)();const Vn=t=>{const e=(0,Wn.c)(10),{children:s}=t,{currentUser:n}=ce();let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=new Set,e[0]=r):r=e[0];const[i,l]=(0,b.useState)(r);let o;e[1]!==n?(o=()=>{if(!n?.id)return;const x=y.channel("global_presence",{config:{presence:{key:n.id}}});return x.on("presence",{event:"sync"},()=>{const p=x.presenceState(),g=new Set;Object.keys(p).forEach(h=>g.add(h)),l(g)}).subscribe(async p=>{p==="SUBSCRIBED"&&(await x.track({userId:n.id,online_at:new Date().toISOString()}),je(n.id))}),()=>{n?.id&&je(n.id),y.removeChannel(x),l(new Set)}},e[1]=n,e[2]=o):o=e[2];const c=n?.id;let m;e[3]!==c?(m=[c],e[3]=c,e[4]=m):m=e[4],(0,b.useEffect)(o,m);let d;e[5]!==i?(d={onlineUsers:i},e[5]=i,e[6]=d):d=e[6];let f;return e[7]!==s||e[8]!==d?(f=(0,a.jsx)(Vt.Provider,{value:d,children:s}),e[7]=s,e[8]=d,e[9]=f):f=e[9],f},Bn=()=>{const t=(0,b.useContext)(Vt);if(!t)throw new Error("usePresence must be used within a PresenceProvider");return t};var Un=R(),Bt=(0,b.createContext)();const Yn=t=>{const e=(0,Un.c)(19),{children:s}=t,[n,r]=(0,b.useState)(Qn),[i,l]=(0,b.useState)(Xn),[o,c]=(0,b.useState)(Kn);let m,d;e[0]!==n?(m=()=>{localStorage.setItem("theme",n?"dark":"light"),n?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},d=[n],e[0]=n,e[1]=m,e[2]=d):(m=e[1],d=e[2]),(0,b.useEffect)(m,d);let f,x;e[3]!==i?(f=()=>{localStorage.setItem("font-size",i),document.documentElement.style.setProperty("--app-font-size",{small:"14px",base:"16px",large:"18px"}[i])},x=[i],e[3]=i,e[4]=f,e[5]=x):(f=e[4],x=e[5]),(0,b.useEffect)(f,x);let p,g;e[6]!==o?(p=()=>{localStorage.setItem("data-saver",o)},g=[o],e[6]=o,e[7]=p,e[8]=g):(p=e[7],g=e[8]),(0,b.useEffect)(p,g);let h;e[9]!==n?(h=()=>r(!n),e[9]=n,e[10]=h):h=e[10];const u=h;let v;e[11]!==n||e[12]!==o||e[13]!==i||e[14]!==u?(v={darkMode:n,setDarkMode:r,toggleDarkMode:u,fontSize:i,setFontSize:l,dataSaver:o,setDataSaver:c},e[11]=n,e[12]=o,e[13]=i,e[14]=u,e[15]=v):v=e[15];let w;return e[16]!==s||e[17]!==v?(w=(0,a.jsx)(Bt.Provider,{value:v,children:s}),e[16]=s,e[17]=v,e[18]=w):w=e[18],w},lt=()=>{const t=(0,b.useContext)(Bt);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t};function Qn(){const t=localStorage.getItem("theme");return t==="dark"||!t&&window.matchMedia("(prefers-color-scheme: dark)").matches}function Xn(){return localStorage.getItem("font-size")||"base"}function Kn(){return localStorage.getItem("data-saver")==="true"}var Zn=R(),Jn=t=>{const e=(0,Zn.c)(7);let s;e[0]!==t?({...s}=t,e[0]=t,e[1]=s):s=e[1];const{theme:n}=js(),r=n===void 0?"system":n;let i,l;e[2]===Symbol.for("react.memo_cache_sentinel")?(i={success:(0,a.jsx)(Ba,{className:"size-4"}),info:(0,a.jsx)(qa,{className:"size-4"}),warning:(0,a.jsx)($a,{className:"size-4"}),error:(0,a.jsx)(ca,{className:"size-4"}),loading:(0,a.jsx)(ue,{className:"size-4 animate-spin"})},l={"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)","--border-radius":"var(--radius)"},e[2]=i,e[3]=l):(i=e[2],l=e[3]);let o;return e[4]!==s||e[5]!==r?(o=(0,a.jsx)(ms,{theme:r,className:"toaster group",icons:i,style:l,...s}),e[4]=s,e[5]=r,e[6]=o):o=e[6],o},Hn=R(),Ut=(0,b.createContext)();const Gn=t=>{const e=(0,Hn.c)(4),{children:s}=t,n=er;let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r={addToast:n},e[0]=r):r=e[0];let i;e[1]===Symbol.for("react.memo_cache_sentinel")?(i=(0,a.jsx)(Jn,{position:"bottom-center",toastOptions:{className:"rounded-full font-bold"}}),e[1]=i):i=e[1];let l;return e[2]!==s?(l=(0,a.jsxs)(Ut.Provider,{value:r,children:[s,i]}),e[2]=s,e[3]=l):l=e[3],l},ve=()=>{const t=(0,b.useContext)(Ut);if(!t)throw new Error("useToast must be used within a ToastProvider");return t};function er(t,e){const s=e===void 0?"success":e;s==="error"?at.error(t):s==="info"?at.info(t):at.success(t)}var Yt=(0,b.createContext)();const tr=({children:t})=>{const[e,s]=(0,b.useState)([]),[n,r]=(0,b.useState)(!0),[i,l]=(0,b.useState)(!0),[o,c]=(0,b.useState)(!1),m=(0,b.useRef)(e);(0,b.useEffect)(()=>{m.current=e},[e]);const d=(0,b.useCallback)(async(v=!1)=>{v?c(!0):r(!0);try{const w=m.current,j=await gn(v&&w.length>0?w[w.length-1].created_at:null,10);j.length<10?l(!1):l(!0),s(v?_=>[..._,...j]:j)}catch(w){console.error("Failed to load posts:",w)}finally{r(!1),c(!1)}},[]),f=()=>{!i||o||d(!0)};(0,b.useEffect)(()=>{d()},[d]);const x=async v=>{const w=await bn(v);return d(),w},p=async v=>{await vn(v),s(w=>w.filter(j=>j.id!==v))},g=async(v,w)=>{await wn(v,w),s(j=>j.map(_=>_.id===v?{..._,...w}:_))},h=v=>e.find(w=>w.id===v),u=(v,w="feed")=>{let j=e.filter(_=>!!(_.user?.handle===v||_.repostedBy&&_.repostedBy.handle===v));return w==="feed"?j.filter(_=>_.parent_id===null):w==="media"?j.filter(_=>_.parent_id===null&&(_.type==="video"||_.type==="image"||_.media?.length>0)):j};return(0,a.jsx)(Yt.Provider,{value:{posts:e,setPosts:s,addPost:x,deletePost:p,updatePost:g,getPostById:h,getUserPosts:u,loading:n,hasMore:i,isFetchingNextPage:o,fetchNextPage:f,refreshPosts:()=>d(!1)},children:t})},sr=()=>{const t=(0,b.useContext)(Yt);if(!t)throw new Error("usePosts must be used within a PostProvider");return t};var ar=R(),Qt=(0,b.createContext)();const nr=t=>{const e=(0,ar.c)(9),{children:s}=t;let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n={isOpen:!1,images:[],currentIndex:0},e[0]=n):n=e[0];const[r,i]=(0,b.useState)(n);let l;e[1]===Symbol.for("react.memo_cache_sentinel")?(l=(g,h)=>{const u=h===void 0?0:h;i({isOpen:!0,images:Array.isArray(g)?g:[g],currentIndex:u})},e[1]=l):l=e[1];const o=l;let c;e[2]===Symbol.for("react.memo_cache_sentinel")?(c=()=>{i(ir)},e[2]=c):c=e[2];const m=c;let d;e[3]===Symbol.for("react.memo_cache_sentinel")?(d=g=>{i(h=>({...h,currentIndex:g}))},e[3]=d):d=e[3];const f=d;let x;e[4]!==r?(x={...r,openLightbox:o,closeLightbox:m,setIndex:f},e[4]=r,e[5]=x):x=e[5];let p;return e[6]!==s||e[7]!==x?(p=(0,a.jsx)(Qt.Provider,{value:x,children:s}),e[6]=s,e[7]=x,e[8]=p):p=e[8],p},rr=()=>{const t=(0,b.useContext)(Qt);if(!t)throw new Error("useLightbox must be used within a LightboxProvider");return t};function ir(t){return{...t,isOpen:!1}}var lr=R(),Xt=(0,b.createContext)();const or=t=>{const e=(0,lr.c)(15),{children:s}=t,[n,r]=(0,b.useState)(null);let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=new Map,e[0]=i):i=e[0];const l=(0,b.useRef)(i);let o;e[1]!==n?(o=(h,u,v)=>{u===0?l.current.has(h)&&l.current.delete(h):l.current.set(h,{ratio:u,...v});let w=null,j=.5;for(const[_,z]of l.current.entries())z.ratio>j&&(j=z.ratio,w=_);w!==n&&r(w)},e[1]=n,e[2]=o):o=e[2];const c=o;let m,d;e[3]!==n?(m=()=>{l.current.forEach((h,u)=>{u===n?h.play():h.pause()})},d=[n],e[3]=n,e[4]=m,e[5]=d):(m=e[4],d=e[5]),(0,b.useEffect)(m,d);let f;e[6]!==n?(f=h=>{l.current.delete(h),n===h&&r(null)},e[6]=n,e[7]=f):f=e[7];const x=f;let p;e[8]!==n||e[9]!==c||e[10]!==x?(p={reportVisibility:c,unregister:x,activeVideoId:n},e[8]=n,e[9]=c,e[10]=x,e[11]=p):p=e[11];let g;return e[12]!==s||e[13]!==p?(g=(0,a.jsx)(Xt.Provider,{value:p,children:s}),e[12]=s,e[13]=p,e[14]=g):g=e[14],g},Ul=()=>{const t=(0,b.useContext)(Xt);if(!t)throw new Error("useVideoPlayback must be used within a VideoPlaybackProvider");return t};var cr=R();const Kt=t=>{const e=(0,cr.c)(16),s=it(),n=t?.id;let r;e[0]!==n?(r=["unread_notifications_count",n],e[0]=n,e[1]=r):r=e[1];let i;e[2]!==t?.id?(i=()=>Cn(t?.id),e[2]=t?.id,e[3]=i):i=e[3];const l=!!t?.id;let o;e[4]!==r||e[5]!==i||e[6]!==l?(o={queryKey:r,queryFn:i,enabled:l},e[4]=r,e[5]=i,e[6]=l,e[7]=o):o=e[7];const{data:c}=Oe(o),m=c===void 0?0:c;let d;e[8]!==t||e[9]!==s?(d=()=>{if(!t?.id)return;const g=y.channel(`unread_count:${t.id}`).on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`recipient_id=eq.${t.id}`},()=>{s.invalidateQueries({queryKey:["unread_notifications_count",t.id]}),s.invalidateQueries({queryKey:["notifications",t.id]})}).subscribe();return()=>y.removeChannel(g)},e[8]=t,e[9]=s,e[10]=d):d=e[10];const f=t?.id;let x;e[11]!==s||e[12]!==f?(x=[f,s],e[11]=s,e[12]=f,e[13]=x):x=e[13],(0,b.useEffect)(d,x);let p;return e[14]!==m?(p={unreadCount:m},e[14]=m,e[15]=p):p=e[15],p};var dr=R();const Zt=t=>{const e=(0,dr.c)(65),s=it();let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n={},e[0]=n):n=e[0];const[r,i]=(0,b.useState)(n),l=(0,b.useRef)(null),o=t?.id;let c;e[1]!==o?(c=["conversations",o],e[1]=o,e[2]=c):c=e[2];let m;e[3]!==t?.id?(m=()=>_n(t?.id),e[3]=t?.id,e[4]=m):m=e[4];const d=!!t?.id;let f;e[5]!==c||e[6]!==m||e[7]!==d?(f={queryKey:c,queryFn:m,enabled:d},e[5]=c,e[6]=m,e[7]=d,e[8]=f):f=e[8];const{data:x,isLoading:p}=Oe(f);let g;e[9]!==x?(g=x===void 0?[]:x,e[9]=x,e[10]=g):g=e[10];const h=g,u=t?.id;let v;e[11]!==u?(v=["unread_messages_count",u],e[11]=u,e[12]=v):v=e[12];let w;e[13]!==t?.id?(w=()=>yn(t?.id),e[13]=t?.id,e[14]=w):w=e[14];const j=!!t?.id;let _;e[15]!==w||e[16]!==j||e[17]!==v?(_={queryKey:v,queryFn:w,enabled:j},e[15]=w,e[16]=j,e[17]=v,e[18]=_):_=e[18];const{data:z}=Oe(_),C=z===void 0?0:z;let A;e[19]===Symbol.for("react.memo_cache_sentinel")?(A=["reactions"],e[19]=A):A=e[19];const F=!!t?.id;let $;e[20]!==F?($={queryKey:A,queryFn:Nn,enabled:F},e[20]=F,e[21]=$):$=e[21];const{data:W}=Oe($);let q;e[22]!==W?(q=W===void 0?[]:W,e[22]=W,e[23]=q):q=e[23];const E=q;let B;e[24]!==t||e[25]!==s?(B=()=>{if(!t?.id)return;const I=y.channel(`user_messages:${t.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},L=>{const Z=L.new;s.setQueryData(["messages",Z.conversation_id],U=>U?U.find(le=>le.id===Z.id)?U:[...U,Z]:[Z]),Z.sender_id!==t.id&&s.invalidateQueries({queryKey:["unread_messages_count",t.id]}),s.invalidateQueries(["conversations",t.id]),i(U=>({...U,[Z.conversation_id]:!1}))}).on("postgres_changes",{event:"DELETE",schema:"public",table:"messages"},L=>{s.invalidateQueries({queryKey:["messages"]}),s.invalidateQueries({queryKey:["conversations",t.id]})}).on("postgres_changes",{event:"*",schema:"public",table:"message_reactions"},()=>{s.invalidateQueries({queryKey:["reactions"]})}).subscribe(),V=y.channel("chat_typing_shared").on("broadcast",{event:"typing"},L=>{const{payload:Z}=L,{conversationId:U,isTyping:le,userId:he}=Z;he!==t.id&&i(xe=>({...xe,[U]:le}))}).subscribe();return l.current=V,()=>{y.removeChannel(I),y.removeChannel(V)}},e[24]=t,e[25]=s,e[26]=B):B=e[26];const O=t?.id;let Q;e[27]!==s||e[28]!==O?(Q=[O,s],e[27]=s,e[28]=O,e[29]=Q):Q=e[29],(0,b.useEffect)(B,Q);let D;e[30]!==t?(D=I=>{const{convId:V,text:L,type:Z,media:U,replyToId:le}=I,he=Z===void 0?"text":Z,xe=U===void 0?[]:U,Ce=le===void 0?null:le;return zn(V,t.id,L,he,xe,Ce)},e[30]=t,e[31]=D):D=e[31];let X;e[32]!==t||e[33]!==s?(X=I=>{s.setQueryData(["messages",I.conversation_id],V=>V?V.find(L=>L.id===I.id)?V:[...V,I]:[I]),s.invalidateQueries(["conversations",t.id])},e[32]=t,e[33]=s,e[34]=X):X=e[34];let N;e[35]!==D||e[36]!==X?(N={mutationFn:D,onSuccess:X},e[35]=D,e[36]=X,e[37]=N):N=e[37];const k=_a(N);let S;e[38]!==t?(S=(I,V)=>{l.current&&l.current.send({type:"broadcast",event:"typing",payload:{conversationId:I,isTyping:V,userId:t.id}})},e[38]=t,e[39]=S):S=e[39];const P=S;let K;e[40]!==t||e[41]!==s?(K=async I=>{!t?.id||!I||(await jn(I,t.id),s.invalidateQueries({queryKey:["unread_messages_count",t.id]}),s.invalidateQueries({queryKey:["conversations",t.id]}))},e[40]=t,e[41]=s,e[42]=K):K=e[42];const H=K;let J;e[43]!==t||e[44]!==s?(J=async(I,V)=>{if(t?.id)try{await kn(I,t.id,V),s.invalidateQueries({queryKey:["reactions"]})}catch(L){console.error("Failed to toggle reaction:",L)}},e[43]=t,e[44]=s,e[45]=J):J=e[45];const ae=J;let re;e[46]!==s?(re=async I=>{try{await Sn(I),s.invalidateQueries({queryKey:["messages"]})}catch(V){console.error("Failed to delete message:",V)}},e[46]=s,e[47]=re):re=e[47];const G=re;let ee;e[48]!==t?.id?(ee=(I,V)=>{const L=I===void 0?[]:I,Z=V===void 0?[]:V;return L.map(U=>({id:U.id,sender:U.sender_id===t?.id?"me":"them",text:U.content,type:U.type||"text",media:U.media||[],isRead:U.is_read,replyToId:U.reply_to_id,reactions:Z.filter(le=>le.message_id===U.id),time:new Date(U.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}))},e[48]=t?.id,e[49]=ee):ee=e[49];const ne=ee;let te;e[50]!==k?(te=(I,V,L,Z,U)=>k.mutate({convId:I,text:V,type:L,media:Z,replyToId:U}),e[50]=k,e[51]=te):te=e[51];let Y;return e[52]!==E||e[53]!==h||e[54]!==ne||e[55]!==p||e[56]!==H||e[57]!==G||e[58]!==ae||e[59]!==k.isPending||e[60]!==P||e[61]!==te||e[62]!==r||e[63]!==C?(Y={conversations:h,unreadCount:C,isConvLoading:p,sendMessage:te,sendTypingStatus:P,typingStatus:r,markAsRead:H,formatMessages:ne,onToggleReaction:ae,onDeleteMessage:G,allReactions:E,isSending:k.isPending},e[52]=E,e[53]=h,e[54]=ne,e[55]=p,e[56]=H,e[57]=G,e[58]=ae,e[59]=k.isPending,e[60]=P,e[61]=te,e[62]=r,e[63]=C,e[64]=Y):Y=e[64],Y};var ot=R();function Ne(t){const e=(0,ot.c)(8);let s,n;e[0]!==t?({className:s,...n}=t,e[0]=t,e[1]=s,e[2]=n):(s=e[1],n=e[2]);let r;e[3]!==s?(r=M("relative flex size-8 shrink-0 overflow-hidden rounded-full",s),e[3]=s,e[4]=r):r=e[4];let i;return e[5]!==n||e[6]!==r?(i=(0,a.jsx)(Ds,{"data-slot":"avatar",className:r,...n}),e[5]=n,e[6]=r,e[7]=i):i=e[7],i}function ke(t){const e=(0,ot.c)(8);let s,n;e[0]!==t?({className:s,...n}=t,e[0]=t,e[1]=s,e[2]=n):(s=e[1],n=e[2]);let r;e[3]!==s?(r=M("aspect-square size-full",s),e[3]=s,e[4]=r):r=e[4];let i;return e[5]!==n||e[6]!==r?(i=(0,a.jsx)(Ts,{"data-slot":"avatar-image",className:r,...n}),e[5]=n,e[6]=r,e[7]=i):i=e[7],i}function ze(t){const e=(0,ot.c)(8);let s,n;e[0]!==t?({className:s,...n}=t,e[0]=t,e[1]=s,e[2]=n):(s=e[1],n=e[2]);let r;e[3]!==s?(r=M("bg-muted flex size-full items-center justify-center rounded-full",s),e[3]=s,e[4]=r):r=e[4];let i;return e[5]!==n||e[6]!==r?(i=(0,a.jsx)(Es,{"data-slot":"avatar-fallback",className:r,...n}),e[5]=n,e[6]=r,e[7]=i):i=e[7],i}var mr=R(),ur=t=>{const e=(0,mr.c)(23),{handleProfileClick:s}=t,{currentUser:n}=ce(),{unreadCount:r}=Kt(n),{unreadCount:i}=Zt(n),l=Ge();let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=[{id:"home",icon:rt,path:"/"},{id:"community",icon:He,path:"/community"},{id:"reels",icon:Rt,path:"/reels"},{id:"messages",icon:Ft,path:"/messages"},{id:"notifications",icon:Et,path:"/notifications"}],e[0]=o):o=e[0];const c=o;let m;e[1]!==i||e[2]!==r?(m=c.map(j=>(0,a.jsx)(St,{to:j.path,className:hr,children:_=>{const{isActive:z}=_;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j.icon,{size:26,strokeWidth:z?2.5:2}),j.id==="notifications"&&r>0&&(0,a.jsx)("span",{className:"absolute top-3 right-[30%] size-2 bg-rose-500 rounded-full ring-2 ring-white dark:ring-black"}),j.id==="messages"&&i>0&&(0,a.jsx)("span",{className:"absolute top-3 right-[30%] size-2 bg-rose-500 rounded-full ring-2 ring-white dark:ring-black"})]})}},j.id)),e[1]=i,e[2]=r,e[3]=m):m=e[3];let d;e[4]!==n||e[5]!==s?(d=()=>{n&&s(n.handle)},e[4]=n,e[5]=s,e[6]=d):d=e[6];const f=`size-7 border-2 ${l.pathname.startsWith("/u/")?"border-black dark:border-white":"border-transparent opacity-70"}`,x=n?.avatar||"/default-avatar.webp";let p;e[7]!==x?(p=(0,a.jsx)(ke,{src:x,alt:"Profile",className:"object-cover"}),e[7]=x,e[8]=p):p=e[8];let g;e[9]!==n?.handle?.[0]?(g=n?.handle?.[0]?.toUpperCase(),e[9]=n?.handle?.[0],e[10]=g):g=e[10];let h;e[11]!==g?(h=(0,a.jsx)(ze,{children:g}),e[11]=g,e[12]=h):h=e[12];let u;e[13]!==f||e[14]!==p||e[15]!==h?(u=(0,a.jsxs)(Ne,{className:f,children:[p,h]}),e[13]=f,e[14]=p,e[15]=h,e[16]=u):u=e[16];let v;e[17]!==d||e[18]!==u?(v=(0,a.jsx)("button",{onClick:d,className:"flex-1 flex flex-col items-center justify-center h-full",children:u}),e[17]=d,e[18]=u,e[19]=v):v=e[19];let w;return e[20]!==v||e[21]!==m?(w=(0,a.jsxs)("nav",{className:"fixed bottom-0 left-0 right-0 z-[40] flex h-16 items-center border-t border-zinc-100 bg-white/90 pb-safe backdrop-blur-md dark:border-zinc-800 dark:bg-black/90 md:hidden",children:[m,v]}),e[20]=v,e[21]=m,e[22]=w):w=e[22],w},fr=ur;function hr(t){const{isActive:e}=t;return`flex flex-1 flex-col items-center justify-center h-full transition-all duration-200 relative ${e?"text-black dark:text-white":"text-zinc-400 opacity-70"}`}var xr=R(),pr=()=>{const t=(0,xr.c)(5);let e,s;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)("img",{src:"/welcome-banner.webp",alt:"Welcome Banner",fetchpriority:"high",loading:"eager",decoding:"async",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-700"}),s=(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"}),t[0]=e,t[1]=s):(e=t[0],s=t[1]);let n;t[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,a.jsx)("h1",{className:"text-3xl sm:text-4xl font-black mb-1 drop-shadow-lg",children:"Welcome to Sysm"}),t[2]=n):n=t[2];let r;t[3]===Symbol.for("react.memo_cache_sentinel")?(r=(0,a.jsxs)("div",{className:"absolute bottom-6 left-8 text-white",children:[n,(0,a.jsxs)("p",{className:"text-sm sm:text-base font-medium opacity-90 tracking-wide drop-shadow-md",children:["a social network built by"," ",(0,a.jsx)("a",{href:"https://t.me/systemadminbd",target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:"@Systemadminbd"})]})]}),t[3]=r):r=t[3];let i;return t[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,a.jsxs)("div",{className:"relative w-full aspect-[21/9] sm:aspect-[2.5/1] rounded-3xl overflow-hidden mb-6 group cursor-pointer",children:[e,s,r,(0,a.jsx)("div",{className:"absolute bottom-4 right-8",children:(0,a.jsx)("img",{src:"/logo.webp",className:"size-12 animate-pulse opacity-80 rounded-xl",alt:"",loading:"lazy",decoding:"async"})})]}),t[4]=i):i=t[4],i},gr=pr,br=R(),vr=t=>{const e=(0,br.c)(26),{onPostClick:s}=t,n=Ge(),r=et(),{darkMode:i}=lt(),l=n.pathname==="/";let o;e[0]!==n.pathname?(o=n.pathname.startsWith("/reels")||n.pathname.startsWith("/messages")&&n.pathname.split("/").length>2,e[0]=n.pathname,e[1]=o):o=e[1];const c=o;let m;e[2]!==r?(m=z=>{r(`/u/${z}`)},e[2]=r,e[3]=m):m=e[3];const d=m,f=`min-h-screen bg-[--background] text-[--foreground] font-sans selection:bg-violet-500 selection:text-white transition-colors duration-200 ${i?"dark":""}`;let x;e[4]!==s?(x=(0,a.jsx)(kr,{onPostClick:s}),e[4]=s,e[5]=x):x=e[5];let p;e[6]!==l?(p=l&&(0,a.jsx)("div",{className:"w-full max-w-full overflow-hidden",children:(0,a.jsx)(gr,{})}),e[6]=l,e[7]=p):p=e[7];let g;e[8]===Symbol.for("react.memo_cache_sentinel")?(g=(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)(hs,{})}),e[8]=g):g=e[8];let h;e[9]!==p?(h=(0,a.jsxs)("div",{className:"flex flex-col flex-1 w-0 overflow-x-hidden",children:[p,g]}),e[9]=p,e[10]=h):h=e[10];let u;e[11]!==n.pathname?(u=!n.pathname.startsWith("/messages")&&(0,a.jsx)($i,{}),e[11]=n.pathname,e[12]=u):u=e[12];let v;e[13]!==h||e[14]!==u?(v=(0,a.jsxs)("div",{className:"flex-1 flex justify-center gap-x-2 md:gap-x-8 py-0 md:py-5 px-0 md:px-4",children:[h,u]}),e[13]=h,e[14]=u,e[15]=v):v=e[15];let w;e[16]!==x||e[17]!==v?(w=(0,a.jsxs)("div",{className:"flex justify-center w-full max-w-[1300px] mx-auto min-h-screen px-0 sm:px-0",children:[x,v]}),e[16]=x,e[17]=v,e[18]=w):w=e[18];let j;e[19]!==d||e[20]!==c?(j=!c&&(0,a.jsx)(fr,{handleProfileClick:d}),e[19]=d,e[20]=c,e[21]=j):j=e[21];let _;return e[22]!==w||e[23]!==j||e[24]!==f?(_=(0,a.jsxs)("div",{className:f,children:[w,j]}),e[22]=w,e[23]=j,e[24]=f,e[25]=_):_=e[25],_},wr=vr,yr=R(),jr=t=>{const e=(0,yr.c)(2),{children:s}=t;let n;return e[0]!==s?(n=(0,a.jsx)("div",{className:"w-full animate-in fade-in slide-in-from-bottom-2 duration-300 ease-out",children:s}),e[0]=s,e[1]=n):n=e[1],n},de=jr,_r=R(),Nr=t=>{const e=(0,_r.c)(18),{onPostClick:s}=t,{currentUser:n}=ce(),{unreadCount:r}=Kt(n),{unreadCount:i}=Zt(n);let l,o,c,m,d;e[0]===Symbol.for("react.memo_cache_sentinel")?(l={id:"home",icon:rt,path:"/"},o={id:"community",icon:He,path:"/community"},c={id:"reels",icon:Rt,path:"/reels"},m={id:"messages",icon:Ft,path:"/messages"},d={id:"notifications",icon:Et,path:"/notifications"},e[0]=l,e[1]=o,e[2]=c,e[3]=m,e[4]=d):(l=e[0],o=e[1],c=e[2],m=e[3],d=e[4]);const f=n?`/u/${n.handle}`:"/community";let x;e[5]!==f?(x=[l,o,c,m,d,{id:"profile",icon:nt,path:f}],e[5]=f,e[6]=x):x=e[6];const p=x;let g;e[7]===Symbol.for("react.memo_cache_sentinel")?(g=(0,a.jsx)(_t,{to:"/",className:"mb-8 hover:scale-110 transition-transform",children:(0,a.jsx)("img",{src:"/logo.webp",alt:"Logo",className:"size-8 rounded-lg"})}),e[7]=g):g=e[7];let h;e[8]!==i||e[9]!==p||e[10]!==r?(h=p.map(w=>(0,a.jsxs)(St,{to:w.path,className:zr,children:[(0,a.jsx)(w.icon,{size:26,strokeWidth:2.5}),w.id==="notifications"&&r>0&&(0,a.jsx)("span",{className:"absolute top-2 right-2 size-2 bg-rose-500 rounded-full ring-2 ring-white dark:ring-black"}),w.id==="messages"&&i>0&&(0,a.jsx)("span",{className:"absolute top-2 right-2 size-2 bg-rose-500 rounded-full ring-2 ring-white dark:ring-black"})]},w.id)),e[8]=i,e[9]=p,e[10]=r,e[11]=h):h=e[11];let u;e[12]!==n||e[13]!==s?(u=n&&(0,a.jsx)("button",{onClick:s,className:"p-2.5 mt-2 rounded-xl text-white bg-zinc-950 dark:bg-white dark:text-zinc-950 hover:scale-110 active:scale-95 transition-all duration-200 shadow-lg cursor-pointer",title:"Create Post",children:(0,a.jsx)(Ue,{size:26,strokeWidth:2.5})}),e[12]=n,e[13]=s,e[14]=u):u=e[14];let v;return e[15]!==u||e[16]!==h?(v=(0,a.jsxs)("aside",{className:"sticky top-0 hidden md:flex h-screen w-[68px] flex-col items-center py-5 border-r border-zinc-100 dark:border-zinc-800 shrink-0 bg-white dark:bg-black transition-colors duration-200",children:[g,(0,a.jsxs)("nav",{className:"flex flex-col gap-y-4 w-full items-center",children:[h,u]})]}),e[15]=u,e[16]=h,e[17]=v):v=e[17],v},kr=Nr;function zr(t){const{isActive:e}=t;return`p-2.5 rounded-xl transition-all duration-200 border border-transparent relative ${e?"text-black dark:text-white bg-zinc-100 dark:bg-zinc-900 border-zinc-200 dark:border-zinc-800":"text-zinc-500 hover:bg-zinc-50 dark:hover:bg-zinc-900"}`}var fe=R();function Yl(t){const e=(0,fe.c)(4);let s;e[0]!==t?({...s}=t,e[0]=t,e[1]=s):s=e[1];let n;return e[2]!==s?(n=(0,a.jsx)(Da,{"data-slot":"alert-dialog",...s}),e[2]=s,e[3]=n):n=e[3],n}function Sr(t){const e=(0,fe.c)(4);let s;e[0]!==t?({...s}=t,e[0]=t,e[1]=s):s=e[1];let n;return e[2]!==s?(n=(0,a.jsx)(ps,{"data-slot":"alert-dialog-portal",...s}),e[2]=s,e[3]=n):n=e[3],n}function Cr(t){const e=(0,fe.c)(8);let s,n;e[0]!==t?({className:s,...n}=t,e[0]=t,e[1]=s,e[2]=n):(s=e[1],n=e[2]);let r;e[3]!==s?(r=M("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),e[3]=s,e[4]=r):r=e[4];let i;return e[5]!==n||e[6]!==r?(i=(0,a.jsx)(Bs,{"data-slot":"alert-dialog-overlay",className:r,...n}),e[5]=n,e[6]=r,e[7]=i):i=e[7],i}function Ql(t){const e=(0,fe.c)(9);let s,n;e[0]!==t?({className:s,...n}=t,e[0]=t,e[1]=s,e[2]=n):(s=e[1],n=e[2]);let r;e[3]===Symbol.for("react.memo_cache_sentinel")?(r=(0,a.jsx)(Cr,{}),e[3]=r):r=e[3];let i;e[4]!==s?(i=M("bg-white dark:bg-zinc-950 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-2xl border border-zinc-100 dark:border-zinc-800 p-6 shadow-xl duration-200 sm:max-w-md",s),e[4]=s,e[5]=i):i=e[5];let l;return e[6]!==n||e[7]!==i?(l=(0,a.jsxs)(Sr,{children:[r,(0,a.jsx)(na,{"data-slot":"alert-dialog-content","aria-describedby":void 0,className:i,...n})]}),e[6]=n,e[7]=i,e[8]=l):l=e[8],l}function Xl(t){const e=(0,fe.c)(8);let s,n;e[0]!==t?({className:s,...n}=t,e[0]=t,e[1]=s,e[2]=n):(s=e[1],n=e[2]);let r;e[3]!==s?(r=M("flex flex-col gap-2 text-center sm:text-left",s),e[3]=s,e[4]=r):r=e[4];let i;return e[5]!==n||e[6]!==r?(i=(0,a.jsx)("div",{"data-slot":"alert-dialog-header",className:r,...n}),e[5]=n,e[6]=r,e[7]=i):i=e[7],i}function Kl(t){const e=(0,fe.c)(8);let s,n;e[0]!==t?({className:s,...n}=t,e[0]=t,e[1]=s,e[2]=n):(s=e[1],n=e[2]);let r;e[3]!==s?(r=M("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",s),e[3]=s,e[4]=r):r=e[4];let i;return e[5]!==n||e[6]!==r?(i=(0,a.jsx)("div",{"data-slot":"alert-dialog-footer",className:r,...n}),e[5]=n,e[6]=r,e[7]=i):i=e[7],i}function Zl(t){const e=(0,fe.c)(8);let s,n;e[0]!==t?({className:s,...n}=t,e[0]=t,e[1]=s,e[2]=n):(s=e[1],n=e[2]);let r;e[3]!==s?(r=M("text-lg font-semibold",s),e[3]=s,e[4]=r):r=e[4];let i;return e[5]!==n||e[6]!==r?(i=(0,a.jsx)(Ys,{"data-slot":"alert-dialog-title",className:r,...n}),e[5]=n,e[6]=r,e[7]=i):i=e[7],i}function Jl(t){const e=(0,fe.c)(8);let s,n;e[0]!==t?({className:s,...n}=t,e[0]=t,e[1]=s,e[2]=n):(s=e[1],n=e[2]);let r;e[3]!==s?(r=M("text-muted-foreground text-sm",s),e[3]=s,e[4]=r):r=e[4];let i;return e[5]!==n||e[6]!==r?(i=(0,a.jsx)(Oa,{"data-slot":"alert-dialog-description",className:r,...n}),e[5]=n,e[6]=r,e[7]=i):i=e[7],i}function Hl(t){const e=(0,fe.c)(8);let s,n;e[0]!==t?({className:s,...n}=t,e[0]=t,e[1]=s,e[2]=n):(s=e[1],n=e[2]);let r;e[3]!==s?(r=M("inline-flex items-center justify-center rounded-full px-4 py-2 text-sm font-bold transition-all active:scale-95 bg-zinc-900 text-white hover:bg-zinc-800 dark:bg-white dark:text-black dark:hover:bg-zinc-200",s),e[3]=s,e[4]=r):r=e[4];let i;return e[5]!==n||e[6]!==r?(i=(0,a.jsx)(Fa,{className:r,...n}),e[5]=n,e[6]=r,e[7]=i):i=e[7],i}function Gl(t){const e=(0,fe.c)(8);let s,n;e[0]!==t?({className:s,...n}=t,e[0]=t,e[1]=s,e[2]=n):(s=e[1],n=e[2]);let r;e[3]!==s?(r=M("inline-flex items-center justify-center rounded-full px-4 py-2 text-sm font-bold border border-zinc-200 bg-white text-zinc-900 hover:bg-zinc-50 dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50 dark:hover:bg-zinc-900",s),e[3]=s,e[4]=r):r=e[4];let i;return e[5]!==n||e[6]!==r?(i=(0,a.jsx)(Wa,{className:r,...n}),e[5]=n,e[6]=r,e[7]=i):i=e[7],i}var Ar=R(),$r=t=>{const e=(0,Ar.c)(12);let s,n,r,i;e[0]!==t?({children:s,variant:r,className:i,...n}=t,e[0]=t,e[1]=s,e[2]=n,e[3]=r,e[4]=i):(s=e[1],n=e[2],r=e[3],i=e[4]);const l=r===void 0?"primary":r,o=i===void 0?"":i;let c;e[5]===Symbol.for("react.memo_cache_sentinel")?(c={primary:"text-white hover:text-white bg-zinc-900 hover:bg-zinc-800 border border-zinc-900 dark:bg-white dark:text-black dark:border-white dark:hover:bg-zinc-200",secondary:"text-zinc-900 border border-zinc-300 hover:border-zinc-400 bg-transparent hover:bg-zinc-50 dark:text-white dark:border-zinc-700 dark:hover:border-zinc-600 dark:hover:bg-zinc-900",outline:"text-zinc-900 border border-zinc-300 hover:border-zinc-400 bg-white dark:bg-transparent dark:text-white dark:border-zinc-700 dark:hover:bg-zinc-900",danger:"text-white bg-red-500 hover:bg-red-600 border border-red-500",ghost:"text-zinc-500 hover:bg-zinc-100 dark:text-zinc-400 dark:hover:bg-zinc-800 border-transparent"},e[5]=c):c=e[5];const m=`rounded-full font-bold inline-flex items-center justify-center relative overflow-hidden px-4 py-1.5 transition-all duration-200 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed disabled:active:scale-100 touch-manipulation ${c[l]} ${o}`;let d;e[6]!==s?(d=(0,a.jsx)("div",{className:"flex items-center gap-x-1.5",children:s}),e[6]=s,e[7]=d):d=e[7];let f;return e[8]!==n||e[9]!==m||e[10]!==d?(f=(0,a.jsx)("button",{className:m,...n,children:d}),e[8]=n,e[9]=m,e[10]=d,e[11]=f):f=e[11],f},oe=$r,Ve=R();function eo(t){const e=(0,Ve.c)(4);let s;e[0]!==t?({...s}=t,e[0]=t,e[1]=s):s=e[1];let n;return e[2]!==s?(n=(0,a.jsx)(ua,{"data-slot":"context-menu",...s}),e[2]=s,e[3]=n):n=e[3],n}function to(t){const e=(0,Ve.c)(4);let s;e[0]!==t?({...s}=t,e[0]=t,e[1]=s):s=e[1];let n;return e[2]!==s?(n=(0,a.jsx)(ta,{"data-slot":"context-menu-trigger",...s}),e[2]=s,e[3]=n):n=e[3],n}function so(t){const e=(0,Ve.c)(8);let s,n;e[0]!==t?({className:s,...n}=t,e[0]=t,e[1]=s,e[2]=n):(s=e[1],n=e[2]);let r;e[3]!==s?(r=M("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-context-menu-content-available-height) min-w-[8rem] origin-(--radix-context-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",s),e[3]=s,e[4]=r):r=e[4];let i;return e[5]!==n||e[6]!==r?(i=(0,a.jsx)(ja,{children:(0,a.jsx)(la,{"data-slot":"context-menu-content",className:r,...n})}),e[5]=n,e[6]=r,e[7]=i):i=e[7],i}function ao(t){const e=(0,Ve.c)(12);let s,n,r,i;e[0]!==t?({className:s,inset:n,variant:i,...r}=t,e[0]=t,e[1]=s,e[2]=n,e[3]=r,e[4]=i):(s=e[1],n=e[2],r=e[3],i=e[4]);const l=i===void 0?"default":i;let o;e[5]!==s?(o=M("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),e[5]=s,e[6]=o):o=e[6];let c;return e[7]!==n||e[8]!==r||e[9]!==o||e[10]!==l?(c=(0,a.jsx)(da,{"data-slot":"context-menu-item","data-inset":n,"data-variant":l,className:o,...r}),e[7]=n,e[8]=r,e[9]=o,e[10]=l,e[11]=c):c=e[11],c}function no(t){const e=(0,Ve.c)(10);let s,n,r;e[0]!==t?({className:s,inset:n,...r}=t,e[0]=t,e[1]=s,e[2]=n,e[3]=r):(s=e[1],n=e[2],r=e[3]);let i;e[4]!==s?(i=M("text-foreground px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",s),e[4]=s,e[5]=i):i=e[5];let l;return e[6]!==n||e[7]!==r||e[8]!==i?(l=(0,a.jsx)(Sa,{"data-slot":"context-menu-label","data-inset":n,className:i,...r}),e[6]=n,e[7]=r,e[8]=i,e[9]=l):l=e[9],l}function ro(t){const e=(0,Ve.c)(8);let s,n;e[0]!==t?({className:s,...n}=t,e[0]=t,e[1]=s,e[2]=n):(s=e[1],n=e[2]);let r;e[3]!==s?(r=M("bg-border -mx-1 my-1 h-px",s),e[3]=s,e[4]=r):r=e[4];let i;return e[5]!==n||e[6]!==r?(i=(0,a.jsx)(ma,{"data-slot":"context-menu-separator",className:r,...n}),e[5]=n,e[6]=r,e[7]=i):i=e[7],i}var we=R();function Jt(t){const e=(0,we.c)(4);let s;e[0]!==t?({...s}=t,e[0]=t,e[1]=s):s=e[1];let n;return e[2]!==s?(n=(0,a.jsx)(xs,{"data-slot":"dialog",...s}),e[2]=s,e[3]=n):n=e[3],n}function Pr(t){const e=(0,we.c)(4);let s;e[0]!==t?({...s}=t,e[0]=t,e[1]=s):s=e[1];let n;return e[2]!==s?(n=(0,a.jsx)(ga,{"data-slot":"dialog-portal",...s}),e[2]=s,e[3]=n):n=e[3],n}function Mr(t){const e=(0,we.c)(8);let s,n;e[0]!==t?({className:s,...n}=t,e[0]=t,e[1]=s,e[2]=n):(s=e[1],n=e[2]);let r;e[3]!==s?(r=M("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),e[3]=s,e[4]=r):r=e[4];let i;return e[5]!==n||e[6]!==r?(i=(0,a.jsx)(qs,{"data-slot":"dialog-overlay",className:r,...n}),e[5]=n,e[6]=r,e[7]=i):i=e[7],i}function Ht(t){const e=(0,we.c)(11);let s,n,r;e[0]!==t?({className:n,children:s,...r}=t,e[0]=t,e[1]=s,e[2]=n,e[3]=r):(s=e[1],n=e[2],r=e[3]);let i;e[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,a.jsx)(Mr,{}),e[4]=i):i=e[4];let l;e[5]!==n?(l=M("bg-white dark:bg-zinc-950 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-2xl border border-zinc-100 dark:border-zinc-800 p-6 shadow-xl duration-200 sm:max-w-md",n),e[5]=n,e[6]=l):l=e[6];let o;return e[7]!==s||e[8]!==r||e[9]!==l?(o=(0,a.jsxs)(Pr,{children:[i,(0,a.jsx)(ws,{"data-slot":"alert-dialog-content","aria-describedby":void 0,className:l,...r,children:s})]}),e[7]=s,e[8]=r,e[9]=l,e[10]=o):o=e[10],o}function Gt(t){const e=(0,we.c)(8);let s,n;e[0]!==t?({className:s,...n}=t,e[0]=t,e[1]=s,e[2]=n):(s=e[1],n=e[2]);let r;e[3]!==s?(r=M("flex flex-col gap-2 text-center sm:text-left",s),e[3]=s,e[4]=r):r=e[4];let i;return e[5]!==n||e[6]!==r?(i=(0,a.jsx)("div",{"data-slot":"dialog-header",className:r,...n}),e[5]=n,e[6]=r,e[7]=i):i=e[7],i}function es(t){const e=(0,we.c)(8);let s,n;e[0]!==t?({className:s,...n}=t,e[0]=t,e[1]=s,e[2]=n):(s=e[1],n=e[2]);let r;e[3]!==s?(r=M("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",s),e[3]=s,e[4]=r):r=e[4];let i;return e[5]!==n||e[6]!==r?(i=(0,a.jsx)("div",{"data-slot":"dialog-footer",className:r,...n}),e[5]=n,e[6]=r,e[7]=i):i=e[7],i}function ts(t){const e=(0,we.c)(8);let s,n;e[0]!==t?({className:s,...n}=t,e[0]=t,e[1]=s,e[2]=n):(s=e[1],n=e[2]);let r;e[3]!==s?(r=M("text-lg leading-none font-semibold",s),e[3]=s,e[4]=r):r=e[4];let i;return e[5]!==n||e[6]!==r?(i=(0,a.jsx)(xa,{"data-slot":"dialog-title",className:r,...n}),e[5]=n,e[6]=r,e[7]=i):i=e[7],i}function Er(t){const e=(0,we.c)(8);let s,n;e[0]!==t?({className:s,...n}=t,e[0]=t,e[1]=s,e[2]=n):(s=e[1],n=e[2]);let r;e[3]!==s?(r=M("text-muted-foreground text-sm",s),e[3]=s,e[4]=r):r=e[4];let i;return e[5]!==n||e[6]!==r?(i=(0,a.jsx)(bs,{"data-slot":"dialog-description",className:r,...n}),e[5]=n,e[6]=r,e[7]=i):i=e[7],i}var Qe=R();function Ir(t){const e=(0,Qe.c)(4);let s;e[0]!==t?({...s}=t,e[0]=t,e[1]=s):s=e[1];let n;return e[2]!==s?(n=(0,a.jsx)(ra,{"data-slot":"dropdown-menu",...s}),e[2]=s,e[3]=n):n=e[3],n}function Rr(t){const e=(0,Qe.c)(4);let s;e[0]!==t?({...s}=t,e[0]=t,e[1]=s):s=e[1];let n;return e[2]!==s?(n=(0,a.jsx)(Ta,{"data-slot":"dropdown-menu-trigger",...s}),e[2]=s,e[3]=n):n=e[3],n}function Tr(t){const e=(0,Qe.c)(10);let s,n,r;e[0]!==t?({className:s,sideOffset:r,...n}=t,e[0]=t,e[1]=s,e[2]=n,e[3]=r):(s=e[1],n=e[2],r=e[3]);const i=r===void 0?4:r;let l;e[4]!==s?(l=M("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",s),e[4]=s,e[5]=l):l=e[5];let o;return e[6]!==n||e[7]!==i||e[8]!==l?(o=(0,a.jsx)(Ea,{children:(0,a.jsx)(sa,{"data-slot":"dropdown-menu-content",sideOffset:i,className:l,...n})}),e[6]=n,e[7]=i,e[8]=l,e[9]=o):o=e[9],o}function xt(t){const e=(0,Qe.c)(12);let s,n,r,i;e[0]!==t?({className:s,inset:n,variant:i,...r}=t,e[0]=t,e[1]=s,e[2]=n,e[3]=r,e[4]=i):(s=e[1],n=e[2],r=e[3],i=e[4]);const l=i===void 0?"default":i;let o;e[5]!==s?(o=M("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),e[5]=s,e[6]=o):o=e[6];let c;return e[7]!==n||e[8]!==r||e[9]!==o||e[10]!==l?(c=(0,a.jsx)(za,{"data-slot":"dropdown-menu-item","data-inset":n,"data-variant":l,className:o,...r}),e[7]=n,e[8]=r,e[9]=o,e[10]=l,e[11]=c):c=e[11],c}function io(t){const e=(0,Qe.c)(8);let s,n;e[0]!==t?({className:s,...n}=t,e[0]=t,e[1]=s,e[2]=n):(s=e[1],n=e[2]);let r;e[3]!==s?(r=M("bg-border -mx-1 my-1 h-px",s),e[3]=s,e[4]=r):r=e[4];let i;return e[5]!==n||e[6]!==r?(i=(0,a.jsx)(wa,{"data-slot":"dropdown-menu-separator",className:r,...n}),e[5]=n,e[6]=r,e[7]=i):i=e[7],i}var Fr=R(),qr=t=>{const e=(0,Fr.c)(10),{onEmojiSelect:s,className:n}=t;let r;e[0]!==n?(r=M("isolate flex h-[350px] w-[320px] flex-col overflow-hidden rounded-xl border border-zinc-200 bg-white shadow-xl dark:border-zinc-800 dark:bg-zinc-950",n),e[0]=n,e[1]=r):r=e[1];let i;e[2]===Symbol.for("react.memo_cache_sentinel")?(i=(0,a.jsx)(ye.Search,{className:"z-10 mx-3 mt-3 appearance-none rounded-lg border-none bg-zinc-100 px-3 py-2 text-sm outline-none placeholder:text-zinc-500 focus:ring-1 focus:ring-violet-500 dark:bg-zinc-900 dark:text-white",placeholder:"Search emojis..."}),e[2]=i):i=e[2];let l,o;e[3]===Symbol.for("react.memo_cache_sentinel")?(l=(0,a.jsx)(ye.Loading,{className:"absolute inset-0 flex items-center justify-center text-zinc-400 text-sm dark:text-zinc-500",children:"Loading"}),o=(0,a.jsx)(ye.Empty,{className:"absolute inset-0 flex items-center justify-center text-zinc-400 text-sm dark:text-zinc-500",children:"No emoji found."}),e[3]=l,e[4]=o):(l=e[3],o=e[4]);let c,m;e[5]===Symbol.for("react.memo_cache_sentinel")?(c=(0,a.jsxs)(ye.Viewport,{className:"relative flex-1 outline-none no-scrollbar",children:[l,o,(0,a.jsx)(ye.List,{className:"select-none pb-2",components:{CategoryHeader:Dr,Row:Lr,Emoji:Or}})]}),m=(0,a.jsx)(ye.ActiveEmoji,{children:Wr}),e[5]=c,e[6]=m):(c=e[5],m=e[6]);let d;return e[7]!==s||e[8]!==r?(d=(0,a.jsxs)(ye.Root,{onEmojiSelect:s,className:r,children:[i,c,m]}),e[7]=s,e[8]=r,e[9]=d):d=e[9],d},lo=qr;function Dr(t){const{category:e,...s}=t;return(0,a.jsx)("div",{className:"bg-white/80 px-4 pt-4 pb-1.5 font-bold text-zinc-500 text-[11px] uppercase tracking-wider backdrop-blur-sm dark:bg-zinc-950/80 dark:text-zinc-400",...s,children:e.label})}function Lr(t){const{children:e,...s}=t;return(0,a.jsx)("div",{className:"scroll-my-1 px-2",...s,children:e})}function Or(t){const{emoji:e,...s}=t;return(0,a.jsx)("button",{className:"flex aspect-square size-9 items-center justify-center rounded-lg text-xl transition-colors hover:bg-zinc-100 data-[active]:bg-violet-500/10 data-[active]:text-violet-500 dark:hover:bg-zinc-900 dark:data-[active]:bg-violet-500/20",...s,children:e.emoji})}function Wr(t){const{emoji:e}=t;return(0,a.jsx)("div",{className:"flex items-center gap-3 border-t border-zinc-100 p-3 dark:border-zinc-800",children:e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"text-2xl",children:e.emoji}),(0,a.jsx)("span",{className:"text-xs font-bold text-zinc-600 dark:text-zinc-400 truncate",children:e.label.replace(/:/g,"").replace(/_/g," ")})]}):(0,a.jsx)("span",{className:"text-xs font-medium text-zinc-400",children:"Select an emoji..."})})}var Vr=R(),Br=t=>{const e=(0,Vr.c)(33),{src:s,isOpen:n,onClose:r,onCropComplete:i,aspect:l,circular:o}=t,[c,m]=(0,b.useState)(),[d,f]=(0,b.useState)(null),x=(0,b.useRef)(null);let p;e[0]!==l?(p=E=>{const{width:B,height:O}=E.currentTarget;m(l?Na(Ia({unit:"%",width:100},l,B,O),B,O):{unit:"%",width:100,height:100,x:0,y:0})},e[0]=l,e[1]=p):p=e[1];const g=p;let h;e[2]!==d||e[3]!==r||e[4]!==i?(h=async()=>{if(d&&x.current)try{i(await ln(x.current,d)),r()}catch(E){console.error("Error cropping image:",E)}},e[2]=d,e[3]=r,e[4]=i,e[5]=h):h=e[5];const u=h;let v;e[6]!==r?(v=E=>!E&&r(),e[6]=r,e[7]=v):v=e[7];let w;e[8]===Symbol.for("react.memo_cache_sentinel")?(w=(0,a.jsx)(Gt,{className:"p-4 shrink-0",children:(0,a.jsx)(ts,{children:"Crop Image"})}),e[8]=w):w=e[8];let j,_;e[9]===Symbol.for("react.memo_cache_sentinel")?(j=E=>m(E),_=(E,B)=>f(B),e[9]=j,e[10]=_):(j=e[9],_=e[10]);let z;e[11]!==g||e[12]!==s?(z=(0,a.jsx)("img",{ref:x,src:s,alt:"Crop preview",onLoad:g,className:"max-h-[60vh] w-auto block"}),e[11]=g,e[12]=s,e[13]=z):z=e[13];let C;e[14]!==l||e[15]!==o||e[16]!==c||e[17]!==z?(C=(0,a.jsx)("div",{className:"p-6 flex items-center justify-center bg-zinc-100/50 dark:bg-zinc-950/50 min-h-[300px] max-h-[65vh] overflow-auto",children:(0,a.jsx)(Pa,{crop:c,onChange:j,onComplete:_,aspect:l,circularCrop:o,className:"max-w-full shadow-2xl",children:z})}),e[14]=l,e[15]=o,e[16]=c,e[17]=z,e[18]=C):C=e[18];let A;e[19]!==r?(A=(0,a.jsx)(oe,{variant:"outline",onClick:r,className:"!w-auto px-6",children:"Cancel"}),e[19]=r,e[20]=A):A=e[20];let F;e[21]!==u?(F=(0,a.jsx)(oe,{onClick:u,className:"!w-auto px-6",children:"Apply Crop"}),e[21]=u,e[22]=F):F=e[22];let $;e[23]!==F||e[24]!==A?($=(0,a.jsxs)(es,{className:"p-4 bg-white dark:bg-zinc-900 shrink-0 flex flex-row justify-end gap-2",children:[A,F]}),e[23]=F,e[24]=A,e[25]=$):$=e[25];let W;e[26]!==$||e[27]!==C?(W=(0,a.jsxs)(Ht,{className:"sm:max-w-2xl bg-white dark:bg-zinc-900 p-0 overflow-hidden",children:[w,C,$]}),e[26]=$,e[27]=C,e[28]=W):W=e[28];let q;return e[29]!==n||e[30]!==W||e[31]!==v?(q=(0,a.jsx)(Jt,{open:n,onOpenChange:v,children:W}),e[29]=n,e[30]=W,e[31]=v,e[32]=q):q=e[32],q},Ur=Br,Yr=R(),Qr=t=>{const e=(0,Yr.c)(105),{images:s,currentIndex:n,onClose:r,onNavigate:i}=t,l=n===void 0?0:n,[o,c]=(0,b.useState)(1);let m;e[0]===Symbol.for("react.memo_cache_sentinel")?(m={x:0,y:0},e[0]=m):m=e[0];const[d,f]=(0,b.useState)(m),[x,p]=(0,b.useState)(!1);let g;e[1]===Symbol.for("react.memo_cache_sentinel")?(g={x:0,y:0},e[1]=g):g=e[1];const[h,u]=(0,b.useState)(g),[v,w]=(0,b.useState)(null),[j,_]=(0,b.useState)(null),z=(0,b.useRef)(null),C=(0,b.useRef)(null);let A;e[2]===Symbol.for("react.memo_cache_sentinel")?(A=()=>c(Kr),e[2]=A):A=e[2];const F=A;let $;e[3]===Symbol.for("react.memo_cache_sentinel")?($=()=>{c(T=>{const se=Math.max(T-.5,1);return se===1&&f({x:0,y:0}),se})},e[3]=$):$=e[3];const W=$;let q;e[4]===Symbol.for("react.memo_cache_sentinel")?(q=()=>{c(1),f({x:0,y:0})},e[4]=q):q=e[4];const E=q;let B;e[5]!==l||e[6]!==i?(B=()=>{l>0&&(E(),i(l-1))},e[5]=l,e[6]=i,e[7]=B):B=e[7];const O=B;let Q;e[8]!==l||e[9]!==s?.length||e[10]!==i?(Q=()=>{l<(s?.length||0)-1&&(E(),i(l+1))},e[8]=l,e[9]=s?.length,e[10]=i,e[11]=Q):Q=e[11],s?.length;const D=Q;let X;e[12]!==D||e[13]!==O||e[14]!==r?(X=()=>{const T=se=>{se.key==="Escape"&&r(),se.key==="ArrowLeft"&&O(),se.key==="ArrowRight"&&D()};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},e[12]=D,e[13]=O,e[14]=r,e[15]=X):X=e[15];let N;if(e[16]!==l||e[17]!==D||e[18]!==O||e[19]!==r?(N=[l,r,O,D],e[16]=l,e[17]=D,e[18]=O,e[19]=r,e[20]=N):N=e[20],(0,b.useEffect)(X,N),!s||s.length===0)return null;const k=s[l],S=s.length>1;let P;e[21]!==d.x||e[22]!==d.y||e[23]!==o?(P=T=>{o>1&&(p(!0),u({x:T.clientX-d.x,y:T.clientY-d.y}))},e[21]=d.x,e[22]=d.y,e[23]=o,e[24]=P):P=e[24];const K=P;let H;e[25]!==h||e[26]!==x||e[27]!==o?(H=T=>{x&&o>1&&f({x:T.clientX-h.x,y:T.clientY-h.y})},e[25]=h,e[26]=x,e[27]=o,e[28]=H):H=e[28];const J=H;let ae;e[29]===Symbol.for("react.memo_cache_sentinel")?(ae=()=>p(!1),e[29]=ae):ae=e[29];const re=ae;let G;e[30]!==d.x||e[31]!==d.y||e[32]!==o?(G=T=>{T.touches.length===1?(w({x:T.touches[0].clientX,y:T.touches[0].clientY,time:Date.now()}),o>1&&(p(!0),u({x:T.touches[0].clientX-d.x,y:T.touches[0].clientY-d.y}))):T.touches.length===2&&_(Math.hypot(T.touches[0].clientX-T.touches[1].clientX,T.touches[0].clientY-T.touches[1].clientY))},e[30]=d.x,e[31]=d.y,e[32]=o,e[33]=G):G=e[33];const ee=G;let ne;e[34]!==h||e[35]!==j||e[36]!==x||e[37]!==o?(ne=T=>{if(T.touches.length===1)x&&o>1&&f({x:T.touches[0].clientX-h.x,y:T.touches[0].clientY-h.y});else if(T.touches.length===2&&j){const se=Math.hypot(T.touches[0].clientX-T.touches[1].clientX,T.touches[0].clientY-T.touches[1].clientY);c(Math.min(Math.max(o*(se/j),1),4)),_(se)}},e[34]=h,e[35]=j,e[36]=x,e[37]=o,e[38]=ne):ne=e[38];const te=ne;let Y;e[39]!==D||e[40]!==O||e[41]!==o||e[42]!==v?(Y=T=>{if(T.touches.length<2&&_(null),p(!1),v&&o===1){const se={x:T.changedTouches[0].clientX,y:T.changedTouches[0].clientY},dt=se.x-v.x,os=se.y-v.y,cs=Date.now()-v.time;Math.abs(dt)>50&&Math.abs(os)<50&&cs<300&&(dt>0?O():D())}w(null)},e[39]=D,e[40]=O,e[41]=o,e[42]=v,e[43]=Y):Y=e[43];const I=Y;let V;e[44]!==k?(V=T=>{T.stopPropagation();const se=document.createElement("a");se.href=k,se.download=`sysm-${Date.now()}.jpg`,document.body.appendChild(se),se.click(),document.body.removeChild(se)},e[44]=k,e[45]=V):V=e[45];const L=V,Z=S?`${l+1} / ${s.length}`:"Image View";let U;e[46]!==Z?(U=(0,a.jsx)("div",{className:"flex flex-col",children:(0,a.jsx)("span",{className:"text-white font-bold text-lg drop-shadow-md",children:Z})}),e[46]=Z,e[47]=U):U=e[47];let le;e[48]===Symbol.for("react.memo_cache_sentinel")?(le=(0,a.jsx)("button",{onClick:W,className:"text-white p-2 hover:bg-white/10 rounded-full transition-colors hidden sm:block",children:(0,a.jsx)(zs,{size:20})}),e[48]=le):le=e[48];let he;e[49]===Symbol.for("react.memo_cache_sentinel")?(he=(0,a.jsx)("button",{onClick:F,className:"text-white p-2 hover:bg-white/10 rounded-full transition-colors hidden sm:block",children:(0,a.jsx)(Ps,{size:20})}),e[49]=he):he=e[49];let xe;e[50]===Symbol.for("react.memo_cache_sentinel")?(xe=(0,a.jsx)("button",{onClick:E,className:"text-white p-2 hover:bg-white/10 rounded-full transition-colors",children:(0,a.jsx)(fa,{size:20})}),e[50]=xe):xe=e[50];let Ce;e[51]===Symbol.for("react.memo_cache_sentinel")?(Ce=(0,a.jsx)(As,{size:20}),e[51]=Ce):Ce=e[51];let Ae;e[52]!==L?(Ae=(0,a.jsx)("button",{onClick:L,className:"text-white p-2 hover:bg-white/10 rounded-full transition-colors",children:Ce}),e[52]=L,e[53]=Ae):Ae=e[53];let Xe;e[54]===Symbol.for("react.memo_cache_sentinel")?(Xe=(0,a.jsx)("div",{className:"w-px h-6 bg-white/20 mx-1 hidden sm:block"}),e[54]=Xe):Xe=e[54];let Ke;e[55]===Symbol.for("react.memo_cache_sentinel")?(Ke=(0,a.jsx)(We,{size:24}),e[55]=Ke):Ke=e[55];let $e;e[56]!==r?($e=(0,a.jsx)("button",{onClick:r,className:"text-white p-2 bg-white/10 hover:bg-white/20 rounded-full transition-all",children:Ke}),e[56]=r,e[57]=$e):$e=e[57];let Pe;e[58]!==Ae||e[59]!==$e?(Pe=(0,a.jsxs)("div",{className:"flex items-center gap-1 sm:gap-3",onClick:Zr,children:[le,he,xe,Ae,Xe,$e]}),e[58]=Ae,e[59]=$e,e[60]=Pe):Pe=e[60];let Me;e[61]!==U||e[62]!==Pe?(Me=(0,a.jsxs)("div",{className:"absolute top-0 left-0 right-0 p-4 z-20 flex items-center justify-between bg-gradient-to-b from-black/60 to-transparent",children:[U,Pe]}),e[61]=U,e[62]=Pe,e[63]=Me):Me=e[63];let Ee;e[64]!==l||e[65]!==O||e[66]!==S||e[67]!==o?(Ee=S&&l>0&&o===1&&(0,a.jsx)("button",{onClick:T=>{T.stopPropagation(),O()},className:"absolute left-6 z-10 p-4 bg-white/5 hover:bg-white/10 rounded-full text-white backdrop-blur-sm transition-all active:scale-90 hidden md:flex",children:(0,a.jsx)($t,{size:32})}),e[64]=l,e[65]=O,e[66]=S,e[67]=o,e[68]=Ee):Ee=e[68];const st=`translate(${d.x}px, ${d.y}px) scale(${o})`;let Ie;e[69]!==st?(Ie={transform:st},e[69]=st,e[70]=Ie):Ie=e[70];let Re;e[71]!==k?(Re=(0,a.jsx)("img",{ref:C,src:k,className:"max-w-[95vw] max-h-[85vh] object-contain select-none shadow-2xl rounded-sm",alt:"",draggable:!1}),e[71]=k,e[72]=Re):Re=e[72];let Te;e[73]!==K||e[74]!==Ie||e[75]!==Re?(Te=(0,a.jsx)("div",{className:"relative transition-transform duration-200 ease-out cursor-grab active:cursor-grabbing",style:Ie,onMouseDown:K,onClick:Jr,children:Re}),e[73]=K,e[74]=Ie,e[75]=Re,e[76]=Te):Te=e[76];let Fe;e[77]!==l||e[78]!==D||e[79]!==S||e[80]!==s.length||e[81]!==o?(Fe=S&&l<s.length-1&&o===1&&(0,a.jsx)("button",{onClick:T=>{T.stopPropagation(),D()},className:"absolute right-6 z-10 p-4 bg-white/5 hover:bg-white/10 rounded-full text-white backdrop-blur-sm transition-all active:scale-90 hidden md:flex",children:(0,a.jsx)(kt,{size:32})}),e[77]=l,e[78]=D,e[79]=S,e[80]=s.length,e[81]=o,e[82]=Fe):Fe=e[82];let qe;e[83]!==Ee||e[84]!==Te||e[85]!==Fe?(qe=(0,a.jsxs)("div",{className:"w-full h-full relative flex items-center justify-center",children:[Ee,Te,Fe]}),e[83]=Ee,e[84]=Te,e[85]=Fe,e[86]=qe):qe=e[86];let De;e[87]!==l||e[88]!==S||e[89]!==s||e[90]!==i?(De=S&&(0,a.jsx)("div",{className:"absolute bottom-8 flex gap-3 p-3 bg-black/40 backdrop-blur-xl rounded-2xl border border-white/10 overflow-x-auto max-w-[90%] hide-scrollbar",onClick:Hr,children:s.map((T,se)=>(0,a.jsx)("button",{onClick:()=>{E(),i(se)},className:`size-14 rounded-xl overflow-hidden border-2 transition-all shrink-0 ${se===l?"border-violet-500 scale-110 shadow-lg shadow-violet-500/20":"border-transparent opacity-40 hover:opacity-100"}`,children:(0,a.jsx)("img",{src:T,className:"size-full object-cover",alt:""})},se))}),e[87]=l,e[88]=S,e[89]=s,e[90]=i,e[91]=De):De=e[91];let Le;e[92]!==S||e[93]!==o?(Le=o===1&&S&&(0,a.jsx)("div",{className:"absolute bottom-4 text-white/30 text-[10px] uppercase tracking-widest font-bold md:hidden",children:"Swipe to navigate"}),e[92]=S,e[93]=o,e[94]=Le):Le=e[94];let Ze;return e[95]!==J||e[96]!==I||e[97]!==te||e[98]!==ee||e[99]!==r||e[100]!==Me||e[101]!==qe||e[102]!==De||e[103]!==Le?(Ze=(0,a.jsxs)("div",{ref:z,className:"fixed inset-0 z-[100] bg-black/95 backdrop-blur-md flex flex-col items-center justify-center overflow-hidden touch-none",onMouseMove:J,onMouseUp:re,onMouseLeave:re,onTouchStart:ee,onTouchMove:te,onTouchEnd:I,onClick:r,children:[Me,qe,De,Le]}),e[95]=J,e[96]=I,e[97]=te,e[98]=ee,e[99]=r,e[100]=Me,e[101]=qe,e[102]=De,e[103]=Le,e[104]=Ze):Ze=e[104],Ze},Xr=Qr;function Kr(t){return Math.min(t+.5,4)}function Zr(t){return t.stopPropagation()}function Jr(t){return t.stopPropagation()}function Hr(t){return t.stopPropagation()}var Gr=R(),ss=b.forwardRef((t,e)=>{const s=(0,Gr.c)(20);let n,r,i,l,o;s[0]!==t?({className:n,label:r,type:o,textarea:l,...i}=t,s[0]=t,s[1]=n,s[2]=r,s[3]=i,s[4]=l,s[5]=o):(n=s[1],r=s[2],i=s[3],l=s[4],o=s[5]);const c=l?"textarea":"input";let m;s[6]!==r?(m=r&&(0,a.jsx)("label",{className:"text-sm font-bold text-zinc-500 dark:text-zinc-400 ml-1",children:r}),s[6]=r,s[7]=m):m=s[7];const d=l&&"min-h-[100px] resize-none";let f;s[8]!==n||s[9]!==d?(f=M("flex w-full rounded-xl border border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900 px-4 py-2.5 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-violet-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:ring-offset-zinc-950 dark:text-white transition-all",d,n),s[8]=n,s[9]=d,s[10]=f):f=s[10];let x;s[11]!==c||s[12]!==i||s[13]!==e||s[14]!==f||s[15]!==o?(x=(0,a.jsx)(c,{type:o,className:f,ref:e,...i}),s[11]=c,s[12]=i,s[13]=e,s[14]=f,s[15]=o,s[16]=x):x=s[16];let p;return s[17]!==m||s[18]!==x?(p=(0,a.jsxs)("div",{className:"w-full space-y-1.5",children:[m,x]}),s[17]=m,s[18]=x,s[19]=p):p=s[19],p});ss.displayName="Input";var pe=ss,ei=R(),ti=t=>{const e=(0,ei.c)(20),{isOpen:s,onClose:n,title:r,children:i,footer:l,description:o,className:c}=t;let m;e[0]!==n?(m=v=>{v||n()},e[0]=n,e[1]=m):m=e[1];const d=m;let f;e[2]!==c?(f=M("sm:max-w-md max-h-[calc(100dvh-2rem)] flex flex-col p-0 gap-0 overflow-hidden bg-white dark:bg-zinc-900",c),e[2]=c,e[3]=f):f=e[3];let x;e[4]!==o||e[5]!==r?(x=r&&(0,a.jsxs)(Gt,{className:"px-5 py-4 shrink-0",children:[(0,a.jsx)(ts,{className:"text-xl font-bold",children:r}),o&&(0,a.jsx)(Er,{children:o})]}),e[4]=o,e[5]=r,e[6]=x):x=e[6];let p;e[7]!==i?(p=(0,a.jsx)("div",{className:"flex-1 overflow-y-auto p-5 min-h-0",children:i}),e[7]=i,e[8]=p):p=e[8];let g;e[9]!==l?(g=l&&(0,a.jsx)(es,{className:"px-5 py-4 shrink-0 bg-white dark:bg-zinc-900",children:l}),e[9]=l,e[10]=g):g=e[10];let h;e[11]!==f||e[12]!==x||e[13]!==p||e[14]!==g?(h=(0,a.jsxs)(Ht,{className:f,children:[x,p,g]}),e[11]=f,e[12]=x,e[13]=p,e[14]=g,e[15]=h):h=e[15];let u;return e[16]!==d||e[17]!==s||e[18]!==h?(u=(0,a.jsx)(Jt,{open:s,onOpenChange:d,children:h}),e[16]=d,e[17]=s,e[18]=h,e[19]=u):u=e[19],u},Be=ti,si=R(),ai=t=>{const e=(0,si.c)(20),{title:s,message:n,icon:r,showHome:i,showBack:l}=t,o=s===void 0?"Not Found":s,c=n===void 0?"The content you are looking for doesn't exist or has been removed.":n,m=r===void 0?jt:r,d=i===void 0?!0:i,f=l===void 0?!0:l,x=et(),p=m;let g;e[0]!==p?(g=(0,a.jsx)("div",{className:"bg-zinc-100 dark:bg-zinc-900 p-6 rounded-full mb-6",children:(0,a.jsx)(p,{size:48,className:"text-zinc-400 dark:text-zinc-600"})}),e[0]=p,e[1]=g):g=e[1];let h;e[2]!==o?(h=(0,a.jsx)("h2",{className:"text-2xl font-black mb-2 dark:text-white",children:o}),e[2]=o,e[3]=h):h=e[3];let u;e[4]!==c?(u=(0,a.jsx)("p",{className:"text-zinc-500 dark:text-zinc-400 max-w-xs mb-8 leading-relaxed",children:c}),e[4]=c,e[5]=u):u=e[5];let v;e[6]!==x||e[7]!==f?(v=f&&(0,a.jsxs)(oe,{variant:"secondary",onClick:()=>x(-1),className:"rounded-full px-6",children:[(0,a.jsx)(Os,{size:18,className:"mr-2"}),"Go Back"]}),e[6]=x,e[7]=f,e[8]=v):v=e[8];let w;e[9]!==x||e[10]!==d?(w=d&&(0,a.jsxs)(oe,{onClick:()=>x("/"),className:"bg-zinc-900 dark:bg-white text-white dark:text-zinc-900 rounded-full px-6",children:[(0,a.jsx)(rt,{size:18,className:"mr-2"}),"Home"]}),e[9]=x,e[10]=d,e[11]=w):w=e[11];let j;e[12]!==w||e[13]!==v?(j=(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-3",children:[v,w]}),e[12]=w,e[13]=v,e[14]=j):j=e[14];let _;return e[15]!==j||e[16]!==g||e[17]!==h||e[18]!==u?(_=(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[400px] p-8 text-center animate-in fade-in zoom-in-95 duration-300",children:[g,h,u,j]}),e[15]=j,e[16]=g,e[17]=h,e[18]=u,e[19]=_):_=e[19],_},oo=ai,ct=R();function co(t){const e=(0,ct.c)(4);let s;e[0]!==t?({...s}=t,e[0]=t,e[1]=s):s=e[1];let n;return e[2]!==s?(n=(0,a.jsx)(ds,{"data-slot":"popover",...s}),e[2]=s,e[3]=n):n=e[3],n}function mo(t){const e=(0,ct.c)(4);let s;e[0]!==t?({...s}=t,e[0]=t,e[1]=s):s=e[1];let n;return e[2]!==s?(n=(0,a.jsx)(oa,{"data-slot":"popover-trigger",...s}),e[2]=s,e[3]=n):n=e[3],n}function uo(t){const e=(0,ct.c)(12);let s,n,r,i;e[0]!==t?({className:s,align:r,sideOffset:i,...n}=t,e[0]=t,e[1]=s,e[2]=n,e[3]=r,e[4]=i):(s=e[1],n=e[2],r=e[3],i=e[4]);const l=r===void 0?"center":r,o=i===void 0?4:i;let c;e[5]!==s?(c=M("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 rounded-md border p-4 shadow-md outline-hidden",s),e[5]=s,e[6]=c):c=e[6];let m;return e[7]!==l||e[8]!==n||e[9]!==o||e[10]!==c?(m=(0,a.jsx)(Ls,{children:(0,a.jsx)(ea,{"data-slot":"popover-content",align:l,sideOffset:o,className:c,...n})}),e[7]=l,e[8]=n,e[9]=o,e[10]=c,e[11]=m):m=e[11],m}var ni=R(),ri=()=>{const t=(0,ni.c)(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)(Zs,{size:16,className:"fill-blue-500 text-white ml-1 inline-block shrink-0"}),t[0]=e):e=t[0],e},as=ri;const ii=(t,e,s)=>{const n=t?.id,[r,i]=(0,b.useState)(!1),[l,o]=(0,b.useState)({followers:t?.followers||t?.follower_count||0,following:t?.following||t?.following_count||0}),[c,m]=(0,b.useState)(!1);return(0,b.useEffect)(()=>{t&&(o({followers:t.followers||t.follower_count||0,following:t.following||t.following_count||0}),n&&Je(n)&&(pn(n).then(f=>{f&&o({followers:f.followers,following:f.following})}).catch(()=>{}),e&&Je(e)?xn(e,n).then(i).catch(()=>i(!1)):i(!1)))},[t,n,e]),{isFollowing:r,stats:l,loading:c,handleFollow:async()=>{if(!e)return s("Please login to follow!","error");if(e===n)return s("You cannot follow yourself!","error");if(!n||!Je(n)||!Je(e)){const f=!r;i(f),o(x=>{const p=typeof x.followers=="string"?parseInt(x.followers.replace(/,/g,"")):x.followers||0;return{...x,followers:f?p+1:Math.max(0,p-1)}}),s(f?"Followed":"Unfollowed");return}m(!0);try{const f=await hn(e,n);i(f),o(x=>({...x,followers:f?(x.followers||0)+1:Math.max(0,(x.followers||0)-1)})),s(f?"Followed":"Unfollowed")}catch(f){console.error("Failed to toggle follow:",f),s("Failed to update follow status","error")}finally{m(!1)}},setStats:o}};var li=({profile:t,onUserClick:e,isCommunity:s=!1})=>{const{onlineUsers:n}=Bn(),{currentUser:r}=ce(),{addToast:i}=ve(),l=n.has(t.id),[o,c]=(0,b.useState)(!1),[m,d]=(0,b.useState)(s),{isFollowing:f,loading:x,handleFollow:p}=ii(s?null:t,r?.id,i);(0,b.useEffect)(()=>{s&&r&&t.id?Pn(t.id,r.id).then(c).finally(()=>d(!1)):d(!1)},[s,r,t.id]);const g=async v=>{if(v.stopPropagation(),!r)return i("Please login to join communities","error");d(!0);try{const w=await $n(t.id,r.id);c(w),i(w?`Joined ${t.name}`:`Left ${t.name}`)}catch{i("Failed to update membership","error")}finally{d(!1)}},h=r?.id===t.id,u=s?m:x;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-zinc-100 dark:border-zinc-800 hover:bg-zinc-50 dark:hover:bg-zinc-900/40 transition-colors group cursor-pointer",onClick:()=>e(t.handle),children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)(Ne,{className:`size-12 border border-zinc-200 dark:border-zinc-800 shadow-sm ${s?"rounded-2xl":""}`,children:[(0,a.jsx)(ke,{src:t.avatar,alt:t.handle,className:"object-cover"}),(0,a.jsx)(ze,{className:s?"rounded-2xl":"",children:t.handle?.[0]?.toUpperCase()})]}),l&&!s&&(0,a.jsx)("span",{className:"absolute bottom-0 right-0 size-3 bg-emerald-500 border-2 border-white dark:border-black rounded-full shadow-sm"})]}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("span",{className:"font-bold text-zinc-900 dark:text-white leading-none",children:t.name}),t.verified&&(0,a.jsx)(as,{})]}),(0,a.jsxs)("span",{className:"text-sm text-zinc-500 mt-0.5",children:["@",t.handle]}),s&&(0,a.jsxs)("span",{className:"text-xs text-zinc-400 mt-1",children:[t.membersCount||0," members"]}),!s&&t.followers&&(0,a.jsxs)("span",{className:"text-xs text-zinc-400 mt-1",children:[t.followers," followers"]})]})]}),!h&&(0,a.jsx)(oe,{variant:s?o?"secondary":"outline":f?"secondary":"outline",className:"!w-auto !py-1.5 !px-4 text-sm font-bold rounded-full border-zinc-200 dark:border-zinc-700 hover:bg-zinc-100 dark:hover:bg-zinc-800",onClick:s?g:v=>{v.stopPropagation(),p()},disabled:u,children:u?(0,a.jsx)(ue,{size:14,className:"animate-spin"}):s?o?"Joined":"Join":f?"Following":"Follow"})]})},fo=li,ns=R();function ho(t){const e=(0,ns.c)(14);let s,n,r;e[0]!==t?({className:n,children:s,...r}=t,e[0]=t,e[1]=s,e[2]=n,e[3]=r):(s=e[1],n=e[2],r=e[3]);let i;e[4]!==n?(i=M("relative",n),e[4]=n,e[5]=i):i=e[5];let l;e[6]!==s?(l=(0,a.jsx)(Ks,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:s}),e[6]=s,e[7]=l):l=e[7];let o,c;e[8]===Symbol.for("react.memo_cache_sentinel")?(o=(0,a.jsx)(oi,{}),c=(0,a.jsx)(Cs,{}),e[8]=o,e[9]=c):(o=e[8],c=e[9]);let m;return e[10]!==r||e[11]!==i||e[12]!==l?(m=(0,a.jsxs)(Ca,{"data-slot":"scroll-area",className:i,...r,children:[l,o,c]}),e[10]=r,e[11]=i,e[12]=l,e[13]=m):m=e[13],m}function oi(t){const e=(0,ns.c)(13);let s,n,r;e[0]!==t?({className:s,orientation:r,...n}=t,e[0]=t,e[1]=s,e[2]=n,e[3]=r):(s=e[1],n=e[2],r=e[3]);const i=r===void 0?"vertical":r,l=i==="vertical"&&"h-full w-2.5 border-l border-l-transparent",o=i==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent";let c;e[4]!==s||e[5]!==l||e[6]!==o?(c=M("flex touch-none p-px transition-colors select-none",l,o,s),e[4]=s,e[5]=l,e[6]=o,e[7]=c):c=e[7];let m;e[8]===Symbol.for("react.memo_cache_sentinel")?(m=(0,a.jsx)(Hs,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"}),e[8]=m):m=e[8];let d;return e[9]!==i||e[10]!==n||e[11]!==c?(d=(0,a.jsx)(Ss,{"data-slot":"scroll-area-scrollbar",orientation:i,className:c,...n,children:m}),e[9]=i,e[10]=n,e[11]=c,e[12]=d):d=e[12],d}var ci=R(),di=t=>{const e=(0,ci.c)(13),{value:s,onChange:n,onClear:r,placeholder:i}=t,l=i===void 0?"Search...":i;let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=(0,a.jsx)(Tt,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-zinc-400 group-focus-within:text-violet-500 transition-colors"}),e[0]=o):o=e[0];let c;e[1]!==n?(c=x=>n(x.target.value),e[1]=n,e[2]=c):c=e[2];let m;e[3]!==l||e[4]!==c||e[5]!==s?(m=(0,a.jsx)("input",{className:"w-full rounded-full border border-zinc-100 dark:border-zinc-800 bg-zinc-50 dark:bg-zinc-900/50 text-zinc-900 dark:text-white px-11 py-2.5 text-sm outline-none focus:border-violet-500 focus:ring-1 focus:ring-violet-500 transition-all",placeholder:l,value:s,onChange:c}),e[3]=l,e[4]=c,e[5]=s,e[6]=m):m=e[6];let d;e[7]!==r||e[8]!==s?(d=s&&(0,a.jsx)("button",{onClick:r,className:"absolute right-4 top-1/2 -translate-y-1/2 text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-200 transition-colors",children:(0,a.jsx)(We,{size:16})}),e[7]=r,e[8]=s,e[9]=d):d=e[9];let f;return e[10]!==m||e[11]!==d?(f=(0,a.jsxs)("div",{className:"relative group w-full",children:[o,m,d]}),e[10]=m,e[11]=d,e[12]=f):f=e[12],f},pt=di,Se=R(),xo=Va;var po=Xs,mi=b.forwardRef((t,e)=>{const s=(0,Se.c)(12);let n,r,i;s[0]!==t?({className:r,children:n,...i}=t,s[0]=t,s[1]=n,s[2]=r,s[3]=i):(n=s[1],r=s[2],i=s[3]);let l;s[4]!==r?(l=M("flex h-9 w-full items-center justify-between rounded-md border border-zinc-200 bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-white placeholder:text-zinc-500 focus:outline-none focus:ring-1 focus:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 dark:border-zinc-800 dark:ring-offset-zinc-950 dark:focus:ring-zinc-300 [&>span]:line-clamp-1",r),s[4]=r,s[5]=l):l=s[5];let o;s[6]===Symbol.for("react.memo_cache_sentinel")?(o=(0,a.jsx)(Is,{asChild:!0,children:(0,a.jsx)(Mt,{className:"h-4 w-4 opacity-50"})}),s[6]=o):o=s[6];let c;return s[7]!==n||s[8]!==i||s[9]!==e||s[10]!==l?(c=(0,a.jsxs)(At,{ref:e,className:l,...i,children:[n,o]}),s[7]=n,s[8]=i,s[9]=e,s[10]=l,s[11]=c):c=s[11],c});mi.displayName=At.displayName;var rs=b.forwardRef((t,e)=>{const s=(0,Se.c)(10);let n,r;s[0]!==t?({className:n,...r}=t,s[0]=t,s[1]=n,s[2]=r):(n=s[1],r=s[2]);let i;s[3]!==n?(i=M("flex cursor-default items-center justify-center py-1",n),s[3]=n,s[4]=i):i=s[4];let l;s[5]===Symbol.for("react.memo_cache_sentinel")?(l=(0,a.jsx)(Qs,{className:"h-4 w-4"}),s[5]=l):l=s[5];let o;return s[6]!==r||s[7]!==e||s[8]!==i?(o=(0,a.jsx)(Pt,{ref:e,className:i,...r,children:l}),s[6]=r,s[7]=e,s[8]=i,s[9]=o):o=s[9],o});rs.displayName=Pt.displayName;var is=b.forwardRef((t,e)=>{const s=(0,Se.c)(10);let n,r;s[0]!==t?({className:n,...r}=t,s[0]=t,s[1]=n,s[2]=r):(n=s[1],r=s[2]);let i;s[3]!==n?(i=M("flex cursor-default items-center justify-center py-1",n),s[3]=n,s[4]=i):i=s[4];let l;s[5]===Symbol.for("react.memo_cache_sentinel")?(l=(0,a.jsx)(Mt,{className:"h-4 w-4"}),s[5]=l):l=s[5];let o;return s[6]!==r||s[7]!==e||s[8]!==i?(o=(0,a.jsx)(yt,{ref:e,className:i,...r,children:l}),s[6]=r,s[7]=e,s[8]=i,s[9]=o):o=s[9],o});is.displayName=yt.displayName;var ui=b.forwardRef((t,e)=>{const s=(0,Se.c)(21);let n,r,i,l;s[0]!==t?({className:r,children:n,position:l,...i}=t,s[0]=t,s[1]=n,s[2]=r,s[3]=i,s[4]=l):(n=s[1],r=s[2],i=s[3],l=s[4]);const o=l===void 0?"popper":l,c=o==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1";let m;s[5]!==r||s[6]!==c?(m=M("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-zinc-200 bg-white text-zinc-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50",c,r),s[5]=r,s[6]=c,s[7]=m):m=s[7];let d;s[8]===Symbol.for("react.memo_cache_sentinel")?(d=(0,a.jsx)(rs,{}),s[8]=d):d=s[8];const f=o==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]";let x;s[9]!==f?(x=M("p-1",f),s[9]=f,s[10]=x):x=s[10];let p;s[11]!==n||s[12]!==x?(p=(0,a.jsx)(_s,{className:x,children:n}),s[11]=n,s[12]=x,s[13]=p):p=s[13];let g;s[14]===Symbol.for("react.memo_cache_sentinel")?(g=(0,a.jsx)(is,{}),s[14]=g):g=s[14];let h;return s[15]!==o||s[16]!==i||s[17]!==e||s[18]!==m||s[19]!==p?(h=(0,a.jsx)(Ws,{children:(0,a.jsxs)(It,{ref:e,className:m,position:o,...i,children:[d,p,g]})}),s[15]=o,s[16]=i,s[17]=e,s[18]=m,s[19]=p,s[20]=h):h=s[20],h});ui.displayName=It.displayName;var fi=b.forwardRef((t,e)=>{const s=(0,Se.c)(9);let n,r;s[0]!==t?({className:n,...r}=t,s[0]=t,s[1]=n,s[2]=r):(n=s[1],r=s[2]);let i;s[3]!==n?(i=M("px-2 py-1.5 text-sm font-semibold",n),s[3]=n,s[4]=i):i=s[4];let l;return s[5]!==r||s[6]!==e||s[7]!==i?(l=(0,a.jsx)(zt,{ref:e,className:i,...r}),s[5]=r,s[6]=e,s[7]=i,s[8]=l):l=s[8],l});fi.displayName=zt.displayName;var hi=b.forwardRef((t,e)=>{const s=(0,Se.c)(14);let n,r,i;s[0]!==t?({className:r,children:n,...i}=t,s[0]=t,s[1]=n,s[2]=r,s[3]=i):(n=s[1],r=s[2],i=s[3]);let l;s[4]!==r?(l=M("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-zinc-100 focus:text-zinc-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-zinc-800 dark:focus:text-zinc-50",r),s[4]=r,s[5]=l):l=s[5];let o;s[6]===Symbol.for("react.memo_cache_sentinel")?(o=(0,a.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(ys,{children:(0,a.jsx)(Ns,{className:"h-4 w-4"})})}),s[6]=o):o=s[6];let c;s[7]!==n?(c=(0,a.jsx)(ks,{children:n}),s[7]=n,s[8]=c):c=s[8];let m;return s[9]!==i||s[10]!==e||s[11]!==l||s[12]!==c?(m=(0,a.jsxs)(Ct,{ref:e,className:l,...i,children:[o,c]}),s[9]=i,s[10]=e,s[11]=l,s[12]=c,s[13]=m):m=s[13],m});hi.displayName=Ct.displayName;var xi=b.forwardRef((t,e)=>{const s=(0,Se.c)(9);let n,r;s[0]!==t?({className:n,...r}=t,s[0]=t,s[1]=n,s[2]=r):(n=s[1],r=s[2]);let i;s[3]!==n?(i=M("-mx-1 my-1 h-px bg-zinc-100 dark:bg-zinc-800",n),s[3]=n,s[4]=i):i=s[4];let l;return s[5]!==r||s[6]!==e||s[7]!==i?(l=(0,a.jsx)(Nt,{ref:e,className:i,...r}),s[5]=r,s[6]=e,s[7]=i,s[8]=l):l=s[8],l});xi.displayName=Nt.displayName;var pi=R(),gi=t=>{const e=(0,pi.c)(9),{className:s}=t,{setAuthMode:n}=ce();let r;e[0]!==s?(r=M("border border-[--border] rounded-2xl p-8 flex flex-col items-center text-center gap-4 bg-[--card] shadow-sm",s),e[0]=s,e[1]=r):r=e[1];let i,l;e[2]===Symbol.for("react.memo_cache_sentinel")?(i=(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"size-16 rounded-full border-4 border-amber-400 border-t-transparent animate-spin duration-[3000ms]"}),(0,a.jsx)("span",{className:"absolute inset-0 flex items-center justify-center text-2xl",children:""})]}),l=(0,a.jsx)("h3",{className:"font-extrabold text-lg text-[--foreground] mt-2 leading-tight",children:"Get your Sysm account now!"}),e[2]=i,e[3]=l):(i=e[2],l=e[3]);let o;e[4]!==n?(o=(0,a.jsx)("button",{onClick:()=>n("signup"),className:"w-full bg-zinc-950 dark:bg-white text-white dark:text-zinc-950 py-2.5 rounded-full font-black text-sm uppercase tracking-wider hover:opacity-90 active:scale-95 transition-all shadow-lg cursor-pointer",children:"Signup now"}),e[4]=n,e[5]=o):o=e[5];let c;return e[6]!==r||e[7]!==o?(c=(0,a.jsxs)("div",{className:r,children:[i,l,o]}),e[6]=r,e[7]=o,e[8]=c):c=e[8],c},bi=gi,vi=R(),wi=()=>{const t=(0,vi.c)(3);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)("div",{className:"size-11 rounded-full bg-zinc-200 dark:bg-zinc-800 shrink-0"}),t[0]=e):e=t[0];let s;t[1]===Symbol.for("react.memo_cache_sentinel")?(s=(0,a.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,a.jsx)("div",{className:"h-4 bg-zinc-200 dark:bg-zinc-800 rounded w-1/3"}),(0,a.jsx)("div",{className:"h-4 bg-zinc-200 dark:bg-zinc-800 rounded w-16"})]}),t[1]=s):s=t[1];let n;return t[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,a.jsx)("div",{className:"px-5 pt-4 pb-3 border-b border-zinc-100 dark:border-zinc-800 animate-pulse",children:(0,a.jsxs)("div",{className:"flex items-start gap-x-3",children:[e,(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[s,(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"h-3 bg-zinc-200 dark:bg-zinc-800 rounded w-full"}),(0,a.jsx)("div",{className:"h-3 bg-zinc-200 dark:bg-zinc-800 rounded w-5/6"})]}),(0,a.jsx)("div",{className:"h-48 bg-zinc-200 dark:bg-zinc-800 rounded-xl w-full mt-3"})]})]})}),t[2]=n):n=t[2],n},go=wi,tt=R();function yi(t){const e=(0,tt.c)(8);let s,n;e[0]!==t?({className:s,...n}=t,e[0]=t,e[1]=s,e[2]=n):(s=e[1],n=e[2]);let r;e[3]!==s?(r=M("flex flex-col gap-2",s),e[3]=s,e[4]=r):r=e[4];let i;return e[5]!==n||e[6]!==r?(i=(0,a.jsx)(pa,{"data-slot":"tabs",className:r,...n}),e[5]=n,e[6]=r,e[7]=i):i=e[7],i}function ji(t){const e=(0,tt.c)(8);let s,n;e[0]!==t?({className:s,...n}=t,e[0]=t,e[1]=s,e[2]=n):(s=e[1],n=e[2]);let r;e[3]!==s?(r=M("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",s),e[3]=s,e[4]=r):r=e[4];let i;return e[5]!==n||e[6]!==r?(i=(0,a.jsx)(Fs,{"data-slot":"tabs-list",className:r,...n}),e[5]=n,e[6]=r,e[7]=i):i=e[7],i}function gt(t){const e=(0,tt.c)(8);let s,n;e[0]!==t?({className:s,...n}=t,e[0]=t,e[1]=s,e[2]=n):(s=e[1],n=e[2]);let r;e[3]!==s?(r=M("inline-flex items-center justify-center gap-1.5 px-2 py-1 text-sm font-medium whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 outline-none focus:outline-none focus-visible:outline-none ring-0 focus:ring-0 focus-visible:ring-0 shadow-none data-[state=active]:shadow-none",s),e[3]=s,e[4]=r):r=e[4];let i;return e[5]!==n||e[6]!==r?(i=(0,a.jsx)(fs,{"data-slot":"tabs-trigger",className:r,...n}),e[5]=n,e[6]=r,e[7]=i):i=e[7],i}function bt(t){const e=(0,tt.c)(8);let s,n;e[0]!==t?({className:s,...n}=t,e[0]=t,e[1]=s,e[2]=n):(s=e[1],n=e[2]);let r;e[3]!==s?(r=M("flex-1 outline-none",s),e[3]=s,e[4]=r):r=e[4];let i;return e[5]!==n||e[6]!==r?(i=(0,a.jsx)(gs,{"data-slot":"tabs-content",className:r,...n}),e[5]=n,e[6]=r,e[7]=i):i=e[7],i}var _i=R(),Ni=t=>{const e=(0,_i.c)(18),{name:s,number:n}=t,r=s===void 0?"BRUCE WAYNE":s,i=n===void 0?"9759 2484 5269 6576":n;let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,a.jsx)("style",{children:`
        .credit-card-container {
          perspective: 1000px;
          width: 240px;
          height: 154px;
        }
        .credit-card-inner {
          position: relative;
          width: 100%;
          height: 100%;
          text-align: center;
          transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
          transform-style: preserve-3d;
          cursor: pointer;
        }
        .credit-card-container:hover .credit-card-inner {
          transform: rotateY(180deg);
        }
        .credit-card-front, .credit-card-back {
          position: absolute;
          width: 100%;
          height: 100%;
          -webkit-backface-visibility: hidden;
          backface-visibility: hidden;
          border-radius: 1rem;
          display: flex;
          flex-direction: column;
          justify-content: center;
          background-color: #171717;
          box-shadow: 0 2px 2px rgba(0,0,0,0.4), 0 7px 13px -3px rgba(0,0,0,0.3), inset 0 -1px 0 rgba(0,0,0,0.2);
          color: white;
          overflow: hidden;
        }
        .credit-card-back {
          transform: rotateY(180deg);
        }
      `}),e[0]=l):l=e[0];let o;e[1]===Symbol.for("react.memo_cache_sentinel")?(o=(0,a.jsx)("p",{className:"absolute text-[0.5em] font-bold tracking-[.2em] top-[2em] left-[18.6em]",children:"VICTIMCARD"}),e[1]=o):o=e[1];let c;e[2]===Symbol.for("react.memo_cache_sentinel")?(c=(0,a.jsxs)("svg",{className:"absolute top-[6.8em] left-[11.7em]",xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36",viewBox:"0 0 48 48",children:[(0,a.jsx)("path",{fill:"#ff9800",d:"M32 10A14 14 0 1 0 32 38A14 14 0 1 0 32 10Z"}),(0,a.jsx)("path",{fill:"#d50000",d:"M16 10A14 14 0 1 0 16 38A14 14 0 1 0 16 10Z"}),(0,a.jsx)("path",{fill:"#ff3d00",d:"M18,24c0,4.755,2.376,8.95,6,11.48c3.624-2.53,6-6.725,6-11.48s-2.376-8.95-6-11.48 C20.376,15.05,18,19.245,18,24z"})]}),e[2]=c):c=e[2];let m;e[3]===Symbol.for("react.memo_cache_sentinel")?(m=(0,a.jsx)("svg",{version:"1.1",className:"absolute top-[2.3em] left-[1.5em]",width:"30px",height:"30px",viewBox:"0 0 50 50",children:(0,a.jsx)("image",{width:"50",height:"50",x:"0",y:"0",href:`data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAABGdBTUEAALGPC/xhBQAAACBjSFJN
                AAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAB6VBMVEUAAACNcTiVeUKVeUOY
                fEaafEeUeUSYfEWZfEaykleyklaXe0SWekSZZjOYfEWYe0WXfUWXe0WcgEicfkiXe0SVekSXekSW
                ekKYe0a9nF67m12ZfUWUeEaXfESVekOdgEmVeUWWekSniU+VeUKVeUOrjFKYfEWliE6WeESZe0GS
                e0WYfES7ml2Xe0WXeESUeEOWfEWcf0eWfESXe0SXfEWYekSVeUKXfEWxklawkVaZfEWWekOUekOW
                ekSYfESZe0eXekWYfEWZe0WZe0eVeUSWeETAnmDCoWLJpmbxy4P1zoXwyoLIpWbjvXjivnjgu3bf
                u3beunWvkFWxkle/nmDivXiWekTnwXvkwHrCoWOuj1SXe0TEo2TDo2PlwHratnKZfEbQrWvPrWua
                fUfbt3PJp2agg0v0zYX0zYSfgkvKp2frxX7mwHrlv3rsxn/yzIPgvHfduXWXe0XuyIDzzISsjVO1
                lVm0lFitjVPzzIPqxX7duna0lVncuHTLqGjvyIHeuXXxyYGZfUayk1iyk1e2lln1zYTEomO2llrb
                tnOafkjFpGSbfkfZtXLhvHfkv3nqxH3mwXujhU3KqWizlFilh06khk2fgkqsjlPHpWXJp2erjVOh
                g0yWe0SliE+XekShhEvAn2D///+gx8TWAAAARnRSTlMACVCTtsRl7Pv7+vxkBab7pZv5+ZlL/UnU
                /f3SJCVe+Fx39naA9/75XSMh0/3SSkia+pil/KRj7Pr662JPkrbP7OLQ0JFOijI1MwAAAAFiS0dE
                orDd34wAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfnAg0IDx2lsiuJAAACLElEQVRIx2Ng
                GAXkAUYmZhZWPICFmYkRVQcbOwenmzse4MbFzc6DpIGXj8PD04sA8PbhF+CFaxEU8iWkAQT8hEVg
                OkTF/InR4eUVICYO1SIhCRMLDAoKDvFDVhUaEhwUFAjjSUlDdMiEhcOEItzdI6OiYxA6YqODIt3d
                I2DcuDBZsBY5eVTr4xMSYcyk5BRUOXkFsBZFJTQnp6alQxgZmVloUkrKYC0qqmji2WE5EEZuWB6a
                lKoKdi35YQUQRkFYPpFaCouKIYzi6EDitJSUlsGY5RWVRGjJLyxNy4ZxqtIqqvOxaVELQwZFZdkI
                JVU1RSiSalAt6rUwUBdWG1CP6pT6gNqwOrgCdQyHNYR5YQFhDXj8MiK1IAeyN6aORiyBjByVTc0F
                qBoKWpqwRCVSgilOaY2OaUPw29qjOzqLvTAchpos47u6EZyYnngUSRwpuTe6D+6qaFQdOPNLRzOM
                1dzhRZyW+CZouHk3dWLXglFcFIflQhj9YWjJGlZcaKAVSvjyPrRQ0oQVKDAQHlYFYUwIm4gqExGm
                BSkutaVQJeomwViTJqPK6OhCy2Q9sQBk8cY0DxjTJw0lAQWK6cOKfgNhpKK7ZMpUeF3jPa28BCET
                amiEqJKM+X1gxvWXpoUjVIVPnwErw71nmpgiqiQGBjNzbgs3j1nus+fMndc+Cwm0T52/oNR9lsdC
              S24ra7Tq1cbWjpXV3sHRCb1idXZ0sGdltXNxRateRwHRAACYHutzk/2I5QAAACV0RVh0ZGF0ZTpj
              cmVhdGUAMjAyMy0wMi0xM1QwODoxNToyOSswMDowMEUnN7UAAAAldEVYdGRhdGU6bW9kaWZ5ADIw
              MjMtMDItMTNUMDg6MTU6MjkrMDA6MDA0eo8JAAAAKHRFWHRkYXRlOnRpbWVzdGFtcAAyMDIzLTAy
              LTEzVDA4OjE1OjI5KzAwOjAwY2+u1gAAAABJRU5ErkJggg==`})}),e[3]=m):m=e[3];let d;e[4]===Symbol.for("react.memo_cache_sentinel")?(d=(0,a.jsx)("svg",{version:"1.1",className:"absolute top-[3.5em] left-[12.4em]",width:"20px",height:"20px",viewBox:"0 0 50 50",children:(0,a.jsx)("image",{width:"50",height:"50",x:"0",y:"0",href:`data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAQAAAC0NkA6AAAABGdBTUEAALGPC/xhBQAAACBjSFJN
                AAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAJcEhZ
                cwAACxMAAAsTAQCanBgAAAAHdElNRQfnAg0IEzgIwaKTAAADDklEQVRYw+1XS0iUURQ+f5qPyjQf
                lGRFEEFK76koKGxRbWyVVLSOgsCgwjZBJJYuKogSIoOonUK4q3U0WVBWFPZYiIE6kuArG3VGzK/F
                fPeMM/MLt99/NuHdfPd888/57jn3nvsQWWj/VcMlvMMd5KRTogqx9iCdIjUUmcGR9ImUYowyP3xN
                GQJoRLVaZ2DaZf8kyjEJALhI28ELioyiwC+Rc3QZwRYyO/DH51hQgWm6DMIh10KmD4u9O16K49it
                VoPOAmcGAWWOepXIRScAoJZ2Frro8oN+EyTT6lWkkg6msZfMSR35QTJmjU0g15tIGSJ08ZZMJkJk
                HpNZgSkyXosS13TkJpZ62mPIJvOSzC1bp8vRhhCakEk7G9/o4gmZdbpsTcKu0m63FbnBP9Qrc15z
                bkbemfgNDtEOI8NO5L5O9VYyRYgmJayZ9nPaxZrSjW4+F6Uw9yQqIiIZwhp2huQTf6OIvCZyGM6g
                DJBZbyXifJXr7FZjGXsdxADxI7HUJFB6iWvsIhFpkoiIiGTJfjJfiCuJg2ZEspq9EHGVpYgzKqwJ
                qSAOEwuJQ/pxPvE3cYltJCLdxBLiSKKIE5HxJKcTRNeadxfhDiuYw44zVs1dxKwRk/uCxIiQkxKB
                sSctRVAge9g1E15EHE6yRUaJecRxcWlukdRIbGFOSZCMWQA/iWauIP3slREHXPyliqBcrrD71Amz
                Z+rD1Mt2Yr8TZc/UR4/YtFnbijnHi3UrN9vKQ9rPaJf867ZiaqDB+czeKYmd3pNa6fuI75MiC0uX
                XSR5aEMf7s7a6r/PudVXkjFb/SsrCRfROk0Fx6+H1i9kkTGn/E1vEmt1m089fh+RKdQ5O+xNJPUi
                cUIjO0Dm7HwvErEr0YxeibL1StSh37STafE4I7zcBdRq1DiOkdmlTJVnkQTBTS7X1FYyvfO4piaI
                nKbDCDaT2anLudYXCRFsQBgAcIF2/Okwgvz5+Z4tsw118dzruvIvjhTB+HOuWy8UvovEH6beitBK
                xDyxm9MmISKCWrzB7bSlaqGlsf0FC0gMjzTg6GgAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDIt
                MTNUMDg6MTk6NTYrMDA6MDCjlq7LAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTAyLTEzVDA4OjE5
              OjU2KzAwOjAw0ssWdwAAACh0RVh0ZGF0ZTp0aW1lc3RhbXAAMjAyMy0wMi0xM1QwODoxOTo1Nisw
              MDowMIXeN6gAAAAASUVORK5CYII=`})}),e[4]=d):d=e[4];let f;e[5]!==i?(f=(0,a.jsx)("p",{className:"absolute text-[.6em] font-bold top-[8.3em] left-[1.6em] uppercase tracking-wider",children:i}),e[5]=i,e[6]=f):f=e[6];let x;e[7]===Symbol.for("react.memo_cache_sentinel")?(x=(0,a.jsx)("p",{className:"absolute text-[0.5em] font-bold top-[13.6em] left-[3.2em]",children:"1 2 / 2 4"}),e[7]=x):x=e[7];let p;e[8]!==r?(p=(0,a.jsx)("p",{className:"absolute text-[0.5em] font-bold top-[16.1em] left-[2em] uppercase tracking-tighter truncate w-[160px] text-left",children:r}),e[8]=r,e[9]=p):p=e[9];let g;e[10]!==p||e[11]!==f?(g=(0,a.jsxs)("div",{className:"credit-card-front",children:[o,c,m,d,f,x,p]}),e[10]=p,e[11]=f,e[12]=g):g=e[12];let h,u;e[13]===Symbol.for("react.memo_cache_sentinel")?(h=(0,a.jsx)("div",{className:"absolute w-full h-[1.5em] top-[2.4em] bg-black bg-[repeating-linear-gradient(45deg,#303030,#303030_10px,#202020_10px,#202020_20px)] left-0"}),u=(0,a.jsx)("div",{className:"absolute w-[8em] h-[0.8em] top-[5em] left-[0.8em] bg-white rounded-[2.5px]"}),e[13]=h,e[14]=u):(h=e[13],u=e[14]);let v;e[15]===Symbol.for("react.memo_cache_sentinel")?(v=(0,a.jsxs)("div",{className:"credit-card-back",children:[h,u,(0,a.jsx)("div",{className:"absolute w-[4.1em] h-[0.8em] top-[5em] left-[10em] bg-white rounded-[2.5px]",children:(0,a.jsx)("p",{className:"text-black font-bold text-center m-[.2em] text-[0.5em]",children:"***"})})]}),e[15]=v):v=e[15];let w;return e[16]!==g?(w=(0,a.jsxs)(a.Fragment,{children:[l,(0,a.jsx)("div",{className:"flex items-center justify-center p-8",children:(0,a.jsx)("div",{className:"credit-card-container",children:(0,a.jsxs)("div",{className:"credit-card-inner",children:[g,v]})})})]}),e[16]=g,e[17]=w):w=e[17],w},bo=Ni,ki=R();function vo(t){const e=(0,ki.c)(8);let s,n;e[0]!==t?({className:s,...n}=t,e[0]=t,e[1]=s,e[2]=n):(s=e[1],n=e[2]);let r;e[3]!==s?(r=M("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),e[3]=s,e[4]=r):r=e[4];let i;return e[5]!==n||e[6]!==r?(i=(0,a.jsx)("textarea",{"data-slot":"textarea",className:r,...n}),e[5]=n,e[6]=r,e[7]=i):i=e[7],i}var zi=R(),Si=t=>{const e=(0,zi.c)(7),{className:s}=t;let n;e[0]!==s?(n=M("flex items-center gap-1 px-1 py-1.5",s),e[0]=s,e[1]=n):n=e[1];let r,i,l;e[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,a.jsx)("div",{className:"size-1.5 rounded-full bg-zinc-400 dark:bg-zinc-500 animate-dot-pulse"}),i=(0,a.jsx)("div",{className:"size-1.5 rounded-full bg-zinc-400 dark:bg-zinc-500 animate-dot-pulse [animation-delay:0.2s]"}),l=(0,a.jsx)("div",{className:"size-1.5 rounded-full bg-zinc-400 dark:bg-zinc-500 animate-dot-pulse [animation-delay:0.4s]"}),e[2]=r,e[3]=i,e[4]=l):(r=e[2],i=e[3],l=e[4]);let o;return e[5]!==n?(o=(0,a.jsxs)("div",{className:n,children:[r,i,l]}),e[5]=n,e[6]=o):o=e[6],o},wo=Si,Ci=R(),Ai=()=>{const t=(0,Ci.c)(48),{currentUser:e,setAuthMode:s}=ce(),{darkMode:n,toggleDarkMode:r}=lt(),[i,l]=(0,b.useState)(""),o=et();let c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c={queryKey:["trending-hashtags"],queryFn:Pi,staleTime:3e5,refetchInterval:6e4},t[0]=c):c=t[0];const{data:m}=Oe(c);let d;t[1]!==m?(d=m===void 0?[]:m,t[1]=m,t[2]=d):d=t[2];const f=d;let x;t[3]===Symbol.for("react.memo_cache_sentinel")?(x=[" 2026 Sysm","Terms","Privacy","Guidelines","Discord","Sysm","GitHub","Support","Status"],t[3]=x):x=t[3];const p=x;let g;t[4]!==n?(g=n?(0,a.jsx)(Js,{size:20}):(0,a.jsx)(ya,{size:20}),t[4]=n,t[5]=g):g=t[5];let h;t[6]!==g||t[7]!==r?(h=(0,a.jsx)("button",{onClick:r,className:"p-3 rounded-full bg-zinc-50 dark:bg-zinc-900 text-zinc-500 dark:text-zinc-400 border border-zinc-100 dark:border-zinc-800 hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-all cursor-pointer",title:"Toggle Theme",children:g}),t[6]=g,t[7]=r,t[8]=h):h=t[8];const u=h;if(e){let q;t[9]===Symbol.for("react.memo_cache_sentinel")?(q=()=>l(""),t[9]=q):q=t[9];let E;t[10]!==i?(E=(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)(pt,{value:i,onChange:l,onClear:q})}),t[10]=i,t[11]=E):E=t[11];let B;t[12]!==E||t[13]!==u?(B=(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[E,u]}),t[12]=E,t[13]=u,t[14]=B):B=t[14];let O;t[15]===Symbol.for("react.memo_cache_sentinel")?(O=(0,a.jsx)("h3",{className:"font-extrabold text-xl mb-4 px-2 text-[--foreground]",children:"What's happening"}),t[15]=O):O=t[15];let Q;if(t[16]!==o||t[17]!==f){let S;t[19]!==o?(S=P=>(0,a.jsxs)("div",{onClick:()=>o(`/tags/${P.name.replace(/^#/,"")}`),className:"px-3 py-3 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-xl cursor-pointer transition-colors group",children:[(0,a.jsx)("div",{className:"text-xs text-zinc-500 dark:text-zinc-400 font-medium",children:"Trending"}),(0,a.jsxs)("div",{className:"font-bold text-[--foreground]",children:["#",P.name.replace(/^#/,"")]}),(0,a.jsxs)("div",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:[P.usage_count," posts"]})]},P.id),t[19]=o,t[20]=S):S=t[20],Q=f.map(S),t[16]=o,t[17]=f,t[18]=Q}else Q=t[18];let D;t[21]!==f.length?(D=f.length===0&&(0,a.jsx)("p",{className:"text-sm text-zinc-500 px-2",children:"No trends yet"}),t[21]=f.length,t[22]=D):D=t[22];let X;t[23]!==Q||t[24]!==D?(X=(0,a.jsxs)("div",{className:"bg-zinc-50 dark:bg-zinc-900 rounded-2xl p-4 border border-[--border]",children:[O,(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[Q,D]})]}),t[23]=Q,t[24]=D,t[25]=X):X=t[25];let N;t[26]===Symbol.for("react.memo_cache_sentinel")?(N=(0,a.jsx)("div",{className:"flex flex-wrap gap-x-4 gap-y-2 px-2 text-[13px] text-zinc-500 font-medium pb-5",children:p.map(Mi)}),t[26]=N):N=t[26];let k;return t[27]!==X||t[28]!==B?(k=(0,a.jsxs)("aside",{className:"sticky top-5 hidden w-[320px] shrink-0 flex-col gap-y-6 lg:flex overflow-y-auto max-h-screen",children:[B,X,N]}),t[27]=X,t[28]=B,t[29]=k):k=t[29],k}let v,w;t[30]!==s?(v=(0,a.jsx)("button",{onClick:()=>s("signup"),className:"flex-1 bg-[--card] border border-[--border] py-2.5 rounded-full font-bold text-[--foreground] hover:bg-zinc-50 dark:hover:bg-zinc-900 transition-colors shadow-sm cursor-pointer",children:"Signup"}),w=()=>s("login"),t[30]=s,t[31]=v,t[32]=w):(v=t[31],w=t[32]);let j;t[33]===Symbol.for("react.memo_cache_sentinel")?(j=(0,a.jsx)("img",{src:"/logo.webp",alt:"",className:"size-4 rounded-sm"}),t[33]=j):j=t[33];let _;t[34]!==w?(_=(0,a.jsxs)("button",{onClick:w,className:"flex-1 bg-zinc-950 dark:bg-white text-white dark:text-zinc-950 py-2.5 rounded-full font-bold flex items-center justify-center gap-2 hover:opacity-90 transition-opacity cursor-pointer",children:[j,"Login"]}),t[34]=w,t[35]=_):_=t[35];let z;t[36]!==v||t[37]!==_||t[38]!==u?(z=(0,a.jsxs)("div",{className:"flex gap-3",children:[v,_,u]}),t[36]=v,t[37]=_,t[38]=u,t[39]=z):z=t[39];let C;t[40]===Symbol.for("react.memo_cache_sentinel")?(C=()=>l(""),t[40]=C):C=t[40];let A;t[41]!==i?(A=(0,a.jsx)(pt,{value:i,onChange:l,onClear:C}),t[41]=i,t[42]=A):A=t[42];let F;t[43]===Symbol.for("react.memo_cache_sentinel")?(F=(0,a.jsx)(bi,{}),t[43]=F):F=t[43];let $;t[44]===Symbol.for("react.memo_cache_sentinel")?($=(0,a.jsx)("div",{className:"flex flex-wrap gap-x-4 gap-y-2 px-2 text-[13px] text-zinc-500 font-medium pb-5",children:p.map(Ei)}),t[44]=$):$=t[44];let W;return t[45]!==z||t[46]!==A?(W=(0,a.jsxs)("aside",{className:"sticky top-5 hidden w-[350px] shrink-0 flex-col gap-y-6 lg:flex pr-4",children:[z,A,F,$]}),t[45]=z,t[46]=A,t[47]=W):W=t[47],W},$i=Ai;function Pi(){return Fn(5)}function Mi(t){return(0,a.jsx)("a",{href:"#",className:"hover:underline",children:t},t)}function Ei(t){return(0,a.jsx)("a",{href:"#",className:"hover:underline",children:t},t)}var yo=R(),Ii=({isOpen:t,onClose:e})=>{const{currentUser:s}=ce(),{addToast:n}=ve(),r=et(),[i,l]=(0,b.useState)({name:"",handle:"",description:"",isPrivate:!1}),[o,c]=(0,b.useState)(!1),m=async d=>{if(d.preventDefault(),!(!i.name||!i.handle||!s)){c(!0);try{const f=await En({name:i.name,handle:i.handle.toLowerCase().replace(/[^a-z0-9_]/g,""),description:i.description,is_private:i.isPrivate,creator_id:s.id}),{error:x}=await y.from("community_members").insert([{community_id:f.id,user_id:s.id,role:"admin"}]);if(x)throw x;n(`Community "${f.name}" created!`),e(),r(`/c/${f.handle}`)}catch(f){console.error(f),n(f.message||"Failed to create community","error")}finally{c(!1)}}};return(0,a.jsx)(Be,{isOpen:t,onClose:()=>!o&&e(),title:"Create Community",className:"sm:max-w-md",children:(0,a.jsxs)("form",{onSubmit:m,className:"space-y-5",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center p-6 bg-zinc-50 dark:bg-zinc-900 rounded-2xl border-2 border-dashed border-zinc-200 dark:border-zinc-800",children:[(0,a.jsx)("div",{className:"size-20 rounded-2xl bg-white dark:bg-black flex items-center justify-center shadow-sm mb-3",children:(0,a.jsx)(He,{size:32,className:"text-violet-600"})}),(0,a.jsx)("p",{className:"text-xs font-medium text-zinc-500 text-center max-w-[200px]",children:"Communities are where people with shared interests connect."})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)("label",{className:"text-sm font-bold ml-1",children:"Community Name"}),(0,a.jsx)("input",{type:"text",required:!0,className:"w-full bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-4 py-2.5 outline-none focus:ring-2 focus:ring-violet-500/20 focus:border-violet-500 transition-all",placeholder:"e.g. Photography Enthusiasts",value:i.name,onChange:d=>l({...i,name:d.target.value})})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)("label",{className:"text-sm font-bold ml-1",children:"Handle"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-zinc-500 font-medium",children:"c/"}),(0,a.jsx)("input",{type:"text",required:!0,className:"w-full bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl pl-8 pr-4 py-2.5 outline-none focus:ring-2 focus:ring-violet-500/20 focus:border-violet-500 transition-all",placeholder:"photography",value:i.handle,onChange:d=>l({...i,handle:d.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"")})})]})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)("label",{className:"text-sm font-bold ml-1",children:"Description (Optional)"}),(0,a.jsx)("textarea",{className:"w-full bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-4 py-2.5 outline-none focus:ring-2 focus:ring-violet-500/20 focus:border-violet-500 transition-all min-h-[100px] resize-none",placeholder:"What is this community about?",value:i.description,onChange:d=>l({...i,description:d.target.value})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-zinc-50 dark:bg-zinc-900 rounded-xl border border-zinc-200 dark:border-zinc-800",children:[(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"text-sm font-bold",children:"Private Community"}),(0,a.jsx)("span",{className:"text-[10px] text-zinc-500",children:"Only Admins can post in private communities"})]}),(0,a.jsx)("input",{type:"checkbox",className:"size-5 rounded-md accent-violet-600 cursor-pointer",checked:i.isPrivate,onChange:d=>l({...i,isPrivate:d.target.checked})})]})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,a.jsx)(oe,{type:"button",variant:"outline",className:"flex-1",onClick:e,disabled:o,children:"Cancel"}),(0,a.jsx)(oe,{type:"submit",className:"flex-1",disabled:o||!i.name||!i.handle,children:o?(0,a.jsx)(ue,{size:18,className:"animate-spin"}):"Create"})]})]})})},jo=Ii,Ri=R(),Ti=t=>{const e=(0,Ri.c)(33),{id:s,file:n,index:r,total:i,onRemove:l,onAddThumbnail:o,customThumbnail:c}=t;let m;e[0]!==s?(m={id:s},e[0]=s,e[1]=m):m=e[1];const{attributes:d,listeners:f,setNodeRef:x,transform:p,transition:g,isDragging:h}=Qa(m);let u;e[2]!==p?(u=La.Transform.toString(p),e[2]=p,e[3]=u):u=e[3];const v=h?50:"auto",w=h?.5:1;let j;e[4]!==u||e[5]!==v||e[6]!==w||e[7]!==g?(j={transform:u,transition:g,zIndex:v,opacity:w},e[4]=u,e[5]=v,e[6]=w,e[7]=g,e[8]=j):j=e[8];const _=j,z=`relative group overflow-hidden bg-zinc-100 dark:bg-zinc-800 rounded-2xl border border-zinc-100 dark:border-zinc-800 shadow-sm transition-shadow ${i===3&&r===0?"row-span-2":""} ${h?"shadow-xl ring-2 ring-violet-500":""}`;let C;e[9]!==c||e[10]!==n?(C=n.type.startsWith("image/")?(0,a.jsx)("img",{src:URL.createObjectURL(n),className:"size-full object-cover pointer-events-none",alt:""}):(0,a.jsx)("div",{className:"size-full flex flex-col items-center justify-center text-zinc-500 gap-2 pointer-events-none",children:n.type.startsWith("video/")?(0,a.jsx)(a.Fragment,{children:c?(0,a.jsx)("img",{src:URL.createObjectURL(c),className:"size-full object-cover opacity-60",alt:"Custom thumbnail"}):(0,a.jsx)("div",{className:"size-10 rounded-full bg-black/20 flex items-center justify-center backdrop-blur-sm",children:(0,a.jsx)(Ue,{size:20,className:"text-zinc-400"})})}):(0,a.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,a.jsx)(Rs,{size:24}),(0,a.jsx)("span",{className:"text-[10px] font-bold truncate max-w-[100px] px-2",children:n.name})]})}),e[9]=c,e[10]=n,e[11]=C):C=e[11];let A;e[12]!==d||e[13]!==f||e[14]!==C?(A=(0,a.jsx)("div",{...d,...f,className:"size-full cursor-grab active:cursor-grabbing",children:C}),e[12]=d,e[13]=f,e[14]=C,e[15]=A):A=e[15];let F;e[16]!==c||e[17]!==n.type||e[18]!==o?(F=n.type.startsWith("video/")&&(0,a.jsx)("button",{type:"button",onClick:o,className:"absolute inset-x-0 bottom-0 bg-black/60 text-white text-[10px] font-bold py-2 backdrop-blur-md hover:bg-black/80 transition-colors z-10",children:c?"Change Cover":"Add Cover"}),e[16]=c,e[17]=n.type,e[18]=o,e[19]=F):F=e[19];let $;e[20]!==s||e[21]!==l?($=()=>l(s),e[20]=s,e[21]=l,e[22]=$):$=e[22];let W;e[23]===Symbol.for("react.memo_cache_sentinel")?(W=(0,a.jsx)(We,{size:14,strokeWidth:2.5}),e[23]=W):W=e[23];let q;e[24]!==$?(q=(0,a.jsx)("button",{type:"button",onClick:$,className:"absolute top-2 right-2 p-1.5 rounded-full bg-black/50 text-white hover:bg-rose-500 transition-colors backdrop-blur-md z-20",children:W}),e[24]=$,e[25]=q):q=e[25];let E;return e[26]!==x||e[27]!==_||e[28]!==q||e[29]!==z||e[30]!==A||e[31]!==F?(E=(0,a.jsxs)("div",{ref:x,style:_,className:z,children:[A,F,q]}),e[26]=x,e[27]=_,e[28]=q,e[29]=z,e[30]=A,e[31]=F,e[32]=E):E=e[32],E},Fi=({isOpen:t,onClose:e,initialCommunity:s})=>{const{currentUser:n}=ce(),{addPost:r}=sr(),{addToast:i}=ve(),[l,o]=(0,b.useState)(""),[c,m]=(0,b.useState)([]),[d,f]=(0,b.useState)({}),[x,p]=(0,b.useState)(!1),[g,h]=(0,b.useState)({options:["",""],duration:"1 day"}),[u,v]=(0,b.useState)(!1),[w,j]=(0,b.useState)(null),_=aa(ht(Ra,{activationConstraint:{distance:8}}),ht(ba,{coordinateGetter:Ka}));(0,b.useEffect)(()=>{j(s||null)},[s,t]);const{data:z=[]}=Oe({queryKey:["user-communities",n?.id],queryFn:()=>Mn(n?.id),enabled:!!n?.id}),C=(0,b.useRef)(null),A=(0,b.useRef)(null),[F,$]=(0,b.useState)(null),W=N=>{const k=Array.from(N.target.files).map(S=>({id:Math.random().toString(36).substring(2,11),file:S}));m(S=>[...S,...k])},q=N=>{const k=N.target.files[0];k&&F!==null&&f(S=>({...S,[F]:k})),$(null)},E=N=>{m(S=>S.filter(P=>P.id!==N));const k={...d};delete k[N],f(k)},B=N=>{const{active:k,over:S}=N;S&&k.id!==S.id&&m(P=>Za(P,P.findIndex(K=>K.id===k.id),P.findIndex(K=>K.id===S.id)))},O=()=>{g.options.length<4&&h(N=>({...N,options:[...N.options,""]}))},Q=N=>{h(k=>({...k,options:k.options.filter((S,P)=>P!==N)}))},D=(N,k)=>{const S=[...g.options];S[N]=k,h(P=>({...P,options:S}))},X=async N=>{if(N.preventDefault(),!(!l.trim()&&c.length===0||!n)){v(!0);try{const k=[];for(let P=0;P<c.length;P++){const K=c[P],H=d[K.id]||null,J=await _e(K.file,"media",H);k.push(J)}let S=null;x&&g.options.some(P=>P.trim())&&(S={options:g.options.filter(P=>P.trim()).map((P,K)=>({id:K+1,text:P,votes:0})),ends_at:new Date(Date.now()+1440*60*1e3).toISOString()}),await r({content:l,media:k,poll:S,type:k.length>0?k[0].type==="video"?"video":"image":S?"poll":"text",userId:n.id,communityId:w?.id||null}),o(""),m([]),p(!1),h({options:["",""],duration:"1 day"}),j(null),e(),i("Post published!")}catch(k){console.error("Failed to create post:",k),i("Failed to publish post.","error")}finally{v(!1)}}};return(0,a.jsx)(Be,{isOpen:t,onClose:()=>!u&&e(),title:"Create Post",className:"sm:max-w-[600px] p-0 overflow-hidden gap-0",footer:(0,a.jsxs)("div",{className:"flex items-center justify-between w-full pt-2",children:[(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)("button",{type:"button",onClick:()=>C.current?.click(),className:"p-2 text-violet-600 hover:bg-violet-50 dark:text-violet-400 dark:hover:bg-violet-900/20 rounded-full transition-all active:scale-95",title:"Attach media",children:(0,a.jsx)(Us,{size:20})}),(0,a.jsx)("button",{type:"button",onClick:()=>p(!x),className:`p-2 rounded-full transition-all active:scale-95 ${x?"bg-violet-50 text-violet-600 dark:bg-violet-900/20 dark:text-violet-400":"text-violet-600 hover:bg-violet-50 dark:text-violet-400 dark:hover:bg-violet-900/20"}`,title:"Add poll",children:(0,a.jsx)(Aa,{size:20})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"h-6 w-px bg-zinc-200 dark:bg-zinc-800"}),(0,a.jsx)(oe,{onClick:X,disabled:!l.trim()&&c.length===0||u,className:"rounded-full px-6 h-9 text-sm font-bold bg-zinc-900 dark:bg-white text-white dark:text-zinc-950 hover:opacity-90 disabled:opacity-50 transition-all shadow-md active:scale-95",children:u?(0,a.jsx)(ue,{size:16,className:"animate-spin"}):"Post"})]}),(0,a.jsx)("input",{type:"file",ref:C,onChange:W,multiple:!0,className:"hidden",accept:"image/*,video/*,application/pdf"}),(0,a.jsx)("input",{type:"file",ref:A,onChange:q,className:"hidden",accept:"image/*"})]}),children:(0,a.jsxs)("div",{className:"flex flex-col gap-4 p-1",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsxs)(Ne,{className:"size-10 border border-zinc-100 dark:border-zinc-800 shadow-sm shrink-0",children:[(0,a.jsx)(ke,{src:n?.avatar,className:"object-cover"}),(0,a.jsx)(ze,{children:n?.handle?.[0]?.toUpperCase()})]}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,a.jsx)("span",{className:"font-bold text-sm text-zinc-900 dark:text-zinc-100 truncate",children:n?.name}),(0,a.jsxs)(Ir,{children:[(0,a.jsx)(Rr,{asChild:!0,children:(0,a.jsx)("button",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-full border border-zinc-200 dark:border-zinc-700 bg-white dark:bg-zinc-900 text-xs font-bold text-zinc-600 dark:text-zinc-300 hover:bg-zinc-50 dark:hover:bg-zinc-800 transition-all group",children:w?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(He,{size:12,className:"text-violet-500"}),(0,a.jsx)("span",{className:"max-w-[100px] truncate",children:w.name})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ut,{size:12,className:"text-zinc-400 group-hover:text-violet-500 transition-colors"}),(0,a.jsx)("span",{children:"Everyone"})]})})}),(0,a.jsxs)(Tr,{align:"start",className:"w-60 p-1.5 rounded-xl shadow-xl border-zinc-100 dark:border-zinc-800",children:[(0,a.jsxs)(xt,{onClick:()=>j(null),className:"gap-3 py-2 px-3 rounded-lg cursor-pointer focus:bg-zinc-50 dark:focus:bg-zinc-800",children:[(0,a.jsx)("div",{className:"size-8 rounded-full bg-zinc-100 dark:bg-zinc-800 flex items-center justify-center shrink-0",children:(0,a.jsx)(ut,{size:16,className:"text-zinc-500"})}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"font-bold text-sm",children:"Everyone"}),(0,a.jsx)("span",{className:"text-[11px] text-zinc-500",children:"Public feed"})]})]}),z.length>0&&(0,a.jsx)("div",{className:"h-px bg-zinc-100 dark:bg-zinc-800 my-1 mx-2"}),(0,a.jsx)("div",{className:"max-h-[200px] overflow-y-auto",children:z.filter(N=>!N.isPrivate||N.myRole==="admin").map(N=>(0,a.jsxs)(xt,{onClick:()=>j(N),className:"gap-3 py-2 px-3 rounded-lg cursor-pointer focus:bg-zinc-50 dark:focus:bg-zinc-800",children:[(0,a.jsxs)(Ne,{className:"size-8 border border-zinc-100 dark:border-zinc-700",children:[(0,a.jsx)(ke,{src:N.avatar}),(0,a.jsx)(ze,{children:N.name[0]})]}),(0,a.jsxs)("div",{className:"flex flex-col min-w-0",children:[(0,a.jsx)("span",{className:"font-bold text-sm truncate",children:N.name}),(0,a.jsx)("span",{className:"text-[11px] text-zinc-500",children:"Community"})]})]},N.id))})]})]})]}),(0,a.jsx)("textarea",{className:"w-full bg-transparent border-none outline-none text-lg min-h-[100px] max-h-[400px] resize-none dark:text-zinc-100 placeholder:text-zinc-400 font-medium leading-relaxed",placeholder:"What's on your mind?",autoFocus:!0,value:l,onChange:N=>{o(N.target.value),N.target.style.height="auto",N.target.style.height=N.target.scrollHeight+"px"}})]})]}),(0,a.jsxs)("div",{className:"pl-[52px]",children:[c.length>0&&(0,a.jsx)("div",{className:"mb-4 animate-in fade-in zoom-in-95 duration-200",children:(0,a.jsx)(Ma,{sensors:_,collisionDetection:ia,onDragEnd:B,children:(0,a.jsx)(en,{items:c.map(N=>N.id),strategy:Ha,children:(0,a.jsx)("div",{className:`grid gap-2 rounded-2xl overflow-hidden border border-zinc-100 dark:border-zinc-800 shadow-sm ${c.length===1?"grid-cols-1":"grid-cols-2 aspect-[16/9]"}`,children:c.map((N,k)=>(0,a.jsx)(Ti,{id:N.id,file:N.file,index:k,total:c.length,onRemove:E,customThumbnail:d[N.id],onAddThumbnail:()=>{$(N.id),A.current?.click()}},N.id))})})})}),x&&(0,a.jsxs)("div",{className:"mb-4 p-4 rounded-xl border border-violet-100 dark:border-violet-900/30 bg-violet-50/30 dark:bg-violet-900/10 space-y-3 animate-in slide-in-from-top-2 duration-200",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center px-1",children:[(0,a.jsx)("span",{className:"text-xs font-bold text-violet-600 dark:text-violet-400 uppercase tracking-wider",children:"Poll Options"}),(0,a.jsx)("button",{type:"button",onClick:()=>p(!1),className:"text-zinc-400 hover:text-rose-500 transition-colors",children:(0,a.jsx)(We,{size:16})})]}),(0,a.jsx)("div",{className:"space-y-2",children:g.options.map((N,k)=>(0,a.jsxs)("div",{className:"flex gap-2 group",children:[(0,a.jsxs)("div",{className:"flex-1 relative",children:[(0,a.jsx)("input",{className:"w-full bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 rounded-lg pl-4 pr-10 py-2.5 text-sm outline-none focus:border-violet-500 focus:ring-2 focus:ring-violet-500/10 transition-all font-medium placeholder:font-normal",placeholder:`Option ${k+1}`,value:N,autoFocus:k===g.options.length-1,onChange:S=>D(k,S.target.value)}),(0,a.jsxs)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-[10px] font-bold text-zinc-300 pointer-events-none",children:[N.length,"/25"]})]}),g.options.length>2&&(0,a.jsx)("button",{type:"button",onClick:()=>Q(k),className:"p-2.5 text-zinc-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg transition-colors",children:(0,a.jsx)(Gs,{size:18})})]},k))}),g.options.length<4&&(0,a.jsx)("button",{type:"button",onClick:O,className:"w-full py-2.5 text-sm font-bold text-violet-600 dark:text-violet-400 hover:bg-violet-100 dark:hover:bg-violet-900/30 rounded-lg border border-dashed border-violet-200 dark:border-violet-800 transition-all",children:"+ Add option"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 pt-1 px-1",children:[(0,a.jsx)("span",{className:"text-[10px] font-medium text-zinc-500",children:"Poll ends in"}),(0,a.jsxs)("select",{className:"bg-transparent text-[10px] font-bold text-zinc-700 dark:text-zinc-300 outline-none cursor-pointer hover:text-violet-600",value:g.duration,onChange:N=>h({...g,duration:N.target.value}),children:[(0,a.jsx)("option",{value:"1 day",children:"1 day"}),(0,a.jsx)("option",{value:"3 days",children:"3 days"}),(0,a.jsx)("option",{value:"7 days",children:"7 days"})]})]})]})]})]})})},qi=Fi,Di=({isOpen:t,onClose:e})=>{const{currentUser:s}=ce(),{addToast:n}=ve(),r=it(),[i,l]=(0,b.useState)(null),[o,c]=(0,b.useState)(!1),[m,d]=(0,b.useState)(null),f=(0,b.useRef)(null),x=u=>{const v=u.target.files[0];v&&l(v)},p=()=>{if(!i)return;const u=new FileReader;u.onload=()=>{d(u.result)},u.readAsDataURL(i)},g=u=>{l(new File([u],`story-cropped-${Date.now()}.jpg`,{type:"image/jpeg"})),d(null)},h=async()=>{if(!(!i||!s)){c(!0);try{const u=await _e(i);await An(s.id,u.url,u.type),l(null),e(),n("Story shared!"),r.invalidateQueries(["stories"])}catch(u){console.error("Failed to create story:",u),n("Failed to share story.")}finally{c(!1)}}};return(0,a.jsxs)(Be,{isOpen:t,onClose:()=>!o&&e(),title:"Add Story",children:[(0,a.jsxs)("div",{className:"space-y-6",children:[i?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"relative aspect-[9/16] w-full max-w-[280px] mx-auto rounded-3xl overflow-hidden shadow-2xl",children:[(0,a.jsx)("img",{src:URL.createObjectURL(i),className:"w-full h-full object-cover",alt:"Preview"}),(0,a.jsx)("button",{onClick:()=>l(null),className:"absolute top-4 right-4 p-2 bg-black/50 text-white rounded-full hover:bg-rose-500 transition-colors",title:"Remove",children:(0,a.jsx)(We,{size:20})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-4 py-2 bg-zinc-50/50 dark:bg-zinc-900/50 rounded-2xl",children:[(0,a.jsxs)("button",{onClick:p,className:"flex flex-col items-center gap-1.5 p-3 rounded-xl hover:bg-white dark:hover:bg-zinc-800 transition-all text-zinc-600 dark:text-zinc-400 hover:text-violet-600 dark:hover:text-violet-400 group",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg bg-white dark:bg-zinc-800 shadow-sm group-hover:shadow-md transition-all",children:(0,a.jsx)(va,{size:20})}),(0,a.jsx)("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:"Crop / Edit"})]}),(0,a.jsxs)("button",{className:"flex flex-col items-center gap-1.5 p-3 rounded-xl opacity-40 cursor-not-allowed text-zinc-600 dark:text-zinc-400",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg bg-white dark:bg-zinc-800 shadow-sm",children:(0,a.jsx)("svg",{size:20,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-5 h-5",children:(0,a.jsx)("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 21 3 22l1-4.5L17 3z"})})}),(0,a.jsx)("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:"Text"})]}),(0,a.jsxs)("button",{className:"flex flex-col items-center gap-1.5 p-3 rounded-xl opacity-40 cursor-not-allowed text-zinc-600 dark:text-zinc-400",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg bg-white dark:bg-zinc-800 shadow-sm",children:(0,a.jsxs)("svg",{size:20,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-5 h-5",children:[(0,a.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,a.jsx)("path",{d:"M8 14s1.5 2 4 2 4-2 4-2"}),(0,a.jsx)("line",{x1:"9",y1:"9",x2:"9.01",y2:"9"}),(0,a.jsx)("line",{x1:"15",y1:"9",x2:"15.01",y2:"9"})]})}),(0,a.jsx)("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:"Stickers"})]})]})]}):(0,a.jsxs)("div",{className:"py-10",children:[(0,a.jsxs)("div",{className:"relative w-full group",onClick:()=>f.current?.click(),children:[(0,a.jsx)("div",{className:"relative z-40 cursor-pointer group-hover:translate-x-8 group-hover:shadow-2xl group-hover:-translate-y-8 transition-all duration-500 bg-zinc-900 dark:bg-white flex items-center justify-center h-32 w-32 mx-auto rounded-xl border-4 border-white dark:border-zinc-900",children:(0,a.jsxs)("svg",{className:"h-8 w-8 text-white/60 dark:text-zinc-950/60",strokeLinejoin:"round",strokeLinecap:"round",strokeWidth:"2",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"}),(0,a.jsx)("path",{d:"M7 9l5 -5l5 5"}),(0,a.jsx)("path",{d:"M12 4l0 12"})]})}),(0,a.jsx)("div",{className:"absolute border-2 opacity-0 group-hover:opacity-80 transition-all duration-300 border-dashed border-violet-500 inset-0 z-30 bg-transparent flex items-center justify-center h-32 w-32 mx-auto rounded-xl"})]}),(0,a.jsxs)("div",{className:"text-center mt-8",children:[(0,a.jsx)("p",{className:"font-bold dark:text-white",children:"Choose a photo"}),(0,a.jsx)("p",{className:"text-sm text-zinc-500",children:"Stories last for 24 hours"})]})]}),(0,a.jsx)("input",{type:"file",ref:f,onChange:x,className:"hidden",accept:"image/*"}),(0,a.jsx)(oe,{className:"w-full py-3 text-lg",disabled:!i||o,onClick:h,children:o?(0,a.jsx)(ue,{size:24,className:"animate-spin mx-auto"}):"Share story"})]}),m&&(0,a.jsx)(Ur,{src:m,isOpen:!!m,onClose:()=>d(null),onCropComplete:g,aspect:9/16})]})},Li=Di;function _o({isOpen:t,onClose:e,community:s,onUpdate:n}){const{addToast:r}=ve(),[i,l]=(0,b.useState)({name:"",handle:"",description:"",avatar:"",cover:"",isPrivate:!1}),[o,c]=(0,b.useState)(!1),m=(0,b.useRef)(null),d=(0,b.useRef)(null);(0,b.useEffect)(()=>{s&&t&&l({name:s.name||"",handle:s.handle||"",description:s.description||"",avatar:s.avatar||"",cover:s.cover||"",isPrivate:s.isPrivate||!1})},[s,t]);const f=(g,h)=>{const u=g.target.files[0];u&&x(u,h)},x=async(g,h)=>{c(!0);try{const u=await _e(g);l(v=>({...v,[h]:u.url})),r(`${h.charAt(0).toUpperCase()+h.slice(1)} uploaded!`)}catch{r(`Failed to upload ${h}`,"error")}finally{c(!1)}},p=async g=>{if(g.preventDefault(),!(!i.name||!i.handle||!s)){c(!0);try{const h=await In(s.id,{name:i.name,handle:i.handle.toLowerCase().replace(/[^a-z0-9_]/g,""),description:i.description,avatar_url:i.avatar,cover_url:i.cover,is_private:i.isPrivate});r("Community updated successfully!"),n&&n(h),e()}catch(h){console.error(h),r(h.message||"Failed to update community","error")}finally{c(!1)}}};return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(Be,{isOpen:t,onClose:()=>!o&&e(),title:"Edit Community",className:"sm:max-w-xl",children:[(0,a.jsxs)("div",{className:"space-y-6 max-h-[85vh] overflow-y-auto px-1",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"h-32 sm:h-40 bg-zinc-100 dark:bg-zinc-900 rounded-xl overflow-hidden relative group",children:[i.cover&&(0,a.jsx)("img",{src:i.cover,className:"w-full h-full object-cover",alt:""}),(0,a.jsx)("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:(0,a.jsx)("button",{onClick:()=>d.current?.click(),className:"p-3 bg-black/60 text-white rounded-full hover:bg-black transition-all",children:(0,a.jsx)(mt,{size:20})})})]}),(0,a.jsx)("div",{className:"absolute -bottom-8 left-6",children:(0,a.jsxs)("div",{className:"relative group size-20 sm:size-24 rounded-2xl border-4 border-white dark:border-black bg-zinc-100 dark:bg-zinc-800 overflow-hidden shadow-lg",children:[(0,a.jsx)("img",{src:i.avatar,className:"size-full object-cover",alt:""}),(0,a.jsx)("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:(0,a.jsx)("button",{onClick:()=>m.current?.click(),className:"text-white p-2",children:(0,a.jsx)(mt,{size:18})})})]})})]}),(0,a.jsx)("div",{className:"pt-6",children:(0,a.jsxs)("form",{onSubmit:p,className:"space-y-5",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)("label",{className:"text-sm font-bold ml-1",children:"Community Name"}),(0,a.jsx)("input",{type:"text",required:!0,className:"w-full bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-4 py-2.5 outline-none focus:ring-2 focus:ring-violet-500/20 focus:border-violet-500 transition-all font-medium",value:i.name,onChange:g=>l({...i,name:g.target.value})})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)("label",{className:"text-sm font-bold ml-1",children:"Handle"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-zinc-500 font-medium text-sm",children:"c/"}),(0,a.jsx)("input",{type:"text",required:!0,className:"w-full bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl pl-8 pr-4 py-2.5 outline-none focus:ring-2 focus:ring-violet-500/20 focus:border-violet-500 transition-all font-medium text-sm",value:i.handle,onChange:g=>l({...i,handle:g.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"")})})]})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)("label",{className:"text-sm font-bold ml-1",children:"Description"}),(0,a.jsx)("textarea",{className:"w-full bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-4 py-2.5 outline-none focus:ring-2 focus:ring-violet-500/20 focus:border-violet-500 transition-all min-h-[100px] resize-none font-medium",placeholder:"What is this community about?",value:i.description,onChange:g=>l({...i,description:g.target.value})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-zinc-50 dark:bg-zinc-900 rounded-xl border border-zinc-200 dark:border-zinc-800",children:[(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"text-sm font-bold",children:"Private Community"}),(0,a.jsx)("span",{className:"text-[10px] text-zinc-500",children:"Only Admins can post in private communities"})]}),(0,a.jsx)("input",{type:"checkbox",className:"size-5 rounded-md accent-violet-600 cursor-pointer",checked:i.isPrivate,onChange:g=>l({...i,isPrivate:g.target.checked})})]})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-6 py-2",children:[(0,a.jsx)(oe,{type:"button",variant:"outline",className:"flex-1 rounded-xl h-11 font-bold",onClick:e,disabled:o,children:"Cancel"}),(0,a.jsx)(oe,{type:"submit",className:"flex-1 rounded-xl h-11 font-bold bg-zinc-900 dark:bg-white text-white dark:text-black hover:bg-zinc-800 dark:hover:bg-zinc-200 transition-all active:scale-95",disabled:o||!i.name,children:o?(0,a.jsx)(ue,{size:18,className:"animate-spin"}):"Save Changes"})]})]})})]}),(0,a.jsx)("input",{type:"file",ref:m,className:"hidden",accept:"image/*",onChange:g=>f(g,"avatar")}),(0,a.jsx)("input",{type:"file",ref:d,className:"hidden",accept:"image/*",onChange:g=>f(g,"cover")})]})})}var Oi=({isOpen:t,onClose:e,editProfileData:s,setEditProfileData:n})=>{const{updateProfile:r}=ce(),{addToast:i}=ve(),[l,o]=(0,b.useState)(!1),[c,m]=(0,b.useState)(null),[d,f]=(0,b.useState)(null),x=(0,b.useRef)(null),p=(0,b.useRef)(null),g=(u,v)=>{const w=u.target.files[0];w&&(v==="avatar"?m(w):f(w))},h=async()=>{o(!0);try{let u=s.avatar,v=s.cover;c&&(u=(await _e(c)).url),d&&(v=(await _e(d)).url),await r({...s,avatar:u,cover:v}),m(null),f(null),e(),i("Profile updated!")}catch(u){console.error("Failed to update profile:",u),i("Failed to update profile.","error")}finally{o(!1)}};return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(Be,{isOpen:t,onClose:()=>!l&&e(),title:"Edit Profile",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("input",{type:"file",ref:p,className:"hidden",accept:"image/*",onChange:u=>g(u,"cover")}),(0,a.jsx)("input",{type:"file",ref:x,className:"hidden",accept:"image/*",onChange:u=>g(u,"avatar")}),(0,a.jsxs)("div",{className:"relative h-32 bg-zinc-100 dark:bg-zinc-800 rounded-xl overflow-hidden group cursor-pointer",onClick:()=>p.current?.click(),children:[(d||s?.cover)&&(0,a.jsx)("img",{src:d?URL.createObjectURL(d):s.cover,className:"w-full h-full object-cover opacity-60",alt:""}),(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsx)("div",{className:"bg-black/50 p-2 rounded-full text-white group-hover:scale-110 transition-transform",children:(0,a.jsx)(Ue,{size:20})})})]}),(0,a.jsx)("div",{className:"relative -mt-16 ml-4",children:(0,a.jsxs)("div",{className:"relative size-24 rounded-full border-4 border-white dark:border-black overflow-hidden group cursor-pointer shadow-lg bg-white dark:bg-black",onClick:()=>x.current?.click(),children:[(c||s?.avatar)&&(0,a.jsxs)(Ne,{className:"size-full opacity-60 rounded-none",children:[(0,a.jsx)(ke,{src:c?URL.createObjectURL(c):s.avatar,className:"object-cover"}),(0,a.jsx)(ze,{children:s?.handle?.[0]?.toUpperCase()})]}),(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsx)("div",{className:"bg-black/50 p-2 rounded-full text-white group-hover:scale-110 transition-transform",children:(0,a.jsx)(Ue,{size:16})})})]})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(pe,{label:"Name",value:s?.name||"",onChange:u=>n({...s,name:u.target.value})}),(0,a.jsx)(pe,{label:"Bio",textarea:!0,value:s?.bio||"",onChange:u=>n({...s,bio:u.target.value})}),(0,a.jsx)(pe,{label:"Location",value:s?.location||"",onChange:u=>n({...s,location:u.target.value})}),(0,a.jsx)(pe,{label:"Website",value:s?.website||"",onChange:u=>n({...s,website:u.target.value})})]}),(0,a.jsx)(oe,{className:"w-full py-3",disabled:l,onClick:h,children:l?(0,a.jsx)(ue,{size:24,className:"animate-spin text-white mx-auto"}):"Save changes"})]})})})},Wi=Oi;function No({isOpen:t,onClose:e,community:s}){const{addToast:n}=ve(),{currentUser:r}=ce(),[i,l]=(0,b.useState)([]),[o,c]=(0,b.useState)(!1),[m,d]=(0,b.useState)(""),[f,x]=(0,b.useState)("members"),[p,g]=(0,b.useState)(!1),h=r?.id===s?.creatorId,u=(0,b.useCallback)(async(z="")=>{if(s?.id){c(!0),g(!0);try{l(await Rn(s.id,z))}catch(C){console.error("Failed to load members:",C),n("Failed to load members","error")}finally{c(!1)}}},[s?.id,n]);(0,b.useEffect)(()=>{t&&s?.id?u(""):(d(""),l([]),g(!1))},[t,s?.id,u]),(0,b.useEffect)(()=>{if(m.length>=2){const z=setTimeout(()=>{u(m)},500);return()=>clearTimeout(z)}else m.length===0&&p&&u("")},[m,u,p]);const v=async(z,C)=>{try{const A=C==="admin"?"member":"admin";await Tn(s.id,z,A),l(F=>F.map($=>$.userId===z?{...$,role:A}:$)),n(`Role updated to ${A}`)}catch{n("Failed to update role","error")}},w=(0,b.useMemo)(()=>i.filter(z=>z.role==="admin"||z.userId===s.creatorId),[i,s.creatorId]),j=(0,b.useMemo)(()=>i.filter(z=>z.role!=="admin"&&z.userId!==s.creatorId),[i,s.creatorId]),_=z=>o?(0,a.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,a.jsx)(ue,{className:"animate-spin text-violet-500",size:32})}):z.length>0?(0,a.jsx)("div",{className:"divide-y divide-zinc-100 dark:divide-zinc-800/50",children:z.map(C=>(0,a.jsxs)("div",{className:"p-4 flex items-center justify-between hover:bg-white dark:hover:bg-zinc-800/50 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)(Ne,{className:"size-10 border border-zinc-200 dark:border-zinc-700 shadow-sm",children:[(0,a.jsx)(ke,{src:C.user.avatar_url}),(0,a.jsx)(ze,{children:C.user.username?.[0]?.toUpperCase()})]}),(0,a.jsxs)("div",{className:"flex flex-col min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("span",{className:"text-sm font-bold truncate max-w-[140px] dark:text-white",children:C.user.display_name}),C.user.is_verified&&(0,a.jsx)(as,{})]}),(0,a.jsxs)("span",{className:"text-xs text-zinc-500 font-medium",children:["@",C.user.username]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[C.userId===s.creatorId?(0,a.jsx)("span",{className:"text-[10px] font-black px-3 py-1 bg-zinc-200 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-400 rounded-full tracking-wider",children:"OWNER"}):h&&(0,a.jsx)("button",{onClick:()=>v(C.userId,C.role),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full text-[11px] font-bold transition-all ${C.role==="admin"?"bg-rose-50 text-rose-600 hover:bg-rose-100 dark:bg-rose-950/20 dark:text-rose-400":"bg-zinc-100 text-zinc-600 hover:bg-zinc-200 dark:bg-zinc-800 dark:text-zinc-400 dark:hover:bg-zinc-700"}`,children:C.role==="admin"?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(us,{size:14}),"Admin"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(nt,{size:14}),"Make Admin"]})}),!h&&C.role==="admin"&&C.userId!==s.creatorId&&(0,a.jsx)("span",{className:"text-[10px] font-black px-3 py-1 bg-violet-50 dark:bg-violet-900/20 text-violet-600 dark:text-violet-400 rounded-full tracking-wider",children:"ADMIN"})]})]},C.userId))}):(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 text-center px-6",children:[(0,a.jsx)("div",{className:"size-12 rounded-full bg-zinc-100 dark:bg-zinc-800 flex items-center justify-center mb-3",children:(0,a.jsx)(nt,{size:24,className:"text-zinc-400"})}),(0,a.jsxs)("p",{className:"text-sm font-bold dark:text-white",children:["No ",f," found"]}),(0,a.jsx)("p",{className:"text-xs text-zinc-500 mt-1",children:"Try a different search term"})]});return(0,a.jsx)(Be,{isOpen:t,onClose:e,title:"Manage Members",className:"sm:max-w-md",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(Tt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400",size:18}),(0,a.jsx)("input",{type:"text",placeholder:"Search members...",className:"w-full bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl pl-10 pr-4 py-2.5 text-sm outline-none focus:ring-2 focus:ring-violet-500/20 focus:border-violet-500 transition-all font-medium",value:m,onChange:z=>d(z.target.value)})]}),(0,a.jsxs)(yi,{value:f,onValueChange:x,className:"w-full",children:[(0,a.jsxs)(ji,{className:"w-full bg-zinc-100 dark:bg-zinc-900 p-1 rounded-xl h-11",children:[(0,a.jsxs)(gt,{value:"members",className:"flex-1 rounded-lg font-bold data-[state=active]:bg-white dark:data-[state=active]:bg-zinc-800 dark:text-zinc-400 dark:data-[state=active]:text-white",children:["Members (",j.length,")"]}),(0,a.jsxs)(gt,{value:"admins",className:"flex-1 rounded-lg font-bold data-[state=active]:bg-white dark:data-[state=active]:bg-zinc-800 dark:text-zinc-400 dark:data-[state=active]:text-white",children:["Admins (",w.length,")"]})]}),(0,a.jsxs)("div",{className:"mt-4 bg-zinc-50 dark:bg-zinc-900 rounded-2xl border border-zinc-100 dark:border-zinc-800 overflow-hidden min-h-[300px] max-h-[400px] overflow-y-auto",children:[(0,a.jsx)(bt,{value:"members",className:"m-0",children:_(j)}),(0,a.jsx)(bt,{value:"admins",className:"m-0",children:_(w)})]})]})]})})}var Vi=R(),Bi=t=>{const e=(0,Vi.c)(22),{isPostModalOpen:s,setIsPostModalOpen:n,isEditProfileOpen:r,setIsEditProfileOpen:i,isStoryModalOpen:l,setIsStoryModalOpen:o,editProfileData:c,setEditProfileData:m,postCommunity:d}=t;let f;e[0]!==n?(f=()=>n(!1),e[0]=n,e[1]=f):f=e[1];let x;e[2]!==s||e[3]!==d||e[4]!==f?(x=(0,a.jsx)(qi,{isOpen:s,onClose:f,initialCommunity:d}),e[2]=s,e[3]=d,e[4]=f,e[5]=x):x=e[5];let p;e[6]!==i?(p=()=>i(!1),e[6]=i,e[7]=p):p=e[7];let g;e[8]!==c||e[9]!==r||e[10]!==m||e[11]!==p?(g=(0,a.jsx)(Wi,{isOpen:r,onClose:p,editProfileData:c,setEditProfileData:m}),e[8]=c,e[9]=r,e[10]=m,e[11]=p,e[12]=g):g=e[12];let h;e[13]!==o?(h=()=>o(!1),e[13]=o,e[14]=h):h=e[14];let u;e[15]!==l||e[16]!==h?(u=(0,a.jsx)(Li,{isOpen:l,onClose:h}),e[15]=l,e[16]=h,e[17]=u):u=e[17];let v;return e[18]!==x||e[19]!==g||e[20]!==u?(v=(0,a.jsxs)(a.Fragment,{children:[x,g,u]}),e[18]=x,e[19]=g,e[20]=u,e[21]=v):v=e[21],v},Ui=Bi,Yi=R(),Qi=t=>{const e=(0,Yi.c)(91),{story:s,onClose:n}=t,[r,i]=(0,b.useState)(0),[l,o]=(0,b.useState)(0),[c,m]=(0,b.useState)(!1),d=s.stories,f=d[r];let x;e[0]!==r||e[1]!==n||e[2]!==d.length||e[3]!==s.user.id?(x=()=>{r<d.length-1?(i(Ki),o(0)):n(s.user.id)},e[0]=r,e[1]=n,e[2]=d.length,e[3]=s.user.id,e[4]=x):x=e[4];const p=x;let g;e[5]!==r?(g=()=>{r>0&&(i(Zi),o(0))},e[5]=r,e[6]=g):g=e[6];const h=g;let u;e[7]===Symbol.for("react.memo_cache_sentinel")?(u=L=>{L.stopPropagation(),m(Ji)},e[7]=u):u=e[7];const v=u;let w;e[8]!==p||e[9]!==c?(w=()=>{if(c)return;const L=setInterval(()=>{o(Z=>Z>=100?(p(),100):Z+1)},50);return()=>clearInterval(L)},e[8]=p,e[9]=c,e[10]=w):w=e[10];let j;e[11]!==r||e[12]!==p||e[13]!==c?(j=[p,r,c],e[11]=r,e[12]=p,e[13]=c,e[14]=j):j=e[14],(0,b.useEffect)(w,j);let _;if(e[15]!==r||e[16]!==l||e[17]!==d){let L;e[19]!==r||e[20]!==l?(L=(Z,U)=>(0,a.jsx)("div",{className:"flex-1 h-full bg-white/30 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-white transition-all duration-100",style:{width:U<r?"100%":U===r?`${l}%`:"0%"}})},U),e[19]=r,e[20]=l,e[21]=L):L=e[21],_=d.map(L),e[15]=r,e[16]=l,e[17]=d,e[18]=_}else _=e[18];let z;e[22]!==_?(z=(0,a.jsx)("div",{className:"flex gap-1.5 h-0.5 w-full bg-transparent",children:_}),e[22]=_,e[23]=z):z=e[23];const C=`/u/${s.user.handle}`;let A;e[24]!==s.user.avatar||e[25]!==s.user.handle?(A=(0,a.jsx)(ke,{src:s.user.avatar,alt:s.user.handle,className:"object-cover"}),e[24]=s.user.avatar,e[25]=s.user.handle,e[26]=A):A=e[26];let F;e[27]!==s.user.handle?.[0]?(F=s.user.handle?.[0]?.toUpperCase(),e[27]=s.user.handle?.[0],e[28]=F):F=e[28];let $;e[29]!==F?($=(0,a.jsx)(ze,{children:F}),e[29]=F,e[30]=$):$=e[30];let W;e[31]!==$||e[32]!==A?(W=(0,a.jsxs)(Ne,{className:"size-10 border border-white/20 shadow-sm",children:[A,$]}),e[31]=$,e[32]=A,e[33]=W):W=e[33];let q;e[34]!==s.user.handle?(q=(0,a.jsx)("span",{className:"text-white text-sm font-bold shadow-black drop-shadow-md",children:s.user.handle}),e[34]=s.user.handle,e[35]=q):q=e[35];let E;e[36]!==f.created_at?(E=new Date(f.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),e[36]=f.created_at,e[37]=E):E=e[37];let B;e[38]!==E?(B=(0,a.jsx)("span",{className:"text-white/60 text-[10px] shadow-black drop-shadow-md",children:E}),e[38]=E,e[39]=B):B=e[39];let O;e[40]!==q||e[41]!==B?(O=(0,a.jsxs)("div",{className:"flex flex-col",children:[q,B]}),e[40]=q,e[41]=B,e[42]=O):O=e[42];let Q;e[43]!==W||e[44]!==O||e[45]!==C?(Q=(0,a.jsxs)(_t,{to:C,className:"flex items-center gap-3 hover:opacity-80 transition-opacity",onClick:Hi,children:[W,O]}),e[43]=W,e[44]=O,e[45]=C,e[46]=Q):Q=e[46];let D;e[47]!==n||e[48]!==s.user.id?(D=()=>n(s.user.id),e[47]=n,e[48]=s.user.id,e[49]=D):D=e[49];let X;e[50]===Symbol.for("react.memo_cache_sentinel")?(X=(0,a.jsx)(We,{size:24}),e[50]=X):X=e[50];let N;e[51]!==D?(N=(0,a.jsx)("button",{onClick:D,className:"text-white p-2 hover:bg-white/10 rounded-full transition-colors",children:X}),e[51]=D,e[52]=N):N=e[52];let k;e[53]!==Q||e[54]!==N?(k=(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[Q,N]}),e[53]=Q,e[54]=N,e[55]=k):k=e[55];let S;e[56]!==k||e[57]!==z?(S=(0,a.jsxs)("div",{className:"absolute top-0 left-0 right-0 p-4 z-20 flex flex-col gap-4",children:[z,k]}),e[56]=k,e[57]=z,e[58]=S):S=e[58];let P;e[59]!==r||e[60]!==h?(P=r>0&&(0,a.jsx)("button",{onClick:L=>{L.stopPropagation(),h()},className:"absolute left-4 z-30 p-2 bg-black/20 hover:bg-black/40 rounded-full text-white backdrop-blur-md transition-all active:scale-90",children:(0,a.jsx)($t,{size:32})}),e[59]=r,e[60]=h,e[61]=P):P=e[61];let K;e[62]!==f.id||e[63]!==f.media?(K=(0,a.jsx)("img",{src:f.media,className:"max-w-full max-h-full object-contain rounded-xl shadow-2xl animate-in fade-in zoom-in-95 duration-300",alt:""},f.id),e[62]=f.id,e[63]=f.media,e[64]=K):K=e[64];let H;e[65]!==c?(H=c&&(0,a.jsx)("div",{className:"absolute inset-0 z-10 flex items-center justify-center pointer-events-none",children:(0,a.jsx)("div",{className:"px-4 py-2 bg-black/40 rounded-full text-white text-xs font-bold backdrop-blur-md border border-white/10 animate-in fade-in zoom-in duration-200",children:"PAUSED"})}),e[65]=c,e[66]=H):H=e[66];let J;e[67]!==K||e[68]!==H?(J=(0,a.jsxs)("div",{className:"relative w-full h-full flex items-center justify-center",children:[K,H]}),e[67]=K,e[68]=H,e[69]=J):J=e[69];let ae;e[70]!==p?(ae=L=>{L.stopPropagation(),p()},e[70]=p,e[71]=ae):ae=e[71];let re;e[72]===Symbol.for("react.memo_cache_sentinel")?(re=(0,a.jsx)(kt,{size:32}),e[72]=re):re=e[72];let G;e[73]!==ae?(G=(0,a.jsx)("button",{onClick:ae,className:"absolute right-4 z-30 p-2 bg-black/20 hover:bg-black/40 rounded-full text-white backdrop-blur-md transition-all active:scale-90",children:re}),e[73]=ae,e[74]=G):G=e[74];let ee;e[75]!==h?(ee=(0,a.jsx)("div",{className:"w-[30%] cursor-w-resize",onClick:h}),e[75]=h,e[76]=ee):ee=e[76];let ne;e[77]===Symbol.for("react.memo_cache_sentinel")?(ne=(0,a.jsx)("div",{className:"w-[40%] cursor-pointer flex items-center justify-center",onClick:v}),e[77]=ne):ne=e[77];let te;e[78]!==p?(te=(0,a.jsx)("div",{className:"w-[30%] cursor-e-resize",onClick:p}),e[78]=p,e[79]=te):te=e[79];let Y;e[80]!==ee||e[81]!==te?(Y=(0,a.jsxs)("div",{className:"absolute inset-0 flex z-20",children:[ee,ne,te]}),e[80]=ee,e[81]=te,e[82]=Y):Y=e[82];let I;e[83]!==P||e[84]!==J||e[85]!==G||e[86]!==Y?(I=(0,a.jsxs)("div",{className:"w-full h-full max-w-xl relative flex items-center justify-center p-2",children:[P,J,G,Y]}),e[83]=P,e[84]=J,e[85]=G,e[86]=Y,e[87]=I):I=e[87];let V;return e[88]!==S||e[89]!==I?(V=(0,a.jsxs)("div",{className:"fixed inset-0 z-[100] bg-black flex flex-col items-center justify-center animate-in fade-in duration-300",children:[S,I]}),e[88]=S,e[89]=I,e[90]=V):V=e[90],V},Xi=Qi;function Ki(t){return t+1}function Zi(t){return t-1}function Ji(t){return!t}function Hi(t){return t.stopPropagation()}var Gi=({type:t,onComplete:e,onSwitch:s})=>{const{login:n,signup:r}=ce(),{addToast:i}=ve(),[l,o]=(0,b.useState)({name:"",email:"",username:"",password:""}),[c,m]=(0,b.useState)(!1),[d,f]=(0,b.useState)(null),x=async p=>{p.preventDefault(),m(!0),f(null);try{t==="login"?(await n({email:l.email,password:l.password}),i("Welcome back!"),e()):(await r({email:l.email,password:l.password,username:l.username,name:l.name}),i("Confirm Your Email","info"),s())}catch(g){console.error("Auth error:",g),f(g.message||"Authentication failed. Please check your credentials."),i("Authentication failed!")}finally{m(!1)}};return(0,a.jsxs)("div",{className:"max-w-md mx-auto p-8 w-full animate-in fade-in slide-in-from-bottom-5 duration-300",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("div",{className:"flex justify-center mb-4",children:(0,a.jsx)("div",{className:"bg-black dark:bg-white dark:text-black text-white p-3 rounded-2xl shadow-lg",children:(0,a.jsx)("img",{src:"/logo.webp",alt:"Logo",className:"size-16 rounded-2xl shadow-xl border-2 border-zinc-100 dark:border-zinc-800"})})}),(0,a.jsx)("h2",{className:"text-3xl font-extrabold mb-2 dark:text-white tracking-tight",children:t==="login"?"Welcome back!":"Join Sysm today"}),(0,a.jsx)("p",{className:"text-zinc-500 font-medium",children:"The decentralized social network"})]}),d&&(0,a.jsxs)("div",{className:"mb-6 p-4 bg-rose-50 dark:bg-rose-900/20 border border-rose-100 dark:border-rose-800 rounded-xl flex items-center gap-3 text-rose-600 dark:text-rose-400 text-sm",children:[(0,a.jsx)(jt,{size:18}),(0,a.jsx)("span",{children:d})]}),(0,a.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[(0,a.jsx)(pe,{label:"Email",type:"email",placeholder:"john@example.com",value:l.email,onChange:p=>o({...l,email:p.target.value}),required:!0}),t==="signup"&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(pe,{label:"Name",placeholder:"John Doe",value:l.name,onChange:p=>o({...l,name:p.target.value}),required:!0}),(0,a.jsx)(pe,{label:"Username",placeholder:"johndoe",value:l.username,onChange:p=>{const g=p.target.value.replace(/[^a-zA-Z0-9_]/g,"");o({...l,username:g})},required:!0})]}),(0,a.jsx)(pe,{label:"Password",type:"password",placeholder:"",value:l.password,onChange:p=>o({...l,password:p.target.value}),required:!0}),(0,a.jsx)(oe,{type:"submit",className:"w-full justify-center py-3 mt-6 text-lg",disabled:c,children:c?(0,a.jsx)(ue,{size:24,className:"animate-spin"}):t==="login"?"Log in":"Sign up"})]}),(0,a.jsxs)("div",{className:"mt-8 text-center text-sm",children:[(0,a.jsx)("span",{className:"text-zinc-500",children:t==="login"?"Don't have an account?":"Already have an account?"}),(0,a.jsx)("button",{onClick:s,className:"font-bold ml-1 hover:underline dark:text-white",children:t==="login"?"Sign up":"Log in"})]})]})},el=Gi,ls=R(),tl=(0,b.lazy)(()=>me(()=>import("./Home--wbsMi47.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]))),sl=(0,b.lazy)(()=>me(()=>import("./Explore-BBKGa9EU.js"),__vite__mapDeps([9,1,2,3,4,5,6,7,8]))),al=(0,b.lazy)(()=>me(()=>import("./Reels-cNR0KuNI.js"),__vite__mapDeps([10,1,2,3,4,5,6,7,8]))),vt=(0,b.lazy)(()=>me(()=>import("./Messages-BWrMps4R.js"),__vite__mapDeps([11,1,2,3,4,5,7,8]))),nl=(0,b.lazy)(()=>me(()=>import("./Notifications-DsiJ6rtR.js"),__vite__mapDeps([12,1,2,3,4,5,7]))),rl=(0,b.lazy)(()=>me(()=>import("./Profile-C5b8MH7N.js"),__vite__mapDeps([13,1,2,3,4,5,6,7,8]))),il=(0,b.lazy)(()=>me(()=>import("./Community-DPFDDZIU.js"),__vite__mapDeps([14,1,2,3,4,5,6,7,8]))),ll=(0,b.lazy)(()=>me(()=>import("./PostDetails-DrJ83F7X.js"),__vite__mapDeps([15,1,2,3,4,5,6,7,8]))),ol=(0,b.lazy)(()=>me(()=>import("./Settings-CQxE3IS6.js"),__vite__mapDeps([16,1,2,3,4,5]))),cl=(0,b.lazy)(()=>me(()=>import("./HashtagFeed-BlBufnKw.js"),__vite__mapDeps([17,1,2,3,4,5,6,7,8]))),dl=()=>{const t=(0,ls.c)(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)("div",{className:"flex h-screen w-full items-center justify-center",children:(0,a.jsx)(ue,{size:40,className:"animate-spin text-violet-500"})}),t[0]=e):e=t[0],e};function ml(){const t=(0,ls.c)(55),e=Ge(),{currentUser:s,authMode:n,setAuthMode:r}=ce(),{darkMode:i}=lt(),{isOpen:l,images:o,currentIndex:c,closeLightbox:m,setIndex:d}=rr(),[f,x]=(0,b.useState)(!1),[p,g]=(0,b.useState)(!1),[h,u]=(0,b.useState)(!1);let v;t[0]===Symbol.for("react.memo_cache_sentinel")?(v={},t[0]=v):v=t[0];const[w,j]=(0,b.useState)(v),[_,z]=(0,b.useState)(null),[C,A]=(0,b.useState)(null);if(n){const Y=i?"dark":"";let I;t[1]!==r?(I=()=>r(null),t[1]=r,t[2]=I):I=t[2];let V;t[3]!==n||t[4]!==r?(V=()=>r(n==="login"?"signup":"login"),t[3]=n,t[4]=r,t[5]=V):V=t[5];let L;t[6]!==n||t[7]!==I||t[8]!==V?(L=(0,a.jsx)("div",{className:"min-h-screen bg-white dark:bg-black flex items-center justify-center p-4",children:(0,a.jsx)(de,{children:(0,a.jsx)(el,{type:n,onComplete:I,onSwitch:V})})}),t[6]=n,t[7]=I,t[8]=V,t[9]=L):L=t[9];let Z;return t[10]!==Y||t[11]!==L?(Z=(0,a.jsx)("div",{className:Y,children:L}),t[10]=Y,t[11]=L,t[12]=Z):Z=t[12],Z}let F;t[13]===Symbol.for("react.memo_cache_sentinel")?(F=(0,a.jsx)(rn,{}),t[13]=F):F=t[13];let $;t[14]===Symbol.for("react.memo_cache_sentinel")?($=(0,a.jsx)(dl,{}),t[14]=$):$=t[14];let W;t[15]===Symbol.for("react.memo_cache_sentinel")?(W=(0,a.jsx)(wr,{onPostClick:()=>x(!0)}),t[15]=W):W=t[15];let q;t[16]===Symbol.for("react.memo_cache_sentinel")?(q=(0,a.jsx)(ie,{path:"/",element:(0,a.jsx)(de,{children:(0,a.jsx)(tl,{onStoryClick:A,onAddStory:()=>u(!0)})})}),t[16]=q):q=t[16];let E;t[17]===Symbol.for("react.memo_cache_sentinel")?(E=(0,a.jsx)(ie,{path:"/home",element:(0,a.jsx)(ft,{to:"/",replace:!0})}),t[17]=E):E=t[17];let B;t[18]===Symbol.for("react.memo_cache_sentinel")?(B=(0,a.jsx)(ie,{path:"/community",element:(0,a.jsx)(de,{children:(0,a.jsx)(sl,{})})}),t[18]=B):B=t[18];let O;t[19]===Symbol.for("react.memo_cache_sentinel")?(O=(0,a.jsx)(ie,{path:"/reels",element:(0,a.jsx)(de,{children:(0,a.jsx)(al,{})})}),t[19]=O):O=t[19];let Q;t[20]===Symbol.for("react.memo_cache_sentinel")?(Q=(0,a.jsx)(ie,{path:"/messages",element:(0,a.jsx)(de,{children:(0,a.jsx)(vt,{})})}),t[20]=Q):Q=t[20];let D;t[21]===Symbol.for("react.memo_cache_sentinel")?(D=(0,a.jsx)(ie,{path:"/settings",element:(0,a.jsx)(de,{children:(0,a.jsx)(ol,{})})}),t[21]=D):D=t[21];let X;t[22]===Symbol.for("react.memo_cache_sentinel")?(X=(0,a.jsx)(ie,{path:"/messages/:id",element:(0,a.jsx)(de,{children:(0,a.jsx)(vt,{})})}),t[22]=X):X=t[22];let N;t[23]===Symbol.for("react.memo_cache_sentinel")?(N=(0,a.jsx)(ie,{path:"/notifications",element:(0,a.jsx)(de,{children:(0,a.jsx)(nl,{})})}),t[23]=N):N=t[23];let k;t[24]===Symbol.for("react.memo_cache_sentinel")?(k=(0,a.jsx)(ie,{path:"/post/:id",element:(0,a.jsx)(de,{children:(0,a.jsx)(ll,{})})}),t[24]=k):k=t[24];let S;t[25]===Symbol.for("react.memo_cache_sentinel")?(S=(0,a.jsx)(ie,{path:"/c/:handle",element:(0,a.jsx)(de,{children:(0,a.jsx)(il,{onPostInCommunity:Y=>{z(Y),x(!0)}})})}),t[25]=S):S=t[25];let P;t[26]===Symbol.for("react.memo_cache_sentinel")?(P=(0,a.jsx)(ie,{path:"/tags/:tag",element:(0,a.jsx)(de,{children:(0,a.jsx)(cl,{})})}),t[26]=P):P=t[26];let K;t[27]===Symbol.for("react.memo_cache_sentinel")?(K=(0,a.jsx)(ie,{path:"/u/:handle",element:(0,a.jsx)(de,{children:(0,a.jsx)(rl,{onEditProfile:Y=>{j(Y),g(!0)}})})}),t[27]=K):K=t[27];let H;t[28]===Symbol.for("react.memo_cache_sentinel")?(H=(0,a.jsxs)(ie,{element:W,children:[q,E,B,O,Q,D,X,N,k,S,P,K,(0,a.jsx)(ie,{path:"*",element:(0,a.jsx)(ft,{to:"/community"})})]}),t[28]=H):H=t[28];let J;t[29]!==e?(J=(0,a.jsx)(b.Suspense,{fallback:$,children:(0,a.jsx)(Ms,{location:e,children:H},e.pathname)}),t[29]=e,t[30]=J):J=t[30];let ae;t[31]===Symbol.for("react.memo_cache_sentinel")?(ae=Y=>{x(Y),Y||z(null)},t[31]=ae):ae=t[31];let re;t[32]!==w||t[33]!==p||t[34]!==f||t[35]!==h||t[36]!==_?(re=(0,a.jsx)(Ui,{isPostModalOpen:f,setIsPostModalOpen:ae,isEditProfileOpen:p,setIsEditProfileOpen:g,isStoryModalOpen:h,setIsStoryModalOpen:u,editProfileData:w,setEditProfileData:j,postCommunity:_}),t[32]=w,t[33]=p,t[34]=f,t[35]=h,t[36]=_,t[37]=re):re=t[37];let G;t[38]!==C?(G=C&&(0,a.jsx)(Xi,{story:C,onClose:Y=>{if(Y){const I=JSON.parse(localStorage.getItem("seenStories")||"[]");I.includes(Y)||localStorage.setItem("seenStories",JSON.stringify([...I,Y]))}A(null)}}),t[38]=C,t[39]=G):G=t[39];let ee;t[40]!==m||t[41]!==c||t[42]!==o||t[43]!==l||t[44]!==d?(ee=l&&(0,a.jsx)(Xr,{images:o,currentIndex:c,onClose:m,onNavigate:d}),t[40]=m,t[41]=c,t[42]=o,t[43]=l,t[44]=d,t[45]=ee):ee=t[45];let ne;t[46]!==s||t[47]!==e.pathname?(ne=s&&e.pathname==="/"&&(0,a.jsx)("button",{onClick:()=>x(!0),className:"fixed bottom-20 right-5 md:hidden z-50 bg-zinc-950 dark:bg-white text-white dark:text-zinc-950 size-12 rounded-full flex items-center justify-center shadow-2xl hover:scale-110 active:scale-90 transition-all cursor-pointer group",title:"Create Post",children:(0,a.jsx)(Ue,{size:28,className:"group-hover:rotate-90 transition-transform duration-300"})}),t[46]=s,t[47]=e.pathname,t[48]=ne):ne=t[48];let te;return t[49]!==J||t[50]!==re||t[51]!==G||t[52]!==ee||t[53]!==ne?(te=(0,a.jsxs)(or,{children:[F,J,re,G,ee,ne]}),t[49]=J,t[50]=re,t[51]=G,t[52]=ee,t[53]=ne,t[54]=te):te=t[54],te}var ul=new Ua;(0,tn.createRoot)(document.getElementById("root")).render((0,a.jsx)(b.StrictMode,{children:(0,a.jsx)(ha,{client:ul,children:(0,a.jsx)(vs,{children:(0,a.jsx)(Yn,{children:(0,a.jsx)(On,{children:(0,a.jsx)(Vn,{children:(0,a.jsx)(tr,{children:(0,a.jsx)(Gn,{children:(0,a.jsx)(nr,{children:(0,a.jsx)(ml,{})})})})})})})})})}));export{ke as $,lo as A,Pl as At,ro as B,y as Bt,as as C,Sl as Ct,oo as D,Rl as Dt,mo as E,zl as Et,Rr as F,hn as Ft,Gl as G,oe as H,eo as I,yl as It,Kl as J,Ql as K,so as L,qt as Lt,Tr as M,_l as Mt,xt as N,Nl as Nt,Be as O,El as Ot,io as P,jl as Pt,ze as Q,ao as R,wl as Rt,ii as S,Ml as St,uo as T,kl as Tt,Yl as U,to as V,Hl as W,Zl as X,Xl as Y,Ne as Z,po as _,Dl as _t,vo as a,lt as at,oi as b,Cl as bt,bt as c,_e as ct,go as d,Ol as dt,Zt as et,bi as f,Wl as ft,mi as g,ql as gt,hi as h,Ll as ht,wo as i,ve as it,Ir as j,xn as jt,pe as k,Al as kt,ji as l,Bl as lt,ui as m,$n as mt,_o as n,rr as nt,bo as o,Bn as ot,xo as p,Vl as pt,Jl as q,jo as r,sr as rt,yi as s,ce as st,No as t,Ul as tt,gt as u,Pn as ut,pt as v,Fl as vt,co as w,Il as wt,fo as x,$l as xt,ho as y,Tl as yt,no as z,Je as zt};
