const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Feed-ICekwsg9.js","assets/framework-3lkjbTvb.js","assets/database-COznt_u0.js","assets/rolldown-runtime-BaZ8gS7u.js","assets/framework-sg0yWRLc.css","assets/ui-libs-oBja7Jpd.js","assets/media-libs-C98UjHPF.js","assets/media-libs-CqCaMccn.css","assets/VideoPlayer-D3svNQjP.js","assets/text-processing-BMF44JzJ.js","assets/post-Dm0fxo4I.js","assets/query-CZHA9T67.js","assets/actionsheet-BkhaXFA2.js","assets/Explore-bS0q8oox.js","assets/Reels-BDJV6LU8.js","assets/Messages-DrFJwZ55.js","assets/useAutoResizeTextArea-Cy81bKnl.js","assets/Notifications-BLQ5xDx9.js","assets/CreatePost-WByuBCRV.js","assets/CircularProgress-D6LSDhdS.js","assets/Profile-CBCKioim.js","assets/skeleton-profile-BisQSA2k.js","assets/Community-BDJVrVy0.js","assets/PostDetails-BEOfKGwE.js","assets/Settings-B_ZXZO13.js","assets/HashtagFeed-DI9lhB0W.js","assets/CreateCommunity-DeUQAUTQ.js","assets/CreateGroup-BrnIjFz5.js","assets/page-Cy0ofbpB.js","assets/AuthForm-D8nYTNuI.js","assets/page-DgVvf2im.js","assets/page-DRTMPcqj.js","assets/page-Cfmj-2rJ.js","assets/page-DY4vg-yn.js","assets/onboarding-Dle0JzDU.js","assets/page-DDp2WDyg.js","assets/UserManagement-C_HT2UY1.js","assets/ReportsManagement-CbzQV3rY.js","assets/Terms-BxgsZv2o.js","assets/Privacy-SFqMycsh.js","assets/Guidelines-g_C9_HEp.js","assets/Support-6_FXLxgX.js","assets/Status-B18oBbg2.js","assets/NotFoundPage-PW6Cb27D.js","assets/EditProfile-C9KdmQ51.js"])))=>i.map(i=>d[i]);
import{a as ei,i as Vo,n as Bo,r as Ho}from"./rolldown-runtime-BaZ8gS7u.js";import{S as Ko,_ as as,a as Qo,b as zs,c as U,d as ze,f as vs,g as Wo,h as oe,i as Uo,l as Go,m as mr,o as Jo,p as Is,u as Yo,v as Ce,w as Xo,x as ae,y as os}from"./framework-3lkjbTvb.js";import{a as $e,i as Zo,n as me,o as el,r as ye,t as Oe}from"./query-CZHA9T67.js";import{t as tl}from"./database-COznt_u0.js";import{$ as ti,$t as hr,A as sl,At as Ut,B as $x,Bt as rl,C as nl,Cn as si,Ct as il,D as al,Dt as ri,E as ol,En as ws,Et as ni,F as ll,G as ii,Gn as Hr,H as cl,Ht as ai,I as oi,It as dl,J as li,Jn as Kr,K as ci,L as di,Lt as ul,M as fl,Mt as ml,N as ui,Nt as hl,O as Ex,On as pl,Ot as fi,P as mi,Pn as gl,Pt as es,Q as hi,R as pi,S as xl,St as vl,T as gi,Tt as yl,U as xi,V as vi,W as zx,Wt as bl,X as Mx,Xt as pr,Y as yi,Yt as gr,Z as bi,Zn as wi,_ as _i,_r as wl,_t as Ax,a as ji,ar as _l,at as jl,b as ki,bn as kl,bt as Si,c as Ci,ct as Sl,d as Ni,dr as Cl,dt as Pi,er as Nl,et as Pl,f as $l,fn as El,ft as $i,g as zl,gr as xe,gt as Ei,h as Ml,hr as Al,ht as Ll,i as zi,in as Mi,ir as xr,it as Ai,j as Rl,jn as Dl,jt as Tl,k as Li,l as Lx,lr as Ys,lt as Ri,m as Di,mn as Fl,mr as vr,mt as Il,n as ql,nr as Ol,nt as Ti,o as Vl,or as Fi,ot as Ii,p as Bl,pt as qi,q as Hl,r as Oi,rr as Kl,rt as Ql,s as Vi,sr as yr,st as Bi,t as Hi,tn as Qr,tt as Rx,u as Wl,ur as Ul,ut as Ki,v as Qi,vr as Wi,vt as Gl,w as Ui,wn as Jl,wt as br,x as Yl,xn as Xl,xt as Gi,y as Ji,yt as Yi,z as Zl,zn as ec}from"./ui-libs-oBja7Jpd.js";import{n as tc,r as sc}from"./media-libs-C98UjHPF.js";import{$ as Xi,A as rc,B as Zi,C as nc,D as ic,E as ac,F as Wr,G as _s,H as oc,I as lc,J as qe,K as cc,L as dc,M as uc,N as fc,O as Ur,P as mc,Q as Gr,R as Jr,S as ea,T as ta,U as hc,V as qs,W as pc,X as gc,Y as Yr,Z as Xr,_ as xc,a as ht,b as vc,c as yc,d as bc,et as ys,f as wc,g as _c,h as jc,i as js,j as sa,k as kc,l as Sc,m as Cc,n as Nc,nt as Pc,o as Xs,p as $c,q as ra,r as Ec,s as zc,t as na,tt as Zs,u as Mc,v as Ac,w as Zr,x as ia,y as yt,z as aa}from"./animations-BjdNH4pZ.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();var Lc=Ko(),x=ei(Xo(),1),Rc="https://kong-production-3701.up.railway.app",Dc="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlzcyI6InN1cGFiYXNlIiwiaWF0IjoxNzcxNTI0MDAwLCJleHAiOjE5MjkyOTA0MDB9.wMygMZhqi69FqaxF2QgKugCUxHfKRUu-EJdKQ6gLDIw";const L=tl(Rc,Dc);var Tc=U(),Ht;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(Ht||(Ht={}));var Os=class extends Error{constructor(e,t,s){super(e),this.message=e,this.code=t,this.data=s}},Fc=e=>{var t,s;return e?.androidBridge?"android":!((s=(t=e?.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||s===void 0)&&s.bridge?"ios":"web"},Ic=e=>{const t=e.CapacitorCustomPlatform||null,s=e.Capacitor||{},r=s.Plugins=s.Plugins||{},n=()=>t!==null?t.name:Fc(e),i=()=>n()!=="web",a=f=>{const p=d.get(f);return!!(p?.platforms.has(n())||o(f))},o=f=>{var p;return(p=s.PluginHeaders)===null||p===void 0?void 0:p.find(m=>m.name===f)},c=f=>e.console.error(f),d=new Map,u=(f,p={})=>{const m=d.get(f);if(m)return console.warn(`Capacitor plugin "${f}" already registered. Cannot register plugins twice.`),m.proxy;const h=n(),g=o(f);let v;const y=async()=>(!v&&h in p?v=typeof p[h]=="function"?v=await p[h]():v=p[h]:t!==null&&!v&&"web"in p&&(v=typeof p.web=="function"?v=await p.web():v=p.web),v),b=(S,N)=>{var E,P;if(g){const M=g?.methods.find(z=>N===z.name);if(M)return M.rtype==="promise"?z=>s.nativePromise(f,N.toString(),z):(z,$)=>s.nativeCallback(f,N.toString(),z,$);if(S)return(E=S[N])===null||E===void 0?void 0:E.bind(S)}else{if(S)return(P=S[N])===null||P===void 0?void 0:P.bind(S);throw new Os(`"${f}" plugin is not implemented on ${h}`,Ht.Unimplemented)}},w=S=>{let N;const E=(...P)=>{const M=y().then(z=>{const $=b(z,S);if($){const A=$(...P);return N=A?.remove,A}else throw new Os(`"${f}.${S}()" is not implemented on ${h}`,Ht.Unimplemented)});return S==="addListener"&&(M.remove=async()=>N()),M};return E.toString=()=>`${S.toString()}() { [capacitor code] }`,Object.defineProperty(E,"name",{value:S,writable:!1,configurable:!1}),E},k=w("addListener"),j=w("removeListener"),_=(S,N)=>{const E=k({eventName:S},N),P=async()=>{j({eventName:S,callbackId:await E},N)},M=new Promise(z=>E.then(()=>z({remove:P})));return M.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await P()},M},C=new Proxy({},{get(S,N){switch(N){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return g?_:k;case"removeListener":return j;default:return w(N)}}});return r[f]=C,d.set(f,{name:f,proxy:C,platforms:new Set([...Object.keys(p),...g?[h]:[]])}),C};return s.convertFileSrc||(s.convertFileSrc=f=>f),s.getPlatform=n,s.handleError=c,s.isNativePlatform=i,s.isPluginAvailable=a,s.registerPlugin=u,s.Exception=Os,s.DEBUG=!!s.DEBUG,s.isLoggingEnabled=!!s.isLoggingEnabled,s},qc=e=>e.Capacitor=Ic(e),Kt=qc(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),ls=Kt.registerPlugin,Ms=class{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,t){let s=!1;this.listeners[e]||(this.listeners[e]=[],s=!0),this.listeners[e].push(t);const r=this.windowListeners[e];r&&!r.registered&&this.addWindowListener(r),s&&this.sendRetainedArgumentsForEvent(e);const n=async()=>this.removeListener(e,t);return Promise.resolve({remove:n})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t,s){const r=this.listeners[e];if(!r){if(s){let n=this.retainedEventArguments[e];n||(n=[]),n.push(t),this.retainedEventArguments[e]=n}return}r.forEach(n=>n(t))}hasListeners(e){var t;return!!(!((t=this.listeners[e])===null||t===void 0)&&t.length)}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:s=>{this.notifyListeners(t,s)}}}unimplemented(e="not implemented"){return new Kt.Exception(e,Ht.Unimplemented)}unavailable(e="not available"){return new Kt.Exception(e,Ht.Unavailable)}async removeListener(e,t){const s=this.listeners[e];if(!s)return;const r=s.indexOf(t);this.listeners[e].splice(r,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const t=this.retainedEventArguments[e];t&&(delete this.retainedEventArguments[e],t.forEach(s=>{this.notifyListeners(e,s)}))}},en=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),tn=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent),Oc=class extends Ms{async getCookies(){const e=document.cookie,t={};return e.split(";").forEach(s=>{if(s.length<=0)return;let[r,n]=s.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");r=tn(r).trim(),n=tn(n).trim(),t[r]=n}),t}async setCookie(e){try{const t=en(e.key),s=en(e.value),r=e.expires?`; expires=${e.expires.replace("expires=","")}`:"",n=(e.path||"/").replace("path=",""),i=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${s||""}${r}; path=${n}; ${i};`}catch(t){return Promise.reject(t)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}},Fx=ls("CapacitorCookies",{web:()=>new Oc}),Vc=async e=>new Promise((t,s)=>{const r=new FileReader;r.onload=()=>{const n=r.result;t(n.indexOf(",")>=0?n.split(",")[1]:n)},r.onerror=n=>s(n),r.readAsDataURL(e)}),Bc=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(s=>s.toLocaleLowerCase()).reduce((s,r,n)=>(s[r]=e[t[n]],s),{})},Hc=(e,t=!0)=>e?Object.entries(e).reduce((s,r)=>{const[n,i]=r;let a,o;return Array.isArray(i)?(o="",i.forEach(c=>{a=t?encodeURIComponent(c):c,o+=`${n}=${a}&`}),o.slice(0,-1)):(a=t?encodeURIComponent(i):i,o=`${n}=${a}`),`${s}&${o}`},"").substr(1):null,Kc=(e,t={})=>{const s=Object.assign({method:e.method||"GET",headers:e.headers},t),r=Bc(e.headers)["content-type"]||"";if(typeof e.data=="string")s.body=e.data;else if(r.includes("application/x-www-form-urlencoded")){const n=new URLSearchParams;for(const[i,a]of Object.entries(e.data||{}))n.set(i,a);s.body=n.toString()}else if(r.includes("multipart/form-data")||e.data instanceof FormData){const n=new FormData;if(e.data instanceof FormData)e.data.forEach((a,o)=>{n.append(o,a)});else for(const a of Object.keys(e.data))n.append(a,e.data[a]);s.body=n;const i=new Headers(s.headers);i.delete("content-type"),s.headers=i}else(r.includes("application/json")||typeof e.data=="object")&&(s.body=JSON.stringify(e.data));return s},Qc=class extends Ms{async request(e){const t=Kc(e,e.webFetchExtra),s=Hc(e.params,e.shouldEncodeUrlParams),r=s?`${e.url}?${s}`:e.url,n=await fetch(r,t),i=n.headers.get("content-type")||"";let{responseType:a="text"}=n.ok?e:{};i.includes("application/json")&&(a="json");let o,c;switch(a){case"arraybuffer":case"blob":c=await n.blob(),o=await Vc(c);break;case"json":o=await n.json();break;default:o=await n.text()}const d={};return n.headers.forEach((u,f)=>{d[f]=u}),{data:o,headers:d,status:n.status,url:n.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}},Ix=ls("CapacitorHttp",{web:()=>new Qc}),sn;(function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"})(sn||(sn={}));var rn;(function(e){e.StatusBar="StatusBar",e.NavigationBar="NavigationBar"})(rn||(rn={}));var Wc=class extends Ms{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}},qx=ls("SystemBars",{web:()=>new Wc}),Uc=class extends Ms{async write(e){if(typeof navigator>"u"||!navigator.clipboard)throw this.unavailable("Clipboard API not available in this browser");if(e.string!==void 0)await this.writeText(e.string);else if(e.url)await this.writeText(e.url);else if(e.image)if(typeof ClipboardItem<"u")try{const t=await(await fetch(e.image)).blob(),s=new ClipboardItem({[t.type]:t});await navigator.clipboard.write([s])}catch{throw new Error("Failed to write image")}else throw this.unavailable("Writing images to the clipboard is not supported in this browser");else throw new Error("Nothing to write")}async read(){if(typeof navigator>"u"||!navigator.clipboard)throw this.unavailable("Clipboard API not available in this browser");if(typeof ClipboardItem<"u")try{const e=await navigator.clipboard.read(),t=e[0].types[0],s=await e[0].getType(t);return{value:await this._getBlobData(s,t),type:t}}catch{return this.readText()}else return this.readText()}async readText(){if(typeof navigator>"u"||!navigator.clipboard||!navigator.clipboard.readText)throw this.unavailable("Reading from clipboard not supported in this browser");return{value:await navigator.clipboard.readText(),type:"text/plain"}}async writeText(e){if(typeof navigator>"u"||!navigator.clipboard||!navigator.clipboard.writeText)throw this.unavailable("Writting to clipboard not supported in this browser");await navigator.clipboard.writeText(e)}_getBlobData(e,t){return new Promise((s,r)=>{const n=new FileReader;t.includes("image")?n.readAsDataURL(e):n.readAsText(e),n.onloadend=()=>{const i=n.result;s(i)},n.onerror=i=>{r(i)}})}},Gc=ls("Clipboard",{web:()=>new Uc});function Jc(e,t){try{const s=`view_history_${t}`,r=Date.now(),n=1440*60*1e3,i=localStorage.getItem(s),a=i?JSON.parse(i):{},o={};let c=!1;return Object.entries(a).forEach(([d,u])=>{r-u<n?o[d]=u:c=!0}),o[e]?(c&&localStorage.setItem(s,JSON.stringify(o)),!1):(o[e]=r,localStorage.setItem(s,JSON.stringify(o)),!0)}catch(s){return console.error("View cache error:",s),!0}}function Q(...e){return wl(Wi(e))}const Ox=async e=>{try{Kt.isNativePlatform()?await Gc.write({string:e}):await navigator.clipboard.writeText(e)}catch(t){throw console.error("Failed to copy to clipboard:",t),t}},Vx=()=>window.location.origin.includes("systemadminbd.com")?"https://feed.systemadminbd.com":window.location.origin.includes("localhost")?window.location.origin:Kt.isNativePlatform()?"https://feed.systemadminbd.com":window.location.origin,Yc=()=>{const e=(0,Tc.c)(3),{pathname:t}=as();let s,r;return e[0]!==t?(s=()=>{const n=t.length>1&&t.endsWith("/")?t.slice(0,-1):t;new Set(["/","/explore","/notifications","/r","/m","/create","/edit-profile"]).has(n)||window.scrollTo(0,0)},r=[t],e[0]=t,e[1]=s,e[2]=r):(s=e[1],r=e[2]),(0,x.useEffect)(s,r),null},Qe=e=>typeof e!="string"?!1:/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e),Xc=(e,t)=>{const s=document.createElement("canvas"),r=e.naturalWidth/e.width,n=e.naturalHeight/e.height;s.width=t.width*r,s.height=t.height*n;const i=s.getContext("2d");return i?(i.imageSmoothingEnabled=!0,i.imageSmoothingQuality="high",i.drawImage(e,t.x*r,t.y*n,t.width*r,t.height*n,0,0,t.width*r,t.height*n),new Promise((a,o)=>{s.toBlob(c=>{if(!c){o(new Error("Canvas is empty"));return}a(c)},"image/jpeg",.95)})):Promise.reject(new Error("No 2d context"))},oa=e=>{if(!e)return"";const t=typeof e=="string"?new Date(e):e;if(isNaN(t.getTime()))return"";const s=new Date().getTime()-t.getTime(),r=Math.floor(s/1e3),n=Math.floor(r/60),i=Math.floor(n/60),a=Math.floor(i/24);return r<60?"Just now":n<60?`${n}m ago`:i<24?`${i}h ago`:a<7?`${a}d ago`:t.toLocaleDateString(void 0,{day:"2-digit",month:"2-digit",year:"2-digit"})},Zc=e=>{if(isNaN(e)||e===1/0||e<0)return"0:00";const t=Math.floor(e/3600),s=Math.floor(e%3600/60),r=Math.floor(e%60);return t>0?`${t}:${s.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`:`${s}:${r.toString().padStart(2,"0")}`},Bx=e=>typeof e!="string"?!1:/[\u0980-\u09FF]/.test(e),Hx=e=>{if(!e)return null;const t=e.match(/(https?:\/\/[^\s]+)/g);return t?t[0]:null},Kx=(e,t=!1)=>e?!e.toLowerCase().includes(".gif")||t?e:e.includes(".supabase.co/storage/v1/object/public/")?e.replace("/storage/v1/object/public/","/storage/v1/render/image/public/")+"?width=400&height=400&quality=80":e:"",Ve=e=>e?{id:e.id,handle:e.username,name:e.display_name,avatar:e.avatar_url||"/default-avatar.webp",cover:e.cover_url||"/welcome-banner.webp",verified:e.is_verified??!1,role:e.role||"user",roles:e.roles||"Newbie",isPro:e.is_pro||!1,postsCount:e.posts_count||0,bio:e.bio,location:e.location,website:e.website,follower_count:e.follower_count||0,following_count:e.following_count||0,lastSeen:e.last_seen_at,isBanned:e.is_banned||!1,onboarding_completed:e.onboarding_completed||!1}:null,Xe=e=>{if(!e)return null;const t=e.reposter_id||e.reposter_data?.id||e.reposted_by?.id,s=new Date(e.sort_timestamp||e.created_at).getTime(),r=e.id||e.post_id,n=`${e.feed_id||(t?`${r}-${t}`:`${r}-orig`)}-${s}`,i=Ve(e.author_data||e.user);return i?{...e,id:r,feed_id:n,score:e.rank_score||e.score,type:e.type||"text",user_id:e.user_id,community_id:e.community_id||null,parent_id:e.parent_id||null,poll:e.poll||null,quoted_post_id:e.quoted_post_id||null,stats:{comments:e.comments_count||0,likes:e.likes_count||0,reposts:e.mirrors_count||0,views:e.views_count||0},user:i,community:e.community_data||e.communities?{...e.community_data||e.communities,avatar:(e.community_data||e.communities).avatar_url||(e.community_data||e.communities).avatar}:null,repostedBy:e.reposter_data?{handle:e.reposter_data.username,name:e.reposter_data.display_name,id:e.reposter_data.id}:e.reposted_by?{handle:e.reposted_by.username,name:e.reposted_by.display_name,id:e.reposted_by.id}:null,commenterAvatars:e.commenter_avatars||[],timeAgo:oa(e.created_at),is_pinned:e.is_pinned||!1,pinned_at:e.pinned_at||null}:null},la=e=>{if(!e)return null;const t=Ve(e.user);return t?{...e,parent_id:e.parent_id,type:e.type||"text",duration:e.duration,stats:{likes:e.likes_count||0,comments:e.replies_count||0},user:t,timeAgo:oa(e.created_at)}:null},ed=e=>e?{...e,user:e.actor?.username,avatar:e.actor?.avatar_url||"/default-avatar.webp"}:null,ca=e=>{if(!e)return null;const t=Ve(e.user);return t?{...e,media:e.media_url,user:t,views_count:e.views_count||0}:null},Qt=e=>e?{id:e.id,handle:e.handle,name:e.name,description:e.description,avatar:e.avatar_url||"/default-avatar.webp",cover:e.cover_url||"/welcome-banner.webp",membersCount:e.members_count||0,postsCount:e.posts_count||0,isPrivate:e.is_private,createdAt:e.created_at,type:"community",creatorId:e.creator_id}:null,wr=e=>e?{id:e.id,conversation_id:e.conversation_id,sender_id:e.sender_id,sender:Ve(e.sender),content:e.content,type:e.type||"text",media:e.media||[],reply_to_id:e.reply_to_id,reply_to:e.reply_to?{id:e.reply_to.id,content:e.reply_to.content,sender:{id:e.reply_to.sender?.id,username:e.reply_to.sender?.username,display_name:e.reply_to.sender?.display_name}}:null,is_read:e.is_read,created_at:e.created_at}:null,td=(e,t)=>{if(!e||!e.conversation)return null;const s=e.conversation,r=s.is_group?null:s.participants?.find(o=>o.user?.id!==t)||s.participants?.find(o=>o.user?.id===t),n=s.messages||[],i=n.filter(o=>!o.is_read&&o.sender_id&&t&&o.sender_id.toString().toLowerCase()!==t.toString().toLowerCase()).length,a=n[0]?.sender_id===t;return{id:s.id,isGroup:s.is_group||!1,name:s.name||(r?r.user?.display_name:"Unknown"),avatar:s.avatar_url||(r?r.user?.avatar_url:null),creatorId:s.creator_id||null,user:r?Ve(r.user):null,lastMessage:s.last_message_content||"No messages yet",lastMessageAt:s.last_message_at,lastMessageSender:null,currentUserSent:a,time:s.last_message_at?new Date(s.last_message_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"",unread:i,isMuted:!1,members:(s.participants||[]).map(o=>Ve(o.user)).filter(Boolean)}},sd=async(e,t={})=>{if(!e.type.startsWith("image/"))return e;const s={maxSizeMB:.8,maxWidthOrHeight:1920,useWebWorker:!0,initialQuality:.75,fileType:"image/webp",alwaysKeepResolution:!0,...t};try{const r=await sc(e,s);return console.log(`Original size: ${(e.size/1024/1024).toFixed(2)} MB`),console.log(`Compressed size: ${(r.size/1024/1024).toFixed(2)} MB`),r}catch(r){return console.error("Image compression failed:",r),e}},rd=(e,t=1)=>new Promise((s,r)=>{const n=document.createElement("video"),i=setTimeout(()=>{a(),r(new Error("Thumbnail generation timed out"))},1e4),a=()=>{clearTimeout(i),n.src&&URL.revokeObjectURL(n.src),n.remove()};n.style.display="none",n.preload="metadata",n.muted=!0,n.playsInline=!0,n.src=URL.createObjectURL(e),n.onloadedmetadata=()=>{let o=t;t===1&&n.duration>0&&(o=n.duration*(.1+Math.random()*.8)),n.currentTime=Math.min(o,n.duration||o)},n.onseeked=()=>{try{const o=document.createElement("canvas");o.width=n.videoWidth,o.height=n.videoHeight;const c=o.getContext("2d");if(!c){a(),r(new Error("Could not get canvas context"));return}c.drawImage(n,0,0,o.width,o.height),o.toBlob(d=>{if(!d){a(),r(new Error("Could not create blob"));return}const u=new File([d],"thumbnail.webp",{type:"image/webp"});a(),s({thumbnail:u,duration:Zc(n.duration)})},"image/webp",.7)}catch(o){a(),r(o)}},n.onerror=()=>{a(),r(new Error("Video loading error"))}}),ks=async(e,t="media",s=null)=>{let r=e,n=e.name.split(".").pop(),i=null,a;if(e.type.startsWith("image/")&&e.type!=="image/gif")try{r=await sd(e),n="webp"}catch(f){console.error("Image compression failed, uploading original:",f)}if(e.type.startsWith("video/"))try{if(s)i=(await ks(s,t)).url;else{const{thumbnail:f,duration:p}=await rd(e);i=(await ks(f,t)).url,a=p}}catch(f){console.error("Failed to handle video poster:",f)}const o=`${`${crypto.randomUUID()}.${n}`}`,{data:c,error:d}=await L.storage.from(t).upload(o,r);if(d)throw d;const{data:{publicUrl:u}}=L.storage.from(t).getPublicUrl(c.path);return{url:u,poster:i,name:e.name,type:e.type.startsWith("image/")?"image":e.type.startsWith("video/")?"video":e.type.startsWith("audio/")?"audio":"file",size:r.size,duration:a}},ts=async(e,t="media")=>{try{if(!e)return;const s=e.split(`/public/${t}/`);if(s.length<2)return;const r=s[1],{error:n}=await L.storage.from(t).remove([r]);n&&console.error(`Failed to delete file from storage: ${r}`,n)}catch(s){console.error("Error in deleteFileFromUrl:",s)}},ss=async(e,t="media")=>{const s=e.filter(r=>!!r);s.length!==0&&await Promise.all(s.map(r=>ts(r,t)))},Ss=async(e,t=10)=>{const{data:s,error:r}=await L.from("users").select("*").or(`username.ilike.%${e}%,display_name.ilike.%${e}%`).limit(t);if(r)throw r;return(s||[]).map(Ve).filter(n=>n!==null)},Qx=async(e=null,t=10)=>{let s=L.from("users").select("*").order("is_verified",{ascending:!1}).order("follower_count",{ascending:!1}).order("created_at",{ascending:!1}).limit(t);e&&(s=s.lt("created_at",e));const{data:r,error:n}=await s;if(n)throw n;return(r||[]).map(Ve).filter(i=>i!==null)},_r=async(e,t="id")=>{let s=L.from("users").select("*");t==="id"?s=s.eq("id",e):s=s.ilike("username",e);const{data:r,error:n}=await s.maybeSingle();if(n)throw n;return r?Ve(r):null},nd=e=>_r(e,"username"),Ct=async e=>{if(!e)return;const{error:t}=await L.from("users").update({last_seen_at:new Date().toISOString()}).eq("id",e);if(t)throw t},id=async(e,t)=>{if(t.avatar||t.cover){const{data:n}=await L.from("users").select("avatar_url, cover_url").eq("id",e).single();n&&(t.avatar&&n.avatar_url&&n.avatar_url!==t.avatar&&n.avatar_url.includes(L.storage.from("media").getPublicUrl("").data.publicUrl)&&await ts(n.avatar_url),t.cover&&n.cover_url&&n.cover_url!==t.cover&&n.cover_url.includes(L.storage.from("media").getPublicUrl("").data.publicUrl)&&await ts(n.cover_url))}const s={display_name:t.name,username:t.handle,avatar_url:t.avatar,bio:t.bio,cover_url:t.cover,website:t.website,location:t.location,onboarding_completed:t.onboarding_completed};Object.keys(s).forEach(n=>s[n]===void 0&&delete s[n]);const{error:r}=await L.from("users").update(s).eq("id",e);if(r)throw r},ad=async(e,t)=>{const{data:s}=await L.from("follows").select("*").eq("follower_id",e).eq("following_id",t).maybeSingle();return s?(await L.from("follows").delete().eq("follower_id",e).eq("following_id",t),!1):(await L.from("follows").insert([{follower_id:e,following_id:t}]),!0)},od=async(e,t)=>{if(!e||!t||t==="undefined")return!1;const{data:s}=await L.from("follows").select("*").eq("follower_id",e).eq("following_id",t).maybeSingle();return!!s},ld=async(e,t=null,s=10)=>{let r=L.from("follows").select(`
      created_at,
      user:users!follower_id (
        id,
        username,
        display_name,
        avatar_url,
        is_verified,
        bio,
        role,
        roles,
        is_pro
      )
    `).eq("following_id",e).order("created_at",{ascending:!1}).limit(s);t&&(r=r.lt("created_at",t));const{data:n,error:i}=await r;if(i)throw i;return(n||[]).map(a=>({...Ve(a.user),followed_at:a.created_at}))},cd=async(e,t=null,s=10)=>{let r=L.from("follows").select(`
      created_at,
      user:users!following_id (
        id,
        username,
        display_name,
        avatar_url,
        is_verified,
        bio,
        role,
        roles,
        is_pro
      )
    `).eq("follower_id",e).order("created_at",{ascending:!1}).limit(s);t&&(r=r.lt("created_at",t));const{data:n,error:i}=await r;if(i)throw i;return(n||[]).map(a=>({...Ve(a.user),followed_at:a.created_at}))},dd=async e=>{const{data:t,error:s}=await L.from("users").select("follower_count, following_count").eq("id",e).maybeSingle();return s||!t?{followers:0,following:0}:{followers:t.follower_count||0,following:t.following_count||0}},Wx=async e=>{if(!e)return!1;const{count:t,error:s}=await L.from("users").select("*",{count:"exact",head:!0}).ilike("username",e);if(s)throw s;return t===0};const ud=async(e=null,t=20,s="default")=>{let r=null,n=null;if(e&&e.includes(":")){const c=e.split(":");r=c[0],n=parseFloat(c[1])}const i={limit_val:t,random_seed:s};r&&Qe(r)&&(i.last_item_id=r),n!==null&&(i.last_item_score=n);const{data:a,error:o}=await L.rpc("get_posts_feed",i);if(o)throw o;return(a||[]).map(c=>Xe({...c,mirrors_count:c.mirrors_count||0})).filter(c=>c!==null)},fd=async e=>{const{data:t,error:s}=await L.from("posts").select(`
            *,
            user:users!user_id (
                id,
                username,
                display_name,
                avatar_url,
                is_verified,
                bio,
                location,
                website,
                follower_count,
                following_count,
                role,
                roles,
                is_pro
            ),
            communities (
                id,
                handle,
                name,
                avatar_url
            ),
            quoted_post:posts!quoted_post_id (
                *,
                user:users!user_id (
                    id,
                    username,
                    display_name,
                    avatar_url,
                    is_verified,
                    role,
                    roles,
                    is_pro
                )
            )
        `).eq("id",e).single();if(s)throw s;return Xe(t)},md=async(e,t=null,s=20,r=null)=>{const n=r==="posts"?null:r,{data:i,error:a}=await L.rpc("get_profile_feed",{target_user_id:e,limit_val:s,last_item_time:t||void 0,filter_mode:n});if(a){console.error("RPC get_profile_feed failed:",a);let o=L.from("posts").select(`
        *,
        user:users!user_id (
          id,
          username,
          display_name,
          avatar_url,
          is_verified,
          bio,
          follower_count,
          following_count,
          role,
          roles,
          is_pro
        ),
        communities (
          id,
          handle,
          name,
          avatar_url
        )
      `).eq("user_id",e).order("created_at",{ascending:!1}).limit(s);n==="reel"?o=o.eq("type","reel"):n==="all"||(o=o.neq("type","reel")),t&&(o=o.lt("created_at",t));const{data:c,error:d}=await o;if(d)throw d;return(c||[]).map(u=>Xe(u)).filter(u=>u!==null)}return(i||[]).map(o=>Xe({...o})).filter(o=>o!==null)},Ux=async e=>{const{error:t}=await L.rpc("increment_post_views",{post_id:e});t&&console.error("RPC increment_post_views failed, make sure to run the SQL migration:",t)},hd=async({content:e,media:t=[],type:s="text",userId:r,poll:n=null,parentId:i=null,communityId:a=null,quotedPostId:o=null})=>{const{data:c,error:d}=await L.from("posts").insert([{user_id:r,content:e,media:t,type:s,poll:n,parent_id:i,community_id:a,quoted_post_id:o}]).select(`
            *,
            user:users!user_id (
                id,
                username,
                display_name,
                avatar_url,
                is_verified
            ),
            communities:community_id (
                id,
                handle,
                name,
                avatar_url
            )
        `);if(d)throw d;return Xe(c?.[0])},pd=async e=>{const{data:t}=await L.from("posts").select("media").eq("id",e).single();if(t?.media&&Array.isArray(t.media)){const r=[];t.media.forEach(n=>{n.url&&r.push(n.url),n.poster&&r.push(n.poster)}),r.length>0&&await ss(r)}const{error:s}=await L.from("posts").delete().eq("id",e);if(s)throw s},gd=async e=>{const{data:t}=await L.from("comments").select("media").eq("id",e).single();if(t?.media&&Array.isArray(t.media)){const r=[];t.media.forEach(n=>{n.url&&r.push(n.url),n.poster&&r.push(n.poster)}),r.length>0&&await ss(r)}const{error:s}=await L.from("comments").delete().eq("id",e);if(s)throw s},xd=async(e,t)=>{const{error:s}=await L.from("posts").update(t).eq("id",e);if(s)throw s},vd=async(e,t)=>{const{error:s}=await L.from("comments").update(t).eq("id",e);if(s)throw s},yd=async(e,t=null,s=10,r=null)=>{let n=L.from("comments").select(`
            *,
            user:users!user_id (
                id,
                username,
                display_name,
                avatar_url,
                is_verified
            )
        `).eq("post_id",e).order("created_at",{ascending:!0}).limit(s);r?n=n.eq("parent_id",r):n=n.is("parent_id",null),t&&(n=n.gt("created_at",t));const{data:i,error:a}=await n;if(a)throw a;return(i||[]).map(la).filter(o=>o!==null)},bd=async(e,t,s,r=[],n=null,i="text",a=null)=>{const{data:o,error:c}=await L.from("comments").insert([{post_id:e,user_id:t,content:s,media:r,parent_id:n,type:i,duration:a}]).select(`
            *,
            user:users!user_id (
                id,
                username,
                display_name,
                avatar_url,
                is_verified
            )
        `);if(c)throw c;return la(o?.[0])},wd=async(e,t,s)=>{if(!e)return!1;const r=s?null:t||null,n=s||null;try{const{data:i,error:a}=await L.rpc("toggle_like",{p_user_id:e,p_post_id:r,p_comment_id:n});if(a&&(a.code==="PGRST202"||a.status===404)){if(s){const{data:o}=await L.from("comment_likes").select("comment_id").eq("comment_id",s).eq("user_id",e).maybeSingle();return o?(await L.from("comment_likes").delete().eq("comment_id",s).eq("user_id",e),!1):(await L.from("comment_likes").insert([{comment_id:s,user_id:e}]),!0)}else if(t){const{data:o}=await L.from("likes").select("post_id").eq("post_id",t).eq("user_id",e).maybeSingle();return o?(await L.from("likes").delete().eq("post_id",t).eq("user_id",e),!1):(await L.from("likes").insert([{post_id:t,user_id:e}]),!0)}}if(a)throw a;return!!i}catch(i){return console.error("toggleLike error:",i),!1}},_d=async(e,t,s)=>{if(!e||!t&&!s)return!1;const r=s?"comment_likes":"likes",n=s?"comment_id":"post_id",i=s||t,{data:a,error:o}=await L.from(r).select(n).eq(n,i).eq("user_id",e).limit(1);return o?(console.error("Error checking like status:",o),!1):a&&a.length>0},jd=async(e,t,s)=>{if(!e)return!1;const r=s?null:t||null,n=s||null;try{const{data:i,error:a}=await L.rpc("toggle_repost",{p_user_id:e,p_post_id:r,p_comment_id:n});if(a&&(a.code==="PGRST202"||a.status===404)){if(s){const{data:o}=await L.from("reposts").select("comment_id").eq("comment_id",s).eq("user_id",e).maybeSingle();return o?(await L.from("reposts").delete().eq("comment_id",s).eq("user_id",e),!1):(await L.from("reposts").insert([{comment_id:s,user_id:e}]),!0)}else if(t){const{data:o}=await L.from("reposts").select("post_id").eq("post_id",t).eq("user_id",e).maybeSingle();return o?(await L.from("reposts").delete().eq("post_id",t).eq("user_id",e),!1):(await L.from("reposts").insert([{post_id:t,user_id:e}]),!0)}}if(a)throw a;return!!i}catch(i){return console.error("toggleRepost error:",i),!1}},kd=async(e,t,s)=>{if(!e||!t&&!s)return!1;const r="reposts",n=s?"comment_id":"post_id",i=s||t,{data:a,error:o}=await L.from(r).select(n).eq(n,i).eq("user_id",e).limit(1);return o?(console.error("Error checking repost status:",o),!1):a&&a.length>0},Sd=async(e,t=null,s=20,r=!1)=>{let n=L.from("posts").select(`
            *,
            user:users!user_id (
                id,
                username,
                display_name,
                avatar_url,
                is_verified,
                role,
                roles,
                is_pro
            ),
            communities (
                id,
                handle,
                name,
                avatar_url
            )
        `).ilike("content",`%${e}%`);r&&(n=n.not("community_id","is",null)),n=n.order("created_at",{ascending:!1}).limit(s),t&&(n=n.lt("created_at",t));const{data:i,error:a}=await n;if(a)throw a;return(i||[]).map(Xe).filter(o=>o!==null)},Cd=async(e=1)=>{const r=(e-1)*5,{data:n,error:i}=await L.from("posts").select(`
            *,
            user:users!user_id (
                id,
                username,
                display_name,
                avatar_url,
                is_verified,
                role,
                roles,
                is_pro
            ),
            communities (
                id,
                handle,
                name,
                avatar_url
            )
        `).neq("type","reel").order("views_count",{ascending:!1}).order("created_at",{ascending:!1}).range(r,r+5-1);if(i)throw i;const a=(n||[]).map(Xe).filter(Boolean),{data:o,error:c}=await L.from("posts").select(`
            *,
            user:users!user_id (
                id,
                username,
                display_name,
                avatar_url,
                is_verified,
                role,
                roles,
                is_pro
            ),
            communities (
                id,
                handle,
                name,
                avatar_url
            )
        `).neq("type","reel").limit(50);if(c)throw c;let d=(o||[]).map(Xe).filter(u=>u&&!a.find(f=>f.id===u.id));return d=d.sort(()=>Math.random()-.5).slice(0,5),[...a,...d]},Nd=async(e=null,t=10,s="default")=>{let r=null,n=null;if(e){const o=e.split(":");o.length===2&&(r=o[0],n=parseFloat(o[1]))}const{data:i,error:a}=await L.rpc("get_reels_feed",{limit_val:t,last_reel_id:r||void 0,last_reel_score:n||void 0,random_seed:s});if(a)throw a;return(i||[]).map(o=>Xe({...o,mirrors_count:o.mirrors_count||0})).filter(o=>o!==null)},Gx=async(e,t,s)=>{const{data:r,error:n}=await L.rpc("vote_poll",{p_post_id:e,p_option_id:t,p_user_id:s});if(n)throw n;return r},Pd=async(e=1)=>{const r=(e-1)*5,{data:n,error:i}=await L.from("communities").select("*").order("members_count",{ascending:!1}).order("created_at",{ascending:!1}).range(r,r+5-1);if(i)throw i;const a=(n||[]).map(Qt).filter(Boolean),{data:o,error:c}=await L.from("communities").select("*").limit(50);if(c)throw c;let d=(o||[]).map(Qt).filter(u=>u&&!a.find(f=>f.id===u.id));return d=d.sort(()=>Math.random()-.5).slice(0,5),[...a,...d]},$d=async e=>{const{data:t,error:s}=await L.from("communities").select("*").eq("handle",e).single();if(s)throw s;return Qt(t)},Ed=async(e,t=null,s=10)=>{let r=L.from("posts").select(`
            *,
            user:users!user_id (
                id,
                username,
                display_name,
                avatar_url,
                is_verified,
                role,
                roles,
                is_pro
            ),
            communities (
                id,
                handle,
                name,
                avatar_url
            )
        `).eq("community_id",e).neq("type","reel").order("created_at",{ascending:!1}).limit(s);t&&(r=r.lt("created_at",t));const{data:n,error:i}=await r;if(i)throw i;return(n||[]).map(Xe).filter(a=>a!==null)},zd=async(e,t)=>{const{data:s}=await L.from("community_members").select("*").eq("community_id",e).eq("user_id",t).maybeSingle();if(s){const{error:r}=await L.from("community_members").delete().eq("community_id",e).eq("user_id",t);if(r)throw r;return!1}else{const{error:r}=await L.from("community_members").insert([{community_id:e,user_id:t}]);if(r)throw r;return!0}},Md=async(e,t)=>{if(!t)return null;const{data:s}=await L.from("community_members").select("*").eq("community_id",e).eq("user_id",t).maybeSingle();return s},Jx=async e=>{if(!e)return[];const{data:t,error:s}=await L.from("community_members").select(`
      role,
      communities (*)
    `).eq("user_id",e);if(s)throw s;return(t||[]).map(r=>({...Qt(r.communities),myRole:r.role}))},Yx=async e=>{const{data:t,error:s}=await L.from("communities").insert([e]).select().single();if(s)throw s;const{error:r}=await L.from("community_members").insert([{community_id:t.id,user_id:e.creator_id,role:"admin"}]);if(r)throw r;return Qt(t)},Ad=async(e,t)=>{if(t.avatar_url||t.cover_url){const{data:n}=await L.from("communities").select("avatar_url, cover_url").eq("id",e).single();n&&(t.avatar_url&&n.avatar_url&&n.avatar_url!==t.avatar_url&&n.avatar_url.includes(L.storage.from("media").getPublicUrl("").data.publicUrl)&&await ts(n.avatar_url),t.cover_url&&n.cover_url&&n.cover_url!==t.cover_url&&n.cover_url.includes(L.storage.from("media").getPublicUrl("").data.publicUrl)&&await ts(n.cover_url))}const{data:s,error:r}=await L.from("communities").update(t).eq("id",e).select().single();if(r)throw r;return Qt(s)},Ld=async(e,t="")=>{let s=L.from("community_members").select(`
      role,
      user_id,
      users:user_id!inner (
        id,
        username,
        display_name,
        avatar_url,
        is_verified
      )
    `).eq("community_id",e);t&&(s=s.or(`username.ilike.%${t}%,display_name.ilike.%${t}%`,{foreignTable:"users"}));const{data:r,error:n}=await s.limit(20);if(n)throw n;return(r||[]).map(i=>({role:i.role,userId:i.user_id,user:i.users}))},Rd=async(e,t,s)=>{const{data:r,error:n}=await L.from("community_members").update({role:s}).eq("community_id",e).eq("user_id",t).select().single();if(n)throw n;return r},Xx=async e=>{if(!e)return!1;const{count:t,error:s}=await L.from("communities").select("*",{count:"exact",head:!0}).ilike("handle",e);if(s)throw s;return t===0},nn=async(e,t)=>{const{data:s,error:r}=await L.rpc("get_or_create_dm",{p_user_id:e,p_target_id:t});if(r)throw r;return s},Zx=async(e,t,s,r=null)=>{const{data:n,error:i}=await L.from("conversations").insert({is_group:!0,name:t,avatar_url:r,creator_id:e}).select().single();if(i)throw i;const a=n.id,o=Array.from(new Set([e,...s])).map(d=>({conversation_id:a,user_id:d})),{error:c}=await L.from("conversation_participants").insert(o);if(c)throw c;return a},Dd=async(e,t)=>{const s=t.map(n=>({conversation_id:e,user_id:n})),{error:r}=await L.from("conversation_participants").insert(s);if(r)throw r},Td=async e=>{if(!e)return 0;const{data:t}=await L.from("conversation_participants").select("conversation_id").eq("user_id",e),s=t?.map(i=>i.conversation_id)||[];if(s.length===0)return 0;const{count:r,error:n}=await L.from("messages").select("*",{count:"exact",head:!0}).eq("is_read",!1).neq("sender_id",e).in("conversation_id",s);if(n)throw n;return r||0},Fd=async e=>{if(!e)return;const{error:t}=await L.rpc("mark_messages_read",{p_conversation_id:e});if(t)throw t},Id=async e=>{if(!e)return[];const{data:t,error:s}=await L.from("conversation_participants").select(`
            conversation:conversations (
                id,
                is_group,
                name,
                avatar_url,
                creator_id,
                last_message_at,
                last_message_content,
                participants:conversation_participants (
                    user:users (
                        id,
                        username,
                        display_name,
                        avatar_url,
                        last_seen_at
                    )
                ),
                messages (
                    id,
                    is_read,
                    sender_id
                )
            )
        `).eq("user_id",e);if(s)throw s;const r=(t||[]).map(o=>td(o,e)).filter(o=>o!==null),n=[],i=new Set,a=[...r].sort((o,c)=>{const d=o.lastMessageAt?new Date(o.lastMessageAt).getTime():0;return(c.lastMessageAt?new Date(c.lastMessageAt).getTime():0)-d});for(const o of a){if(!o.isGroup&&o.user?.id){if(i.has(o.user.id))continue;i.add(o.user.id)}n.push(o)}return n},qd=async(e,t=null,s=20)=>{let r=L.from("messages").select(`
            *,
            sender:users!sender_id (
                id,
                username,
                display_name,
                avatar_url
            ),
            reply_to:messages!reply_to_id (
                id,
                content,
                sender:users!sender_id (
                    id,
                    username,
                    display_name
                )
            )
        `).eq("conversation_id",e).order("created_at",{ascending:!1}).limit(s);t&&(r=r.lt("created_at",t));const{data:n,error:i}=await r;if(i)throw i;return(n||[]).map(wr).filter(a=>a!==null)},Od=async e=>{const{data:t,error:s}=await L.from("message_reactions").select("*, message:messages!inner(conversation_id)").eq("message.conversation_id",e);if(s)throw s;return(t||[]).map(r=>({id:r.id,message_id:r.message_id,user_id:r.user_id,emoji:r.emoji,created_at:r.created_at}))},Vd=async(e,t,s)=>{const{data:r}=await L.from("message_reactions").select("*").eq("message_id",e).eq("user_id",t).maybeSingle();return r?r.emoji===s?(await L.from("message_reactions").delete().eq("id",r.id),{action:"removed",emoji:s}):(await L.from("message_reactions").update({emoji:s}).eq("id",r.id),{action:"updated",emoji:s}):(await L.from("message_reactions").insert([{message_id:e,user_id:t,emoji:s}]),{action:"added",emoji:s})},Bd=async(e,t,s,r="text",n=[],i=null)=>{const{data:a,error:o}=await L.from("messages").insert([{conversation_id:e,sender_id:t,content:s,type:r,media:n,reply_to_id:i}]).select();if(o)throw o;return await L.from("conversations").update({last_message_at:new Date().toISOString(),last_message_content:r==="image"?"Sent an image":r==="video"?"Sent a video":r==="voice"?"Voice message":s}).eq("id",e),wr(a?.[0])},Hd=async(e,t)=>{const{data:s,error:r}=await L.from("messages").update({content:t}).eq("id",e).select().single();if(r)throw r;return wr(s)},da=async e=>{const{data:t}=await L.from("messages").select("media").eq("conversation_id",e);if(t&&t.length>0){const r=[];t.forEach(n=>{n.media&&(Array.isArray(n.media)?r.push(...n.media):r.push(n.media))}),r.length>0&&await ss(r)}const{error:s}=await L.from("conversations").delete().eq("id",e);if(s)throw s},Kd=async(e,t)=>{const{error:s}=await L.from("conversation_participants").delete().eq("conversation_id",e).eq("user_id",t);if(s)throw s},Qd=async(e,t)=>{const{error:s}=await L.from("conversation_participants").delete().eq("conversation_id",e).eq("user_id",t);if(s)throw s},Wd=async e=>{const{data:t}=await L.from("messages").select("media").eq("id",e).single();t?.media&&Array.isArray(t.media)?await ss(t.media):t?.media&&typeof t.media=="string"&&await ss([t.media]);const{error:s}=await L.from("messages").delete().eq("id",e);if(s)throw s},Ud=async(e,t=1,s=50)=>{const r=(t-1)*s,n=r+s-1,{data:i,error:a}=await L.from("conversation_participants").select(`
            user:users (
                id,
                username,
                display_name,
                avatar_url
            )
        `).eq("conversation_id",e).range(r,n);if(a)throw a;return(i||[]).map(o=>o.user)},Gd=async(e,t)=>{const{data:s,error:r}=await L.from("conversations").update(t).eq("id",e).select().single();if(r)throw r;return s},Jd=async(e,t=null,s=10)=>{if(!e)return[];let r=L.from("notifications").select(`
            *,
            actor:users!actor_id (
                username,
                avatar_url
            )
        `).eq("recipient_id",e).order("created_at",{ascending:!1}).limit(s);t&&(r=r.lt("created_at",t));const{data:n,error:i}=await r;if(i)throw i;return(n||[]).map(ed).filter(a=>a!==null)},Yd=async e=>{const{error:t}=await L.from("notifications").update({is_read:!0}).eq("recipient_id",e).eq("is_read",!1);if(t)throw t},Xd=async e=>{if(!e)return 0;const{count:t,error:s}=await L.from("notifications").select("*",{count:"exact",head:!0}).eq("recipient_id",e).eq("is_read",!1);if(s)throw s;return t||0},Zd=async(e=9)=>{const{data:t,error:s}=await L.rpc("get_random_stories",{limit_count:e});if(s)throw console.error("Error fetching random stories:",s),s;return(t||[]).map(r=>ca({...r,user:r.user_data})).filter(r=>r!==null)},ev=async(e,t,s="image",r)=>{const{data:n,error:i}=await L.from("stories").insert([{user_id:e,media_url:t,type:s,content:r}]).select(`
            *,
            user:users!user_id (
                id,
                username,
                display_name,
                avatar_url,
                is_verified
            )
        `);if(i)throw i;return ca(n?.[0])},eu=async e=>{const{data:t,error:s}=await L.rpc("increment_story_views",{s_id:e});return s?(console.error("RPC increment_story_views failed:",s),null):t},tu=async(e=5)=>{const{data:t,error:s}=await L.from("trending_hashtags").select("*").limit(e);if(s||!t||t.length===0){const{data:r,error:n}=await L.from("hashtags").select("*").order("usage_count",{ascending:!1}).limit(e);if(n)throw n;return(r||[]).map(i=>({id:i.id||i.name,tag:i.name,usage_count:i.usage_count||0}))}return(t||[]).map(r=>({id:r.name,tag:r.name,usage_count:r.usage_count||0}))},su=async e=>{try{const t=`https://api.allorigins.win/raw?url=${encodeURIComponent(e)}`,s=await fetch(t);if(!s.ok)throw new Error("Failed to fetch preview");const r=await s.text(),n=new DOMParser().parseFromString(r,"text/html"),i=a=>n.querySelector(`meta[property="${a}"]`)?.getAttribute("content")||n.querySelector(`meta[name="${a}"]`)?.getAttribute("content");return{title:i("og:title")||n.title||e,description:i("og:description")||i("description")||"",image:i("og:image")||i("twitter:image")||"",siteName:i("og:site_name")||new URL(e).hostname,url:e}}catch(t){return console.error("Link preview error:",t),null}},tv=async e=>{if(!e)return null;try{const{data:t}=await L.from("link_previews").select("*").eq("url",e).maybeSingle();if(t)return L.from("link_previews").update({last_used_at:new Date().toISOString()}).eq("url",e).then(()=>{}),{title:t.title,description:t.description,image:t.image,siteName:t.site_name,url:t.url};const s=await su(e);return s?(L.from("link_previews").insert([{url:s.url,title:s.title,description:s.description,image:s.image,site_name:s.siteName}]).then(({error:r})=>{r&&console.error("Cache save error:",r)}),s):null}catch(t){return console.error("Link preview cache error:",t),null}},Me={async getAllUsers(e=1,t=50){const s=(e-1)*t,r=s+t-1,{data:n,error:i}=await L.from("users").select("*").order("created_at",{ascending:!1}).range(s,r);if(i)throw i;return(n||[]).map(Ve)},async updateUserRole(e,t){const{error:s}=await L.rpc("admin_set_user_role",{p_user_id:e,p_new_role:t});if(s)throw s},async toggleUserVerification(e,t){const{error:s}=await L.from("users").update({is_verified:t}).eq("id",e);if(s)throw s},async toggleUserBan(e,t){const{error:s}=await L.rpc("toggle_user_ban",{target_user_id:e,ban_status:t});if(s)throw s},async adminUpdateUser(e,t,s){const{error:r}=await L.rpc("admin_update_user",{p_user_id:e,p_new_role:t,p_pro_validity_days:s});if(r)throw r},async getLatestPosts(e=50){const{data:t,error:s}=await L.from("posts").select("*, user:users(*)").order("created_at",{ascending:!1}).limit(e);if(s)throw s;return(t||[]).map(r=>Xe({...r,author_data:r.user}))},async deletePost(e){const{error:t}=await L.from("posts").delete().eq("id",e);if(t)throw t},async getSystemStats(){const[e,t,s]=await Promise.all([L.from("users").select("id",{count:"exact",head:!0}),L.from("posts").select("id",{count:"exact",head:!0}),L.from("communities").select("id",{count:"exact",head:!0})]);return{totalUsers:e.count||0,totalPosts:t.count||0,totalCommunities:s.count||0}},async getReports(e=1,t=50){const s=(e-1)*t,r=s+t-1,{data:n,error:i}=await L.from("reports").select("*, reporter:users!reporter_id(*)").order("created_at",{ascending:!1}).range(s,r);if(i)throw i;return n},async updateReportStatus(e,t){const{error:s}=await L.from("reports").update({status:t}).eq("id",e);if(s)throw s},async deleteReportTarget(e,t){if(e==="user")return this.toggleUserBan(t,!0);let s="posts";e==="community"&&(s="communities");const{error:r}=await L.from(s).delete().eq("id",t);if(r)throw r},async getAnalytics(){const{data:e}=await L.from("users").select("created_at"),{data:t}=await L.from("posts").select("created_at");return{usersByDay:e||[],postsByDay:t||[]}},async getSettings(){const{data:e,error:t}=await L.from("system_settings").select("*").single();return t?{maintenance_mode:!1,allow_signups:!0}:e},async updateSettings(e){const{error:t}=await L.from("system_settings").upsert(e);if(t)throw t}};var l=ei(Go(),1),ua=(0,x.createContext)(void 0);const ru=({children:e})=>{const t=$e(),[s,r]=(0,x.useState)(null),[n,i]=(0,x.useState)(!0),a=(0,x.useRef)(null),o=(0,x.useCallback)(async(b,w=!1)=>{if(!(a.current===b.id&&!w)){a.current=b.id,w&&i(!0);try{const k=await _r(b.id);r(k||{id:b.id,name:b.email?.split("@")[0]||"User",handle:b.email?.split("@")[0]||"user",avatar:"/default-avatar.webp",verified:!1,role:"user",cover:"/welcome-banner.webp",bio:null,location:null,website:null,follower_count:0,following_count:0,lastSeen:new Date().toISOString()})}catch(k){console.error("Error fetching user profile:",k)}finally{w&&i(!1)}}},[]);(0,x.useEffect)(()=>{if(!s?.id)return;Ct(s.id);const b=setInterval(()=>Ct(s.id),3e4),w=()=>{document.visibilityState==="visible"&&Ct(s.id)};return window.addEventListener("visibilitychange",w),window.addEventListener("beforeunload",()=>Ct(s.id)),()=>{clearInterval(b),window.removeEventListener("visibilitychange",w),window.removeEventListener("beforeunload",()=>Ct(s.id))}},[s?.id]);const c=(0,x.useRef)(!1);(0,x.useEffect)(()=>{L.auth.getSession().then(({data:{session:w}})=>{w?(o(w.user,!0),c.current=!0):(i(!1),c.current=!0)});const{data:{subscription:b}}=L.auth.onAuthStateChange((w,k)=>{if(k){if(w==="SIGNED_IN"||w==="TOKEN_REFRESHED"||w==="USER_UPDATED"){const j=!c.current||w==="SIGNED_IN"&&!s;o(k.user,j),j&&(c.current=!0)}}else w==="SIGNED_OUT"?(r(null),i(!1),c.current=!0,a.current=null,t.clear()):(i(!1),c.current=!0)});return()=>b.unsubscribe()},[o]);const d=(0,x.useCallback)(async({email:b,password:w})=>{const{data:k,error:j}=await L.auth.signInWithPassword({email:b,password:w});if(j)throw j;return k},[]),u=(0,x.useCallback)(async({email:b,password:w,username:k,name:j})=>{const{data:{user:_},error:C}=await L.auth.signUp({email:b,password:w,options:{data:{username:k.toLowerCase(),name:j}}});if(C)throw C;return _},[]),f=(0,x.useCallback)(async()=>{await L.auth.signOut(),r(null),a.current=null},[]),p=(0,x.useCallback)(async b=>{const{error:w}=await L.auth.resetPasswordForEmail(b,{redirectTo:`${window.location.origin}/reset-password`});if(w)throw w},[]),m=(0,x.useCallback)(async b=>{const{error:w}=await L.auth.updateUser({password:b});if(w)throw w},[]),h=(0,x.useCallback)(async b=>{const w="84fa6f5b-10ce-42bf-8a16-fa59b1ceb039";try{const{data:k}=await L.from("conversation_participants").select("user_id").eq("conversation_id",w).eq("user_id",b).maybeSingle();k||(await L.from("conversation_participants").insert([{conversation_id:w,user_id:b}]),console.log("User auto-joined global inbox group"))}catch(k){console.error("Failed to auto-join global inbox group:",k)}},[]),g=(0,x.useCallback)(async(b,w,k)=>{const{data:j,error:_}=await L.auth.verifyOtp({email:b,token:w,type:k});if(_)throw _;return k==="signup"&&j?.user?.id&&await h(j.user.id),j},[h]),v=(0,x.useCallback)(async b=>{s&&(await id(s.id,b),await o(s),t.invalidateQueries({queryKey:["profile",s.handle]}),t.invalidateQueries({queryKey:["posts","user",s.id]}))},[s,o,t]),y=(0,x.useMemo)(()=>({currentUser:s,login:d,signup:u,logout:f,forgotPassword:p,resetPassword:m,verifyOtp:g,updateProfile:v,loading:n}),[s,d,u,f,p,m,g,v,n]);return(0,l.jsx)(ua.Provider,{value:y,children:e})},be=()=>{const e=(0,x.useContext)(ua);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e};var nu=U(),fa=(0,x.createContext)(void 0);const iu=e=>{const t=(0,nu.c)(10),{children:s}=e,{currentUser:r}=be();let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=new Set,t[0]=n):n=t[0];const[i,a]=(0,x.useState)(n);let o;t[1]!==r?(o=()=>{if(!r?.id)return;let p=!0;const m=L.channel("global_presence",{config:{presence:{key:r.id}}});return m.on("presence",{event:"sync"},()=>{if(!p)return;const h=m.presenceState(),g=new Set;Object.keys(h).forEach(v=>g.add(v)),a(g)}).subscribe(async h=>{h==="SUBSCRIBED"&&p&&(await m.track({userId:r.id,online_at:new Date().toISOString()}),Ct(r.id))}),()=>{p=!1,r?.id&&Ct(r.id),m&&L.removeChannel(m),a(new Set)}},t[1]=r,t[2]=o):o=t[2];const c=r?.id;let d;t[3]!==c?(d=[c],t[3]=c,t[4]=d):d=t[4],(0,x.useEffect)(o,d);let u;t[5]!==i?(u={onlineUsers:i},t[5]=i,t[6]=u):u=t[6];let f;return t[7]!==s||t[8]!==u?(f=(0,l.jsx)(fa.Provider,{value:u,children:s}),t[7]=s,t[8]=u,t[9]=f):f=t[9],f},au=()=>{const e=(0,x.useContext)(fa);if(!e)throw new Error("usePresence must be used within a PresenceProvider");return e};var ou=U(),ma=(0,x.createContext)(void 0);const lu=e=>{const t=(0,ou.c)(17),{children:s}=e,[r,n]=(0,x.useState)(cu),[i,a]=(0,x.useState)(du),[o,c]=(0,x.useState)(uu);let d,u;t[0]!==r?(d=()=>{localStorage.setItem("theme",r?"dark":"light"),r?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},u=[r],t[0]=r,t[1]=d,t[2]=u):(d=t[1],u=t[2]),(0,x.useEffect)(d,u);let f,p;t[3]!==i?(f=()=>{localStorage.setItem("font-size",i),document.documentElement.style.setProperty("--app-font-size",{small:"14px",base:"16px",large:"18px"}[i])},p=[i],t[3]=i,t[4]=f,t[5]=p):(f=t[4],p=t[5]),(0,x.useEffect)(f,p);let m,h;t[6]!==o?(m=()=>{localStorage.setItem("data-saver",String(o))},h=[o],t[6]=o,t[7]=m,t[8]=h):(m=t[7],h=t[8]),(0,x.useEffect)(m,h);let g;t[9]===Symbol.for("react.memo_cache_sentinel")?(g=()=>n(fu),t[9]=g):g=t[9];const v=g;let y;t[10]!==r||t[11]!==o||t[12]!==i?(y={darkMode:r,setDarkMode:n,toggleDarkMode:v,fontSize:i,setFontSize:a,dataSaver:o,setDataSaver:c},t[10]=r,t[11]=o,t[12]=i,t[13]=y):y=t[13];const b=y;let w;return t[14]!==s||t[15]!==b?(w=(0,l.jsx)(ma.Provider,{value:b,children:s}),t[14]=s,t[15]=b,t[16]=w):w=t[16],w},As=()=>{const e=(0,x.useContext)(ma);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e};function cu(){const e=localStorage.getItem("theme");return e==="dark"||!e}function du(){return localStorage.getItem("font-size")||"small"}function uu(){return localStorage.getItem("data-saver")==="true"}function fu(e){return!e}var mu=(e,t,s,r,n,i,a,o)=>{let c=document.documentElement,d=["light","dark"];function u(m){(Array.isArray(e)?e:[e]).forEach(h=>{let g=h==="class",v=g&&i?n.map(y=>i[y]||y):n;g?(c.classList.remove(...v),c.classList.add(i&&i[m]?i[m]:m)):c.setAttribute(h,m)}),f(m)}function f(m){o&&d.includes(m)&&(c.style.colorScheme=m)}function p(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)u(r);else try{let m=localStorage.getItem(t)||s;u(a&&m==="system"?p():m)}catch{}};var hu=x.createContext(void 0),pu={setTheme:e=>{},themes:[]},gu=()=>{var e;return(e=x.useContext(hu))!=null?e:pu};var sv=x.memo(({forcedTheme:e,storageKey:t,attribute:s,enableSystem:r,enableColorScheme:n,defaultTheme:i,value:a,themes:o,nonce:c,scriptProps:d})=>{let u=JSON.stringify([s,t,i,e,o,a,r,n]).slice(1,-1);return x.createElement("script",{...d,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${mu.toString()})(${u})`}})});var xu=U(),vu=e=>{const t=(0,xu.c)(8);let s;t[0]!==e?({...s}=e,t[0]=e,t[1]=s):s=t[1];const{theme:r}=gu(),n=r===void 0?"system":r;let i,a,o;t[2]===Symbol.for("react.memo_cache_sentinel")?(i={classNames:{toast:"group toast group-[.toaster]:bg-white group-[.toaster]:text-zinc-950 group-[.toaster]:border-zinc-200 group-[.toaster]:shadow-lg dark:group-[.toaster]:bg-zinc-950 dark:group-[.toaster]:text-zinc-50 dark:group-[.toaster]:border-zinc-800",description:"group-[.toast]:text-zinc-500 dark:group-[.toast]:text-zinc-400",actionButton:"group-[.toast]:bg-zinc-900 group-[.toast]:text-zinc-50 dark:group-[.toast]:bg-zinc-50 dark:group-[.toast]:text-zinc-900",cancelButton:"group-[.toast]:bg-zinc-100 group-[.toast]:text-zinc-500 dark:group-[.toast]:bg-zinc-800 dark:group-[.toast]:text-zinc-400"}},a={success:(0,l.jsx)(Nl,{className:"size-4"}),info:(0,l.jsx)(Dl,{className:"size-4"}),warning:(0,l.jsx)(rl,{className:"size-4"}),error:(0,l.jsx)(El,{className:"size-4"}),loading:(0,l.jsx)("span",{className:"size-4 animate-pulse rounded-full bg-zinc-200 dark:bg-zinc-800"})},o={"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)","--border-radius":"var(--radius)"},t[2]=i,t[3]=a,t[4]=o):(i=t[2],a=t[3],o=t[4]);let c;return t[5]!==s||t[6]!==n?(c=(0,l.jsx)(Al,{theme:n,className:"toaster group",toastOptions:i,icons:a,style:o,...s}),t[5]=s,t[6]=n,t[7]=c):c=t[7],c},yu=U(),ha=(0,x.createContext)(void 0);const bu=e=>{const t=(0,yu.c)(4),{children:s}=e,r=wu;let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n={addToast:r},t[0]=n):n=t[0];let i;t[1]===Symbol.for("react.memo_cache_sentinel")?(i=(0,l.jsx)(vu,{position:"bottom-center",toastOptions:{className:"rounded-full font-bold",duration:2e3}}),t[1]=i):i=t[1];let a;return t[2]!==s?(a=(0,l.jsxs)(ha.Provider,{value:n,children:[s,i]}),t[2]=s,t[3]=a):a=t[3],a},Fe=()=>{const e=(0,x.useContext)(ha);if(!e)throw new Error("useToast must be used within a ToastProvider");return e};function wu(e,t){const s=t===void 0?"success":t;s==="error"?xe.error(e):s==="info"?xe.info(e):xe.success(e)}var _u=U(),pa=(0,x.createContext)(void 0);const ju=e=>{const t=(0,_u.c)(49),{children:s}=e,r=$e(),{currentUser:n}=be(),[i,a]=x.useState(Su);let o,c;t[0]!==i?(o=["posts","feed",i],c=B=>{const{pageParam:G}=B;return ud(G,20,i)},t[0]=i,t[1]=o,t[2]=c):(o=t[1],c=t[2]);let d;t[3]!==o||t[4]!==c?(d={queryKey:o,queryFn:c,initialPageParam:null,getNextPageParam:Cu},t[3]=o,t[4]=c,t[5]=d):d=t[5];const{data:u,fetchNextPage:f,hasNextPage:p,isFetchingNextPage:m,isLoading:h,refetch:g}=Oe(d);let v;t[6]!==u?.pages?(v=u?.pages.flatMap(Nu)||[],t[6]=u?.pages,t[7]=v):v=t[7];const y=v;let b;t[8]!==n||t[9]!==r?(b=async B=>{await r.cancelQueries({queryKey:["posts","feed"]});const G=r.getQueryData(["posts","feed"]);if(G&&n){const V={id:`temp-${Date.now()}`,feed_id:`temp-${Date.now()}`,user_id:n.id,content:B.content,media:B.media||null,type:B.type||"text",poll:B.poll||null,parent_id:B.parentId||null,community_id:B.communityId||null,quoted_post_id:B.quotedPostId||null,created_at:new Date().toISOString(),stats:{comments:0,likes:0,reposts:0,views:0},user:n,community:null,repostedBy:null,timeAgo:"just now",sort_timestamp:new Date().toISOString()};r.setQueryData(["posts","feed"],R=>R&&{...R,pages:[[V,...R.pages[0]],...R.pages.slice(1)]})}return{previousPosts:G}},t[8]=n,t[9]=r,t[10]=b):b=t[10];let w,k;t[11]!==r?(w=(B,G,V)=>{V?.previousPosts&&r.setQueryData(["posts","feed"],V.previousPosts)},k=()=>{r.invalidateQueries({queryKey:["posts","feed"]})},t[11]=r,t[12]=w,t[13]=k):(w=t[12],k=t[13]);let j;t[14]!==b||t[15]!==w||t[16]!==k?(j={mutationFn:hd,onMutate:b,onError:w,onSuccess:k},t[14]=b,t[15]=w,t[16]=k,t[17]=j):j=t[17];const _=me(j);let C;t[18]!==r?(C={mutationFn:pd,onMutate:async B=>{await r.cancelQueries({queryKey:["posts","feed"]});const G=r.getQueryData(["posts","feed"]);return r.setQueryData(["posts","feed"],V=>V&&{...V,pages:V.pages.map(R=>R.filter(q=>q.id!==B))}),{previousPosts:G}},onError:(B,G,V)=>{V?.previousPosts&&r.setQueryData(["posts","feed"],V.previousPosts)},onSuccess:()=>{r.invalidateQueries({queryKey:["posts","feed"]})}},t[18]=r,t[19]=C):C=t[19];const S=me(C);let N;t[20]!==r?(N={mutationFn:Pu,onMutate:async B=>{const{postId:G,data:V}=B;await r.cancelQueries({queryKey:["posts","feed"]});const R=r.getQueryData(["posts","feed"]);return r.setQueryData(["posts","feed"],q=>q&&{...q,pages:q.pages.map(K=>K.map(Y=>Y.id===G?{...Y,...V}:Y))}),{previousPosts:R}},onError:(B,G,V)=>{V?.previousPosts&&r.setQueryData(["posts","feed"],V.previousPosts)},onSuccess:()=>{r.invalidateQueries({queryKey:["posts","feed"]})}},t[20]=r,t[21]=N):N=t[21];const E=me(N);let P;t[22]!==_?(P=async B=>await _.mutateAsync(B),t[22]=_,t[23]=P):P=t[23];const M=P;let z;t[24]!==S?(z=async B=>{await S.mutateAsync(B)},t[24]=S,t[25]=z):z=t[25];const $=z;let A;t[26]!==E?(A=async(B,G)=>{await E.mutateAsync({postId:B,data:G})},t[26]=E,t[27]=A):A=t[27];const D=A,O=$u;let F;t[28]!==y?(F=B=>y.find(G=>G.id===B),t[28]=y,t[29]=F):F=t[29];const I=F;let H;t[30]!==y?(H=(B,G)=>{const V=G===void 0?"feed":G,R=y.filter(q=>!!(q.user?.handle===B||q.repostedBy&&q.repostedBy.handle===B));return V==="feed"?R.filter(Eu):V==="media"?R.filter(zu):R},t[30]=y,t[31]=H):H=t[31];const T=H;let W;t[32]!==g?(W=()=>{a(Math.random().toString(36).substring(7)),g()},t[32]=g,t[33]=W):W=t[33];const J=W,X=p||!1;let se;t[34]!==M||t[35]!==$||t[36]!==f||t[37]!==I||t[38]!==T||t[39]!==m||t[40]!==h||t[41]!==y||t[42]!==J||t[43]!==X||t[44]!==D?(se={posts:y,setPosts:O,addPost:M,deletePost:$,updatePost:D,getPostById:I,getUserPosts:T,loading:h,hasMore:X,isFetchingNextPage:m,fetchNextPage:f,refreshPosts:J},t[34]=M,t[35]=$,t[36]=f,t[37]=I,t[38]=T,t[39]=m,t[40]=h,t[41]=y,t[42]=J,t[43]=X,t[44]=D,t[45]=se):se=t[45];const te=se;let ee;return t[46]!==s||t[47]!==te?(ee=(0,l.jsx)(pa.Provider,{value:te,children:s}),t[46]=s,t[47]=te,t[48]=ee):ee=t[48],ee},ku=()=>{const e=(0,x.useContext)(pa);if(!e)throw new Error("usePosts must be used within a PostProvider");return e};function Su(){return Math.random().toString(36).substring(7)}function Cu(e){if(!e||e.length<20)return;const t=e[e.length-1];return t.score!==void 0&&t.feed_id?`${t.feed_id}:${t.score}`:t.sort_timestamp||t.created_at}function Nu(e){return e}function Pu(e){const{postId:t,data:s}=e;return xd(t,s)}function $u(){console.warn("setPosts is deprecated in favor of React Query cache updates")}function Eu(e){return e.parent_id===null}function zu(e){return e.parent_id===null&&(e.type==="video"||e.type==="image"||(e.media?.length||0)>0)}var Mu=U(),ga=(0,x.createContext)(void 0);const Au=e=>{const t=(0,Mu.c)(9),{children:s}=e;let r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r={isOpen:!1,images:[],currentIndex:0},t[0]=r):r=t[0];const[n,i]=(0,x.useState)(r);let a;t[1]===Symbol.for("react.memo_cache_sentinel")?(a=(h,g)=>{const v=g===void 0?0:g;i({isOpen:!0,images:Array.isArray(h)?h:[h],currentIndex:v})},t[1]=a):a=t[1];const o=a;let c;t[2]===Symbol.for("react.memo_cache_sentinel")?(c=()=>{i(Ru)},t[2]=c):c=t[2];const d=c;let u;t[3]===Symbol.for("react.memo_cache_sentinel")?(u=h=>{i(g=>({...g,currentIndex:h}))},t[3]=u):u=t[3];const f=u;let p;t[4]!==n?(p={...n,openLightbox:o,closeLightbox:d,setIndex:f},t[4]=n,t[5]=p):p=t[5];let m;return t[6]!==s||t[7]!==p?(m=(0,l.jsx)(ga.Provider,{value:p,children:s}),t[6]=s,t[7]=p,t[8]=m):m=t[8],m},Lu=()=>{const e=(0,x.useContext)(ga);if(!e)throw new Error("useLightbox must be used within a LightboxProvider");return e};function Ru(e){return{...e,isOpen:!1}}var Du=U(),xa=(0,x.createContext)(void 0);const Tu=e=>{const t=(0,Du.c)(9),{children:s}=e,[r,n]=(0,x.useState)(!1),[i,a]=(0,x.useState)(null),[o,c]=(0,x.useState)(null);let d;t[0]===Symbol.for("react.memo_cache_sentinel")?(d=(g,v)=>{a(g),c(v),n(!0)},t[0]=d):d=t[0];const u=d;let f;t[1]===Symbol.for("react.memo_cache_sentinel")?(f=()=>{n(!1),a(null),c(null)},t[1]=f):f=t[1];const p=f;let m;t[2]!==r||t[3]!==o||t[4]!==i?(m={isOpen:r,targetType:i,targetId:o,openReport:u,closeReport:p},t[2]=r,t[3]=o,t[4]=i,t[5]=m):m=t[5];let h;return t[6]!==s||t[7]!==m?(h=(0,l.jsx)(xa.Provider,{value:m,children:s}),t[6]=s,t[7]=m,t[8]=h):h=t[8],h},Fu=()=>{const e=(0,x.useContext)(xa);if(!e)throw new Error("useReportModal must be used within a ReportProvider");return e};var Iu=U(),va=(0,x.createContext)(void 0);const qu=e=>{const t=(0,Iu.c)(15),{children:s}=e,[r,n]=(0,x.useState)(null);let i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=new Map,t[0]=i):i=t[0];const a=(0,x.useRef)(i);let o;t[1]!==r?(o=(g,v,y)=>{v===0?a.current.has(g)&&a.current.delete(g):a.current.set(g,{ratio:v,...y});let b=null,w=.3;for(const[k,j]of a.current.entries())j.ratio>w&&(w=j.ratio,b=k);b!==r&&n(b)},t[1]=r,t[2]=o):o=t[2];const c=o;let d,u;t[3]!==r?(d=()=>{a.current.forEach((g,v)=>{v===r?g.play():g.pause()})},u=[r],t[3]=r,t[4]=d,t[5]=u):(d=t[4],u=t[5]),(0,x.useEffect)(d,u);let f;t[6]!==r?(f=g=>{const v=a.current.get(g);v&&typeof v.pause=="function"&&v.pause(),a.current.delete(g),r===g&&n(null)},t[6]=r,t[7]=f):f=t[7];const p=f;let m;t[8]!==r||t[9]!==c||t[10]!==p?(m={reportVisibility:c,unregister:p,activeVideoId:r},t[8]=r,t[9]=c,t[10]=p,t[11]=m):m=t[11];let h;return t[12]!==s||t[13]!==m?(h=(0,l.jsx)(va.Provider,{value:m,children:s}),t[12]=s,t[13]=m,t[14]=h):h=t[14],h},rv=()=>{const e=(0,x.useContext)(va);if(!e)throw new Error("useVideoPlayback must be used within a VideoPlaybackProvider");return e};var Ou=ls("App",{web:()=>ae(()=>import("./web-D7YaasSy.js"),[]).then(e=>new e.AppWeb)});const Vu=()=>{const e=Ce();(0,x.useEffect)(()=>{if(!Kt.isNativePlatform())return;const t=async()=>{try{const r=await Ou.getLaunchUrl();r&&r.url&&s(r.url)}catch(r){console.error("Error getting launch URL:",r)}},s=r=>{console.log("Deep link received:",r);try{const n=new URL(r).pathname;n&&(n.startsWith("/p/")||n.startsWith("/r/")||n.startsWith("/profile/")||n.startsWith("/m/")||n.startsWith("/c/")?e(n):e("/"))}catch(n){console.error("Error parsing deep link:",n)}};t()},[e])};var jr=U(),Ue=x.forwardRef((e,t)=>{const s=(0,jr.c)(9);let r,n;s[0]!==e?({className:r,...n}=e,s[0]=e,s[1]=r,s[2]=n):(r=s[1],n=s[2]);let i;s[3]!==r?(i=Q("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",r),s[3]=r,s[4]=i):i=s[4];let a;return s[5]!==n||s[6]!==t||s[7]!==i?(a=(0,l.jsx)(fi,{ref:t,className:i,...n}),s[5]=n,s[6]=t,s[7]=i,s[8]=a):a=s[8],a});Ue.displayName=fi.displayName;var Ge=x.forwardRef((e,t)=>{const s=(0,jr.c)(9);let r,n;s[0]!==e?({className:r,...n}=e,s[0]=e,s[1]=r,s[2]=n):(r=s[1],n=s[2]);let i;s[3]!==r?(i=Q("aspect-square h-full w-full",r),s[3]=r,s[4]=i):i=s[4];let a;return s[5]!==n||s[6]!==t||s[7]!==i?(a=(0,l.jsx)(ri,{ref:t,className:i,...n}),s[5]=n,s[6]=t,s[7]=i,s[8]=a):a=s[8],a});Ge.displayName=ri.displayName;var Je=x.forwardRef((e,t)=>{const s=(0,jr.c)(9);let r,n;s[0]!==e?({className:r,...n}=e,s[0]=e,s[1]=r,s[2]=n):(r=s[1],n=s[2]);let i;s[3]!==r?(i=Q("flex h-full w-full items-center justify-center rounded-full bg-zinc-100 dark:bg-zinc-800",r),s[3]=r,s[4]=i):i=s[4];let a;return s[5]!==n||s[6]!==t||s[7]!==i?(a=(0,l.jsx)(ni,{ref:t,className:i,...n}),s[5]=n,s[6]=t,s[7]=i,s[8]=a):a=s[8],a});Je.displayName=ni.displayName;var kr=(0,x.createContext)({});function xt(e){const t=(0,x.useRef)(null);return t.current===null&&(t.current=e()),t.current}var ya=typeof window<"u",Ls=ya?x.useLayoutEffect:x.useEffect,cs=(0,x.createContext)(null),Rs=(0,x.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function an(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Bu(...e){return t=>{let s=!1;const r=e.map(n=>{const i=an(n,t);return!s&&typeof i=="function"&&(s=!0),i});if(s)return()=>{for(let n=0;n<r.length;n++){const i=r[n];typeof i=="function"?i():an(e[n],null)}}}}function Hu(...e){return x.useCallback(Bu(...e),e)}var Ku=class extends x.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const s=t.offsetParent,r=Wr(s)&&s.offsetWidth||0,n=Wr(s)&&s.offsetHeight||0,i=this.props.sizeRef.current;i.height=t.offsetHeight||0,i.width=t.offsetWidth||0,i.top=t.offsetTop,i.left=t.offsetLeft,i.right=r-i.width-i.left,i.bottom=n-i.height-i.top}return null}componentDidUpdate(){}render(){return this.props.children}};function Qu({children:e,isPresent:t,anchorX:s,anchorY:r,root:n,pop:i}){const a=(0,x.useId)(),o=(0,x.useRef)(null),c=(0,x.useRef)({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:d}=(0,x.useContext)(Rs),u=Hu(o,e.props?.ref??e?.ref);return(0,x.useInsertionEffect)(()=>{const{width:f,height:p,top:m,left:h,right:g,bottom:v}=c.current;if(t||i===!1||!o.current||!f||!p)return;const y=s==="left"?`left: ${h}`:`right: ${g}`,b=r==="bottom"?`bottom: ${v}`:`top: ${m}`;o.current.dataset.motionPopId=a;const w=document.createElement("style");d&&(w.nonce=d);const k=n??document.head;return k.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${p}px !important;
            ${y}px !important;
            ${b}px !important;
          }
        `),()=>{k.contains(w)&&k.removeChild(w)}},[t]),(0,l.jsx)(Ku,{isPresent:t,childRef:o,sizeRef:c,pop:i,children:i===!1?e:x.cloneElement(e,{ref:u})})}var Wu=({children:e,initial:t,isPresent:s,onExitComplete:r,custom:n,presenceAffectsLayout:i,mode:a,anchorX:o,anchorY:c,root:d})=>{const u=xt(Uu),f=(0,x.useId)();let p=!0,m=(0,x.useMemo)(()=>(p=!1,{id:f,initial:t,isPresent:s,custom:n,onExitComplete:h=>{u.set(h,!0);for(const g of u.values())if(!g)return;r&&r()},register:h=>(u.set(h,!1),()=>u.delete(h))}),[s,u,r]);return i&&p&&(m={...m}),(0,x.useMemo)(()=>{u.forEach((h,g)=>u.set(g,!1))},[s]),x.useEffect(()=>{!s&&!u.size&&r&&r()},[s]),e=(0,l.jsx)(Qu,{pop:a==="popLayout",isPresent:s,anchorX:o,anchorY:c,root:d,children:e}),(0,l.jsx)(cs.Provider,{value:m,children:e})};function Uu(){return new Map}function ba(e=!0){const t=(0,x.useContext)(cs);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:r,register:n}=t,i=(0,x.useId)();(0,x.useEffect)(()=>{if(e)return n(i)},[e]);const a=(0,x.useCallback)(()=>e&&r&&r(i),[i,r,e]);return!s&&r?[!1,a]:[!0]}function Gu(){return Ju((0,x.useContext)(cs))}function Ju(e){return e===null?!0:e.isPresent}var ps=e=>e.key||"";function on(e){const t=[];return x.Children.forEach(e,s=>{(0,x.isValidElement)(s)&&t.push(s)}),t}var Cs=({children:e,custom:t,initial:s=!0,onExitComplete:r,presenceAffectsLayout:n=!0,mode:i="sync",propagate:a=!1,anchorX:o="left",anchorY:c="top",root:d})=>{const[u,f]=ba(a),p=(0,x.useMemo)(()=>on(e),[e]),m=a&&!u?[]:p.map(ps),h=(0,x.useRef)(!0),g=(0,x.useRef)(p),v=xt(()=>new Map),y=(0,x.useRef)(new Set),[b,w]=(0,x.useState)(p),[k,j]=(0,x.useState)(p);Ls(()=>{h.current=!1,g.current=p;for(let S=0;S<k.length;S++){const N=ps(k[S]);m.includes(N)?(v.delete(N),y.current.delete(N)):v.get(N)!==!0&&v.set(N,!1)}},[k,m.length,m.join("-")]);const _=[];if(p!==b){let S=[...p];for(let N=0;N<k.length;N++){const E=k[N],P=ps(E);m.includes(P)||(S.splice(N,0,E),_.push(E))}return i==="wait"&&_.length&&(S=_),j(on(S)),w(p),null}const{forceRender:C}=(0,x.useContext)(kr);return(0,l.jsx)(l.Fragment,{children:k.map(S=>{const N=ps(S),E=a&&!u?!1:p===k||m.includes(N),P=()=>{if(y.current.has(N))return;if(y.current.add(N),v.has(N))v.set(N,!0);else return;let M=!0;v.forEach(z=>{z||(M=!1)}),M&&(C?.(),j(g.current),a&&f?.(),r&&r())};return(0,l.jsx)(Wu,{isPresent:E,initial:!h.current||s?void 0:!1,custom:t,presenceAffectsLayout:n,mode:i,root:d,onExitComplete:E?void 0:P,anchorX:o,anchorY:c,children:S},N)})})},wa=(0,x.createContext)({strict:!1}),ln={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},cn=!1;function Yu(){if(cn)return;const e={};for(const t in ln)e[t]={isEnabled:s=>ln[t].some(r=>!!s[r])};ia(e),cn=!0}function _a(){return Yu(),vc()}function Xu(e){const t=_a();for(const s in e)t[s]={...t[s],...e[s]};ia(t)}var Zu=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function Ns(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Zu.has(e)}var e0=Ho({default:()=>ja},1),ja,t0=Bo((()=>{throw ja={},new Error('Could not resolve "@emotion/is-prop-valid" imported by "framer-motion". Is it installed?')})),ka=e=>!Ns(e);function s0(e){typeof e=="function"&&(ka=t=>t.startsWith("on")?!Ns(t):e(t))}try{s0((t0(),Vo(e0)).default)}catch{}function r0(e,t,s){const r={};for(const n in e)n==="values"&&typeof e.values=="object"||(ka(n)||s===!0&&Ns(n)||!t&&!Ns(n)||e.draggable&&n.startsWith("onDrag"))&&(r[n]=e[n]);return r}var Ds=(0,x.createContext)({});function n0(e,t){if(ea(e)){const{initial:s,animate:r}=e;return{initial:s===!1||Zr(s)?s:void 0,animate:Zr(r)?r:void 0}}return e.inherit!==!1?t:{}}function i0(e){const{initial:t,animate:s}=n0(e,(0,x.useContext)(Ds));return(0,x.useMemo)(()=>({initial:t,animate:s}),[dn(t),dn(s)])}function dn(e){return Array.isArray(e)?e.join(" "):e}var Sr=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Sa(e,t,s){for(const r in t)!aa(t[r])&&!Cc(r,s)&&(e[r]=t[r])}function a0({transformTemplate:e},t){return(0,x.useMemo)(()=>{const s=Sr();return jc(s,t,e),Object.assign({},s.vars,s.style)},[t])}function o0(e,t){const s=e.style||{},r={};return Sa(r,s,e),Object.assign(r,a0(e,t)),r}function l0(e,t){const s={},r=o0(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=r,s}var Ca=()=>({...Sr(),attrs:{}});function c0(e,t,s,r){const n=(0,x.useMemo)(()=>{const i=Ca();return bc(i,t,Mc(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Sa(i,e.style,e),n.style={...i,...n.style}}return n}var d0=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Cr(e){return typeof e!="string"||e.includes("-")?!1:!!(d0.indexOf(e)>-1||/[A-Z]/u.test(e))}function u0(e,t,s,{latestValues:r},n,i=!1,a){const o=(a??Cr(e)?c0:l0)(t,r,n,e),c=r0(t,typeof e=="string",i),d=e!==x.Fragment?{...c,...o,ref:s}:{},{children:u}=t,f=(0,x.useMemo)(()=>aa(u)?u.get():u,[u]);return(0,x.createElement)(e,{...d,children:f})}function f0({scrapeMotionValuesFromProps:e,createRenderState:t},s,r,n){return{latestValues:m0(s,r,n,e),renderState:t()}}function m0(e,t,s,r){const n={},i=r(e,{});for(const p in i)n[p]=Ec(i[p]);let{initial:a,animate:o}=e;const c=ea(e),d=nc(e);t&&d&&!c&&e.inherit!==!1&&(a===void 0&&(a=t.initial),o===void 0&&(o=t.animate));let u=s?s.initial===!1:!1;u=u||a===!1;const f=u?o:a;if(f&&typeof f!="boolean"&&!ta(f)){const p=Array.isArray(f)?f:[f];for(let m=0;m<p.length;m++){const h=hc(e,p[m]);if(h){const{transitionEnd:g,transition:v,...y}=h;for(const b in y){let w=y[b];if(Array.isArray(w)){const k=u?w.length-1:0;w=w[k]}w!==null&&(n[b]=w)}for(const b in g)n[b]=g[b]}}}return n}var Na=e=>(t,s)=>{const r=(0,x.useContext)(Ds),n=(0,x.useContext)(cs),i=()=>f0(e,t,r,n);return s?i():xt(i)},h0=Na({scrapeMotionValuesFromProps:$c,createRenderState:Sr}),p0=Na({scrapeMotionValuesFromProps:Sc,createRenderState:Ca}),g0=Symbol.for("motionComponentSymbol");function x0(e,t,s){const r=(0,x.useRef)(s);(0,x.useInsertionEffect)(()=>{r.current=s});const n=(0,x.useRef)(null);return(0,x.useCallback)(i=>{i&&e.onMount?.(i),t&&(i?t.mount(i):t.unmount());const a=r.current;if(typeof a=="function")if(i){const o=a(i);typeof o=="function"&&(n.current=o)}else n.current?(n.current(),n.current=null):a(i);else a&&(a.current=i)},[t])}var Pa=(0,x.createContext)({});function Bt(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function v0(e,t,s,r,n,i){const{visualElement:a}=(0,x.useContext)(Ds),o=(0,x.useContext)(wa),c=(0,x.useContext)(cs),d=(0,x.useContext)(Rs),u=d.reducedMotion,f=d.skipAnimations,p=(0,x.useRef)(null),m=(0,x.useRef)(!1);r=r||o.renderer,!p.current&&r&&(p.current=r(e,{visualState:t,parent:a,props:s,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u,skipAnimations:f,isSVG:i}),m.current&&p.current&&(p.current.manuallyAnimateOnMount=!0));const h=p.current,g=(0,x.useContext)(Pa);h&&!h.projection&&n&&(h.type==="html"||h.type==="svg")&&y0(p.current,s,n,g);const v=(0,x.useRef)(!1);(0,x.useInsertionEffect)(()=>{h&&v.current&&h.update(s,c)});const y=s[dc],b=(0,x.useRef)(!!y&&!window.MotionHandoffIsComplete?.(y)&&window.MotionHasOptimisedAnimation?.(y));return Ls(()=>{m.current=!0,h&&(v.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),b.current&&h.animationState&&h.animationState.animateChanges())}),(0,x.useEffect)(()=>{h&&(!b.current&&h.animationState&&h.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(y)}),b.current=!1),h.enteringChildren=void 0)}),h}function y0(e,t,s,r){const{layoutId:n,layout:i,drag:a,dragConstraints:o,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:$a(e.parent)),e.projection.setOptions({layoutId:n,layout:i,alwaysMeasureLayout:!!a||o&&Bt(o),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:c,layoutRoot:d})}function $a(e){if(e)return e.options.allowProjection!==!1?e.projection:$a(e.parent)}function Vs(e,{forwardMotionProps:t=!1,type:s}={},r,n){r&&Xu(r);const i=s?s==="svg":Cr(e),a=i?p0:h0;function o(d,u){let f;const p={...(0,x.useContext)(Rs),...d,layoutId:b0(d)},{isStatic:m}=p,h=i0(d),g=a(d,m);if(!m&&ya){w0(p,r);const v=_0(p);f=v.MeasureLayout,h.visualElement=v0(e,g,p,n,v.ProjectionNode,i)}return(0,l.jsxs)(Ds.Provider,{value:h,children:[f&&h.visualElement?(0,l.jsx)(f,{visualElement:h.visualElement,...p}):null,u0(e,d,x0(g,h.visualElement,u),g,m,t,i)]})}o.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=(0,x.forwardRef)(o);return c[g0]=e,c}function b0({layoutId:e}){const t=(0,x.useContext)(kr).id;return t&&e!==void 0?t+"-"+e:e}function w0(e,t){(0,x.useContext)(wa).strict}function _0(e){const{drag:t,layout:s}=_a();if(!t&&!s)return{};const r={...t,...s};return{MeasureLayout:t?.isEnabled(e)||s?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function j0(e,t){if(typeof Proxy>"u")return Vs;const s=new Map,r=(i,a)=>Vs(i,a,e,t),n=(i,a)=>r(i,a);return new Proxy(n,{get:(i,a)=>a==="create"?r:(s.has(a)||s.set(a,Vs(a,void 0,e,t)),s.get(a))})}var k0=(e,t)=>t.isSVG??Cr(e)?new yc(t):new wc(t,{allowProjection:e!==x.Fragment}),S0=class extends yt{constructor(e){super(e),e.animationState||(e.animationState=zc(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ta(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}},C0=0,N0=class extends yt{constructor(){super(...arguments),this.id=C0++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}},P0={animation:{Feature:S0},exit:{Feature:N0}};function ds(e){return{point:{x:e.pageX,y:e.pageY}}}var $0=e=>t=>sa(t)&&e(t,ds(t));function Xt(e,t,s,r){return js(e,t,$0(s),r)}var Ea=({current:e})=>e?e.ownerDocument.defaultView:null,un=(e,t)=>Math.abs(e-t);function E0(e,t){const s=un(e.x,t.x),r=un(e.y,t.y);return Math.sqrt(s**2+r**2)}var fn=new Set(["auto","scroll"]),za=class{constructor(e,t,{transformPagePoint:s,contextWindow:r=window,dragSnapToOrigin:n=!1,distanceThreshold:i=3,element:a}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=f=>{this.handleScroll(f.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Hs(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=E0(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!m)return;const{point:h}=f,{timestamp:g}=Yr;this.history.push({...h,timestamp:g});const{onStart:v,onMove:y}=this.handlers;p||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Bs(p,this.transformPagePoint),qe.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:m,onSessionEnd:h,resumeAnimation:g}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Hs(f.type==="pointercancel"?this.lastMoveEventInfo:Bs(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,v),h&&h(f,v)},!sa(e))return;this.dragSnapToOrigin=n,this.handlers=t,this.transformPagePoint=s,this.distanceThreshold=i,this.contextWindow=r||window;const o=Bs(ds(e),this.transformPagePoint),{point:c}=o,{timestamp:d}=Yr;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=t;u&&u(e,Hs(o,this.history)),this.removeListeners=Xi(Xt(this.contextWindow,"pointermove",this.handlePointerMove),Xt(this.contextWindow,"pointerup",this.handlePointerUp),Xt(this.contextWindow,"pointercancel",this.handlePointerUp)),a&&this.startScrollTracking(a)}startScrollTracking(e){let t=e.parentElement;for(;t;){const s=getComputedStyle(t);(fn.has(s.overflowX)||fn.has(s.overflowY))&&this.scrollPositions.set(t,{x:t.scrollLeft,y:t.scrollTop}),t=t.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0}),window.addEventListener("scroll",this.onWindowScroll),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const t=this.scrollPositions.get(e);if(!t)return;const s=e===window,r=s?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},n={x:r.x-t.x,y:r.y-t.y};n.x===0&&n.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=n.x,this.lastMoveEventInfo.point.y+=n.y):this.history.length>0&&(this.history[0].x-=n.x,this.history[0].y-=n.y),this.scrollPositions.set(e,r),qe.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),ra(this.updatePoint)}};function Bs(e,t){return t?{point:t(e.point)}:e}function mn(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Hs({point:e},t){return{point:e,delta:mn(e,Ma(t)),offset:mn(e,z0(t)),velocity:M0(t,.1)}}function z0(e){return e[0]}function Ma(e){return e[e.length-1]}function M0(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,r=null;const n=Ma(e);for(;s>=0&&(r=e[s],!(n.timestamp-r.timestamp>Xr(t)));)s--;if(!r)return{x:0,y:0};r===e[0]&&e.length>2&&n.timestamp-r.timestamp>Xr(t)*2&&(r=e[1]);const i=gc(n.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(n.x-r.x)/i,y:(n.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function A0(e,{min:t,max:s},r){return t!==void 0&&e<t?e=r?_s(t,e,r.min):Math.max(e,t):s!==void 0&&e>s&&(e=r?_s(s,e,r.max):Math.min(e,s)),e}function hn(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function L0(e,{top:t,left:s,bottom:r,right:n}){return{x:hn(e.x,s,n),y:hn(e.y,t,r)}}function pn(e,t){let s=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,r]=[r,s]),{min:s,max:r}}function R0(e,t){return{x:pn(e.x,t.x),y:pn(e.y,t.y)}}function D0(e,t){let s=.5;const r=Xs(e),n=Xs(t);return n>r?s=Gr(t.min,t.max-r,e.min):r>n&&(s=Gr(e.min,e.max-n,t.min)),Pc(0,1,s)}function T0(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}var er=.35;function F0(e=er){return e===!1?e=0:e===!0&&(e=er),{x:gn(e,"left","right"),y:gn(e,"top","bottom")}}function gn(e,t,s){return{min:xn(e,t),max:xn(e,s)}}function xn(e,t){return typeof e=="number"?e:e[t]||0}var I0=new WeakMap,q0=class{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ac(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:s}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const n=u=>{t&&this.snapToCursor(ds(u).point),this.stopAnimation()},i=(u,f)=>{const{drag:p,dragPropagation:m,onDragStart:h}=this.getProps();if(p&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=fc(p),!this.openDragLock))return;this.latestPointerEvent=u,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ht(v=>{let y=this.getAxisMotionValue(v).get()||0;if(cc.test(y)){const{projection:b}=this.visualElement;if(b&&b.layout){const w=b.layout.layoutBox[v];w&&(y=Xs(w)*(parseFloat(y)/100))}}this.originPoint[v]=y}),h&&qe.update(()=>h(u,f),!1,!0),Jr(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},a=(u,f)=>{this.latestPointerEvent=u,this.latestPanInfo=f;const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:h,onDrag:g}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:v}=f;if(m&&this.currentDirection===null){this.currentDirection=V0(v),this.currentDirection!==null&&h&&h(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),g&&qe.update(()=>g(u,f),!1,!0)},o=(u,f)=>{this.latestPointerEvent=u,this.latestPanInfo=f,this.stop(u,f),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>{const{dragSnapToOrigin:u}=this.getProps();(u||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:d}=this.getProps();this.panSession=new za(e,{onSessionStart:n,onStart:i,onMove:a,onSessionEnd:o,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:s,contextWindow:Ea(this.visualElement),element:this.visualElement.current})}stop(e,t){const s=e||this.latestPointerEvent,r=t||this.latestPanInfo,n=this.isDragging;if(this.cancel(),!n||!r||!s)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&qe.postRender(()=>a(s,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,t,s){const{drag:r}=this.getProps();if(!s||!gs(e,r,this.currentDirection))return;const n=this.getAxisMotionValue(e);let i=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(i=A0(i,this.constraints[e],this.elastic[e])),n.set(i)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&Bt(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=L0(s.layoutBox,e):this.constraints=!1,this.elastic=F0(t),r!==this.constraints&&!Bt(e)&&s&&this.constraints&&!this.hasMutatedConstraints&&ht(n=>{this.constraints!==!1&&this.getAxisMotionValue(n)&&(this.constraints[n]=T0(s.layoutBox[n],this.constraints[n]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Bt(e))return!1;const s=e.current;Zs(s!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const n=_c(s,r.root,this.visualElement.getTransformPagePoint());let i=R0(r.layout.layoutBox,n);if(t){const a=t(Ac(i));this.hasMutatedConstraints=!!a,a&&(i=xc(a))}return i}startAnimation(e){const{drag:t,dragMomentum:s,dragElastic:r,dragTransition:n,dragSnapToOrigin:i,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{},c=ht(d=>{if(!gs(d,t,this.currentDirection))return;let u=o&&o[d]||{};i&&(u={min:0,max:0});const f=r?200:1e6,p=r?40:1e7,m={type:"inertia",velocity:s?e[d]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...n,...u};return this.startAxisValueAnimation(d,m)});return Promise.all(c).then(a)}startAxisValueAnimation(e,t){const s=this.getAxisMotionValue(e);return Jr(this.visualElement,e),s.start(pc(e,s,0,t,this.visualElement,!1))}stopAnimation(){ht(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),r=s[t];return r||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){ht(t=>{const{drag:s}=this.getProps();if(!gs(t,s,this.currentDirection))return;const{projection:r}=this.visualElement,n=this.getAxisMotionValue(t);if(r&&r.layout){const{min:i,max:a}=r.layout.layoutBox[t],o=n.get()||0;n.set(e[t]-_s(i,a,.5)+o)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:s}=this.visualElement;if(!Bt(t)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};ht(i=>{const a=this.getAxisMotionValue(i);if(a&&this.constraints!==!1){const o=a.get();r[i]=D0({min:o,max:o},this.constraints[i])}});const{transformTemplate:n}=this.visualElement.getProps();this.visualElement.current.style.transform=n?n({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.constraints=!1,this.resolveConstraints(),ht(i=>{if(!gs(i,e,null))return;const a=this.getAxisMotionValue(i),{min:o,max:c}=this.constraints[i];a.set(_s(o,c,r[i]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;I0.set(this.visualElement,this);const e=this.visualElement.current,t=Xt(e,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps(),f=c.target,p=f!==e&&rc(f);d&&u&&!p&&this.start(c)});let s;const r=()=>{const{dragConstraints:c}=this.getProps();Bt(c)&&c.current&&(this.constraints=this.resolveRefConstraints(),s||(s=O0(e,c.current,()=>this.scalePositionWithinConstraints())))},{projection:n}=this.visualElement,i=n.addEventListener("measure",r);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),qe.read(r);const a=js(window,"resize",()=>this.scalePositionWithinConstraints()),o=n.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(ht(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=c[u].translate,f.set(f.get()+c[u].translate))}),this.visualElement.render())}));return()=>{a(),t(),i(),o&&o(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:n=!1,dragElastic:i=er,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:s,dragPropagation:r,dragConstraints:n,dragElastic:i,dragMomentum:a}}};function vn(e){let t=!0;return()=>{if(t){t=!1;return}e()}}function O0(e,t,s){const r=Ur(e,vn(s)),n=Ur(t,vn(s));return()=>{r(),n()}}function gs(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function V0(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}var B0=class extends yt{constructor(e){super(e),this.removeGroupControls=ys,this.removeListeners=ys,this.controls=new q0(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ys}update(){const{dragControls:e}=this.node.getProps(),{dragControls:t}=this.node.prevProps||{};e!==t&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}},Ks=e=>(t,s)=>{e&&qe.update(()=>e(t,s),!1,!0)},H0=class extends yt{constructor(){super(...arguments),this.removePointerDownListener=ys}onPointerDown(e){this.session=new za(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ea(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:Ks(e),onStart:Ks(t),onMove:Ks(s),onEnd:(n,i)=>{delete this.session,r&&qe.postRender(()=>r(n,i))}}}mount(){this.removePointerDownListener=Xt(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}},Qs=!1,K0=class extends x.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:s,layoutId:r}=this.props,{projection:n}=e;n&&(t.group&&t.group.add(n),s&&s.register&&r&&s.register(n),Qs&&n.root.didUpdate(),n.addEventListener("animationComplete",()=>{this.safeToRemove()}),n.setOptions({...n.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Nc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:s,drag:r,isPresent:n}=this.props,{projection:i}=s;return i&&(i.isPresent=n,e.layoutDependency!==t&&i.setOptions({...i.options,layoutDependency:t}),Qs=!0,r||e.layoutDependency!==t||t===void 0||e.isPresent!==n?i.willUpdate():this.safeToRemove(),e.isPresent!==n&&(n?i.promote():i.relegate()||qe.postRender(()=>{const a=i.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),mc.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:s}=this.props,{projection:r}=e;Qs=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}};function Aa(e){const[t,s]=ba(),r=(0,x.useContext)(kr);return(0,l.jsx)(K0,{...e,layoutGroup:r,switchLayoutGroup:(0,x.useContext)(Pa),isPresent:t,safeToRemove:s})}var Q0={pan:{Feature:H0},drag:{Feature:B0,ProjectionNode:na,MeasureLayout:Aa}};function yn(e,t,s){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",s==="Start");const n=r["onHover"+s];n&&qe.postRender(()=>n(t,ds(t)))}var W0=class extends yt{mount(){const{current:e}=this.node;e&&(this.unmount=uc(e,(t,s)=>(yn(this.node,s,"Start"),r=>yn(this.node,r,"End"))))}unmount(){}},U0=class extends yt{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xi(js(this.node.current,"focus",()=>this.onFocus()),js(this.node.current,"blur",()=>this.onBlur()))}unmount(){}};function bn(e,t,s){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",s==="Start");const n=r["onTap"+(s==="End"?"":s)];n&&qe.postRender(()=>n(t,ds(t)))}var G0=class extends yt{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:t,propagate:s}=this.node.props;this.unmount=kc(e,(r,n)=>(bn(this.node,n,"Start"),(i,{success:a})=>bn(this.node,i,a?"End":"Cancel")),{useGlobalTarget:t,stopPropagation:s?.tap===!1})}unmount(){}},tr=new WeakMap,Ws=new WeakMap,J0=e=>{const t=tr.get(e.target);t&&t(e)},Y0=e=>{e.forEach(J0)};function X0({root:e,...t}){const s=e||document;Ws.has(s)||Ws.set(s,{});const r=Ws.get(s),n=JSON.stringify(t);return r[n]||(r[n]=new IntersectionObserver(Y0,{root:e,...t})),r[n]}function Z0(e,t,s){const r=X0(t);return tr.set(e,s),r.observe(e),()=>{tr.delete(e),r.unobserve(e)}}var ef={some:0,all:1},tf=class extends yt{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:s,amount:r="some",once:n}=e,i={root:t?t.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:ef[r]},a=o=>{const{isIntersecting:c}=o;if(this.isInView===c||(this.isInView=c,n&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:u}=this.node.getProps(),f=c?d:u;f&&f(o)};return Z0(this.node.current,i,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(sf(e,t))&&this.startObserver()}unmount(){}};function sf({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}var rf={inView:{Feature:tf},tap:{Feature:G0},focus:{Feature:U0},hover:{Feature:W0}},nf={layout:{ProjectionNode:na,MeasureLayout:Aa}},af={...P0,...rf,...Q0,...nf},he=j0(af,k0);function Ts(e){const t=xt(()=>oc(e)),{isStatic:s}=(0,x.useContext)(Rs);if(s){const[,r]=(0,x.useState)(e);(0,x.useEffect)(()=>t.on("change",r),[])}return t}function La(e,t){const s=Ts(t()),r=()=>s.set(t());return r(),Ls(()=>{const n=()=>qe.preRender(r,!1,!0),i=e.map(a=>a.on("change",n));return()=>{i.forEach(a=>a()),ra(r)}}),s}function of(e){qs.current=[],e();const t=La(qs.current,e);return qs.current=void 0,t}function Wt(e,t,s,r){if(typeof e=="function")return of(e);if(s!==void 0&&!Array.isArray(s)&&typeof t!="function")return lf(e,t,s,r);const n=typeof t=="function"?t:ic(t,s,r),i=Array.isArray(e)?wn(e,n):wn([e],([o])=>n(o)),a=Array.isArray(e)?void 0:e.accelerate;return a&&!a.isTransformed&&typeof t!="function"&&Array.isArray(s)&&r?.clamp!==!1&&(i.accelerate={...a,times:t,keyframes:s,isTransformed:!0,...r?.ease?{ease:r.ease}:{}}),i}function wn(e,t){const s=xt(()=>[]);return La(e,()=>{s.length=0;const r=e.length;for(let n=0;n<r;n++)s[n]=e[n].get();return t(s)})}function lf(e,t,s,r){const n=xt(()=>Object.keys(s)),i=xt(()=>({}));for(const a of n)i[a]=Wt(e,t,s[a],r);return i}function cf(e){e.values.forEach(t=>t.stop())}function sr(e,t){[...t].reverse().forEach(s=>{const r=e.getVariant(s);r&&Zi(e,r),e.variantChildren&&e.variantChildren.forEach(n=>{sr(n,t)})})}function df(e,t){if(Array.isArray(t))return sr(e,t);if(typeof t=="string")return sr(e,[t]);Zi(e,t)}function uf(){let e=!1;const t=new Set,s={subscribe(r){return t.add(r),()=>{t.delete(r)}},start(r,n){Zs(e,"controls.start() should only be called after a component has mounted. Consider calling within a useEffect hook.");const i=[];return t.forEach(a=>{i.push(lc(a,r,{transitionOverride:n}))}),Promise.all(i)},set(r){return Zs(e,"controls.set() should only be called after a component has mounted. Consider calling within a useEffect hook."),t.forEach(n=>{df(n,r)})},stop(){t.forEach(r=>{cf(r)})},mount(){return e=!0,()=>{e=!1,s.stop()}}};return s}function ff(){const e=xt(uf);return Ls(e.mount,[]),e}var mf=ff,hf=U(),pf=[{icon:hl,label:"User Control",path:"/syspanel/users"},{icon:ec,label:"Reports Queue",path:"/syspanel/reports"}],gf=e=>{const t=(0,hf.c)(49),{isOpen:s,onClose:r}=e,n=as(),{currentUser:i,logout:a}=be();let o;t[0]!==s||t[1]!==r?(o=s&&(0,l.jsx)("div",{className:"fixed inset-0 z-40 bg-black/50 backdrop-blur-sm transition-all duration-300 lg:hidden",onClick:r}),t[0]=s,t[1]=r,t[2]=o):o=t[2];const c=s?"translate-x-0":"-translate-x-full";let d;t[3]!==c?(d=Q("fixed left-0 top-0 z-50 h-screen w-72 border-r border-zinc-200/50 bg-white/80 backdrop-blur-xl transition-all duration-300 dark:border-white/5 dark:bg-black/80 lg:translate-x-0 hidden lg:flex lg:flex-col",c),t[3]=c,t[4]=d):d=t[4];let u;t[5]===Symbol.for("react.memo_cache_sentinel")?(u=(0,l.jsxs)(ze,{to:"/",className:"flex items-center gap-3 group",children:[(0,l.jsx)("div",{className:"flex h-11 w-11 items-center justify-center rounded-2xl bg-gradient-to-br from-violet-600 to-indigo-700 text-white shadow-lg shadow-violet-500/20 transition-transform group-hover:scale-105 group-active:scale-95",children:(0,l.jsx)(pr,{className:"h-6 w-6"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-base font-black tracking-tighter text-zinc-900 dark:text-white",children:"Admin Hub"}),(0,l.jsx)("p",{className:"text-[10px] font-bold uppercase tracking-widest text-zinc-500 opacity-70",children:"System Control"})]})]}),t[5]=u):u=t[5];let f;t[6]===Symbol.for("react.memo_cache_sentinel")?(f=(0,l.jsx)(Ut,{className:"h-5 w-5"}),t[6]=f):f=t[6];let p;t[7]!==r?(p=(0,l.jsxs)("div",{className:"flex items-center justify-between border-b border-zinc-200/50 p-6 dark:border-white/5",children:[u,(0,l.jsx)("button",{onClick:r,className:"flex h-8 w-8 items-center justify-center rounded-xl text-zinc-500 hover:bg-zinc-100 dark:hover:bg-zinc-900 lg:hidden",children:f})]}),t[7]=r,t[8]=p):p=t[8];let m;t[9]===Symbol.for("react.memo_cache_sentinel")?(m=(0,l.jsx)("p",{className:"px-4 mb-4 text-[10px] font-black uppercase tracking-[0.2em] text-zinc-400 dark:text-zinc-500",children:"Overview"}),t[9]=m):m=t[9];let h;t[10]!==n||t[11]!==r?(h=pf.map(F=>{const I=n.pathname===F.path;return(0,l.jsxs)(ze,{to:F.path,onClick:()=>{window.innerWidth<1024&&r()},className:Q("group relative flex items-center gap-3 rounded-2xl px-4 py-3.5 text-sm font-bold transition-all duration-300",I?"bg-violet-600 text-white shadow-xl shadow-violet-600/20 active:scale-95":"text-zinc-500 hover:bg-zinc-100 hover:text-zinc-900 dark:text-zinc-400 dark:hover:bg-white/5 dark:hover:text-white"),children:[(0,l.jsx)(F.icon,{className:Q("h-5 w-5 transition-transform group-hover:scale-110",I?"text-white":"text-zinc-400 dark:text-zinc-500")}),F.label,I&&(0,l.jsx)(he.div,{layoutId:"active-pill",className:"ml-auto h-1.5 w-1.5 rounded-full bg-white shadow-[0_0_8px_rgba(255,255,255,0.8)]"})]},F.path)}),t[10]=n,t[11]=r,t[12]=h):h=t[12];let g;t[13]!==h?(g=(0,l.jsxs)("nav",{className:"flex-1 space-y-1 p-4 mt-4",children:[m,(0,l.jsx)("div",{className:"space-y-2",children:h})]}),t[13]=h,t[14]=g):g=t[14];let v;t[15]===Symbol.for("react.memo_cache_sentinel")?(v=(0,l.jsx)("div",{className:"px-4 py-2",children:(0,l.jsxs)(ze,{to:"/",className:"flex items-center gap-3 rounded-2xl border border-zinc-200/50 bg-zinc-50/50 px-4 py-3 text-sm font-bold text-zinc-600 transition-all hover:bg-zinc-100 dark:border-white/5 dark:bg-zinc-900/50 dark:text-zinc-400 dark:hover:bg-zinc-800",children:[(0,l.jsx)(vr,{className:"h-4 w-4"}),"Back to Feed"]})}),t[15]=v):v=t[15];const y=i?.avatar;let b;t[16]!==y?(b=(0,l.jsx)(Ge,{src:y,className:"object-cover"}),t[16]=y,t[17]=b):b=t[17];const w=i?.name?.[0]||"A";let k;t[18]!==w?(k=(0,l.jsx)(Je,{className:"rounded-2xl bg-violet-500/10 font-black text-violet-600",children:w}),t[18]=w,t[19]=k):k=t[19];let j;t[20]!==b||t[21]!==k?(j=(0,l.jsxs)(Ue,{className:"h-12 w-12 rounded-2xl border-2 border-white dark:border-zinc-800 shadow-md",children:[b,k]}),t[20]=b,t[21]=k,t[22]=j):j=t[22];const _=i?.name;let C;t[23]!==_?(C=(0,l.jsx)("p",{className:"truncate text-[15px] font-black text-zinc-900 dark:text-white",children:_}),t[23]=_,t[24]=C):C=t[24];let S;t[25]===Symbol.for("react.memo_cache_sentinel")?(S=(0,l.jsxs)("div",{className:"flex items-center gap-1.5 mt-0.5",children:[(0,l.jsx)("div",{className:"h-1.5 w-1.5 rounded-full bg-emerald-500 animate-pulse"}),(0,l.jsx)("p",{className:"truncate text-[10px] font-black uppercase tracking-wider text-violet-600 dark:text-violet-400",children:"System Admin"})]}),t[25]=S):S=t[25];let N;t[26]!==C?(N=(0,l.jsxs)("div",{className:"min-w-0 flex-1",children:[C,S]}),t[26]=C,t[27]=N):N=t[27];let E;t[28]!==j||t[29]!==N?(E=(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[j,N]}),t[28]=j,t[29]=N,t[30]=E):E=t[30];let P;t[31]!==a?(P=()=>a(),t[31]=a,t[32]=P):P=t[32];let M;t[33]===Symbol.for("react.memo_cache_sentinel")?(M=(0,l.jsx)(si,{className:"h-4 w-4 transition-transform group-hover:-translate-x-0.5"}),t[33]=M):M=t[33];let z;t[34]!==P?(z=(0,l.jsxs)("button",{onClick:P,className:"group mt-4 flex w-full items-center justify-center gap-2 rounded-2xl bg-rose-500/10 py-3 text-[13px] font-black text-rose-600 transition-all hover:bg-rose-500 hover:text-white dark:bg-rose-500/5 dark:hover:bg-rose-500 active:scale-95",children:[M,"Sign Out"]}),t[34]=P,t[35]=z):z=t[35];let $;t[36]!==E||t[37]!==z?($=(0,l.jsx)("div",{className:"p-4 mt-auto",children:(0,l.jsxs)("div",{className:"rounded-[2rem] border border-zinc-200/50 bg-gradient-to-b from-white to-zinc-50/50 p-5 dark:border-white/5 dark:from-zinc-900/50 dark:to-zinc-950/50 shadow-sm",children:[E,z]})}),t[36]=E,t[37]=z,t[38]=$):$=t[38];let A;t[39]!==$||t[40]!==p||t[41]!==g?(A=(0,l.jsxs)("div",{className:"flex h-full flex-col overflow-y-auto custom-scrollbar",children:[p,g,v,$]}),t[39]=$,t[40]=p,t[41]=g,t[42]=A):A=t[42];let D;t[43]!==A||t[44]!==d?(D=(0,l.jsx)("aside",{className:d,children:A}),t[43]=A,t[44]=d,t[45]=D):D=t[45];let O;return t[46]!==o||t[47]!==D?(O=(0,l.jsxs)(l.Fragment,{children:[o,D]}),t[46]=o,t[47]=D,t[48]=O):O=t[48],O},xf=gf,vf=U(),yf=()=>{const e=(0,vf.c)(15),{darkMode:t}=As(),[s,r]=(0,x.useState)(!1),n=t&&"dark";let i;e[0]!==n?(i=Q("min-h-screen flex flex-col bg-zinc-50 text-foreground font-english selection:bg-violet-500 selection:text-white transition-colors duration-200 dark:bg-[#050505]",n),e[0]=n,e[1]=i):i=e[1];let a;e[2]===Symbol.for("react.memo_cache_sentinel")?(a=(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-violet-600 to-indigo-700 text-white shadow-lg shadow-violet-500/20",children:(0,l.jsx)(pr,{className:"h-5 w-5"})}),(0,l.jsx)("span",{className:"text-lg font-black tracking-tighter",children:"Admin"})]}),e[2]=a):a=e[2];let o,c;e[3]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsx)("button",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-zinc-100 text-foreground hover:bg-zinc-200 transition-colors dark:bg-zinc-900 dark:hover:bg-zinc-800",children:(0,l.jsx)(Ul,{className:"h-5 w-5 text-zinc-500"})}),c=()=>r(!0),e[3]=o,e[4]=c):(o=e[3],c=e[4]);let d;e[5]===Symbol.for("react.memo_cache_sentinel")?(d=(0,l.jsxs)("header",{className:"sticky top-0 z-40 flex items-center justify-between border-b border-zinc-200/50 bg-white/80 px-4 py-3 backdrop-blur-xl dark:border-white/5 dark:bg-black/80 lg:hidden md:hidden",children:[a,(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[o,(0,l.jsx)("button",{onClick:c,className:"flex h-10 w-10 items-center justify-center rounded-xl bg-violet-600 text-white hover:bg-violet-700 transition-all active:scale-95 shadow-lg shadow-violet-500/20",children:(0,l.jsx)(kl,{className:"h-5 w-5"})})]})]}),e[5]=d):d=e[5];let u;e[6]===Symbol.for("react.memo_cache_sentinel")?(u=()=>r(!1),e[6]=u):u=e[6];let f;e[7]!==s?(f=(0,l.jsx)(xf,{isOpen:s,onClose:u}),e[7]=s,e[8]=f):f=e[8];let p;e[9]===Symbol.for("react.memo_cache_sentinel")?(p=(0,l.jsx)("div",{className:"flex-1 lg:ml-72 transition-all duration-300",children:(0,l.jsx)("main",{className:"mx-auto w-full px-4 py-6 sm:px-6 lg:px-10 lg:py-10",children:(0,l.jsx)(mr,{})})}),e[9]=p):p=e[9];let m;e[10]!==f?(m=(0,l.jsxs)("div",{className:"flex flex-1 gap-0",children:[f,p]}),e[10]=f,e[11]=m):m=e[11];let h;return e[12]!==i||e[13]!==m?(h=(0,l.jsxs)("div",{className:i,children:[d,m]}),e[12]=i,e[13]=m,e[14]=h):h=e[14],h},bf=yf,bt=U(),nv=Ll;var wf=Il,Ra=x.forwardRef((e,t)=>{const s=(0,bt.c)(9);let r,n;s[0]!==e?({className:r,...n}=e,s[0]=e,s[1]=r,s[2]=n):(r=s[1],n=s[2]);let i;s[3]!==r?(i=Q("fixed inset-0 z-50 bg-black/50 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),s[3]=r,s[4]=i):i=s[4];let a;return s[5]!==n||s[6]!==t||s[7]!==i?(a=(0,l.jsx)(qi,{className:i,...n,ref:t}),s[5]=n,s[6]=t,s[7]=i,s[8]=a):a=s[8],a});Ra.displayName=qi.displayName;var _f=x.forwardRef((e,t)=>{const s=(0,bt.c)(10);let r,n;s[0]!==e?({className:r,...n}=e,s[0]=e,s[1]=r,s[2]=n):(r=s[1],n=s[2]);let i;s[3]===Symbol.for("react.memo_cache_sentinel")?(i=(0,l.jsx)(Ra,{}),s[3]=i):i=s[3];let a;s[4]!==r?(a=Q("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-zinc-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-bottom-full data-[state=open]:slide-in-from-bottom-full sm:rounded-lg dark:border-zinc-800 dark:bg-zinc-950",r),s[4]=r,s[5]=a):a=s[5];let o;return s[6]!==n||s[7]!==t||s[8]!==a?(o=(0,l.jsxs)(wf,{children:[i,(0,l.jsx)(Pi,{ref:t,className:a,...n})]}),s[6]=n,s[7]=t,s[8]=a,s[9]=o):o=s[9],o});_f.displayName=Pi.displayName;var jf=e=>{const t=(0,bt.c)(8);let s,r;t[0]!==e?({className:s,...r}=e,t[0]=e,t[1]=s,t[2]=r):(s=t[1],r=t[2]);let n;t[3]!==s?(n=Q("flex flex-col space-y-2 text-center sm:text-left",s),t[3]=s,t[4]=n):n=t[4];let i;return t[5]!==r||t[6]!==n?(i=(0,l.jsx)("div",{className:n,...r}),t[5]=r,t[6]=n,t[7]=i):i=t[7],i};jf.displayName="AlertDialogHeader";var kf=e=>{const t=(0,bt.c)(8);let s,r;t[0]!==e?({className:s,...r}=e,t[0]=e,t[1]=s,t[2]=r):(s=t[1],r=t[2]);let n;t[3]!==s?(n=Q("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),t[3]=s,t[4]=n):n=t[4];let i;return t[5]!==r||t[6]!==n?(i=(0,l.jsx)("div",{className:n,...r}),t[5]=r,t[6]=n,t[7]=i):i=t[7],i};kf.displayName="AlertDialogFooter";var Sf=x.forwardRef((e,t)=>{const s=(0,bt.c)(9);let r,n;s[0]!==e?({className:r,...n}=e,s[0]=e,s[1]=r,s[2]=n):(r=s[1],n=s[2]);let i;s[3]!==r?(i=Q("text-lg font-semibold",r),s[3]=r,s[4]=i):i=s[4];let a;return s[5]!==n||s[6]!==t||s[7]!==i?(a=(0,l.jsx)(Ei,{ref:t,className:i,...n}),s[5]=n,s[6]=t,s[7]=i,s[8]=a):a=s[8],a});Sf.displayName=Ei.displayName;var Cf=x.forwardRef((e,t)=>{const s=(0,bt.c)(9);let r,n;s[0]!==e?({className:r,...n}=e,s[0]=e,s[1]=r,s[2]=n):(r=s[1],n=s[2]);let i;s[3]!==r?(i=Q("text-sm text-zinc-500 dark:text-zinc-400",r),s[3]=r,s[4]=i):i=s[4];let a;return s[5]!==n||s[6]!==t||s[7]!==i?(a=(0,l.jsx)($i,{ref:t,className:i,...n}),s[5]=n,s[6]=t,s[7]=i,s[8]=a):a=s[8],a});Cf.displayName=$i.displayName;var Nf=x.forwardRef((e,t)=>{const s=(0,bt.c)(9);let r,n;s[0]!==e?({className:r,...n}=e,s[0]=e,s[1]=r,s[2]=n):(r=s[1],n=s[2]);let i;s[3]!==r?(i=Q("inline-flex items-center justify-center rounded-md bg-zinc-900 px-4 py-2 text-sm font-medium text-zinc-50 shadow transition-colors hover:bg-zinc-900/90 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:pointer-events-none disabled:opacity-50 dark:bg-zinc-50 dark:text-zinc-900 dark:hover:bg-zinc-50/90 dark:focus-visible:ring-zinc-300",r),s[3]=r,s[4]=i):i=s[4];let a;return s[5]!==n||s[6]!==t||s[7]!==i?(a=(0,l.jsx)(Ri,{ref:t,className:i,...n}),s[5]=n,s[6]=t,s[7]=i,s[8]=a):a=s[8],a});Nf.displayName=Ri.displayName;var Pf=x.forwardRef((e,t)=>{const s=(0,bt.c)(9);let r,n;s[0]!==e?({className:r,...n}=e,s[0]=e,s[1]=r,s[2]=n):(r=s[1],n=s[2]);let i;s[3]!==r?(i=Q("inline-flex items-center justify-center rounded-md border border-zinc-200 bg-white px-4 py-2 text-sm font-medium shadow-sm transition-colors hover:bg-zinc-100 hover:text-zinc-900 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:pointer-events-none disabled:opacity-50 dark:border-zinc-800 dark:bg-zinc-950 dark:hover:bg-zinc-800 dark:hover:text-zinc-50 dark:focus-visible:ring-zinc-300",r),s[3]=r,s[4]=i):i=s[4];let a;return s[5]!==n||s[6]!==t||s[7]!==i?(a=(0,l.jsx)(Ki,{ref:t,className:i,...n}),s[5]=n,s[6]=t,s[7]=i,s[8]=a):a=s[8],a});Pf.displayName=Ki.displayName;var $f=U(),Ef=e=>{const t=(0,$f.c)(60);let s,r,n,i,a,o,c,d;t[0]!==e?({children:s,variant:a,size:o,loading:c,className:d,icon:n,disabled:r,...i}=e,t[0]=e,t[1]=s,t[2]=r,t[3]=n,t[4]=i,t[5]=a,t[6]=o,t[7]=c,t[8]=d):(s=t[1],r=t[2],n=t[3],i=t[4],a=t[5],o=t[6],c=t[7],d=t[8]);const u=a===void 0?"primary":a,f=o===void 0?"md":o,p=c===void 0?!1:c,m=d===void 0?"":d;let h,g,v,y,b,w;if(t[9]!==s||t[10]!==m||t[11]!==r||t[12]!==n||t[13]!==p||t[14]!==i||t[15]!==f||t[16]!==u){w=Symbol.for("react.early_return_sentinel");e:{const P={primary:"text-white bg-zinc-900 hover:bg-zinc-800 dark:bg-white dark:text-black dark:hover:bg-zinc-200 border-none",secondary:"text-zinc-900 bg-zinc-100 hover:bg-zinc-200 dark:text-white dark:bg-zinc-900 dark:hover:bg-zinc-800 border-none",outline:"text-zinc-900 border border-zinc-200 bg-transparent hover:bg-zinc-50 dark:text-white dark:border-zinc-800 dark:hover:bg-zinc-900",danger:"text-white bg-rose-500 hover:bg-rose-600 border-none shadow-rose-500/10 hover:shadow-rose-500/20",ghost:"text-zinc-500 hover:bg-zinc-100 dark:text-zinc-400 dark:hover:bg-zinc-800 border-transparent shadow-none hover:shadow-none",violet:"text-white bg-violet-600 hover:bg-violet-700 border-none shadow-violet-600/20 hover:shadow-violet-600/30",animated:"btn-animated bg-zinc-900 text-white dark:bg-white dark:text-black border-none rounded-2xl px-8 py-3 text-lg font-black"},M={sm:"px-3 py-1 text-xs",md:"px-5 py-2 text-sm",lg:"px-8 py-3 text-base",icon:"p-2 aspect-square"};if(u==="animated"){const $=i;let A;t[23]!==$?({...A}=$,t[23]=$,t[24]=A):A=t[24];let D;t[25]===Symbol.for("react.memo_cache_sentinel")?(D={scale:.98},t[25]=D):D=t[25];let O;t[26]!==m?(O=Q("btn-animated",m),t[26]=m,t[27]=O):O=t[27];const F=r||p;let I;t[28]!==n?(I=(0,l.jsx)("div",{className:"svg-wrapper-1",children:(0,l.jsx)("div",{className:"svg-wrapper",children:n?(0,l.jsx)("div",{className:"icon-wrapper [&>svg]:w-4 [&>svg]:h-4",children:n}):(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"16",height:"16",children:[(0,l.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,l.jsx)("path",{fill:"currentColor",d:"M1.946 9.315c-.522-.174-.527-.455.01-.634l19.087-6.362c.529-.176.832.12.684.638l-5.454 19.086c-.15.529-.455.547-.679.045L12 14l6-8-8 6-8.054-2.685z"})]})})}),t[28]=n,t[29]=I):I=t[29];let H;t[30]!==s?(H=(0,l.jsx)("span",{className:"ml-2 uppercase tracking-wider",children:s}),t[30]=s,t[31]=H):H=t[31];let T;t[32]===Symbol.for("react.memo_cache_sentinel")?(T=(0,l.jsx)("div",{className:"absolute inset-0 bg-black/0 active:bg-black/5 transition-colors pointer-events-none"}),t[32]=T):T=t[32];let W;t[33]!==A||t[34]!==O||t[35]!==F||t[36]!==I||t[37]!==H?(W=(0,l.jsxs)(he.button,{whileTap:D,className:O,disabled:F,...A,children:[I,H,T]}),t[33]=A,t[34]=O,t[35]=F,t[36]=I,t[37]=H,t[38]=W):W=t[38],w=W;break e}const z=i;t[39]!==z?({...g}=z,t[39]=z,t[40]=g):g=t[40],h=he.button,t[41]===Symbol.for("react.memo_cache_sentinel")?(v={scale:.97},y={type:"spring",stiffness:400,damping:17},t[41]=v,t[42]=y):(v=t[41],y=t[42]),b=Q("rounded-full font-bold inline-flex items-center justify-center relative overflow-hidden transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:pointer-events-none touch-manipulation shadow-sm hover:shadow-md active:opacity-80",P[u],M[f],m)}t[9]=s,t[10]=m,t[11]=r,t[12]=n,t[13]=p,t[14]=i,t[15]=f,t[16]=u,t[17]=h,t[18]=g,t[19]=v,t[20]=y,t[21]=b,t[22]=w}else h=t[17],g=t[18],v=t[19],y=t[20],b=t[21],w=t[22];if(w!==Symbol.for("react.early_return_sentinel"))return w;const k=r||p;let j;t[43]!==p?(j=p&&(0,l.jsx)(ws,{className:"mr-2 h-4 w-4 animate-spin"}),t[43]=p,t[44]=j):j=t[44];const _=p&&"opacity-80";let C;t[45]!==_?(C=Q("flex items-center gap-x-1.5",_),t[45]=_,t[46]=C):C=t[46];let S;t[47]!==s||t[48]!==C?(S=(0,l.jsx)("div",{className:C,children:s}),t[47]=s,t[48]=C,t[49]=S):S=t[49];let N;t[50]===Symbol.for("react.memo_cache_sentinel")?(N=(0,l.jsx)("div",{className:"absolute inset-0 bg-black/0 active:bg-black/5 transition-colors pointer-events-none"}),t[50]=N):N=t[50];let E;return t[51]!==h||t[52]!==g||t[53]!==j||t[54]!==S||t[55]!==v||t[56]!==y||t[57]!==b||t[58]!==k?(E=(0,l.jsxs)(h,{whileTap:v,transition:y,className:b,disabled:k,...g,children:[j,S,N]}),t[51]=h,t[52]=g,t[53]=j,t[54]=S,t[55]=v,t[56]=y,t[57]=b,t[58]=k,t[59]=E):E=t[59],E},vt=Ef,ot=U(),iv=Ql,av=Sl;var ov=jl;var zf=x.forwardRef((e,t)=>{const s=(0,ot.c)(14);let r,n,i,a;s[0]!==e?({className:n,inset:i,children:r,...a}=e,s[0]=e,s[1]=r,s[2]=n,s[3]=i,s[4]=a):(r=s[1],n=s[2],i=s[3],a=s[4]);const o=i&&"pl-8";let c;s[5]!==n||s[6]!==o?(c=Q("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-zinc-100 focus:text-zinc-900 data-[state=open]:bg-zinc-100 data-[state=open]:text-zinc-900 dark:focus:bg-zinc-800 dark:focus:text-zinc-50 dark:data-[state=open]:bg-zinc-800 dark:data-[state=open]:text-zinc-50",o,n),s[5]=n,s[6]=o,s[7]=c):c=s[7];let d;s[8]===Symbol.for("react.memo_cache_sentinel")?(d=(0,l.jsx)(xr,{className:"ml-auto h-4 w-4"}),s[8]=d):d=s[8];let u;return s[9]!==r||s[10]!==a||s[11]!==t||s[12]!==c?(u=(0,l.jsxs)(Bi,{ref:t,className:c,...a,children:[r,d]}),s[9]=r,s[10]=a,s[11]=t,s[12]=c,s[13]=u):u=s[13],u});zf.displayName=Bi.displayName;var Mf=x.forwardRef((e,t)=>{const s=(0,ot.c)(9);let r,n;s[0]!==e?({className:r,...n}=e,s[0]=e,s[1]=r,s[2]=n):(r=s[1],n=s[2]);let i;s[3]!==r?(i=Q("z-50 min-w-[8rem] overflow-hidden rounded-md border border-zinc-200 bg-white p-1 text-zinc-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50",r),s[3]=r,s[4]=i):i=s[4];let a;return s[5]!==n||s[6]!==t||s[7]!==i?(a=(0,l.jsx)(Ii,{ref:t,className:i,...n}),s[5]=n,s[6]=t,s[7]=i,s[8]=a):a=s[8],a});Mf.displayName=Ii.displayName;var Af=x.forwardRef((e,t)=>{const s=(0,ot.c)(9);let r,n;s[0]!==e?({className:r,...n}=e,s[0]=e,s[1]=r,s[2]=n):(r=s[1],n=s[2]);let i;s[3]!==r?(i=Q("z-50 min-w-[8rem] overflow-hidden rounded-md border border-zinc-200 bg-white p-1 text-zinc-950 shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50",r),s[3]=r,s[4]=i):i=s[4];let a;return s[5]!==n||s[6]!==t||s[7]!==i?(a=(0,l.jsx)(Pl,{children:(0,l.jsx)(yi,{ref:t,className:i,...n})}),s[5]=n,s[6]=t,s[7]=i,s[8]=a):a=s[8],a});Af.displayName=yi.displayName;var Lf=x.forwardRef((e,t)=>{const s=(0,ot.c)(11);let r,n,i;s[0]!==e?({className:r,inset:n,...i}=e,s[0]=e,s[1]=r,s[2]=n,s[3]=i):(r=s[1],n=s[2],i=s[3]);const a=n&&"pl-8";let o;s[4]!==r||s[5]!==a?(o=Q("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-zinc-100 focus:text-zinc-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-zinc-800 dark:focus:text-zinc-50",a,r),s[4]=r,s[5]=a,s[6]=o):o=s[6];let c;return s[7]!==i||s[8]!==t||s[9]!==o?(c=(0,l.jsx)(bi,{ref:t,className:o,...i}),s[7]=i,s[8]=t,s[9]=o,s[10]=c):c=s[10],c});Lf.displayName=bi.displayName;var Rf=x.forwardRef((e,t)=>{const s=(0,ot.c)(14);let r,n,i,a;s[0]!==e?({className:i,children:n,checked:r,...a}=e,s[0]=e,s[1]=r,s[2]=n,s[3]=i,s[4]=a):(r=s[1],n=s[2],i=s[3],a=s[4]);let o;s[5]!==i?(o=Q("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-zinc-100 focus:text-zinc-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-zinc-800 dark:focus:text-zinc-50",i),s[5]=i,s[6]=o):o=s[6];let c;s[7]===Symbol.for("react.memo_cache_sentinel")?(c=(0,l.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,l.jsx)(hi,{children:(0,l.jsx)(yr,{className:"h-4 w-4"})})}),s[7]=c):c=s[7];let d;return s[8]!==r||s[9]!==n||s[10]!==a||s[11]!==t||s[12]!==o?(d=(0,l.jsxs)(li,{ref:t,className:o,checked:r,...a,children:[c,n]}),s[8]=r,s[9]=n,s[10]=a,s[11]=t,s[12]=o,s[13]=d):d=s[13],d});Rf.displayName=li.displayName;var Df=x.forwardRef((e,t)=>{const s=(0,ot.c)(12);let r,n,i;s[0]!==e?({className:n,children:r,...i}=e,s[0]=e,s[1]=r,s[2]=n,s[3]=i):(r=s[1],n=s[2],i=s[3]);let a;s[4]!==n?(a=Q("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-zinc-100 focus:text-zinc-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-zinc-800 dark:focus:text-zinc-50",n),s[4]=n,s[5]=a):a=s[5];let o;s[6]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,l.jsx)(hi,{children:(0,l.jsx)(wi,{className:"h-2 w-2 fill-current"})})}),s[6]=o):o=s[6];let c;return s[7]!==r||s[8]!==i||s[9]!==t||s[10]!==a?(c=(0,l.jsxs)(Ti,{ref:t,className:a,...i,children:[o,r]}),s[7]=r,s[8]=i,s[9]=t,s[10]=a,s[11]=c):c=s[11],c});Df.displayName=Ti.displayName;var Tf=x.forwardRef((e,t)=>{const s=(0,ot.c)(11);let r,n,i;s[0]!==e?({className:r,inset:n,...i}=e,s[0]=e,s[1]=r,s[2]=n,s[3]=i):(r=s[1],n=s[2],i=s[3]);const a=n&&"pl-8";let o;s[4]!==r||s[5]!==a?(o=Q("px-2 py-1.5 text-sm font-semibold text-zinc-950 dark:text-zinc-50",a,r),s[4]=r,s[5]=a,s[6]=o):o=s[6];let c;return s[7]!==i||s[8]!==t||s[9]!==o?(c=(0,l.jsx)(ti,{ref:t,className:o,...i}),s[7]=i,s[8]=t,s[9]=o,s[10]=c):c=s[10],c});Tf.displayName=ti.displayName;var Ff=x.forwardRef((e,t)=>{const s=(0,ot.c)(9);let r,n;s[0]!==e?({className:r,...n}=e,s[0]=e,s[1]=r,s[2]=n):(r=s[1],n=s[2]);let i;s[3]!==r?(i=Q("-mx-1 my-1 h-px bg-zinc-200 dark:bg-zinc-800",r),s[3]=r,s[4]=i):i=s[4];let a;return s[5]!==n||s[6]!==t||s[7]!==i?(a=(0,l.jsx)(Ai,{ref:t,className:i,...n}),s[5]=n,s[6]=t,s[7]=i,s[8]=a):a=s[8],a});Ff.displayName=Ai.displayName;var If=e=>{const t=(0,ot.c)(8);let s,r;t[0]!==e?({className:s,...r}=e,t[0]=e,t[1]=s,t[2]=r):(s=t[1],r=t[2]);let n;t[3]!==s?(n=Q("ml-auto text-xs tracking-widest text-zinc-500 dark:text-zinc-400",s),t[3]=s,t[4]=n):n=t[4];let i;return t[5]!==r||t[6]!==n?(i=(0,l.jsx)("span",{className:n,...r}),t[5]=r,t[6]=n,t[7]=i):i=t[7],i};If.displayName="ContextMenuShortcut";var qf=U();function Nr(e){const t=(0,qf.c)(4);let s;t[0]!==e?(s=i=>{const a=window.matchMedia(e);return a.addEventListener("change",i),()=>{a.removeEventListener("change",i)}},t[0]=e,t[1]=s):s=t[1];const r=s;let n;return t[2]!==e?(n=()=>window.matchMedia(e).matches,t[2]=e,t[3]=n):n=t[3],(0,x.useSyncExternalStore)(r,n,Of)}function Of(){return!1}const Da={transition:{softSpring:{type:"spring",stiffness:100,damping:20},fastSpring:{type:"spring",stiffness:400,damping:30},sheetSpring:{type:"spring",stiffness:350,damping:35,mass:.8},bounceSpring:{type:"spring",stiffness:300,damping:20}},layout:{morph:{layout:!0,transition:{type:"spring",stiffness:350,damping:30}}},gesture:{tap:{scale:.96},hover:{scale:1.02}}};var Gt=U(),Ta=il,lv=yl,Vf=vl;var Fa=x.forwardRef((e,t)=>{const s=(0,Gt.c)(16);let r,n;s[0]!==e?({overlayClassName:r,...n}=e,s[0]=e,s[1]=r,s[2]=n):(r=s[1],n=s[2]);const i=Nr("(min-width: 640px)");let a;s[3]!==r?(a=r?.includes("z-[9999]")?{zIndex:9999}:void 0,s[3]=r,s[4]=a):a=s[4];const o=a,c=i?"bg-black/60":"bg-black/80";let d;s[5]!==r||s[6]!==c?(d=Q("fixed inset-0 z-50 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 duration-200",c,r),s[5]=r,s[6]=c,s[7]=d):d=s[7];let u;s[8]!==n?(u=p=>{p.stopPropagation(),n.onClick?.(p)},s[8]=n,s[9]=u):u=s[9];let f;return s[10]!==o||s[11]!==n||s[12]!==t||s[13]!==d||s[14]!==u?(f=(0,l.jsx)(Gi,{ref:t,style:o,className:d,onClick:u,...n}),s[10]=o,s[11]=n,s[12]=t,s[13]=d,s[14]=u,s[15]=f):f=s[15],f});Fa.displayName=Gi.displayName;var Pr=x.forwardRef((e,t)=>{const s=(0,Gt.c)(52);let r,n,i,a,o,c,d;s[0]!==e?({className:n,children:r,onDragClose:i,showCloseButton:c,overlayClassName:a,disableDrag:d,...o}=e,s[0]=e,s[1]=r,s[2]=n,s[3]=i,s[4]=a,s[5]=o,s[6]=c,s[7]=d):(r=s[1],n=s[2],i=s[3],a=s[4],o=s[5],c=s[6],d=s[7]);const u=c===void 0?!0:c,f=d===void 0?!1:d,p=Nr("(min-width: 640px)"),m=mf(),h=Ts(0);let g,v,y;s[8]===Symbol.for("react.memo_cache_sentinel")?(g=[0,200],v=[1,.5],y={clamp:!0},s[8]=g,s[9]=v,s[10]=y):(g=s[8],v=s[9],y=s[10]);const b=Wt(h,g,v,y);let w,k;s[11]!==m||s[12]!==p||s[13]!==h?(w=()=>{p||(h.stop(),h.set(0),m.start({opacity:[0,1],transition:{duration:.2}}))},k=[m,p,h],s[11]=m,s[12]=p,s[13]=h,s[14]=w,s[15]=k):(w=s[14],k=s[15]),x.useEffect(w,k);let j;s[16]!==m||s[17]!==p||s[18]!==i?(j=async(W,J)=>{p||(J.offset.y>100||J.velocity.y>300?i?i():document.querySelector("[data-dialog-close]")?.click():m.start({y:0,transition:Da.transition.sheetSpring}))},s[16]=m,s[17]=p,s[18]=i,s[19]=j):j=s[19];const _=j;let C;s[20]!==a?(C=a?.includes("z-[9999]")?{zIndex:9999}:{},s[20]=a,s[21]=C):C=s[21];const S=C;let N;s[22]!==a?(N=(0,l.jsx)(Fa,{overlayClassName:a}),s[22]=a,s[23]=N):N=s[23];const E=p||f?!1:"y";let P,M;s[24]===Symbol.for("react.memo_cache_sentinel")?(P={top:0,bottom:1e3},M={top:.1,bottom:.6},s[24]=P,s[25]=M):(P=s[24],M=s[25]);const z=p?void 0:m;let $;s[26]!==p||s[27]!==b||s[28]!==h||s[29]!==S?($=p?S:{y:h,opacity:b,...S},s[26]=p,s[27]=b,s[28]=h,s[29]=S,s[30]=$):$=s[30];let A;s[31]!==n?(A=Q("fixed z-50 grid w-full gap-4 bg-white p-6 shadow-lg rounded-3xl dark:bg-zinc-950 sm:left-[50%] sm:top-[50%] sm:max-w-lg sm:translate-x-[-50%] sm:translate-y-[-50%] max-sm:bottom-0 max-sm:left-0 max-sm:rounded-b-none max-sm:max-w-none max-sm:max-h-[92dvh]",n),s[31]=n,s[32]=A):A=s[32];let D,O;s[33]===Symbol.for("react.memo_cache_sentinel")?(D=(0,l.jsx)("div",{className:"flex w-full items-center justify-center pt-2 pb-1 shrink-0 cursor-grab active:cursor-grabbing",children:(0,l.jsx)("div",{className:"h-1.5 w-12 rounded-full bg-zinc-200 dark:bg-zinc-800"})}),O=(0,l.jsx)(br,{className:"sr-only",children:"Dialog"}),s[33]=D,s[34]=O):(D=s[33],O=s[34]);let F;s[35]!==u?(F=u&&(0,l.jsxs)(Gl,{"data-dialog-close":!0,className:"absolute right-4 top-4 rounded-full p-3 opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-zinc-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-zinc-100 data-[state=open]:text-zinc-500 dark:ring-offset-zinc-950 dark:focus:ring-zinc-300 dark:data-[state=open]:bg-zinc-800 dark:data-[state=open]:text-zinc-400",children:[(0,l.jsx)(Ut,{className:"h-5 w-5"}),(0,l.jsx)("span",{className:"sr-only",children:"Close"})]}),s[35]=u,s[36]=F):F=s[36];let I;s[37]!==r||s[38]!==_||s[39]!==E||s[40]!==z||s[41]!==$||s[42]!==A||s[43]!==F?(I=(0,l.jsxs)(he.div,{drag:E,dragConstraints:P,dragElastic:M,onDragEnd:_,onClick:Bf,animate:z,style:$,className:A,children:[D,O,r,F]}),s[37]=r,s[38]=_,s[39]=E,s[40]=z,s[41]=$,s[42]=A,s[43]=F,s[44]=I):I=s[44];let H;s[45]!==o||s[46]!==t||s[47]!==I?(H=(0,l.jsx)(Yi,{ref:t,asChild:!0,"aria-describedby":void 0,...o,children:I}),s[45]=o,s[46]=t,s[47]=I,s[48]=H):H=s[48];let T;return s[49]!==N||s[50]!==H?(T=(0,l.jsxs)(Vf,{children:[N,H]}),s[49]=N,s[50]=H,s[51]=T):T=s[51],T});Pr.displayName=Yi.displayName;var $r=e=>{const t=(0,Gt.c)(8);let s,r;t[0]!==e?({className:s,...r}=e,t[0]=e,t[1]=s,t[2]=r):(s=t[1],r=t[2]);let n;t[3]!==s?(n=Q("flex flex-col space-y-1.5 text-center sm:text-left",s),t[3]=s,t[4]=n):n=t[4];let i;return t[5]!==r||t[6]!==n?(i=(0,l.jsx)("div",{className:n,...r}),t[5]=r,t[6]=n,t[7]=i):i=t[7],i};$r.displayName="DialogHeader";var Er=e=>{const t=(0,Gt.c)(8);let s,r;t[0]!==e?({className:s,...r}=e,t[0]=e,t[1]=s,t[2]=r):(s=t[1],r=t[2]);let n;t[3]!==s?(n=Q("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),t[3]=s,t[4]=n):n=t[4];let i;return t[5]!==r||t[6]!==n?(i=(0,l.jsx)("div",{className:n,...r}),t[5]=r,t[6]=n,t[7]=i):i=t[7],i};Er.displayName="DialogFooter";var zr=x.forwardRef((e,t)=>{const s=(0,Gt.c)(9);let r,n;s[0]!==e?({className:r,...n}=e,s[0]=e,s[1]=r,s[2]=n):(r=s[1],n=s[2]);let i;s[3]!==r?(i=Q("text-lg font-semibold leading-none tracking-tight",r),s[3]=r,s[4]=i):i=s[4];let a;return s[5]!==n||s[6]!==t||s[7]!==i?(a=(0,l.jsx)(br,{ref:t,className:i,...n}),s[5]=n,s[6]=t,s[7]=i,s[8]=a):a=s[8],a});zr.displayName=br.displayName;var Ia=x.forwardRef((e,t)=>{const s=(0,Gt.c)(9);let r,n;s[0]!==e?({className:r,...n}=e,s[0]=e,s[1]=r,s[2]=n):(r=s[1],n=s[2]);let i;s[3]!==r?(i=Q("text-sm text-zinc-500 dark:text-zinc-400",r),s[3]=r,s[4]=i):i=s[4];let a;return s[5]!==n||s[6]!==t||s[7]!==i?(a=(0,l.jsx)(Si,{ref:t,className:i,...n}),s[5]=n,s[6]=t,s[7]=i,s[8]=a):a=s[8],a});Ia.displayName=Si.displayName;function Bf(e){return e.stopPropagation()}var lt=U(),cv=cl,dv=Hl,uv=ll;var Hf=x.forwardRef((e,t)=>{const s=(0,lt.c)(14);let r,n,i,a;s[0]!==e?({className:n,inset:i,children:r,...a}=e,s[0]=e,s[1]=r,s[2]=n,s[3]=i,s[4]=a):(r=s[1],n=s[2],i=s[3],a=s[4]);const o=i&&"pl-8";let c;s[5]!==n||s[6]!==o?(c=Q("focus:text-accent-foreground relative flex items-center outline-none transition-colors data-disabled:pointer-events-none data-disabled:opacity-50 active:bg-primary-foreground cursor-pointer rounded-none px-4 py-3 text-[15px] font-semibold tracking-normal select-none focus:bg-transparent",o,n),s[5]=n,s[6]=o,s[7]=c):c=s[7];let d;s[8]===Symbol.for("react.memo_cache_sentinel")?(d=(0,l.jsx)(xr,{className:"ml-auto h-4 w-4"}),s[8]=d):d=s[8];let u;return s[9]!==r||s[10]!==a||s[11]!==t||s[12]!==c?(u=(0,l.jsxs)(ci,{ref:t,className:c,...a,children:[r,d]}),s[9]=r,s[10]=a,s[11]=t,s[12]=c,s[13]=u):u=s[13],u});Hf.displayName=ci.displayName;var Kf=x.forwardRef((e,t)=>{const s=(0,lt.c)(9);let r,n;s[0]!==e?({className:r,...n}=e,s[0]=e,s[1]=r,s[2]=n):(r=s[1],n=s[2]);let i;s[3]!==r?(i=Q("z-50 min-w-32 overflow-hidden rounded-2xl border bg-background p-0 shadow-xl dark:bg-[#181818] data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),s[3]=r,s[4]=i):i=s[4];let a;return s[5]!==n||s[6]!==t||s[7]!==i?(a=(0,l.jsx)(ii,{ref:t,className:i,...n}),s[5]=n,s[6]=t,s[7]=i,s[8]=a):a=s[8],a});Kf.displayName=ii.displayName;var Qf=x.forwardRef((e,t)=>{const s=(0,lt.c)(11);let r,n,i;s[0]!==e?({className:r,sideOffset:i,...n}=e,s[0]=e,s[1]=r,s[2]=n,s[3]=i):(r=s[1],n=s[2],i=s[3]);const a=i===void 0?4:i;let o;s[4]!==r?(o=Q("text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-32 overflow-hidden border bg-background mt-1 rounded-2xl p-0 shadow-xl dark:bg-[#181818]",r),s[4]=r,s[5]=o):o=s[5];let c;return s[6]!==n||s[7]!==t||s[8]!==a||s[9]!==o?(c=(0,l.jsx)(Zl,{children:(0,l.jsx)(mi,{ref:t,sideOffset:a,className:o,...n})}),s[6]=n,s[7]=t,s[8]=a,s[9]=o,s[10]=c):c=s[10],c});Qf.displayName=mi.displayName;var Wf=x.forwardRef((e,t)=>{const s=(0,lt.c)(13);let r,n,i,a;s[0]!==e?({className:r,inset:n,variant:a,...i}=e,s[0]=e,s[1]=r,s[2]=n,s[3]=i,s[4]=a):(r=s[1],n=s[2],i=s[3],a=s[4]);const o=a==="destructive"&&"text-red-700 focus:text-red-700",c=n&&"pl-8";let d;s[5]!==r||s[6]!==o||s[7]!==c?(d=Q("focus:text-accent-foreground relative flex items-center outline-none transition-colors data-disabled:pointer-events-none data-disabled:opacity-50 active:bg-primary-foreground cursor-pointer rounded-none px-4 py-3 text-[15px] font-semibold tracking-normal select-none focus:bg-transparent",o,c,r),s[5]=r,s[6]=o,s[7]=c,s[8]=d):d=s[8];let u;return s[9]!==i||s[10]!==t||s[11]!==d?(u=(0,l.jsx)(oi,{ref:t,className:d,...i}),s[9]=i,s[10]=t,s[11]=d,s[12]=u):u=s[12],u});Wf.displayName=oi.displayName;var Uf=x.forwardRef((e,t)=>{const s=(0,lt.c)(14);let r,n,i,a;s[0]!==e?({className:i,children:n,checked:r,...a}=e,s[0]=e,s[1]=r,s[2]=n,s[3]=i,s[4]=a):(r=s[1],n=s[2],i=s[3],a=s[4]);let o;s[5]!==i?(o=Q("relative flex cursor-default select-none items-center rounded-none py-3 pl-8 pr-4 text-[15px] font-semibold outline-none transition-colors focus:bg-transparent data-disabled:pointer-events-none data-disabled:opacity-50",i),s[5]=i,s[6]=o):o=s[6];let c;s[7]===Symbol.for("react.memo_cache_sentinel")?(c=(0,l.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,l.jsx)(di,{children:(0,l.jsx)(yr,{className:"h-4 w-4"})})}),s[7]=c):c=s[7];let d;return s[8]!==r||s[9]!==n||s[10]!==a||s[11]!==t||s[12]!==o?(d=(0,l.jsxs)(ui,{ref:t,className:o,checked:r,...a,children:[c,n]}),s[8]=r,s[9]=n,s[10]=a,s[11]=t,s[12]=o,s[13]=d):d=s[13],d});Uf.displayName=ui.displayName;var Gf=x.forwardRef((e,t)=>{const s=(0,lt.c)(12);let r,n,i;s[0]!==e?({className:n,children:r,...i}=e,s[0]=e,s[1]=r,s[2]=n,s[3]=i):(r=s[1],n=s[2],i=s[3]);let a;s[4]!==n?(a=Q("relative flex cursor-default select-none items-center rounded-none py-3 pl-8 pr-4 text-[15px] font-semibold outline-none transition-colors focus:bg-transparent data-disabled:pointer-events-none data-disabled:opacity-50",n),s[4]=n,s[5]=a):a=s[5];let o;s[6]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,l.jsx)(di,{children:(0,l.jsx)(wi,{className:"h-2 w-2 fill-current"})})}),s[6]=o):o=s[6];let c;return s[7]!==r||s[8]!==i||s[9]!==t||s[10]!==a?(c=(0,l.jsxs)(vi,{ref:t,className:a,...i,children:[o,r]}),s[7]=r,s[8]=i,s[9]=t,s[10]=a,s[11]=c):c=s[11],c});Gf.displayName=vi.displayName;var Jf=x.forwardRef((e,t)=>{const s=(0,lt.c)(11);let r,n,i;s[0]!==e?({className:r,inset:n,...i}=e,s[0]=e,s[1]=r,s[2]=n,s[3]=i):(r=s[1],n=s[2],i=s[3]);const a=n&&"pl-8";let o;s[4]!==r||s[5]!==a?(o=Q("px-4 py-3 text-[15px] font-semibold",a,r),s[4]=r,s[5]=a,s[6]=o):o=s[6];let c;return s[7]!==i||s[8]!==t||s[9]!==o?(c=(0,l.jsx)(pi,{ref:t,className:o,...i}),s[7]=i,s[8]=t,s[9]=o,s[10]=c):c=s[10],c});Jf.displayName=pi.displayName;var Yf=x.forwardRef((e,t)=>{const s=(0,lt.c)(9);let r,n;s[0]!==e?({className:r,...n}=e,s[0]=e,s[1]=r,s[2]=n):(r=s[1],n=s[2]);let i;s[3]!==r?(i=Q("my-0 h-[1.2px] bg-zinc-200 dark:bg-zinc-800",r),s[3]=r,s[4]=i):i=s[4];let a;return s[5]!==n||s[6]!==t||s[7]!==i?(a=(0,l.jsx)(xi,{ref:t,className:i,...n}),s[5]=n,s[6]=t,s[7]=i,s[8]=a):a=s[8],a});Yf.displayName=xi.displayName;var Xf=e=>{const t=(0,lt.c)(8);let s,r;t[0]!==e?({className:s,...r}=e,t[0]=e,t[1]=s,t[2]=r):(s=t[1],r=t[2]);let n;t[3]!==s?(n=Q("ml-auto text-xs tracking-widest opacity-60",s),t[3]=s,t[4]=n):n=t[4];let i;return t[5]!==r||t[6]!==n?(i=(0,l.jsx)("span",{className:n,...r}),t[5]=r,t[6]=n,t[7]=i):i=t[7],i};Xf.displayName="DropdownMenuShortcut";var Zf=Object.defineProperty,em=(e,t)=>{for(var s in t)Zf(e,s,{get:t[s],enumerable:!0})},pt={};em(pt,{ActiveEmoji:()=>oo,Empty:()=>ao,List:()=>ro,Loading:()=>io,Root:()=>Ja,Search:()=>Ya,SkinTone:()=>lo,SkinToneSelector:()=>no,Viewport:()=>Xa});var qa="'Apple Color Emoji', 'Noto Color Emoji', 'Twemoji Mozilla', 'Android Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', EmojiSymbols, sans-serif",Mr=["none","light","medium-light","medium","medium-dark","dark"];function Us(e){return e.charAt(0).toUpperCase()+e.slice(1)}var Ke=2,Se=null;function _n(e){try{Se??=document.createElement("canvas").getContext("2d",{willReadFrequently:!0})}catch{}if(!Se||(queueMicrotask(()=>{Se&&(Se=null)}),Se.canvas.width=Ke,Se.canvas.height=Ke,Se.font=`2px ${qa}`,Se.textBaseline="middle",Se.measureText(e).width>=Ke*2))return!1;Se.fillStyle="#00f",Se.fillText(e,0,0);let t=Se.getImageData(0,0,Ke,Ke).data;Se.clearRect(0,0,Ke,Ke),Se.fillStyle="#f00",Se.fillText(e,0,0);let s=Se.getImageData(0,0,Ke,Ke).data;for(let r=0;r<Ke*Ke*4;r+=4)if(t[r]!==s[r]||t[r+1]!==s[r+1]||t[r+2]!==s[r+2])return!1;return!0}function jn(e,t,s){try{let r=e.getItem(t);if(!r)throw new Error(`No value found for "${t}".`);return s(JSON.parse(r))}catch{return null}}function Oa(e,t,s){e.setItem(t,JSON.stringify(s))}function kn(e){return t=>t===void 0?void 0:e(t)}function Sn(e){return t=>t===null?null:e(t)}function je(e){if(typeof e!="string")throw new Error;return e}function bs(e){if(typeof e!="number")throw new Error;return e}function Va(e){if(typeof e!="boolean")throw new Error;return e}function gt(e){return t=>{if(typeof t!="object"||t===null)throw new Error;let s={};for(let r in e){let n=t[r];n===void 0&&e[r](void 0),s[r]=e[r](n)}return s}}function Gs(e){return t=>{if(!Array.isArray(t))throw new Error;return t.length>0&&e(t[0]),t}}var Ba=(e,t)=>`${e}/${t}/data.json`,Ha=(e,t)=>`${e}/${t}/messages.json`,tm=["bn","da","de","en-gb","en","es-mx","es","et","fi","fr","hi","hu","it","ja","ko","lt","ms","nb","nl","pl","pt","ru","sv","th","uk","vi","zh-hant","zh"],Cn="en",Ka=e=>`frimousse/data/${e}`,Nn="frimousse/metadata";async function Pn(e,t){try{return(await fetch(e,{method:"HEAD",signal:t})).headers.get("etag")}catch{return null}}async function sm(e,t,s){let[{emojis:r,emojisEtag:n},{messages:i,messagesEtag:a}]=await Promise.all([fetch(Ba(e,t),{signal:s}).then(async o=>({emojis:await o.json(),emojisEtag:o.headers.get("etag")})),fetch(Ha(e,t),{signal:s}).then(async o=>({messages:await o.json(),messagesEtag:o.headers.get("etag")}))]);return{emojis:r,messages:i,emojisEtag:n,messagesEtag:a}}async function rm(e,t,s){let[r,n]=await Promise.all([Pn(Ba(e,t),s),Pn(Ha(e,t),s)]);return{emojisEtag:r,messagesEtag:n}}function nm(e){return e.skins?e.skins.filter(t=>typeof t.tone=="number").reduce((t,s)=>{let r=Mr[s.tone];return t[r]=s.emoji,t},{}):void 0}async function $n(e,t,s){let{emojis:r,emojisEtag:n,messages:i,messagesEtag:a}=await sm(e,t,s),o=i.subgroups.find(m=>m.key==="country-flag"||m.key==="subdivision-flag"),c=i.groups.filter(m=>m.key!=="component"),d=r.filter(m=>"group"in m),u=c.map(m=>({index:m.order,label:Us(m.message)})),f=i.skinTones.reduce((m,h)=>(m[h.key]=Us(h.message),m),{}),p={locale:t,emojis:d.map(m=>({emoji:m.emoji,category:m.group,version:m.version,label:Us(m.label),tags:m.tags??[],countryFlag:o&&m.subgroup===o.order||void 0,skins:nm(m)})),categories:u,skinTones:f};return Oa(localStorage,Ka(t),{data:p,metadata:{emojisEtag:n,messagesEtag:a}}),p}function im(e,t){let s=new Map;for(let a of e)s.has(a.version)||s.set(a.version,a.emoji);let r=[...s.keys()].sort((a,o)=>o-a),n=r[0]??0,i=_n("");if(typeof t=="number")return{emojiVersion:t,countryFlags:i};for(let a of r)if(_n(s.get(a)))return{emojiVersion:a,countryFlags:i};return{emojiVersion:n,countryFlags:i}}var am=gt({emojiVersion:bs,countryFlags:Va}),om=gt({data:gt({locale:je,emojis:Gs(gt({emoji:je,category:bs,label:je,version:bs,tags:Gs(je),countryFlag:kn(Va),skins:kn(gt({light:je,"medium-light":je,medium:je,"medium-dark":je,dark:je}))})),categories:Gs(gt({index:bs,label:je})),skinTones:gt({light:je,"medium-light":je,medium:je,"medium-dark":je,dark:je})}),metadata:gt({emojisEtag:Sn(je),messagesEtag:Sn(je)})});async function lm({locale:e,emojiVersion:t,emojibaseUrl:s,signal:r}){let n=typeof s=="string"?s:`https://cdn.jsdelivr.net/npm/emojibase-data@${typeof t=="number"?Math.floor(t):"latest"}`,i=jn(sessionStorage,Nn,am),a=jn(localStorage,Ka(e),om),o;if(!a)o=await $n(n,e,r);else if(i)o=a.data;else try{let{emojisEtag:c,messagesEtag:d}=await rm(n,e,r);o=!c||!d||c!==a.metadata.emojisEtag||d!==a.metadata.messagesEtag?await $n(n,e,r):a.data}catch{o=a.data}return i??=im(o.emojis,t),Oa(sessionStorage,Nn,i),{locale:e,emojis:o.emojis.filter(c=>{let d=c.version<=i.emojiVersion;return c.countryFlag?d&&i.countryFlags:d}),categories:o.categories,skinTones:o.skinTones}}function En(e){return tm.includes(e)?e:(console.warn(`Locale "${e}" is not supported, using "${Cn}" instead.`),Cn)}function zn(e){return Mr.includes(e)?e:(console.warn(`Skin tone "${e}" is not valid, using "none" instead.`),"none")}function cm(e,t){let s=[];if(t<=0)return s;for(let r=0,n=e.length;r<n;r+=t)s.push(e.slice(r,r+t));return s}function dm(e,t){if(!t)return e;let s=t.toLowerCase().trim(),r=new WeakMap;return e.filter(n=>{let i=0;n.label.toLowerCase().includes(s)&&(i+=10);for(let a of n.tags)a.toLowerCase().includes(s)&&(i+=1);return i>0?(r.set(n,i),!0):!1}).sort((n,i)=>(r.get(i)??0)-(r.get(n)??0))}function um(e,t,s,r){let n=dm(e.emojis,r),i=[],a=[],o=[],c={},d=0,u=0;for(let f of n)c[f.category]||(c[f.category]=[]),c[f.category].push({emoji:s&&s!=="none"&&f.skins?f.skins[s]:f.emoji,label:f.label});for(let f of e.categories){let p=c[f.index];if(!p||p.length===0)continue;let m=cm(Array.from(p),t).map(h=>({categoryIndex:d,emojis:h}));i.push(...m),a.push({label:f.label,rowsCount:m.length,startRowIndex:u}),o.push(u),d++,u+=m.length}return{count:n.length,categories:a,categoriesStartRowIndices:o,rows:i,skinTones:e.skinTones}}function fm(e){let t={},s=null,r=null,n=new Set,i=()=>{if(s){t=s,s=null;for(let d of n)d(t)}r=null},a=()=>s??t,o=d=>{s??=t,Object.assign(s,typeof d=="function"?d(a()):d),r||(r=requestAnimationFrame(i))},c=d=>(n.add(d),()=>n.delete(d));return t=e(o,a),{get:a,set:o,subscribe:c}}function mm(e){let[t]=(0,x.useState)(e);return t}function hm(e){let t=(0,x.createContext)(null);return{useStore:()=>{let s=(0,x.useContext)(t);if(!s)throw new Error(e);return s},Provider:({store:s,children:r})=>(0,l.jsx)(t.Provider,{value:s,children:r})}}function Te(e,t,s=Object.is){let[r,n]=(0,x.useState)(()=>t(e.get()));return(0,x.useEffect)(()=>e.subscribe(()=>{let i=t(e.get());n(a=>s(a,i)?a:i)}),[e,t,s]),(0,x.useDebugValue)(r),r}function tt(e,t,s){return Te(e,(0,x.useCallback)(r=>r[t],[t]),s)}var Mn=2;function pm(e,t,s,r,n){let i=0;return fm((a,o)=>({locale:t,columns:s,sticky:r,skinTone:n,onEmojiSelect:e,data:null,search:"",interaction:"none",activeColumnIndex:0,activeRowIndex:0,rowHeight:null,categoryHeaderHeight:null,viewportWidth:null,viewportHeight:null,viewportCurrentCategoryIndex:null,viewportStartCategoryIndex:0,viewportStartRowIndex:0,viewportEndRowIndex:0,rootRef:null,searchRef:null,viewportRef:null,listRef:null,updateViewportState:c=>{let d=o(),u=c?.data??d.data,f=c?.categoryHeaderHeight??d.categoryHeaderHeight,p=c?.rowHeight??d.rowHeight,m=c?.viewportHeight??d.viewportHeight;if(!u||u.rows.length===0||!f||!p||!m)return a({...c,viewportStartCategoryIndex:0,viewportStartRowIndex:0,viewportEndRowIndex:0});let h=0,g=0;for(let S of u.categories)if(g++*f+S.startRowIndex*p<i)h+=f;else break;let v=u.categories.length*f+u.rows.length*p,y=Math.floor(Mn*p/2),b=Math.ceil(Mn*p/2),w=Math.min(i-h-y,v-m),k=w+m+b,j=Math.max(0,Math.floor(w/p)),_=Math.min(u.rows.length-1,Math.ceil(k/p)),C=u.rows[j]?.categoryIndex;return a(C===void 0&&c?c:{...c,viewportStartCategoryIndex:C,viewportStartRowIndex:j,viewportEndRowIndex:_})},onDataChange:c=>{o().updateViewportState({data:c,activeColumnIndex:0,activeRowIndex:0})},onSearchChange:c=>{a({search:c,interaction:c?"keyboard":"none"})},onActiveEmojiChange:(c,d,u)=>{if(a({interaction:c,activeColumnIndex:d,activeRowIndex:u}),c!=="keyboard")return;let{listRef:f,viewportRef:p,sticky:m,rowHeight:h,viewportHeight:g,categoryHeaderHeight:v}=o(),y=f?.current,b=p?.current;if(!y||!b||!h||!v||!g)return;let w=u;w===0&&b.scrollTo({top:0,behavior:"instant"});let k=y.querySelector(`[aria-rowindex="${w}"]`);if(!(k instanceof HTMLElement))return;let j=k.offsetTop,_=getComputedStyle(k),C=Number.parseFloat(_.scrollMarginTop),S=Number.parseFloat(_.scrollMarginBottom),N=i+C;m&&j<i+g/2&&(N+=v);let E=N+g-S;(j<N||j+h>E)&&b.scrollTo({top:Math.max(j<N+v?j-Math.max(m?v:0,C):j-g+h+S,0),behavior:"instant"})},onActiveEmojiReset:()=>{a({interaction:"none",activeColumnIndex:0,activeRowIndex:0})},onRowHeightChange:c=>{o().updateViewportState({rowHeight:c})},onCategoryHeaderHeightChange:c=>{o().updateViewportState({categoryHeaderHeight:c})},onViewportSizeChange:(c,d)=>{o().updateViewportState({viewportWidth:c,viewportHeight:d})},onViewportScroll:c=>{i=c,o().updateViewportState()}}))}var{useStore:Ae,Provider:gm}=hm("EmojiPicker.Root is missing.");function xm(e){return e.search}function Ar(e){return e.interaction==="none"?void 0:e.data?.rows[e.activeRowIndex]?.emojis[e.activeColumnIndex]}function vm(e){return e.data===void 0||typeof e.data?.count=="number"&&e.data.count===0}function ym(e){return e.data===null||e.viewportHeight===null||e.rowHeight===null||e.categoryHeaderHeight===null}function Qa(e){return e.data?.rows.length}function bm(e){return e.data?.categories.length}function wm(e){return e.data?.categoriesStartRowIndices}function _m(e){return e.data?.skinTones}function Wa(e,t){return e?.emoji===t?.emoji}function jm(e,t){return e?.categoryIndex!==t?.categoryIndex||e?.emojis.length!==t?.emojis.length?!1:!!e?.emojis.every((s,r)=>Wa(s,t?.emojis[r]))}var Jt="",An=/\p{Emoji_Modifier_Base}/u,km=/\uFE0F$/,Sm=/\u{1F3FB}|\u{1F3FC}|\u{1F3FD}|\u{1F3FE}|\u{1F3FF}/gu,Cm={light:"","medium-light":"",medium:"","medium-dark":"",dark:""};function Nm(e,t){if(!e.split(Jt).some(r=>An.test(r)))return e;let s=e.split(Jt).map(r=>r.replace(Sm,"")).join(Jt);return t==="none"?s:s.split(Jt).map((r,n,i)=>{let a=i.length>1;return!An.test(r)||a&&r===""?r:r.replace(km,"")+Cm[t]}).join(Jt)}function Pm(e){return Mr.map(t=>({skinTone:t,emoji:Nm(e,t)}))}function Ua(){return(0,x.useDeferredValue)(Te(Ae(),Ar,Wa))}function Ga(e=""){let t=Ae(),s=tt(t,"skinTone"),r=(0,x.useMemo)(()=>Pm(e),[e]);return[s,(0,x.useCallback)(n=>{t.set({skinTone:n})},[]),r]}function Lr(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||typeof t!="object"||e===null||t===null||Array.isArray(e)!==Array.isArray(t))return!1;let s=Object.keys(e),r=Object.keys(t);return s.length!==r.length?!1:s.every(n=>n in t&&e[n]===t[n])}function $m(...e){}function Em(e,t){let s=null;if(typeof window.requestIdleCallback=="function")s=window.requestIdleCallback(e,t);else{let r=Date.now();s=window.setTimeout(()=>{e({didTimeout:!1,timeRemaining:()=>Math.max(0,(t?.timeout??50)-(Date.now()-r))})},10)}return()=>{typeof window.cancelIdleCallback=="function"?window.cancelIdleCallback(s):window.clearTimeout(s)}}var We=typeof window<"u"?x.useLayoutEffect:x.useEffect;function zm(e){let t=(0,x.useRef)(e);return We(()=>{t.current=e}),(0,x.useCallback)((...s)=>t.current(...s),[])}function Mm({emojiVersion:e,emojibaseUrl:t}){let[s,r]=(0,x.useState)(void 0),n=Ae(),i=tt(n,"locale"),a=tt(n,"columns"),o=tt(n,"skinTone"),c=tt(n,"search");return(0,x.useEffect)(()=>{let d=new AbortController,u=d.signal;return lm({locale:i,emojiVersion:e,emojibaseUrl:t,signal:u}).then(f=>{r(f)}).catch(f=>{u.aborted||console.error(f)}),()=>{d.abort()}},[e,t,i]),(0,x.useEffect)(()=>{if(s)return Em(()=>{n.get().onDataChange(um(s,a,o,c))},{timeout:100})},[s,a,o,c]),null}var Ja=(0,x.forwardRef)(({locale:e="en",columns:t=9,skinTone:s="none",onEmojiSelect:r=$m,emojiVersion:n,emojibaseUrl:i,onFocusCapture:a,onBlurCapture:o,children:c,style:d,sticky:u=!0,...f},p)=>{let m=zm(r),h=mm(()=>pm(m,En(e),t,u,zn(s))),[g,v]=(0,x.useState)(!1),y=(0,x.useRef)(null),b=(0,x.useCallback)(j=>{j&&(y.current=j,h.set({rootRef:y}))},[]);We(()=>{h.set({locale:En(e)})},[e]),We(()=>{h.set({columns:t})},[t]),We(()=>{h.set({sticky:u})},[u]),We(()=>{h.set({skinTone:zn(s)})},[s]);let w=(0,x.useCallback)(j=>{a?.(j);let{searchRef:_,viewportRef:C}=h.get(),S=j.target===_?.current||j.target.hasAttribute("frimousse-search"),N=j.target===C?.current||j.target.hasAttribute("frimousse-viewport");j.isDefaultPrevented()||(v(S||N),j.isDefaultPrevented()||(v(S||N),N?h.get().onActiveEmojiChange("keyboard",0,0):S&&h.get().search===""&&h.set({interaction:"none"})))},[a]),k=(0,x.useCallback)(j=>{o?.(j),!j.isDefaultPrevented()&&!j.currentTarget.contains(j.relatedTarget)&&v(!1)},[o]);return We(()=>{g||h.get().onActiveEmojiReset()},[g]),(0,x.useImperativeHandle)(p,()=>y.current),(0,x.useEffect)(()=>{if(!g)return;function j(_){if(_.defaultPrevented||!_.key.startsWith("Arrow")&&_.key!=="Enter")return;let{data:C,onEmojiSelect:S,onActiveEmojiChange:N,interaction:E,activeColumnIndex:P,activeRowIndex:M}=h.get();if(_.key==="Enter"){let z=Ar(h.get());z&&(_.preventDefault(),S(z))}if(_.key.startsWith("Arrow")){let z=P,$=M;if(_.preventDefault(),E!=="none"){if(C?.rows&&C.rows.length>0)switch(_.key){case"ArrowLeft":if(z===0){let A=$-1,D=C.rows[A];D&&($=A,z=D.emojis.length-1)}else z-=1;break;case"ArrowRight":if(z===C.rows[$].emojis.length-1){let A=$+1;C.rows[A]&&($=A,z=0)}else z+=1;break;case"ArrowUp":{let A=C.rows[$-1];A&&($-=1,A.emojis[z]||(z=A.emojis.length-1));break}case"ArrowDown":{let A=C.rows[$+1];A&&($+=1,A.emojis[z]||(z=A.emojis.length-1));break}}N("keyboard",z,$)}else N("keyboard",0,0)}}return document.addEventListener("keydown",j),()=>{document.removeEventListener("keydown",j)}},[g]),We(()=>{let j=null,_=null,C=null,S=null,N=h.subscribe($=>{y.current&&(j!==$.viewportWidth&&(j=$.viewportWidth,y.current.style.setProperty("--frimousse-viewport-width",`${$.viewportWidth}px`)),_!==$.viewportHeight&&(_=$.viewportHeight,y.current.style.setProperty("--frimousse-viewport-height",`${$.viewportHeight}px`)),C!==$.rowHeight&&(C=$.rowHeight,y.current.style.setProperty("--frimousse-row-height",`${$.rowHeight}px`)),S!==$.categoryHeaderHeight&&(S=$.categoryHeaderHeight,y.current.style.setProperty("--frimousse-category-header-height",`${$.categoryHeaderHeight}px`)))}),{viewportWidth:E,viewportHeight:P,rowHeight:M,categoryHeaderHeight:z}=h.get();return E&&y.current.style.setProperty("--frimousse-viewport-width",`${E}px`),P&&y.current.style.setProperty("--frimousse-viewport-height",`${P}px`),M&&y.current.style.setProperty("--frimousse-row-height",`${M}px`),z&&y.current.style.setProperty("--frimousse-category-header-height",`${z}px`),N},[]),(0,l.jsx)("div",{"data-focused":g?"":void 0,"frimousse-root":"",onBlurCapture:k,onFocusCapture:w,...f,ref:b,style:{"--frimousse-emoji-font":qa,...d},children:(0,l.jsxs)(gm,{store:h,children:[(0,l.jsx)(Mm,{emojiVersion:n,emojibaseUrl:i}),c]})})}),Ya=(0,x.forwardRef)(({value:e,defaultValue:t,onChange:s,...r},n)=>{let i=Ae(),a=(0,x.useRef)(null),o=(0,x.useCallback)(f=>{f&&(a.current=f,i.set({searchRef:a}))},[]),c=typeof e=="string",d=(0,x.useRef)(c);(0,x.useEffect)(()=>{d.current=c},[c]),We(()=>{i.set({search:typeof e=="string"?e:typeof t=="string"?t:""})},[]),We(()=>{typeof e=="string"&&i.get().onSearchChange(e)},[e]);let u=(0,x.useCallback)(f=>{s?.(f),f.isDefaultPrevented()||i.get().onSearchChange(f.target.value)},[s]);return(0,x.useImperativeHandle)(n,()=>a.current),(0,l.jsx)("input",{autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",enterKeyHint:"done","frimousse-search":"",placeholder:"Search",spellCheck:!1,type:"search",...r,defaultValue:t,onChange:u,ref:o,value:e})}),Am=(0,x.memo)(()=>{let e=Ua();return e?(0,l.jsx)("div",{"aria-live":"polite",style:{border:0,clip:"rect(0, 0, 0, 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:1,wordWrap:"normal"},children:e.label}):null}),Xa=(0,x.forwardRef)(({children:e,onScroll:t,onKeyDown:s,style:r,...n},i)=>{let a=Ae(),o=(0,x.useRef)(null),c=(0,x.useCallback)(p=>{p&&(o.current=p,a.set({viewportRef:o}))},[]),d=Te(a,Qa),u=Te(a,bm),f=(0,x.useCallback)(p=>{t?.(p),a.get().onViewportScroll(p.currentTarget.scrollTop)},[t]);return We(()=>{if(!o.current)return;let p=new ResizeObserver(([m])=>{let h=m?.borderBoxSize[0]?.inlineSize??0,g=m?.borderBoxSize[0]?.blockSize??0,{onViewportSizeChange:v,viewportHeight:y,viewportWidth:b}=a.get();(y!==g||b!==h)&&v(h,g)});return p.observe(o.current),a.get().onViewportSizeChange(o.current.offsetWidth,o.current.clientHeight),()=>{p.disconnect()}},[]),(0,x.useImperativeHandle)(i,()=>o.current),(0,l.jsxs)("div",{"frimousse-viewport":"",...n,onScroll:f,ref:c,style:{position:"relative",boxSizing:"border-box",contain:"layout paint",containIntrinsicSize:typeof d=="number"&&typeof u=="number"?`var(--frimousse-viewport-width, auto) calc(${d} * var(--frimousse-row-height) + ${u} * var(--frimousse-category-header-height))`:void 0,overflowY:"auto",overscrollBehavior:"contain",scrollbarGutter:"stable",willChange:"scroll-position",...r},children:[(0,l.jsx)(Am,{}),e]})});function Za(e,t,s){return{emoji:{...e,isActive:s},role:"gridcell","aria-colindex":t,"aria-selected":s||void 0,"aria-label":e.label,"data-active":s?"":void 0,"frimousse-emoji":"",style:{fontFamily:"var(--frimousse-emoji-font)"},tabIndex:-1}}function eo(e,t=!1){return{role:t?void 0:"row","aria-rowindex":t?void 0:e,"frimousse-row":"",style:{contain:t?void 0:"content",height:t?void 0:"var(--frimousse-row-height)",display:"flex"}}}function to(e,t){return{"frimousse-category":"",style:{contain:"content",top:t?`calc(${e} * var(--frimousse-category-header-height) + ${t.startRowIndex} * var(--frimousse-row-height))`:void 0,height:t?`calc(var(--frimousse-category-header-height) + ${t.rowsCount} * var(--frimousse-row-height))`:void 0,width:"100%",pointerEvents:"none",position:"absolute"}}}function so(e,t=!1,s=!0){return{category:e,"frimousse-category-header":"",style:{contain:t?void 0:"layout paint",height:t?void 0:"var(--frimousse-category-header-height)",pointerEvents:"auto",position:s?"sticky":void 0,top:0}}}function Ln(e,t,s,r){return{"frimousse-list-sizer":"",style:{position:"relative",boxSizing:"border-box",height:`calc(${e} * var(--frimousse-row-height) + ${t} * var(--frimousse-category-header-height))`,paddingTop:`calc(${s} * var(--frimousse-row-height) + ${r} * var(--frimousse-category-header-height))`}}}function Rn(e,t,s){return{"aria-colcount":e,"aria-rowcount":t,"frimousse-list":"",style:{"--frimousse-list-columns":e,...s},role:"grid"}}function Lm(e){e.preventDefault()}var Rm=(0,x.memo)(({Emoji:e,emoji:t,columnIndex:s,rowIndex:r})=>{let n=Ae(),i=Te(n,d=>Ar(d)?.emoji===t.emoji),a=(0,x.useCallback)(()=>{n.get().onEmojiSelect(t)},[t]),o=(0,x.useCallback)(()=>{n.get().onActiveEmojiChange("pointer",s,r)},[s,r]),c=(0,x.useCallback)(()=>{n.get().onActiveEmojiReset()},[]);return(0,l.jsx)(e,{...Za(t,s,i),onClick:a,onPointerDown:Lm,onPointerEnter:o,onPointerLeave:c})}),Dm=(0,x.memo)(({Row:e,Emoji:t,rowIndex:s})=>{let r=Te(Ae(),n=>n.data?.rows[s],jm);return r?(0,l.jsx)(e,{...eo(s),children:r.emojis.map((n,i)=>(0,l.jsx)(Rm,{Emoji:t,columnIndex:i,emoji:n,rowIndex:s},n.label))}):null}),Tm=(0,x.memo)(({CategoryHeader:e,categoryIndex:t})=>{let s=Ae(),r=Te(s,i=>i.data?.categories[t],Lr),n=tt(s,"sticky");return r?(0,l.jsx)("div",{...to(t,r),children:(0,l.jsx)(e,{...so({label:r.label},!1,n)})}):null}),Dn=(0,x.memo)(({CategoryHeader:e,Row:t,Emoji:s})=>{let r=(0,x.useRef)(null),n=Ae(),i=tt(n,"columns"),a=(0,x.useMemo)(()=>Array(i).fill({emoji:"",label:""}),[i]),o=(0,x.useMemo)(()=>({label:"Category"}),[]),c=(0,x.useRef)(null),d=(0,x.useRef)(null);return We(()=>{let u=r.current?.parentElement?.parentElement;if(!u||!c.current||!d.current)return;let f=new ResizeObserver(h=>{for(let g of h){let v=g.contentRect.height,{onRowHeightChange:y,onCategoryHeaderHeightChange:b,rowHeight:w,categoryHeaderHeight:k}=n.get();g.target===c.current&&w!==v&&y(v),g.target===d.current&&k!==v&&b(v)}});f.observe(u),f.observe(c.current),f.observe(d.current);let{onRowHeightChange:p,onCategoryHeaderHeightChange:m}=n.get();return p(c.current.clientHeight),m(d.current.clientHeight),()=>{f.disconnect()}},[]),(0,l.jsxs)("div",{"aria-hidden":!0,ref:r,style:{height:0,visibility:"hidden"},children:[(0,l.jsx)("div",{"frimousse-row-sizer":"",ref:c,children:(0,l.jsx)(t,{...eo(-1,!0),children:a.map((u,f)=>(0,l.jsx)(s,{...Za(u,f,!1)},f))})}),(0,l.jsx)("div",{...to(-1),children:(0,l.jsx)("div",{"frimousse-category-header-sizer":"",ref:d,children:(0,l.jsx)(e,{...so(o,!0)})})})]})});function Fm({category:e,...t}){return(0,l.jsx)("div",{...t,children:e.label})}function Im({emoji:e,...t}){return(0,l.jsx)("button",{type:"button",...t,children:e.emoji})}function qm({...e}){return(0,l.jsx)("div",{...e})}var ro=(0,x.forwardRef)(({style:e,components:t,...s},r)=>{let n=Ae(),i=(0,x.useRef)(null),a=(0,x.useCallback)(y=>{y&&(i.current=y,n.set({listRef:i}))},[]),o=t?.CategoryHeader??Fm,c=t?.Emoji??Im,d=t?.Row??qm,u=tt(n,"columns"),f=tt(n,"viewportStartRowIndex"),p=tt(n,"viewportEndRowIndex"),m=Te(n,Qa),h=Te(n,wm,Lr),g=(0,x.useMemo)(()=>h?.filter(y=>y<f).length??0,[h,f]),v=h?.length??0;return(0,x.useImperativeHandle)(r,()=>i.current),!m||!h||v===0?(0,l.jsx)("div",{...Rn(u,0,e),...s,children:(0,l.jsx)("div",{...Ln(0,0,0,0),children:(0,l.jsx)(Dn,{CategoryHeader:o,Emoji:c,Row:d})})}):(0,l.jsx)("div",{...Rn(u,m,e),...s,ref:a,children:(0,l.jsxs)("div",{...Ln(m,v,f,g),children:[(0,l.jsx)(Dn,{CategoryHeader:o,Emoji:c,Row:d}),Array.from({length:p-f+1},(y,b)=>{let w=f+b;return(0,l.jsxs)(x.Fragment,{children:[h.indexOf(w)>=0&&(0,l.jsx)("div",{style:{height:"var(--frimousse-category-header-height)"}}),(0,l.jsx)(Dm,{Emoji:c,Row:d,rowIndex:w})]},w)}),Array.from({length:v},(y,b)=>(0,l.jsx)(Tm,{CategoryHeader:o,categoryIndex:b},b))]})})}),no=(0,x.forwardRef)(({emoji:e,onClick:t,"aria-label":s="Change skin tone",...r},n)=>{let i=Te(Ae(),_m,Lr),[a,o,c]=Ga(e),d=(0,x.useMemo)(()=>Math.max(0,c.findIndex(g=>g.skinTone===a)),[a,c]),u=c[d],f=c[(d+1)%c.length].skinTone,p=a==="none"?void 0:i?.[a],m=f==="none"?void 0:i?.[f],h=(0,x.useCallback)(g=>{t?.(g),g.isDefaultPrevented()||o(f)},[t,o,f]);return(0,l.jsx)("button",{type:"button",...r,"aria-label":s+(m?` (${m})`:""),"aria-live":"polite","aria-valuetext":p,"frimousse-skin-tone-selector":"",onClick:h,ref:n,children:u.emoji})});function io({children:e,...t}){return Te(Ae(),ym)?(0,l.jsx)("span",{"frimousse-loading":"",...t,children:e}):null}function Om({children:e}){return e({search:Te(Ae(),xm)})}function ao({children:e,...t}){return Te(Ae(),vm)?(0,l.jsx)("span",{"frimousse-empty":"",...t,children:typeof e=="function"?(0,l.jsx)(Om,{children:e}):e}):null}function oo({children:e}){return e({emoji:Ua()})}function lo({children:e,emoji:t}){let[s,r,n]=Ga(t);return e({skinTone:s,setSkinTone:r,skinToneVariations:n})}Ja.displayName="EmojiPicker.Root";Ya.displayName="EmojiPicker.Search";Xa.displayName="EmojiPicker.Viewport";ro.displayName="EmojiPicker.List";io.displayName="EmojiPicker.Loading";ao.displayName="EmojiPicker.Empty";no.displayName="EmojiPicker.SkinToneSelector";oo.displayName="EmojiPicker.ActiveEmoji";lo.displayName="EmojiPicker.SkinTone";var Vm=U(),Bm=e=>{const t=(0,Vm.c)(10),{onEmojiSelect:s,className:r}=e;let n;t[0]!==r?(n=Q("isolate flex h-[350px] w-[320px] flex-col overflow-hidden rounded-xl border border-zinc-200 bg-white shadow-xl dark:border-zinc-800 dark:bg-zinc-950",r),t[0]=r,t[1]=n):n=t[1];let i;t[2]===Symbol.for("react.memo_cache_sentinel")?(i=(0,l.jsx)(pt.Search,{className:"z-10 mx-3 mt-3 appearance-none rounded-lg border-none bg-zinc-100 px-3 py-2 text-sm outline-none placeholder:text-zinc-500 focus:ring-1 focus:ring-violet-500 dark:bg-zinc-900 dark:text-white",placeholder:"Search emojis..."}),t[2]=i):i=t[2];let a,o;t[3]===Symbol.for("react.memo_cache_sentinel")?(a=(0,l.jsx)(pt.Loading,{className:"absolute inset-0 flex items-center justify-center text-sm text-zinc-400 dark:text-zinc-500",children:"Loading"}),o=(0,l.jsx)(pt.Empty,{className:"absolute inset-0 flex items-center justify-center text-sm text-zinc-400 dark:text-zinc-500",children:"No emoji found."}),t[3]=a,t[4]=o):(a=t[3],o=t[4]);let c,d;t[5]===Symbol.for("react.memo_cache_sentinel")?(c=(0,l.jsxs)(pt.Viewport,{className:"relative flex-1 outline-none no-scrollbar",children:[a,o,(0,l.jsx)(pt.List,{className:"select-none pb-2",components:{CategoryHeader:Hm,Row:Km,Emoji:Qm}})]}),d=(0,l.jsx)(pt.ActiveEmoji,{children:Wm}),t[5]=c,t[6]=d):(c=t[5],d=t[6]);let u;return t[7]!==s||t[8]!==n?(u=(0,l.jsxs)(pt.Root,{onEmojiSelect:s,className:n,children:[i,c,d]}),t[7]=s,t[8]=n,t[9]=u):u=t[9],u},fv=Bm;function Hm(e){const{category:t,...s}=e;return(0,l.jsx)("div",{className:"bg-white/80 px-4 pb-1.5 pt-4 text-[11px] font-bold uppercase tracking-wider text-zinc-500 backdrop-blur-sm dark:bg-zinc-950/80 dark:text-zinc-400",...s,children:t.label})}function Km(e){const{children:t,...s}=e;return(0,l.jsx)("div",{className:"scroll-my-1 px-2",...s,children:t})}function Qm(e){const{emoji:t,...s}=e;return(0,l.jsx)("button",{className:"flex aspect-square size-9 items-center justify-center rounded-lg text-xl transition-colors hover:bg-zinc-100 data-[active]:bg-violet-500/10 data-[active]:text-violet-500 dark:hover:bg-zinc-900 dark:data-[active]:bg-violet-500/20",...s,children:t.emoji})}function Wm(e){const{emoji:t}=e;return(0,l.jsx)("div",{className:"flex items-center gap-3 border-t border-zinc-100 p-3 dark:border-zinc-800",children:t?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"text-2xl",children:t.emoji}),(0,l.jsx)("span",{className:"truncate text-xs font-bold text-zinc-600 dark:text-zinc-400",children:t.label.replace(/:/g,"").replace(/_/g," ")})]}):(0,l.jsx)("span",{className:"text-xs font-medium text-zinc-400",children:"Select an emoji..."})})}var Um=U(),Gm=e=>{const t=(0,Um.c)(33),{src:s,isOpen:r,onClose:n,onCropComplete:i,aspect:a,circular:o}=e,[c,d]=(0,x.useState)(),[u,f]=(0,x.useState)(null),p=(0,x.useRef)(null);let m;t[0]!==a?(m=M=>{const{width:z,height:$}=M.currentTarget;d(a?Qo(Uo({unit:"%",width:100},a,z,$),z,$):{unit:"%",width:100,height:100,x:0,y:0})},t[0]=a,t[1]=m):m=t[1];const h=m;let g;t[2]!==u||t[3]!==n||t[4]!==i?(g=async()=>{if(u&&p.current)try{i(await Xc(p.current,u)),n()}catch(M){console.error("Error cropping image:",M)}},t[2]=u,t[3]=n,t[4]=i,t[5]=g):g=t[5];const v=g;let y;t[6]!==n?(y=M=>!M&&n(),t[6]=n,t[7]=y):y=t[7];let b;t[8]===Symbol.for("react.memo_cache_sentinel")?(b=(0,l.jsx)($r,{className:"shrink-0 p-4",children:(0,l.jsx)(zr,{children:"Crop Image"})}),t[8]=b):b=t[8];let w,k;t[9]===Symbol.for("react.memo_cache_sentinel")?(w=M=>d(M),k=M=>f(M),t[9]=w,t[10]=k):(w=t[9],k=t[10]);let j;t[11]!==h||t[12]!==s?(j=(0,l.jsx)("img",{ref:p,src:s,alt:"Crop preview",onLoad:h,className:"block max-h-[60vh] w-auto"}),t[11]=h,t[12]=s,t[13]=j):j=t[13];let _;t[14]!==a||t[15]!==o||t[16]!==c||t[17]!==j?(_=(0,l.jsx)("div",{className:"flex max-h-[65vh] min-h-[300px] items-center justify-center overflow-auto bg-zinc-100/50 p-6 dark:bg-zinc-950/50",children:(0,l.jsx)(Jo,{crop:c,onChange:w,onComplete:k,aspect:a,circularCrop:o,className:"max-w-full shadow-2xl",children:j})}),t[14]=a,t[15]=o,t[16]=c,t[17]=j,t[18]=_):_=t[18];let C;t[19]!==n?(C=(0,l.jsx)(vt,{variant:"outline",onClick:n,className:"!w-auto px-6",children:"Cancel"}),t[19]=n,t[20]=C):C=t[20];let S;t[21]!==v?(S=(0,l.jsx)(vt,{onClick:v,className:"!w-auto px-6",children:"Apply Crop"}),t[21]=v,t[22]=S):S=t[22];let N;t[23]!==S||t[24]!==C?(N=(0,l.jsxs)(Er,{className:"flex shrink-0 flex-row justify-end gap-2 bg-white p-4 dark:bg-zinc-900",children:[C,S]}),t[23]=S,t[24]=C,t[25]=N):N=t[25];let E;t[26]!==N||t[27]!==_?(E=(0,l.jsxs)(Pr,{disableDrag:!0,className:"overflow-hidden bg-white p-0 sm:max-w-2xl dark:bg-zinc-900",children:[b,_,N]}),t[26]=N,t[27]=_,t[28]=E):E=t[28];let P;return t[29]!==r||t[30]!==E||t[31]!==y?(P=(0,l.jsx)(Ta,{open:r,onOpenChange:y,children:E}),t[29]=r,t[30]=E,t[31]=y,t[32]=P):P=t[32],P},mv=Gm,Jm=U(),Ym=e=>{const t=(0,Jm.c)(5),{url:s,scale:r}=e;let n;t[0]!==r?(n={scale:r},t[0]=r,t[1]=n):n=t[1];let i;return t[2]!==n||t[3]!==s?(i=(0,l.jsx)(he.img,{src:s,animate:n,onClick:Zm,className:"max-h-full max-w-full select-none rounded-lg object-contain shadow-2xl pointer-events-none",alt:""}),t[2]=n,t[3]=s,t[4]=i):i=t[4],i},Xm=Ym;function Zm(e){return e.stopPropagation()}var e1=U(),t1=e=>{const t=(0,e1.c)(23),{url:s,poster:r}=e,n=(0,x.useRef)(null),[i,a]=(0,x.useState)(!1);let o,c;t[0]===Symbol.for("react.memo_cache_sentinel")?(o=()=>{let _;const C=()=>{const S=n.current?.plyr;S&&(S.ready?a(!0):typeof S.on=="function"&&S.on("ready",()=>a(!0)),clearInterval(_))};return _=setInterval(C,50),C(),()=>clearInterval(_)},c=[],t[0]=o,t[1]=c):(o=t[0],c=t[1]),(0,x.useEffect)(o,c);let d;t[2]===Symbol.for("react.memo_cache_sentinel")?(d=_=>{_.stopPropagation();const C=_.target;C.closest(".plyr__controls")||C.closest(".plyr__menu")||n.current?.plyr&&n.current.plyr.togglePlay()},t[2]=d):d=t[2];const u=d;let f;t[3]!==s?(f=[{src:s,type:"video/mp4"}],t[3]=s,t[4]=f):f=t[4];let p;t[5]!==r||t[6]!==f?(p={type:"video",sources:f,poster:r},t[5]=r,t[6]=f,t[7]=p):p=t[7];let m;t[8]===Symbol.for("react.memo_cache_sentinel")?(m={controls:["play-large","play","progress","current-time","mute","volume","fullscreen"],settings:["quality","speed"],ratio:"16:9",autoplay:!0,clickToPlay:!1,resetOnEnd:!0},t[8]=m):m=t[8];let h;t[9]!==p?(h={source:p,options:m},t[9]=p,t[10]=h):h=t[10];const g=h;let v;t[11]!==i?(v=!i&&(0,l.jsx)("div",{className:"absolute inset-0 z-10 flex items-center justify-center bg-black/20",children:(0,l.jsx)("div",{className:"size-8 border-2 border-white/20 border-t-white/80 rounded-full animate-spin"})}),t[11]=i,t[12]=v):v=t[12];const y=i?"opacity-100":"opacity-0";let b;t[13]!==y?(b=Q("transition-opacity duration-500",y),t[13]=y,t[14]=b):b=t[14];let w;t[15]!==g?(w=(0,l.jsx)(tc,{ref:n,...g}),t[15]=g,t[16]=w):w=t[16];let k;t[17]!==b||t[18]!==w?(k=(0,l.jsx)("div",{className:b,children:w}),t[17]=b,t[18]=w,t[19]=k):k=t[19];let j;return t[20]!==k||t[21]!==v?(j=(0,l.jsx)("div",{className:"flex size-full items-center justify-center",children:(0,l.jsxs)("div",{className:"relative w-full max-w-[95vw] max-h-[85vh] overflow-hidden rounded-2xl shadow-[0_0_50px_rgba(0,0,0,0.5)] bg-black/40 backdrop-blur-sm border border-white/5 pointer-events-auto",onClick:u,children:[v,k]})}),t[20]=k,t[21]=v,t[22]=j):j=t[22],j},s1=t1,r1=({media:e,currentIndex:t=0,onClose:s,onNavigate:r})=>{const{currentUser:n}=be(),{addToast:i}=Fe(),[a,o]=(0,x.useState)(1),[c,d]=(0,x.useState)(!1),u=Ts(0),f=Wt(u,[-200,0,200],[.5,1,.5]),p=Wt(u,[-200,0,200],[.8,1,.8]),m=()=>o(1),h=(0,x.useCallback)(()=>{t>0&&(m(),r(t-1))},[t,r]),g=(0,x.useCallback)(()=>{t<(e?.length||0)-1&&(m(),r(t+1))},[t,e?.length,r]);if((0,x.useEffect)(()=>{const j=_=>{_.key==="Escape"&&s(),_.key==="ArrowLeft"&&h(),_.key==="ArrowRight"&&g()};return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[t,s,h,g]),!e||e.length===0)return null;const v=e[t],y=typeof v!="string"&&v.type==="video",b=typeof v=="string"?v:v.url,w=e.length>1,k=async j=>{if(j.stopPropagation(),!n?.isPro){i("Upgrade to Pro to download media","error");return}if(!c)try{d(!0);const _=await(await fetch(b)).blob(),C=window.URL.createObjectURL(_),S=document.createElement("a");S.href=C,S.download=`threads-${Date.now()}${y?".mp4":".jpg"}`,document.body.appendChild(S),S.click(),document.body.removeChild(S),window.URL.revokeObjectURL(C)}catch(_){console.error("Download failed:",_);const C=document.createElement("a");C.href=b,C.target="_blank",C.download=`threads-${Date.now()}${y?".mp4":".jpg"}`,C.click()}finally{d(!1)}};return(0,l.jsxs)(he.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex flex-col items-center justify-center bg-black/95 backdrop-blur-md touch-none",onClick:s,children:[(0,l.jsxs)(he.div,{style:{opacity:f},className:"absolute left-0 right-0 top-0 z-20 flex items-center justify-between bg-gradient-to-b from-black/60 to-transparent p-4",children:[(0,l.jsx)("div",{className:"flex flex-col text-white",children:(0,l.jsx)("span",{className:"text-lg font-bold drop-shadow-md",children:w?`${t+1} / ${e.length}`:y?"Video":"Image"})}),(0,l.jsxs)("div",{className:"flex items-center gap-3",onClick:j=>j.stopPropagation(),children:[!y&&(0,l.jsx)("button",{onClick:m,className:"rounded-full p-2 text-white transition-colors hover:bg-white/10 active:scale-90",children:(0,l.jsx)(Qr,{size:20})}),(0,l.jsx)("button",{onClick:k,disabled:c,className:`rounded-full p-2 text-white transition-colors hover:bg-white/10 active:scale-90 ${c?"animate-pulse opacity-50":""}`,children:c?(0,l.jsx)(Qr,{size:20,className:"animate-spin"}):n?.isPro?(0,l.jsx)(Kr,{size:20}):(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(Kr,{size:20,className:"opacity-50"}),(0,l.jsx)(Jl,{size:10,className:"absolute -right-1 -top-1 text-zinc-400",strokeWidth:3})]})}),(0,l.jsx)("button",{onClick:s,className:"rounded-full bg-white/10 p-2 text-white transition-all hover:bg-white/20 active:scale-90",children:(0,l.jsx)(Ut,{size:24})})]})]}),(0,l.jsxs)("div",{className:"relative flex h-full w-full items-center justify-center",children:[w&&t>0&&a===1&&(0,l.jsx)("button",{onClick:j=>{j.stopPropagation(),h()},className:"absolute left-6 z-10 hidden rounded-full bg-white/5 p-4 text-white backdrop-blur-sm transition-all hover:bg-white/10 active:scale-90 md:flex",children:(0,l.jsx)(_l,{size:32})}),(0,l.jsx)(he.div,{drag:a===1?"y":!1,dragConstraints:{top:0,bottom:0},dragElastic:.8,style:{y:u,opacity:f,scale:p},onDragEnd:(j,_)=>{(Math.abs(_.offset.y)>100||Math.abs(_.velocity.y)>500)&&s()},className:"relative flex h-full w-full items-center justify-center",children:(0,l.jsx)(Cs,{mode:"wait",children:(0,l.jsx)(he.div,{initial:{opacity:0,scale:.8,filter:"blur(10px)"},animate:{opacity:1,scale:1,filter:"blur(0px)"},exit:{opacity:0,scale:.8,filter:"blur(10px)"},transition:{type:"spring",stiffness:400,damping:30,mass:.8,filter:{duration:.2}},className:"flex h-full w-full items-center justify-center p-4",drag:a===1?"x":!1,dragConstraints:{left:0,right:0},onDragEnd:(j,_)=>{_.offset.x>100?h():_.offset.x<-100&&g()},children:y?(0,l.jsx)(s1,{url:b,poster:(typeof v!="string"?v.poster:void 0)??void 0}):(0,l.jsx)(Xm,{url:b,scale:a})},t)})}),w&&t<e.length-1&&a===1&&(0,l.jsx)("button",{onClick:j=>{j.stopPropagation(),g()},className:"absolute right-6 z-10 hidden rounded-full bg-white/5 p-4 text-white backdrop-blur-sm transition-all hover:bg-white/10 active:scale-90 md:flex",children:(0,l.jsx)(xr,{size:32})})]}),(0,l.jsx)(Cs,{children:w&&a===1&&(0,l.jsx)(he.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"hide-scrollbar absolute bottom-8 flex max-w-[90%] gap-3 overflow-x-auto rounded-2xl border border-white/10 bg-black/40 p-3 backdrop-blur-xl z-30",onClick:j=>j.stopPropagation(),children:e.map((j,_)=>{const C=typeof j=="string"?j:j.url,S=typeof j!="string"&&j.poster?j.poster:C;return(0,l.jsx)("button",{onClick:()=>{m(),r(_)},className:`size-14 shrink-0 overflow-hidden rounded-xl border-2 transition-all active:scale-90 ${_===t?"scale-110 border-white shadow-lg shadow-white/20":"border-transparent opacity-40 hover:opacity-100"}`,children:(0,l.jsx)("img",{src:S,className:"size-full object-cover",alt:""})},_)})})})]})},n1=r1,i1=U(),co=x.forwardRef((e,t)=>{const s=(0,i1.c)(20);let r,n,i,a,o;s[0]!==e?({className:r,label:n,type:o,textarea:a,...i}=e,s[0]=e,s[1]=r,s[2]=n,s[3]=i,s[4]=a,s[5]=o):(r=s[1],n=s[2],i=s[3],a=s[4],o=s[5]);const c=a?"textarea":"input";let d;s[6]!==n?(d=n&&(0,l.jsx)("label",{className:"text-sm font-bold text-zinc-500 dark:text-zinc-400 ml-1",children:n}),s[6]=n,s[7]=d):d=s[7];const u=a&&"min-h-[120px] resize-none";let f;s[8]!==r||s[9]!==u?(f=Q("flex w-full rounded-2xl border-none bg-zinc-50 dark:bg-zinc-900 px-4 py-3 text-[15px] text-black ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-zinc-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-violet-500/20 focus-visible:border-violet-500 disabled:cursor-not-allowed disabled:opacity-50 dark:ring-offset-zinc-950 dark:text-white transition-all shadow-sm",u,r),s[8]=r,s[9]=u,s[10]=f):f=s[10];const p=t;let m;s[11]!==c||s[12]!==i||s[13]!==f||s[14]!==p||s[15]!==o?(m=(0,l.jsx)(c,{type:o,className:f,ref:p,...i}),s[11]=c,s[12]=i,s[13]=f,s[14]=p,s[15]=o,s[16]=m):m=s[16];let h;return s[17]!==d||s[18]!==m?(h=(0,l.jsxs)("div",{className:"w-full space-y-1.5",children:[d,m]}),s[17]=d,s[18]=m,s[19]=h):h=s[19],h});co.displayName="Input";var a1=co,o1=U(),l1=e=>{const t=(0,o1.c)(29),{isOpen:s,onClose:r,title:n,children:i,footer:a,description:o,className:c,overlayClassName:d}=e;let u;t[0]!==r?(u=_=>{_||r()},t[0]=r,t[1]=u):u=t[1];const f=u;let p;t[2]!==c?(p=Q("flex max-h-[92dvh] flex-col gap-0 overflow-hidden bg-white p-0 sm:max-w-md dark:bg-zinc-900",c),t[2]=c,t[3]=p):p=t[3];const m=!n&&"sr-only";let h;t[4]!==m?(h=Q("shrink-0 px-5 py-4",m),t[4]=m,t[5]=h):h=t[5];let g;t[6]!==n?(g=(0,l.jsx)(zr,{className:"text-center text-lg font-bold",children:n}),t[6]=n,t[7]=g):g=t[7];let v;t[8]!==o?(v=o&&(0,l.jsx)(Ia,{className:"text-center",children:o}),t[8]=o,t[9]=v):v=t[9];let y;t[10]!==h||t[11]!==g||t[12]!==v?(y=(0,l.jsxs)($r,{className:h,children:[g,v]}),t[10]=h,t[11]=g,t[12]=v,t[13]=y):y=t[13];let b;t[14]!==i?(b=(0,l.jsx)("div",{className:"flex min-h-0 flex-1 flex-col overflow-y-auto custom-scrollbar",children:i}),t[14]=i,t[15]=b):b=t[15];let w;t[16]!==a?(w=a&&(0,l.jsx)(Er,{className:"shrink-0 bg-white px-5 py-4 dark:bg-zinc-900",children:a}),t[16]=a,t[17]=w):w=t[17];let k;t[18]!==r||t[19]!==d||t[20]!==p||t[21]!==y||t[22]!==b||t[23]!==w?(k=(0,l.jsxs)(Pr,{onDragClose:r,"aria-describedby":void 0,overlayClassName:d,className:p,children:[y,b,w]}),t[18]=r,t[19]=d,t[20]=p,t[21]=y,t[22]=b,t[23]=w,t[24]=k):k=t[24];let j;return t[25]!==f||t[26]!==s||t[27]!==k?(j=(0,l.jsx)(Ta,{open:s,onOpenChange:f,children:k}),t[25]=f,t[26]=s,t[27]=k,t[28]=j):j=t[28],j},us=l1,c1=U(),d1=e=>{const t=(0,c1.c)(20),{title:s,message:r,icon:n,showHome:i,showBack:a}=e,o=s===void 0?"Not Found":s,c=r===void 0?"The content you are looking for doesn't exist or has been removed.":r,d=n===void 0?Ol:n,u=i===void 0?!0:i,f=a===void 0?!0:a,p=Ce();let m;t[0]!==d?(m=(0,l.jsx)("div",{className:"mb-6 rounded-full bg-zinc-100 p-6 dark:bg-zinc-900",children:(0,l.jsx)(d,{size:48,className:"text-zinc-400 dark:text-zinc-600"})}),t[0]=d,t[1]=m):m=t[1];let h;t[2]!==o?(h=(0,l.jsx)("h2",{className:"mb-2 text-2xl font-black dark:text-white",children:o}),t[2]=o,t[3]=h):h=t[3];let g;t[4]!==c?(g=(0,l.jsx)("p",{className:"mb-8 max-w-xs leading-relaxed text-zinc-500 dark:text-zinc-400",children:c}),t[4]=c,t[5]=g):g=t[5];let v;t[6]!==p||t[7]!==f?(v=f&&(0,l.jsxs)(vt,{variant:"secondary",onClick:()=>p(-1),className:"rounded-full px-6",children:[(0,l.jsx)(vr,{size:18,className:"mr-2"}),"Go Back"]}),t[6]=p,t[7]=f,t[8]=v):v=t[8];let y;t[9]!==p||t[10]!==u?(y=u&&(0,l.jsxs)(vt,{onClick:()=>p("/"),className:"rounded-full bg-zinc-900 px-6 text-white dark:bg-white dark:text-zinc-900",children:[(0,l.jsx)(gl,{size:18,className:"mr-2"}),"Home"]}),t[9]=p,t[10]=u,t[11]=y):y=t[11];let b;t[12]!==y||t[13]!==v?(b=(0,l.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-3",children:[v,y]}),t[12]=y,t[13]=v,t[14]=b):b=t[14];let w;return t[15]!==b||t[16]!==m||t[17]!==h||t[18]!==g?(w=(0,l.jsxs)("div",{className:"animate-in fade-in zoom-in-95 flex min-h-[400px] flex-col items-center justify-center p-8 text-center duration-300",children:[m,h,g,b]}),t[15]=b,t[16]=m,t[17]=h,t[18]=g,t[19]=w):w=t[19],w},hv=d1,u1=U(),pv=Rl,gv=fl;var f1=x.forwardRef((e,t)=>{const s=(0,u1.c)(13);let r,n,i,a;s[0]!==e?({className:r,align:i,sideOffset:a,...n}=e,s[0]=e,s[1]=r,s[2]=n,s[3]=i,s[4]=a):(r=s[1],n=s[2],i=s[3],a=s[4]);const o=i===void 0?"center":i,c=a===void 0?4:a;let d;s[5]!==r?(d=Q("z-50 w-72 rounded-md bg-white p-4 text-zinc-950 shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:bg-zinc-950 dark:text-zinc-50",r),s[5]=r,s[6]=d):d=s[6];let u;return s[7]!==o||s[8]!==n||s[9]!==t||s[10]!==c||s[11]!==d?(u=(0,l.jsx)(sl,{children:(0,l.jsx)(Li,{ref:t,align:o,sideOffset:c,className:d,...n})}),s[7]=o,s[8]=n,s[9]=t,s[10]=c,s[11]=d,s[12]=u):u=s[12],u});f1.displayName=Li.displayName;var Ne=U();const xv=e=>{const t=(0,Ne.c)(10);let s,r,n;t[0]!==e?({size:r,className:n,...s}=e,t[0]=e,t[1]=s,t[2]=r,t[3]=n):(s=t[1],r=t[2],n=t[3]);const i=r===void 0?24:r,a=n===void 0?"":n;let o,c;t[4]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsx)("path",{d:"M13.6006 21.0761L19.0608 17.9236C19.6437 17.5871 19.9346 17.4188 20.1465 17.1834C20.3341 16.9751 20.4759 16.7297 20.5625 16.4632C20.6602 16.1626 20.6602 15.8267 20.6602 15.1568V8.84268C20.6602 8.17277 20.6602 7.83694 20.5625 7.53638C20.4759 7.26982 20.3341 7.02428 20.1465 6.816C19.9355 6.58161 19.6453 6.41405 19.0674 6.08043L13.5996 2.92359C13.0167 2.58706 12.7259 2.41913 12.416 2.35328C12.1419 2.295 11.8584 2.295 11.5843 2.35328C11.2744 2.41914 10.9826 2.58706 10.3997 2.92359L4.93843 6.07666C4.35623 6.41279 4.06535 6.58073 3.85352 6.816C3.66597 7.02428 3.52434 7.26982 3.43773 7.53638C3.33984 7.83765 3.33984 8.17436 3.33984 8.84742V15.1524C3.33984 15.8254 3.33984 16.1619 3.43773 16.4632C3.52434 16.7297 3.66597 16.9751 3.85352 17.1834C4.06548 17.4188 4.35657 17.5871 4.93945 17.9236L10.3997 21.0761C10.9826 21.4126 11.2744 21.5806 11.5843 21.6465C11.8584 21.7047 12.1419 21.7047 12.416 21.6465C12.7259 21.5806 13.0177 21.4126 13.6006 21.0761Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),c=(0,l.jsx)("path",{d:"M9 11.9998C9 13.6566 10.3431 14.9998 12 14.9998C13.6569 14.9998 15 13.6566 15 11.9998C15 10.3429 13.6569 8.99976 12 8.99976C10.3431 8.99976 9 10.3429 9 11.9998Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t[4]=o,t[5]=c):(o=t[4],c=t[5]);let d;return t[6]!==a||t[7]!==s||t[8]!==i?(d=(0,l.jsxs)("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a,...s,children:[o,c]}),t[6]=a,t[7]=s,t[8]=i,t[9]=d):d=t[9],d},uo=e=>{const t=(0,Ne.c)(10);let s,r,n;t[0]!==e?({size:r,className:n,...s}=e,t[0]=e,t[1]=s,t[2]=r,t[3]=n):(s=t[1],r=t[2],n=t[3]);const i=r===void 0?24:r,a=n===void 0?"":n;let o;t[4]!==a?(o=Q("object-contain",a),t[4]=a,t[5]=o):o=t[5];let c;return t[6]!==s||t[7]!==i||t[8]!==o?(c=(0,l.jsx)("img",{src:"/verified.gif",alt:"Verified",width:i,height:i,className:o,...s}),t[6]=s,t[7]=i,t[8]=o,t[9]=c):c=t[9],c},fo=e=>{const t=(0,Ne.c)(10);let s,r,n;t[0]!==e?({size:r,className:n,...s}=e,t[0]=e,t[1]=s,t[2]=r,t[3]=n):(s=t[1],r=t[2],n=t[3]);const i=r===void 0?24:r,a=n===void 0?"":n;let o;t[4]!==a?(o=Q("object-contain",a),t[4]=a,t[5]=o):o=t[5];let c;return t[6]!==s||t[7]!==i||t[8]!==o?(c=(0,l.jsx)("img",{src:"/admin.gif",alt:"Admin",width:i,height:i,className:o,...s}),t[6]=s,t[7]=i,t[8]=o,t[9]=c):c=t[9],c},mo=e=>{const t=(0,Ne.c)(10);let s,r,n;t[0]!==e?({size:r,className:n,...s}=e,t[0]=e,t[1]=s,t[2]=r,t[3]=n):(s=t[1],r=t[2],n=t[3]);const i=r===void 0?24:r,a=n===void 0?"":n;let o;t[4]!==a?(o=Q("object-contain",a),t[4]=a,t[5]=o):o=t[5];let c;return t[6]!==s||t[7]!==i||t[8]!==o?(c=(0,l.jsx)("img",{src:"https://media.tenor.com/Ib_8vbFkAXsAAAAm/verifiedwhite.webp",alt:"Pro",width:i,height:i,className:o,...s}),t[6]=s,t[7]=i,t[8]=o,t[9]=c):c=t[9],c},vv=e=>{const t=(0,Ne.c)(9);let s,r,n;t[0]!==e?({size:r,className:n,...s}=e,t[0]=e,t[1]=s,t[2]=r,t[3]=n):(s=t[1],r=t[2],n=t[3]);const i=r===void 0?24:r,a=n===void 0?"":n;let o;t[4]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsx)("path",{d:"M12 8.00012L4 16.0001V20.0001L8 20.0001L16 12.0001M12 8.00012L14.8686 5.13146L14.8704 5.12976C15.2652 4.73488 15.463 4.53709 15.691 4.46301C15.8919 4.39775 16.1082 4.39775 16.3091 4.46301C16.5369 4.53704 16.7345 4.7346 17.1288 5.12892L18.8686 6.86872C19.2646 7.26474 19.4627 7.46284 19.5369 7.69117C19.6022 7.89201 19.6021 8.10835 19.5369 8.3092C19.4628 8.53736 19.265 8.73516 18.8695 9.13061L18.8686 9.13146L16 12.0001M12 8.00012L16 12.0001",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t[4]=o):o=t[4];let c;return t[5]!==a||t[6]!==s||t[7]!==i?(c=(0,l.jsx)("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a,...s,children:o}),t[5]=a,t[6]=s,t[7]=i,t[8]=c):c=t[8],c},yv=e=>{const t=(0,Ne.c)(9);let s,r,n;t[0]!==e?({size:r,className:n,...s}=e,t[0]=e,t[1]=s,t[2]=r,t[3]=n):(s=t[1],r=t[2],n=t[3]);const i=r===void 0?24:r,a=n===void 0?"":n;let o;t[4]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsx)("path",{d:"M15 19C15 16.7909 12.3137 15 9 15C5.68629 15 3 16.7909 3 19M19 16V13M19 13V10M19 13H16M19 13H22M9 12C6.79086 12 5 10.2091 5 8C5 5.79086 6.79086 4 9 4C11.2091 4 13 5.79086 13 8C13 10.2091 11.2091 12 9 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t[4]=o):o=t[4];let c;return t[5]!==a||t[6]!==s||t[7]!==i?(c=(0,l.jsx)("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a,...s,children:o}),t[5]=a,t[6]=s,t[7]=i,t[8]=c):c=t[8],c},bv=e=>{const t=(0,Ne.c)(9);let s,r,n;t[0]!==e?({size:r,className:n,...s}=e,t[0]=e,t[1]=s,t[2]=r,t[3]=n):(s=t[1],r=t[2],n=t[3]);const i=r===void 0?24:r,a=n===void 0?"":n;let o;t[4]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsx)("path",{d:"M15 19C15 16.7909 12.3137 15 9 15C5.68629 15 3 16.7909 3 19M21 10L17 14L15 12M9 12C6.79086 12 5 10.2091 5 8C5 5.79086 6.79086 4 9 4C11.2091 4 13 5.79086 13 8C13 10.2091 11.2091 12 9 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t[4]=o):o=t[4];let c;return t[5]!==a||t[6]!==s||t[7]!==i?(c=(0,l.jsx)("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a,...s,children:o}),t[5]=a,t[6]=s,t[7]=i,t[8]=c):c=t[8],c},wv=e=>{const t=(0,Ne.c)(10);let s,r,n;t[0]!==e?({size:r,className:n,...s}=e,t[0]=e,t[1]=s,t[2]=r,t[3]=n):(s=t[1],r=t[2],n=t[3]);const i=r===void 0?24:r,a=n===void 0?"":n;let o,c;t[4]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsx)("path",{d:"M5 9.92285C5 14.7747 9.24448 18.7869 11.1232 20.3252C11.3921 20.5454 11.5281 20.6568 11.7287 20.7132C11.8849 20.7572 12.1148 20.7572 12.271 20.7132C12.472 20.6567 12.6071 20.5463 12.877 20.3254C14.7557 18.7871 18.9999 14.7751 18.9999 9.9233C18.9999 8.08718 18.2625 6.32605 16.9497 5.02772C15.637 3.72939 13.8566 3 12.0001 3C10.1436 3 8.36301 3.7295 7.05025 5.02783C5.7375 6.32616 5 8.08674 5 9.92285Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),c=(0,l.jsx)("path",{d:"M10 9C10 10.1046 10.8954 11 12 11C13.1046 11 14 10.1046 14 9C14 7.89543 13.1046 7 12 7C10.8954 7 10 7.89543 10 9Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t[4]=o,t[5]=c):(o=t[4],c=t[5]);let d;return t[6]!==a||t[7]!==s||t[8]!==i?(d=(0,l.jsxs)("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a,...s,children:[o,c]}),t[6]=a,t[7]=s,t[8]=i,t[9]=d):d=t[9],d},_v=e=>{const t=(0,Ne.c)(9);let s,r,n;t[0]!==e?({size:r,className:n,...s}=e,t[0]=e,t[1]=s,t[2]=r,t[3]=n):(s=t[1],r=t[2],n=t[3]);const i=r===void 0?24:r,a=n===void 0?"":n;let o;t[4]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsx)("path",{d:"M10.0002 5H8.2002C7.08009 5 6.51962 5 6.0918 5.21799C5.71547 5.40973 5.40973 5.71547 5.21799 6.0918C5 6.51962 5 7.08009 5 8.2002V15.8002C5 16.9203 5 17.4801 5.21799 17.9079C5.40973 18.2842 5.71547 18.5905 6.0918 18.7822C6.5192 19 7.07899 19 8.19691 19H15.8031C16.921 19 17.48 19 17.9074 18.7822C18.2837 18.5905 18.5905 18.2839 18.7822 17.9076C19 17.4802 19 16.921 19 15.8031V14M20 9V4M20 4H15M20 4L13 11",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t[4]=o):o=t[4];let c;return t[5]!==a||t[6]!==s||t[7]!==i?(c=(0,l.jsx)("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a,...s,children:o}),t[5]=a,t[6]=s,t[7]=i,t[8]=c):c=t[8],c},jv=e=>{const t=(0,Ne.c)(9);let s,r,n;t[0]!==e?({size:r,className:n,...s}=e,t[0]=e,t[1]=s,t[2]=r,t[3]=n):(s=t[1],r=t[2],n=t[3]);const i=r===void 0?24:r,a=n===void 0?"":n;let o;t[4]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsx)("path",{d:"M10.3078 13.6923L15.1539 8.84619M20.1113 5.88867L16.0207 19.1833C15.6541 20.3747 15.4706 20.9707 15.1544 21.1683C14.8802 21.3396 14.5406 21.3683 14.2419 21.2443C13.8975 21.1014 13.618 20.5433 13.0603 19.428L10.4694 14.2461C10.3809 14.0691 10.3366 13.981 10.2775 13.9043C10.225 13.8363 10.1645 13.7749 10.0965 13.7225C10.0215 13.6647 9.93486 13.6214 9.76577 13.5369L4.57192 10.9399C3.45662 10.3823 2.89892 10.1032 2.75601 9.75879C2.63207 9.4601 2.66033 9.12023 2.83169 8.84597C3.02928 8.52974 3.62523 8.34603 4.81704 7.97932L18.1116 3.88867C19.0486 3.60038 19.5173 3.45635 19.8337 3.57253C20.1094 3.67373 20.3267 3.89084 20.4279 4.16651C20.544 4.48283 20.3999 4.95126 20.1119 5.88729L20.1113 5.88867Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t[4]=o):o=t[4];let c;return t[5]!==a||t[6]!==s||t[7]!==i?(c=(0,l.jsx)("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a,...s,children:o}),t[5]=a,t[6]=s,t[7]=i,t[8]=c):c=t[8],c},ho=e=>{const t=(0,Ne.c)(9);let s,r,n;t[0]!==e?({size:r,className:n,...s}=e,t[0]=e,t[1]=s,t[2]=r,t[3]=n):(s=t[1],r=t[2],n=t[3]);const i=r===void 0?24:r,a=n===void 0?"":n;let o;t[4]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsx)("path",{d:"M4 11.4522V16.8002C4 17.9203 4 18.4807 4.21799 18.9086C4.40973 19.2849 4.71547 19.5906 5.0918 19.7823C5.5192 20.0001 6.07899 20.0001 7.19691 20.0001H16.8031C17.921 20.0001 18.48 20.0001 18.9074 19.7823C19.2837 19.5906 19.5905 19.2849 19.7822 18.9086C20 18.4811 20 17.9216 20 16.8037V11.4522C20 10.9179 19.9995 10.6506 19.9346 10.4019C19.877 10.1816 19.7825 9.97307 19.6546 9.78464C19.5102 9.57201 19.3096 9.39569 18.9074 9.04383L14.1074 4.84383C13.3608 4.19054 12.9875 3.86406 12.5674 3.73982C12.1972 3.63035 11.8026 3.63035 11.4324 3.73982C11.0126 3.86397 10.6398 4.19014 9.89436 4.84244L5.09277 9.04383C4.69064 9.39569 4.49004 9.57201 4.3457 9.78464C4.21779 9.97307 4.12255 10.1816 4.06497 10.4019C4 10.6506 4 10.9179 4 11.4522Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t[4]=o):o=t[4];let c;return t[5]!==a||t[6]!==s||t[7]!==i?(c=(0,l.jsx)("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a,...s,children:o}),t[5]=a,t[6]=s,t[7]=i,t[8]=c):c=t[8],c},po=e=>{const t=(0,Ne.c)(9);let s,r,n;t[0]!==e?({size:r,className:n,...s}=e,t[0]=e,t[1]=s,t[2]=r,t[3]=n):(s=t[1],r=t[2],n=t[3]);const i=r===void 0?24:r,a=n===void 0?"":n;let o;t[4]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsx)("path",{d:"M5.59961 19.9203L7.12357 18.7012L7.13478 18.6926C7.45249 18.4384 7.61281 18.3101 7.79168 18.2188C7.95216 18.1368 8.12328 18.0771 8.2998 18.0408C8.49877 18 8.70603 18 9.12207 18H17.8031C18.921 18 19.4806 18 19.908 17.7822C20.2843 17.5905 20.5905 17.2842 20.7822 16.9079C21 16.4805 21 15.9215 21 14.8036V7.19691C21 6.07899 21 5.5192 20.7822 5.0918C20.5905 4.71547 20.2837 4.40973 19.9074 4.21799C19.4796 4 18.9203 4 17.8002 4H6.2002C5.08009 4 4.51962 4 4.0918 4.21799C3.71547 4.40973 3.40973 4.71547 3.21799 5.0918C3 5.51962 3 6.08009 3 7.2002V18.6712C3 19.7369 3 20.2696 3.21846 20.5433C3.40845 20.7813 3.69644 20.9198 4.00098 20.9195C4.35115 20.9191 4.76744 20.5861 5.59961 19.9203Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t[4]=o):o=t[4];let c;return t[5]!==a||t[6]!==s||t[7]!==i?(c=(0,l.jsx)("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a,...s,children:o}),t[5]=a,t[6]=s,t[7]=i,t[8]=c):c=t[8],c},go=e=>{const t=(0,Ne.c)(9);let s,r,n;t[0]!==e?({size:r,className:n,...s}=e,t[0]=e,t[1]=s,t[2]=r,t[3]=n):(s=t[1],r=t[2],n=t[3]);const i=r===void 0?24:r,a=n===void 0?"":n;let o;t[4]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsx)("path",{d:"M6.89761 18.1618C8.28247 19.3099 10.0607 20 12.0001 20C16.4184 20 20.0001 16.4183 20.0001 12C20.0001 11.431 19.9407 10.8758 19.8278 10.3404M6.89761 18.1618C5.12756 16.6944 4.00014 14.4789 4.00014 12C4.00014 7.58172 7.58186 4 12.0001 4C15.8494 4 19.0637 6.71853 19.8278 10.3404M6.89761 18.1618C8.85314 17.7147 11.1796 16.7828 13.526 15.4281C16.2564 13.8517 18.4773 12.0125 19.8278 10.3404M6.89761 18.1618C4.46844 18.7171 2.61159 18.5243 1.99965 17.4644C1.36934 16.3726 2.19631 14.5969 3.99999 12.709M19.8278 10.3404C21.0796 8.79041 21.5836 7.38405 21.0522 6.46374C20.5134 5.53051 19.0095 5.26939 16.9997 5.59929",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t[4]=o):o=t[4];let c;return t[5]!==a||t[6]!==s||t[7]!==i?(c=(0,l.jsx)("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a,...s,children:o}),t[5]=a,t[6]=s,t[7]=i,t[8]=c):c=t[8],c},xo=e=>{const t=(0,Ne.c)(10);let s,r,n;t[0]!==e?({size:r,className:n,...s}=e,t[0]=e,t[1]=s,t[2]=r,t[3]=n):(s=t[1],r=t[2],n=t[3]);const i=r===void 0?24:r,a=n===void 0?"":n;let o,c;t[4]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsx)("path",{d:"M3 12C3 16.9706 7.02944 21 12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),c=(0,l.jsx)("path",{d:"M10 15V9L15 12L10 15Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t[4]=o,t[5]=c):(o=t[4],c=t[5]);let d;return t[6]!==a||t[7]!==s||t[8]!==i?(d=(0,l.jsxs)("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a,...s,children:[o,c]}),t[6]=a,t[7]=s,t[8]=i,t[9]=d):d=t[9],d},vo=e=>{const t=(0,Ne.c)(9);let s,r,n;t[0]!==e?({size:r,className:n,...s}=e,t[0]=e,t[1]=s,t[2]=r,t[3]=n):(s=t[1],r=t[2],n=t[3]);const i=r===void 0?24:r,a=n===void 0?"":n;let o;t[4]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsx)("path",{d:"M15 17V18C15 19.6569 13.6569 21 12 21C10.3431 21 9 19.6569 9 18V17M15 17H9M15 17H18.5905C18.973 17 19.1652 17 19.3201 16.9478C19.616 16.848 19.8475 16.6156 19.9473 16.3198C19.9997 16.1643 19.9997 15.9715 19.9997 15.5859C19.9997 15.4172 19.9995 15.3329 19.9863 15.2524C19.9614 15.1004 19.9024 14.9563 19.8126 14.8312C19.7651 14.7651 19.7047 14.7048 19.5858 14.5858L19.1963 14.1963C19.0706 14.0706 19 13.9001 19 13.7224V10C19 6.134 15.866 2.99999 12 3C8.13401 3.00001 5 6.13401 5 10V13.7224C5 13.9002 4.92924 14.0706 4.80357 14.1963L4.41406 14.5858C4.29477 14.7051 4.23504 14.765 4.1875 14.8312C4.09766 14.9564 4.03815 15.1004 4.0132 15.2524C4 15.3329 4 15.4172 4 15.586C4 15.9715 4 16.1642 4.05245 16.3197C4.15225 16.6156 4.3848 16.848 4.68066 16.9478C4.83556 17 5.02701 17 5.40956 17H9M18.0186 2.01367C19.3978 3.05299 20.4843 4.43177 21.1724 6.01574M5.98197 2.01367C4.60275 3.05299 3.5162 4.43177 2.82812 6.01574",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t[4]=o):o=t[4];let c;return t[5]!==a||t[6]!==s||t[7]!==i?(c=(0,l.jsx)("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a,...s,children:o}),t[5]=a,t[6]=s,t[7]=i,t[8]=c):c=t[8],c},kv=e=>{const t=(0,Ne.c)(9);let s,r,n;t[0]!==e?({size:r,className:n,...s}=e,t[0]=e,t[1]=s,t[2]=r,t[3]=n):(s=t[1],r=t[2],n=t[3]);const i=r===void 0?24:r,a=n===void 0?"":n;let o;t[4]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsx)("path",{d:"M3.00005 18.0001C3 17.9355 3 17.8689 3 17.8002V6.2002C3 5.08009 3 4.51962 3.21799 4.0918C3.40973 3.71547 3.71547 3.40973 4.0918 3.21799C4.51962 3 5.08009 3 6.2002 3H17.8002C18.9203 3 19.4801 3 19.9079 3.21799C20.2842 3.40973 20.5905 3.71547 20.7822 4.0918C21 4.5192 21 5.07899 21 6.19691V17.8031C21 18.2881 21 18.6679 20.9822 18.9774M3.00005 18.0001C3.00082 18.9884 3.01337 19.5058 3.21799 19.9074C3.40973 20.2837 3.71547 20.5905 4.0918 20.7822C4.5192 21 5.07899 21 6.19691 21H17.8036C18.9215 21 19.4805 21 19.9079 20.7822C20.2842 20.5905 20.5905 20.2837 20.7822 19.9074C20.9055 19.6654 20.959 19.3813 20.9822 18.9774M3.00005 18.0001L7.76798 12.4375L7.76939 12.436C8.19227 11.9426 8.40406 11.6955 8.65527 11.6064C8.87594 11.5282 9.11686 11.53 9.33643 11.6113C9.58664 11.704 9.79506 11.9539 10.2119 12.4541L12.8831 15.6595C13.269 16.1226 13.463 16.3554 13.6986 16.4489C13.9065 16.5313 14.1357 16.5406 14.3501 16.4773C14.5942 16.4053 14.8091 16.1904 15.2388 15.7607L15.7358 15.2637C16.1733 14.8262 16.3921 14.6076 16.6397 14.5361C16.8571 14.4734 17.0896 14.4869 17.2988 14.5732C17.537 14.6716 17.7302 14.9124 18.1167 15.3955L20.9822 18.9774M20.9822 18.9774L21 18.9996M15 9C14.4477 9 14 8.55228 14 8C14 7.44772 14.4477 7 15 7C15.5523 7 16 7.44772 16 8C16 8.55228 15.5523 9 15 9Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t[4]=o):o=t[4];let c;return t[5]!==a||t[6]!==s||t[7]!==i?(c=(0,l.jsx)("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a,...s,children:o}),t[5]=a,t[6]=s,t[7]=i,t[8]=c):c=t[8],c};var m1=U(),h1=e=>{const t=(0,m1.c)(36),{profile:s,onUserClick:r,isCommunity:n}=e,i=n===void 0?!1:n,a=s.handle??"",o=s.name||a||"Unknown",c=i?`${s.membersCount??s.member_count??0} members`:`@${a}`;let d;t[0]!==a||t[1]!==r?(d=()=>a&&r?.(a),t[0]=a,t[1]=r,t[2]=d):d=t[2];const u=s.avatar??void 0;let f;t[3]!==u||t[4]!==o?(f=(0,l.jsx)(Ge,{src:u,alt:o}),t[3]=u,t[4]=o,t[5]=f):f=t[5];let p;t[6]!==o?(p=o.charAt(0).toUpperCase(),t[6]=o,t[7]=p):p=t[7];let m;t[8]!==p?(m=(0,l.jsx)(Je,{children:p}),t[8]=p,t[9]=m):m=t[9];let h;t[10]!==f||t[11]!==m?(h=(0,l.jsxs)(Ue,{className:"size-11 shrink-0",children:[f,m]}),t[10]=f,t[11]=m,t[12]=h):h=t[12];let g;t[13]!==o?(g=(0,l.jsx)("p",{className:"truncate text-sm font-semibold text-zinc-900 dark:text-zinc-100",children:o}),t[13]=o,t[14]=g):g=t[14];let v;t[15]!==s.role?(v=s.role==="admin"&&(0,l.jsx)(fo,{size:24}),t[15]=s.role,t[16]=v):v=t[16];let y;t[17]!==s.isPro||t[18]!==s.verified?(y=s.verified?(0,l.jsx)(uo,{size:16}):s.isPro&&(0,l.jsx)(mo,{size:16}),t[17]=s.isPro,t[18]=s.verified,t[19]=y):y=t[19];let b;t[20]!==y||t[21]!==g||t[22]!==v?(b=(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[g,v,y]}),t[20]=y,t[21]=g,t[22]=v,t[23]=b):b=t[23];let w;t[24]!==c?(w=(0,l.jsx)("p",{className:"truncate text-xs text-zinc-500 dark:text-zinc-400",children:c}),t[24]=c,t[25]=w):w=t[25];let k;t[26]!==s.bio?(k=s.bio?(0,l.jsx)("p",{className:"mt-1 line-clamp-2 text-xs text-zinc-600 dark:text-zinc-300",children:s.bio}):null,t[26]=s.bio,t[27]=k):k=t[27];let j;t[28]!==b||t[29]!==w||t[30]!==k?(j=(0,l.jsxs)("div",{className:"min-w-0 flex-1",children:[b,w,k]}),t[28]=b,t[29]=w,t[30]=k,t[31]=j):j=t[31];let _;return t[32]!==j||t[33]!==d||t[34]!==h?(_=(0,l.jsxs)("button",{type:"button",onClick:d,className:"flex w-full items-start gap-3 p-4 text-left transition-colors hover:bg-zinc-50 dark:hover:bg-zinc-900/40",children:[h,j]}),t[32]=j,t[33]=d,t[34]=h,t[35]=_):_=t[35],_},Sv=h1,yo=U(),p1=x.forwardRef((e,t)=>{const s=(0,yo.c)(15);let r,n,i;s[0]!==e?({className:n,children:r,...i}=e,s[0]=e,s[1]=r,s[2]=n,s[3]=i):(r=s[1],n=s[2],i=s[3]);let a;s[4]!==n?(a=Q("relative overflow-hidden",n),s[4]=n,s[5]=a):a=s[5];let o;s[6]!==r?(o=(0,l.jsx)(al,{className:"h-full w-full rounded-[inherit]",children:r}),s[6]=r,s[7]=o):o=s[7];let c,d;s[8]===Symbol.for("react.memo_cache_sentinel")?(c=(0,l.jsx)(bo,{}),d=(0,l.jsx)(nl,{}),s[8]=c,s[9]=d):(c=s[8],d=s[9]);let u;return s[10]!==i||s[11]!==t||s[12]!==a||s[13]!==o?(u=(0,l.jsxs)(Ui,{ref:t,className:a,...i,children:[o,c,d]}),s[10]=i,s[11]=t,s[12]=a,s[13]=o,s[14]=u):u=s[14],u});p1.displayName=Ui.displayName;var bo=x.forwardRef((e,t)=>{const s=(0,yo.c)(14);let r,n,i;s[0]!==e?({className:r,orientation:i,...n}=e,s[0]=e,s[1]=r,s[2]=n,s[3]=i):(r=s[1],n=s[2],i=s[3]);const a=i===void 0?"vertical":i,o=a==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",c=a==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]";let d;s[4]!==r||s[5]!==o||s[6]!==c?(d=Q("flex touch-none select-none transition-colors",o,c,r),s[4]=r,s[5]=o,s[6]=c,s[7]=d):d=s[7];let u;s[8]===Symbol.for("react.memo_cache_sentinel")?(u=(0,l.jsx)(ol,{className:"relative flex-1 rounded-full bg-zinc-200 dark:bg-zinc-800"}),s[8]=u):u=s[8];let f;return s[9]!==a||s[10]!==n||s[11]!==t||s[12]!==d?(f=(0,l.jsx)(gi,{ref:t,orientation:a,className:d,...n,children:u}),s[9]=a,s[10]=n,s[11]=t,s[12]=d,s[13]=f):f=s[13],f});bo.displayName=gi.displayName;var g1=U(),x1=e=>{const t=(0,g1.c)(15),{value:s,onChange:r,onClear:n,onKeyDown:i,placeholder:a,className:o}=e,c=a===void 0?"Search...":a,d=`relative group w-full ${o===void 0?"":o}`;let u;t[0]===Symbol.for("react.memo_cache_sentinel")?(u=(0,l.jsx)(hr,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-zinc-400 group-focus-within:text-violet-500 transition-colors"}),t[0]=u):u=t[0];let f;t[1]!==r?(f=g=>r(g.target.value),t[1]=r,t[2]=f):f=t[2];let p;t[3]!==i||t[4]!==c||t[5]!==f||t[6]!==s?(p=(0,l.jsx)("input",{"data-search-input":"true",className:"w-full rounded-full border-none bg-zinc-100 dark:bg-zinc-900/50 text-black dark:text-white px-11 py-2.5 text-sm outline-none focus:border-violet-500 focus:ring-1 focus:ring-violet-500 transition-all shadow-sm",placeholder:c,value:s,onChange:f,onKeyDown:i}),t[3]=i,t[4]=c,t[5]=f,t[6]=s,t[7]=p):p=t[7];let m;t[8]!==n||t[9]!==s?(m=s&&(0,l.jsx)("button",{onClick:n,className:"absolute right-4 top-1/2 -translate-y-1/2 text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-200 transition-colors",children:(0,l.jsx)(Ut,{size:16})}),t[8]=n,t[9]=s,t[10]=m):m=t[10];let h;return t[11]!==d||t[12]!==p||t[13]!==m?(h=(0,l.jsxs)("div",{className:d,children:[u,p,m]}),t[11]=d,t[12]=p,t[13]=m,t[14]=h):h=t[14],h},Tn=x1,$t=U(),Cv=zl;var Nv=Yl,v1=x.forwardRef((e,t)=>{const s=(0,$t.c)(12);let r,n,i;s[0]!==e?({className:n,children:r,...i}=e,s[0]=e,s[1]=r,s[2]=n,s[3]=i):(r=s[1],n=s[2],i=s[3]);let a;s[4]!==n?(a=Q("flex h-9 w-full items-center justify-between rounded-md border border-zinc-200 bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-white placeholder:text-zinc-500 focus:outline-none focus:ring-1 focus:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 dark:border-zinc-800 dark:ring-offset-zinc-950 dark:focus:ring-zinc-300 [&>span]:line-clamp-1",n),s[4]=n,s[5]=a):a=s[5];let o;s[6]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsx)(Wl,{asChild:!0,children:(0,l.jsx)(Fi,{className:"h-4 w-4 opacity-50"})}),s[6]=o):o=s[6];let c;return s[7]!==r||s[8]!==i||s[9]!==t||s[10]!==a?(c=(0,l.jsxs)(ki,{ref:t,className:a,...i,children:[r,o]}),s[7]=r,s[8]=i,s[9]=t,s[10]=a,s[11]=c):c=s[11],c});v1.displayName=ki.displayName;var wo=x.forwardRef((e,t)=>{const s=(0,$t.c)(10);let r,n;s[0]!==e?({className:r,...n}=e,s[0]=e,s[1]=r,s[2]=n):(r=s[1],n=s[2]);let i;s[3]!==r?(i=Q("flex cursor-default items-center justify-center py-1",r),s[3]=r,s[4]=i):i=s[4];let a;s[5]===Symbol.for("react.memo_cache_sentinel")?(a=(0,l.jsx)(Kl,{className:"h-4 w-4"}),s[5]=a):a=s[5];let o;return s[6]!==n||s[7]!==t||s[8]!==i?(o=(0,l.jsx)(Qi,{ref:t,className:i,...n,children:a}),s[6]=n,s[7]=t,s[8]=i,s[9]=o):o=s[9],o});wo.displayName=Qi.displayName;var _o=x.forwardRef((e,t)=>{const s=(0,$t.c)(10);let r,n;s[0]!==e?({className:r,...n}=e,s[0]=e,s[1]=r,s[2]=n):(r=s[1],n=s[2]);let i;s[3]!==r?(i=Q("flex cursor-default items-center justify-center py-1",r),s[3]=r,s[4]=i):i=s[4];let a;s[5]===Symbol.for("react.memo_cache_sentinel")?(a=(0,l.jsx)(Fi,{className:"h-4 w-4"}),s[5]=a):a=s[5];let o;return s[6]!==n||s[7]!==t||s[8]!==i?(o=(0,l.jsx)(_i,{ref:t,className:i,...n,children:a}),s[6]=n,s[7]=t,s[8]=i,s[9]=o):o=s[9],o});_o.displayName=_i.displayName;var y1=x.forwardRef((e,t)=>{const s=(0,$t.c)(21);let r,n,i,a;s[0]!==e?({className:n,children:r,position:a,...i}=e,s[0]=e,s[1]=r,s[2]=n,s[3]=i,s[4]=a):(r=s[1],n=s[2],i=s[3],a=s[4]);const o=a===void 0?"popper":a,c=o==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1";let d;s[5]!==n||s[6]!==c?(d=Q("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-zinc-200 bg-white text-zinc-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50",c,n),s[5]=n,s[6]=c,s[7]=d):d=s[7];let u;s[8]===Symbol.for("react.memo_cache_sentinel")?(u=(0,l.jsx)(wo,{}),s[8]=u):u=s[8];const f=o==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]";let p;s[9]!==f?(p=Q("p-1",f),s[9]=f,s[10]=p):p=s[10];let m;s[11]!==r||s[12]!==p?(m=(0,l.jsx)(xl,{className:p,children:r}),s[11]=r,s[12]=p,s[13]=m):m=s[13];let h;s[14]===Symbol.for("react.memo_cache_sentinel")?(h=(0,l.jsx)(_o,{}),s[14]=h):h=s[14];let g;return s[15]!==o||s[16]!==i||s[17]!==t||s[18]!==d||s[19]!==m?(g=(0,l.jsx)(Ml,{children:(0,l.jsxs)(Ci,{ref:t,className:d,position:o,...i,children:[u,m,h]})}),s[15]=o,s[16]=i,s[17]=t,s[18]=d,s[19]=m,s[20]=g):g=s[20],g});y1.displayName=Ci.displayName;var b1=x.forwardRef((e,t)=>{const s=(0,$t.c)(9);let r,n;s[0]!==e?({className:r,...n}=e,s[0]=e,s[1]=r,s[2]=n):(r=s[1],n=s[2]);let i;s[3]!==r?(i=Q("px-2 py-1.5 text-sm font-semibold",r),s[3]=r,s[4]=i):i=s[4];let a;return s[5]!==n||s[6]!==t||s[7]!==i?(a=(0,l.jsx)(Di,{ref:t,className:i,...n}),s[5]=n,s[6]=t,s[7]=i,s[8]=a):a=s[8],a});b1.displayName=Di.displayName;var w1=x.forwardRef((e,t)=>{const s=(0,$t.c)(14);let r,n,i;s[0]!==e?({className:n,children:r,...i}=e,s[0]=e,s[1]=r,s[2]=n,s[3]=i):(r=s[1],n=s[2],i=s[3]);let a;s[4]!==n?(a=Q("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-zinc-100 focus:text-zinc-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-zinc-800 dark:focus:text-zinc-50",n),s[4]=n,s[5]=a):a=s[5];let o;s[6]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,l.jsx)($l,{children:(0,l.jsx)(yr,{className:"h-4 w-4"})})}),s[6]=o):o=s[6];let c;s[7]!==r?(c=(0,l.jsx)(Bl,{children:r}),s[7]=r,s[8]=c):c=s[8];let d;return s[9]!==i||s[10]!==t||s[11]!==a||s[12]!==c?(d=(0,l.jsxs)(Ni,{ref:t,className:a,...i,children:[o,c]}),s[9]=i,s[10]=t,s[11]=a,s[12]=c,s[13]=d):d=s[13],d});w1.displayName=Ni.displayName;var _1=x.forwardRef((e,t)=>{const s=(0,$t.c)(9);let r,n;s[0]!==e?({className:r,...n}=e,s[0]=e,s[1]=r,s[2]=n):(r=s[1],n=s[2]);let i;s[3]!==r?(i=Q("-mx-1 my-1 h-px bg-zinc-100 dark:bg-zinc-800",r),s[3]=r,s[4]=i):i=s[4];let a;return s[5]!==n||s[6]!==t||s[7]!==i?(a=(0,l.jsx)(Ji,{ref:t,className:i,...n}),s[5]=n,s[6]=t,s[7]=i,s[8]=a):a=s[8],a});_1.displayName=Ji.displayName;var j1=U(),k1=e=>{const t=(0,j1.c)(9),{className:s}=e,r=Ce();let n;t[0]!==s?(n=Q("bg-[--card] border border-[--border] rounded-2xl p-8 flex flex-col items-center text-center gap-4 shadow-sm",s),t[0]=s,t[1]=n):n=t[1];let i,a;t[2]===Symbol.for("react.memo_cache_sentinel")?(i=(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("div",{className:"size-16 animate-spin rounded-full border-4 border-t-transparent border-amber-400 duration-[3000ms]"}),(0,l.jsx)("span",{className:"absolute inset-0 flex items-center justify-center text-2xl",children:""})]}),a=(0,l.jsx)("h2",{className:"mt-2 text-lg font-extrabold leading-tight text-[--foreground]",children:"Get your MySys account now!"}),t[2]=i,t[3]=a):(i=t[2],a=t[3]);let o;t[4]!==r?(o=(0,l.jsxs)("div",{className:"flex w-full flex-col gap-2",children:[(0,l.jsx)("button",{onClick:()=>r("/register"),className:"w-full cursor-pointer rounded-full bg-zinc-950 py-2.5 text-sm font-black uppercase tracking-wider text-white shadow-lg transition-all hover:opacity-90 active:scale-95 dark:bg-white dark:text-zinc-950",children:"Signup now"}),(0,l.jsx)("button",{onClick:()=>r("/login"),className:"w-full cursor-pointer rounded-full border border-zinc-200 bg-white py-2.5 text-sm font-black uppercase tracking-wider text-zinc-900 shadow-sm transition-all hover:bg-zinc-50 active:scale-95 dark:border-zinc-700 dark:bg-zinc-900 dark:text-white dark:hover:bg-zinc-800",children:"Login"})]}),t[4]=r,t[5]=o):o=t[5];let c;return t[6]!==n||t[7]!==o?(c=(0,l.jsxs)("div",{className:n,children:[i,a,o]}),t[6]=n,t[7]=o,t[8]=c):c=t[8],c},S1=k1,C1=U();function le(e){const t=(0,C1.c)(9);let s,r;t[0]!==e?({className:s,...r}=e,t[0]=e,t[1]=s,t[2]=r):(s=t[1],r=t[2]);let n;t[3]!==s?(n=Q("relative overflow-hidden rounded-md bg-zinc-100 dark:bg-zinc-800",s),t[3]=s,t[4]=n):n=t[4];let i;t[5]===Symbol.for("react.memo_cache_sentinel")?(i=(0,l.jsx)("div",{className:"absolute inset-0 -translate-x-full animate-shimmer bg-gradient-to-r from-transparent via-white/50 to-transparent dark:via-zinc-700/30"}),t[5]=i):i=t[5];let a;return t[6]!==r||t[7]!==n?(a=(0,l.jsx)("div",{className:n,...r,children:i}),t[6]=r,t[7]=n,t[8]=a):a=t[8],a}var N1=U();function Pv(){const e=(0,N1.c)(5);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,l.jsx)(le,{className:"size-10 rounded-full"}),e[0]=t):t=e[0];let s;e[1]===Symbol.for("react.memo_cache_sentinel")?(s=(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,l.jsx)(le,{className:"h-4 w-24 rounded-sm"}),(0,l.jsx)(le,{className:"h-4 w-12 rounded-sm"})]}),(0,l.jsx)(le,{className:"h-4 w-4 rounded-full"})]}),e[1]=s):s=e[1];let r,n;e[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)(le,{className:"h-4 w-full rounded-sm"}),(0,l.jsx)(le,{className:"h-4 w-[90%] rounded-sm"})]}),n=(0,l.jsx)(le,{className:"mt-2 h-64 w-full rounded-xl"}),e[2]=r,e[3]=n):(r=e[2],n=e[3]);let i;return e[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,l.jsxs)("div",{className:"flex items-start gap-x-3 border-b border-zinc-100 px-4 py-4 dark:border-zinc-800",children:[t,(0,l.jsxs)("div",{className:"flex-1 space-y-2",children:[s,r,n,(0,l.jsxs)("div",{className:"mt-3 flex items-center gap-6",children:[(0,l.jsx)(le,{className:"size-5 rounded-full"}),(0,l.jsx)(le,{className:"size-5 rounded-full"}),(0,l.jsx)(le,{className:"size-5 rounded-full"}),(0,l.jsx)(le,{className:"size-5 rounded-full"})]})]})]}),e[4]=i):i=e[4],i}var P1=U();function $1(){const e=(0,P1.c)(2);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,l.jsx)(le,{className:"size-12 rounded-full"}),e[0]=t):t=e[0];let s;return e[1]===Symbol.for("react.memo_cache_sentinel")?(s=(0,l.jsxs)("div",{className:"flex items-center justify-between border-b border-zinc-100 p-4 dark:border-zinc-800",children:[(0,l.jsxs)("div",{className:"flex flex-1 items-center gap-3",children:[t,(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(le,{className:"h-4 w-32 rounded"}),(0,l.jsx)(le,{className:"h-3 w-24 rounded"})]})]}),(0,l.jsx)(le,{className:"h-9 w-24 rounded-full"})]}),e[1]=s):s=e[1],s}var E1=U();function $v(){const e=(0,E1.c)(2);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(le,{className:"h-12 w-12 rounded-full"}),(0,l.jsx)(le,{className:"absolute -bottom-1 -right-1 h-5 w-5 rounded-full ring-2 ring-white dark:ring-black"})]}),e[0]=t):t=e[0];let s;return e[1]===Symbol.for("react.memo_cache_sentinel")?(s=(0,l.jsxs)("div",{className:"flex items-center gap-4 p-4",children:[t,(0,l.jsxs)("div",{className:"flex-1 space-y-1.5",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)(le,{className:"h-4 w-3/4 rounded-sm"}),(0,l.jsx)(le,{className:"h-3 w-12 rounded-sm"})]}),(0,l.jsx)(le,{className:"h-3 w-1/2 rounded-sm"})]})]}),e[1]=s):s=e[1],s}var z1=U();function Ev(){const e=(0,z1.c)(2);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,l.jsxs)("div",{className:"absolute right-4 bottom-20 flex flex-col gap-4 items-center",children:[(0,l.jsx)(le,{className:"h-10 w-10 rounded-full"}),(0,l.jsx)(le,{className:"h-10 w-10 rounded-full"}),(0,l.jsx)(le,{className:"h-10 w-10 rounded-full"}),(0,l.jsx)(le,{className:"h-10 w-10 rounded-full"})]}),e[0]=t):t=e[0];let s;return e[1]===Symbol.for("react.memo_cache_sentinel")?(s=(0,l.jsxs)("div",{className:"relative h-[100dvh] w-full bg-black border-zinc-800 md:rounded-xl md:border overflow-hidden",children:[t,(0,l.jsxs)("div",{className:"absolute bottom-4 left-4 right-16 space-y-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(le,{className:"h-8 w-8 rounded-full"}),(0,l.jsx)(le,{className:"h-4 w-24 rounded"})]}),(0,l.jsx)(le,{className:"h-4 w-3/4 rounded"}),(0,l.jsx)(le,{className:"h-4 w-1/2 rounded"})]})]}),e[1]=s):s=e[1],s}var M1=U();function zv(){const e=(0,M1.c)(2);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,l.jsx)(le,{className:"size-8 rounded-full"}),e[0]=t):t=e[0];let s;return e[1]===Symbol.for("react.memo_cache_sentinel")?(s=(0,l.jsxs)("div",{className:"flex gap-3 px-4 py-2",children:[t,(0,l.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(le,{className:"h-4 w-24 rounded"}),(0,l.jsx)(le,{className:"h-3 w-12 rounded"})]}),(0,l.jsx)(le,{className:"h-3 w-full rounded"}),(0,l.jsx)(le,{className:"h-3 w-3/4 rounded"})]})]}),e[1]=s):s=e[1],s}var Rr=U(),A1=Vl,jo=x.forwardRef((e,t)=>{const s=(0,Rr.c)(9);let r,n;s[0]!==e?({className:r,...n}=e,s[0]=e,s[1]=r,s[2]=n):(r=s[1],n=s[2]);let i;s[3]!==r?(i=Q("inline-flex h-10 items-center justify-center rounded-md text-zinc-500 dark:text-zinc-400",r),s[3]=r,s[4]=i):i=s[4];let a;return s[5]!==n||s[6]!==t||s[7]!==i?(a=(0,l.jsx)(ji,{ref:t,className:i,...n}),s[5]=n,s[6]=t,s[7]=i,s[8]=a):a=s[8],a});jo.displayName=ji.displayName;var rr=x.forwardRef((e,t)=>{const s=(0,Rr.c)(14);let r,n,i;s[0]!==e?({className:n,children:r,...i}=e,s[0]=e,s[1]=r,s[2]=n,s[3]=i):(r=s[1],n=s[2],i=s[3]);let a;s[4]!==n?(a=Q("relative inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:text-zinc-950 dark:ring-offset-zinc-950 dark:focus-visible:ring-zinc-300 dark:data-[state=active]:text-zinc-50 data-[state=active]:shadow-none",n),s[4]=n,s[5]=a):a=s[5];let o;s[6]!==r?(o=(0,l.jsx)("span",{className:"relative z-10",children:r}),s[6]=r,s[7]=o):o=s[7];let c;s[8]===Symbol.for("react.memo_cache_sentinel")?(c=(0,l.jsx)("div",{className:"absolute inset-x-0 -bottom-[1px] h-[2px]",children:(0,l.jsx)(he.div,{layoutId:"activeTabUnderline",className:"h-full w-full bg-zinc-950 dark:bg-zinc-50 hidden data-[active=true]:block",style:{originY:"bottom"},transition:{type:"spring",stiffness:500,damping:35}})}),s[8]=c):c=s[8];let d;return s[9]!==i||s[10]!==t||s[11]!==a||s[12]!==o?(d=(0,l.jsxs)(Vi,{ref:t,className:a,...i,children:[o,c]}),s[9]=i,s[10]=t,s[11]=a,s[12]=o,s[13]=d):d=s[13],d});rr.displayName=Vi.displayName;var nr=x.forwardRef((e,t)=>{const s=(0,Rr.c)(9);let r,n;s[0]!==e?({className:r,...n}=e,s[0]=e,s[1]=r,s[2]=n):(r=s[1],n=s[2]);let i;s[3]!==r?(i=Q("mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 dark:ring-offset-zinc-950 dark:focus-visible:ring-zinc-300",r),s[3]=r,s[4]=i):i=s[4];let a;return s[5]!==n||s[6]!==t||s[7]!==i?(a=(0,l.jsx)(zi,{ref:t,className:i,...n}),s[5]=n,s[6]=t,s[7]=i,s[8]=a):a=s[8],a});nr.displayName=zi.displayName;var L1=U(),R1=x.forwardRef((e,t)=>{const s=(0,L1.c)(9);let r,n;s[0]!==e?({className:r,...n}=e,s[0]=e,s[1]=r,s[2]=n):(r=s[1],n=s[2]);let i;s[3]!==r?(i=Q("flex min-h-[80px] w-full rounded-md border-none bg-zinc-50 px-3 py-2 text-sm ring-offset-white placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-zinc-900 dark:ring-offset-zinc-950 dark:placeholder:text-zinc-400 dark:focus-visible:ring-zinc-300",r),s[3]=r,s[4]=i):i=s[4];let a;return s[5]!==n||s[6]!==t||s[7]!==i?(a=(0,l.jsx)("textarea",{className:i,ref:t,...n}),s[5]=n,s[6]=t,s[7]=i,s[8]=a):a=s[8],a});R1.displayName="Textarea";var D1=U(),T1=e=>{const t=(0,D1.c)(7),{className:s}=e;let r;t[0]!==s?(r=Q("flex items-center gap-1 px-1 py-1.5",s),t[0]=s,t[1]=r):r=t[1];let n,i,a;t[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,l.jsx)("div",{className:"size-1.5 rounded-full bg-zinc-400 dark:bg-zinc-500 animate-dot-pulse"}),i=(0,l.jsx)("div",{className:"size-1.5 rounded-full bg-zinc-400 dark:bg-zinc-500 animate-dot-pulse [animation-delay:0.2s]"}),a=(0,l.jsx)("div",{className:"size-1.5 rounded-full bg-zinc-400 dark:bg-zinc-500 animate-dot-pulse [animation-delay:0.4s]"}),t[2]=n,t[3]=i,t[4]=a):(n=t[2],i=t[3],a=t[4]);let o;return t[5]!==r?(o=(0,l.jsxs)("div",{className:r,children:[n,i,a]}),t[5]=r,t[6]=o):o=t[6],o},Mv=T1,F1=U(),I1=e=>{const t=(0,F1.c)(17);let s,r,n,i;t[0]!==e?({className:s,label:n,hoverLabel:i,...r}=e,t[0]=e,t[1]=s,t[2]=r,t[3]=n,t[4]=i):(s=t[1],r=t[2],n=t[3],i=t[4]);const a=n===void 0?"pro":n,o=i===void 0?"lagbe!":i;let c;t[5]!==s?(c=Q("btn-pro",s),t[5]=s,t[6]=c):c=t[6];let d;t[7]===Symbol.for("react.memo_cache_sentinel")?(d=(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 36",width:"36px",height:"36px",children:[(0,l.jsx)("rect",{width:"36",height:"36",x:"0",y:"0",fill:"#fdd835"}),(0,l.jsx)("path",{fill:"#e53935",d:"M38.67,42H11.52C11.27,40.62,11,38.57,11,36c0-5,0-11,0-11s1.44-7.39,3.22-9.59 c1.67-2.06,2.76-3.48,6.78-4.41c3-0.7,7.13-0.23,9,1c2.15,1.42,3.37,6.67,3.81,11.29c1.49-0.3,5.21,0.2,5.5,1.28 C40.89,30.29,39.48,38.31,38.67,42z"}),(0,l.jsx)("path",{fill:"#b71c1c",d:"M39.02,42H11.99c-0.22-2.67-0.48-7.05-0.49-12.72c0.83,4.18,1.63,9.59,6.98,9.79 c3.48,0.12,8.27,0.55,9.83-2.45c1.57-3,3.72-8.95,3.72-8.95,3.51-15.62c-0.19-5.84-1.75-8.2-2.13-8.7c0.59,0.66,3.74,4.49,4.01,11.7 c0.03,0.83,0.06,1.72,0.08,2.66c4.21-0.15,5.93,1.5,6.07,2.35C40.68,33.85,39.8,38.9,39.02,42z"}),(0,l.jsx)("path",{fill:"#212121",d:"M35,27.17c0,3.67-0.28,11.2-0.42,14.83h-2C32.72,38.42,33,30.83,33,27.17 c0-5.54-1.46-12.65-3.55-14.02c-1.65-1.08-5.49-1.48-8.23-0.85c-3.62,0.83-4.57,1.99-6.14,3.92L15,16.32 c-1.31,1.6-2.59,6.92-3,8.96v10.8c0,2.58,0.28,4.61,0.54,5.92H10.5c-0.25-1.41-0.5-3.42-0.5-5.92l0.02-11.09 c0.15-0.77,1.55-7.63,3.43-9.94l0.08-0.09c1.65-2.03,2.96-3.63,7.25-4.61c3.28-0.76,7.67-0.25,9.77,1.13 C33.79,13.6,35,22.23,35,27.17z"}),(0,l.jsx)("path",{fill:"#01579b",d:"M17.165,17.283c5.217-0.055,9.391,0.283,9,6.011c-0.391,5.728-8.478,5.533-9.391,5.337 c-0.913-0.196-7.826-0.043-7.696-5.337C9.209,18,13.645,17.32,17.165,17.283z"}),(0,l.jsx)("path",{fill:"#212121",d:"M40.739,37.38c-0.28,1.99-0.69,3.53-1.22,4.62h-2.43c0.25-0.19,1.13-1.11,1.67-4.9 c0.57-4-0.23-11.79-0.93-12.78c-0.4-0.4-2.63-0.8-4.37-0.89l0.1-1.99c1.04,0.05,4.53,0.31,5.71,1.49 C40.689,24.36,41.289,33.53,40.739,37.38z"}),(0,l.jsx)("path",{fill:"#81d4fa",d:"M10.154,20.201c0.261,2.059-0.196,3.351,2.543,3.546s8.076,1.022,9.402-0.554 c1.326-1.576,1.75-4.365-0.891-5.267C19.336,17.287,12.959,16.251,10.154,20.201z"}),(0,l.jsx)("path",{fill:"#212121",d:"M17.615,29.677c-0.502,0-0.873-0.03-1.052-0.069c-0.086-0.019-0.236-0.035-0.434-0.06 c-5.344-0.679-8.053-2.784-8.052-6.255c0.001-2.698,1.17-7.238,8.986-7.32l0.181-0.002c3.444-0.038,6.414-0.068,8.272,1.818 c1.173,1.191,1.712,3,1.647,5.53c-0.044,1.688-0.785,3.147-2.144,4.217C22.785,29.296,19.388,29.677,17.615,29.677z M17.086,17.973 c-7.006,0.074-7.008,4.023-7.008,5.321c-0.001,3.109,3.598,3.926,6.305,4.27c0.273,0.035,0.48,0.063,0.601,0.089 c0.563,0.101,4.68,0.035,6.855-1.732c0.865-0.702,1.299-1.57,1.326-2.653c0.051-1.958-0.301-3.291-1.073-4.075 c-1.262-1.281-3.834-1.255-6.825-1.222L17.086,17.973z"}),(0,l.jsx)("path",{fill:"#e1f5fe",d:"M15.078,19.043c1.957-0.326,5.122-0.529,4.435,1.304c-0.489,1.304-7.185,2.185-7.185,0.652 C12.328,19.467,15.078,19.043,15.078,19.043z"})]}),t[7]=d):d=t[7];let u;t[8]!==o?(u=(0,l.jsx)("span",{className:"pro-now",children:o}),t[8]=o,t[9]=u):u=t[9];let f;t[10]!==a?(f=(0,l.jsx)("span",{className:"pro-play",children:a}),t[10]=a,t[11]=f):f=t[11];let p;return t[12]!==r||t[13]!==c||t[14]!==u||t[15]!==f?(p=(0,l.jsxs)("button",{className:c,...r,children:[d,u,f]}),t[12]=r,t[13]=c,t[14]=u,t[15]=f,t[16]=p):p=t[16],p},Av=I1;function q1(e){return Object.prototype.toString.call(e)==="[object Object]"}function Fn(e){return q1(e)||Array.isArray(e)}function O1(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Dr(e,t){const s=Object.keys(e),r=Object.keys(t);return s.length!==r.length||JSON.stringify(Object.keys(e.breakpoints||{}))!==JSON.stringify(Object.keys(t.breakpoints||{}))?!1:s.every(n=>{const i=e[n],a=t[n];return typeof i=="function"?`${i}`==`${a}`:!Fn(i)||!Fn(a)?i===a:Dr(i,a)})}function In(e){return e.concat().sort((t,s)=>t.name>s.name?1:-1).map(t=>t.options)}function V1(e,t){if(e.length!==t.length)return!1;const s=In(e),r=In(t);return s.every((n,i)=>{const a=r[i];return Dr(n,a)})}function Tr(e){return typeof e=="number"}function ir(e){return typeof e=="string"}function Fs(e){return typeof e=="boolean"}function qn(e){return Object.prototype.toString.call(e)==="[object Object]"}function pe(e){return Math.abs(e)}function Fr(e){return Math.sign(e)}function Zt(e,t){return pe(e-t)}function B1(e,t){return e===0||t===0||pe(e)<=pe(t)?0:pe(Zt(pe(e),pe(t))/e)}function H1(e){return Math.round(e*100)/100}function rs(e){return ns(e).map(Number)}function Ye(e){return e[fs(e)]}function fs(e){return Math.max(0,e.length-1)}function Ir(e,t){return t===fs(e)}function On(e,t=0){return Array.from(Array(e),(s,r)=>t+r)}function ns(e){return Object.keys(e)}function ko(e,t){return[e,t].reduce((s,r)=>(ns(r).forEach(n=>{const i=s[n],a=r[n];s[n]=qn(i)&&qn(a)?ko(i,a):a}),s),{})}function ar(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function K1(e,t){const s={start:r,center:n,end:i};function r(){return 0}function n(o){return i(o)/2}function i(o){return t-o}function a(o,c){return ir(e)?s[e](o):e(t,o,c)}return{measure:a}}function is(){let e=[];function t(n,i,a,o={passive:!0}){let c;if("addEventListener"in n)n.addEventListener(i,a,o),c=()=>n.removeEventListener(i,a,o);else{const d=n;d.addListener(a),c=()=>d.removeListener(a)}return e.push(c),r}function s(){e=e.filter(n=>n())}const r={add:t,clear:s};return r}function Q1(e,t,s,r){const n=is(),i=1e3/60;let a=null,o=0,c=0;function d(){n.add(e,"visibilitychange",()=>{e.hidden&&h()})}function u(){m(),n.clear()}function f(g){if(!c)return;a||(a=g,s(),s());const v=g-a;for(a=g,o+=v;o>=i;)s(),o-=i;r(o/i),c&&(c=t.requestAnimationFrame(f))}function p(){c||(c=t.requestAnimationFrame(f))}function m(){t.cancelAnimationFrame(c),a=null,o=0,c=0}function h(){a=null,o=0}return{init:d,destroy:u,start:p,stop:m,update:s,render:r}}function W1(e,t){const s=t==="rtl",r=e==="y",n=r?"y":"x",i=r?"x":"y",a=!r&&s?-1:1,o=u(),c=f();function d(m){const{height:h,width:g}=m;return r?h:g}function u(){return r?"top":s?"right":"left"}function f(){return r?"bottom":s?"left":"right"}function p(m){return m*a}return{scroll:n,cross:i,startEdge:o,endEdge:c,measureSize:d,direction:p}}function Pt(e=0,t=0){const s=pe(e-t);function r(c){return c<e}function n(c){return c>t}function i(c){return r(c)||n(c)}function a(c){return i(c)?r(c)?e:t:c}function o(c){return s?c-s*Math.ceil((c-t)/s):c}return{length:s,max:t,min:e,constrain:a,reachedAny:i,reachedMax:n,reachedMin:r,removeOffset:o}}function So(e,t,s){const{constrain:r}=Pt(0,e),n=e+1;let i=a(t);function a(p){return s?pe((n+p)%n):r(p)}function o(){return i}function c(p){return i=a(p),f}function d(p){return u().set(o()+p)}function u(){return So(e,o(),s)}const f={get:o,set:c,add:d,clone:u};return f}function U1(e,t,s,r,n,i,a,o,c,d,u,f,p,m,h,g,v,y,b){const{cross:w,direction:k}=e,j=["INPUT","SELECT","TEXTAREA"],_={passive:!1},C=is(),S=is(),N=Pt(50,225).constrain(m.measure(20)),E={mouse:300,touch:400},P={mouse:500,touch:600},M=h?43:25;let z=!1,$=0,A=0,D=!1,O=!1,F=!1,I=!1;function H(R){if(!b)return;function q(Y){(Fs(b)||b(R,Y))&&te(Y)}const K=t;C.add(K,"dragstart",Y=>Y.preventDefault(),_).add(K,"touchmove",()=>{},_).add(K,"touchend",()=>{}).add(K,"touchstart",q).add(K,"mousedown",q).add(K,"touchcancel",B).add(K,"contextmenu",B).add(K,"click",G,!0)}function T(){C.clear(),S.clear()}function W(){const R=I?s:t;S.add(R,"touchmove",ee,_).add(R,"touchend",B).add(R,"mousemove",ee,_).add(R,"mouseup",B)}function J(R){const q=R.nodeName||"";return j.includes(q)}function X(){return(h?P:E)[I?"mouse":"touch"]}function se(R,q){const K=f.add(Fr(R)*-1),Y=u.byDistance(R,!h).distance;return h||pe(R)<N?Y:v&&q?Y*.5:u.byIndex(K.get(),0).distance}function te(R){const q=ar(R,r);I=q,F=h&&q&&!R.buttons&&z,z=Zt(n.get(),a.get())>=2,!(q&&R.button!==0)&&(J(R.target)||(D=!0,i.pointerDown(R),d.useFriction(0).useDuration(0),n.set(a),W(),$=i.readPoint(R),A=i.readPoint(R,w),p.emit("pointerDown")))}function ee(R){if(!ar(R,r)&&R.touches.length>=2)return B(R);const q=i.readPoint(R),K=i.readPoint(R,w),Y=Zt(q,$),ne=Zt(K,A);if(!O&&!I&&(!R.cancelable||(O=Y>ne,!O)))return B(R);const Z=i.pointerMove(R);Y>g&&(F=!0),d.useFriction(.3).useDuration(.75),o.start(),n.add(k(Z)),R.preventDefault()}function B(R){const q=u.byDistance(0,!1).index!==f.get(),K=i.pointerUp(R)*X(),Y=se(k(K),q),ne=B1(K,Y),Z=M-10*ne,ue=y+ne/50;O=!1,D=!1,S.clear(),d.useDuration(Z).useFriction(ue),c.distance(Y,!h),I=!1,p.emit("pointerUp")}function G(R){F&&(R.stopPropagation(),R.preventDefault(),F=!1)}function V(){return D}return{init:H,destroy:T,pointerDown:V}}function G1(e,t){let r,n;function i(u){return u.timeStamp}function a(u,f){const p=`client${(f||e.scroll)==="x"?"X":"Y"}`;return(ar(u,t)?u:u.touches[0])[p]}function o(u){return r=u,n=u,a(u)}function c(u){const f=a(u)-a(n),p=i(u)-i(r)>170;return n=u,p&&(r=u),f}function d(u){if(!r||!n)return 0;const f=a(n)-a(r),p=i(u)-i(r),m=i(u)-i(n)>170,h=f/p;return p&&!m&&pe(h)>.1?h:0}return{pointerDown:o,pointerMove:c,pointerUp:d,readPoint:a}}function J1(){function e(t){const{offsetTop:s,offsetLeft:r,offsetWidth:n,offsetHeight:i}=t;return{top:s,right:r+n,bottom:s+i,left:r,width:n,height:i}}return{measure:e}}function Y1(e){function t(s){return e*(s/100)}return{measure:t}}function X1(e,t,s,r,n,i,a){const o=[e].concat(r);let c,d,u=[],f=!1;function p(g){return n.measureSize(a.measure(g))}function m(g){if(!i)return;d=p(e),u=r.map(p);function v(y){for(const b of y){if(f)return;const w=b.target===e,k=r.indexOf(b.target),j=w?d:u[k];if(pe(p(w?e:r[k])-j)>=.5){g.reInit(),t.emit("resize");break}}}c=new ResizeObserver(y=>{(Fs(i)||i(g,y))&&v(y)}),s.requestAnimationFrame(()=>{o.forEach(y=>c.observe(y))})}function h(){f=!0,c&&c.disconnect()}return{init:m,destroy:h}}function Z1(e,t,s,r,n,i){let a=0,o=0,c=n,d=i,u=e.get(),f=0;function p(){const _=r.get()-e.get(),C=!c;let S=0;return C?(a=0,s.set(r),e.set(r),S=_):(s.set(e),a+=_/c,a*=d,u+=a,e.add(a),S=u-f),o=Fr(S),f=u,j}function m(){return pe(r.get()-t.get())<.001}function h(){return c}function g(){return o}function v(){return a}function y(){return w(n)}function b(){return k(i)}function w(_){return c=_,j}function k(_){return d=_,j}const j={direction:g,duration:h,velocity:v,seek:p,settled:m,useBaseFriction:b,useBaseDuration:y,useFriction:k,useDuration:w};return j}function eh(e,t,s,r,n){const i=n.measure(10),a=n.measure(50),o=Pt(.1,.99);let c=!1;function d(){return!(c||!e.reachedAny(s.get())||!e.reachedAny(t.get()))}function u(p){if(!d())return;const m=pe(e[e.reachedMin(t.get())?"min":"max"]-t.get()),h=s.get()-t.get(),g=o.constrain(m/a);s.subtract(h*g),!p&&pe(h)<i&&(s.set(e.constrain(s.get())),r.useDuration(25).useBaseFriction())}function f(p){c=!p}return{shouldConstrain:d,constrain:u,toggleActive:f}}function th(e,t,s,r,n){const i=Pt(-t+e,0),a=f(),o=u(),c=p();function d(m,h){return Zt(m,h)<=1}function u(){const m=a[0],h=Ye(a);return Pt(a.lastIndexOf(m),a.indexOf(h)+1)}function f(){return s.map((m,h)=>{const{min:g,max:v}=i,y=i.constrain(m),b=!h,w=Ir(s,h);return b?v:w||d(g,y)?g:d(v,y)?v:y}).map(m=>parseFloat(m.toFixed(3)))}function p(){if(t<=e+n)return[i.max];if(r==="keepSnaps")return a;const{min:m,max:h}=o;return a.slice(m,h)}return{snapsContained:c,scrollContainLimit:o}}function sh(e,t,s){const r=t[0];return{limit:Pt(s?r-e:Ye(t),r)}}function rh(e,t,s,r){const{reachedMin:i,reachedMax:a}=Pt(t.min+.1,t.max+.1);function o(d){return d===1?a(s.get()):d===-1?i(s.get()):!1}function c(d){if(!o(d))return;const u=e*(d*-1);r.forEach(f=>f.add(u))}return{loop:c}}function nh(e){const{max:t,length:s}=e;function r(n){const i=n-t;return s?i/-s:0}return{get:r}}function ih(e,t,s,r,n){const{startEdge:i,endEdge:a}=e,{groupSlides:o}=n,c=f().map(t.measure),d=p(),u=m();function f(){return o(r).map(h=>Ye(h)[a]-h[0][i]).map(pe)}function p(){return r.map(h=>s[i]-h[i]).map(h=>-pe(h))}function m(){return o(d).map(h=>h[0]).map((h,g)=>h+c[g])}return{snaps:d,snapsAligned:u}}function ah(e,t,s,r,n,i){const{groupSlides:a}=n,{min:o,max:c}=r,d=u();function u(){const f=a(i),p=!e||t==="keepSnaps";return s.length===1?[i]:p?f:f.slice(o,c).map((m,h,g)=>{const v=!h,y=Ir(g,h);return v?On(Ye(g[0])+1):y?On(fs(i)-Ye(g)[0]+1,Ye(g)[0]):m})}return{slideRegistry:d}}function oh(e,t,s,r,n){const{reachedAny:i,removeOffset:a,constrain:o}=r;function c(m){return m.concat().sort((h,g)=>pe(h)-pe(g))[0]}function d(m){const h=e?a(m):o(m),{index:g}=t.map((v,y)=>({diff:u(v-h,0),index:y})).sort((v,y)=>pe(v.diff)-pe(y.diff))[0];return{index:g,distance:h}}function u(m,h){const g=[m,m+s,m-s];if(!e)return m;if(!h)return c(g);const v=g.filter(y=>Fr(y)===h);return v.length?c(v):Ye(g)-s}function f(m,h){return{index:m,distance:u(t[m]-n.get(),h)}}function p(m,h){const g=n.get()+m,{index:v,distance:y}=d(g),b=!e&&i(g);return!h||b?{index:v,distance:m}:{index:v,distance:m+u(t[v]-y,0)}}return{byDistance:p,byIndex:f,shortcut:u}}function lh(e,t,s,r,n,i,a){function o(u){const f=u.distance,p=u.index!==t.get();i.add(f),f&&(r.duration()?e.start():(e.update(),e.render(1),e.update())),p&&(s.set(t.get()),t.set(u.index),a.emit("select"))}function c(u,f){o(n.byDistance(u,f))}function d(u,f){const p=t.clone().set(u);o(n.byIndex(p.get(),f))}return{distance:c,index:d}}function ch(e,t,s,r,n,i,a,o){const c={passive:!0,capture:!0};let d=0;function u(p){if(!o)return;function m(h){if(new Date().getTime()-d>10)return;a.emit("slideFocusStart"),e.scrollLeft=0;const g=s.findIndex(v=>v.includes(h));Tr(g)&&(n.useDuration(0),r.index(g,0),a.emit("slideFocus"))}i.add(document,"keydown",f,!1),t.forEach((h,g)=>{i.add(h,"focus",v=>{(Fs(o)||o(p,v))&&m(g)},c)})}function f(p){p.code==="Tab"&&(d=new Date().getTime())}return{init:u}}function Yt(e){let t=e;function s(){return t}function r(o){t=a(o)}function n(o){t+=a(o)}function i(o){t-=a(o)}function a(o){return Tr(o)?o:o.get()}return{get:s,set:r,add:n,subtract:i}}function Co(e,t){const s=e.scroll==="x"?a:o,r=t.style;let n=null,i=!1;function a(f){return`translate3d(${f}px,0px,0px)`}function o(f){return`translate3d(0px,${f}px,0px)`}function c(f){if(i)return;const p=H1(e.direction(f));p!==n&&(r.transform=s(p),n=p)}function d(f){i=!f}function u(){i||(r.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:u,to:c,toggleActive:d}}function dh(e,t,s,r,n,i,a,o,c){const u=rs(n),f=rs(n).reverse(),p=y().concat(b());function m(_,C){return _.reduce((S,N)=>S-n[N],C)}function h(_,C){return _.reduce((S,N)=>m(S,C)>0?S.concat([N]):S,[])}function g(_){return i.map((C,S)=>({start:C-r[S]+.5+_,end:C+t-.5+_}))}function v(_,C,S){const N=g(C);return _.map(E=>{const P=S?0:-s,M=S?s:0,z=S?"end":"start",$=N[E][z];return{index:E,loopPoint:$,slideLocation:Yt(-1),translate:Co(e,c[E]),target:()=>o.get()>$?P:M}})}function y(){const _=a[0];return v(h(f,_),s,!1)}function b(){return v(h(u,t-a[0]-1),-s,!0)}function w(){return p.every(({index:_})=>m(u.filter(C=>C!==_),t)<=.1)}function k(){p.forEach(_=>{const{target:C,translate:S,slideLocation:N}=_,E=C();E!==N.get()&&(S.to(E),N.set(E))})}function j(){p.forEach(_=>_.translate.clear())}return{canLoop:w,clear:j,loop:k,loopPoints:p}}function uh(e,t,s){let r,n=!1;function i(o){if(!s)return;function c(d){for(const u of d)if(u.type==="childList"){o.reInit(),t.emit("slidesChanged");break}}r=new MutationObserver(d=>{n||(Fs(s)||s(o,d))&&c(d)}),r.observe(e,{childList:!0})}function a(){r&&r.disconnect(),n=!0}return{init:i,destroy:a}}function fh(e,t,s,r){const n={};let i=null,a=null,o,c=!1;function d(){o=new IntersectionObserver(m=>{c||(m.forEach(h=>{const g=t.indexOf(h.target);n[g]=h}),i=null,a=null,s.emit("slidesInView"))},{root:e.parentElement,threshold:r}),t.forEach(m=>o.observe(m))}function u(){o&&o.disconnect(),c=!0}function f(m){return ns(n).reduce((h,g)=>{const v=parseInt(g),{isIntersecting:y}=n[v];return(m&&y||!m&&!y)&&h.push(v),h},[])}function p(m=!0){if(m&&i)return i;if(!m&&a)return a;const h=f(m);return m&&(i=h),m||(a=h),h}return{init:d,destroy:u,get:p}}function mh(e,t,s,r,n,i){const{measureSize:a,startEdge:o,endEdge:c}=e,d=s[0]&&n,u=h(),f=g(),p=s.map(a),m=v();function h(){if(!d)return 0;const y=s[0];return pe(t[o]-y[o])}function g(){if(!d)return 0;const y=i.getComputedStyle(Ye(r));return parseFloat(y.getPropertyValue(`margin-${c}`))}function v(){return s.map((y,b,w)=>{const k=!b,j=Ir(w,b);return k?p[b]+u:j?p[b]+f:w[b+1][o]-y[o]}).map(pe)}return{slideSizes:p,slideSizesWithGaps:m,startGap:u,endGap:f}}function hh(e,t,s,r,n,i,a,o,c){const{startEdge:d,endEdge:u,direction:f}=e,p=Tr(s);function m(v,y){return rs(v).filter(b=>b%y===0).map(b=>v.slice(b,b+y))}function h(v){return v.length?rs(v).reduce((y,b,w)=>{const k=Ye(y)||0,j=k===0,_=b===fs(v),C=n[d]-i[k][d],S=n[d]-i[b][u],N=!r&&j?f(a):0,E=pe(S-(!r&&_?f(o):0)-(C+N));return w&&E>t+c&&y.push(b),_&&y.push(v.length),y},[]).map((y,b,w)=>{const k=Math.max(w[b-1]||0);return v.slice(k,y)}):[]}function g(v){return p?m(v,s):h(v)}return{groupSlides:g}}function ph(e,t,s,r,n,i,a){const{align:o,axis:c,direction:d,startIndex:u,loop:f,duration:p,dragFree:m,dragThreshold:h,inViewThreshold:g,slidesToScroll:v,skipSnaps:y,containScroll:b,watchResize:w,watchSlides:k,watchDrag:j,watchFocus:_}=i,C=2,S=J1(),N=S.measure(t),E=s.map(S.measure),P=W1(c,d),M=P.measureSize(N),z=Y1(M),$=K1(o,M),A=!f&&!!b,{slideSizes:D,slideSizesWithGaps:O,startGap:F,endGap:I}=mh(P,N,E,s,f||!!b,n),H=hh(P,M,v,f,N,E,F,I,C),{snaps:T,snapsAligned:W}=ih(P,$,N,E,H),J=-Ye(T)+Ye(O),{snapsContained:X,scrollContainLimit:se}=th(M,J,W,b,C),te=A?X:W,{limit:ee}=sh(J,te,f),B=So(fs(te),u,f),G=B.clone(),V=rs(s),R=({dragHandler:Re,scrollBody:Ze,scrollBounds:et,options:{loop:He}})=>{He||et.constrain(Re.pointerDown()),Ze.seek()},q=({scrollBody:Re,translate:Ze,location:et,offsetLocation:He,previousLocation:ct,scrollLooper:zt,slideLooper:dt,dragHandler:ut,animation:ft,eventHandler:rt,scrollBounds:Mt,options:{loop:jt}},nt)=>{const it=Re.settled(),At=!Mt.shouldConstrain(),kt=jt?it:it&&At,St=kt&&!ut.pointerDown();St&&ft.stop();const Lt=et.get()*nt+ct.get()*(1-nt);He.set(Lt),jt&&(zt.loop(Re.direction()),dt.loop()),Ze.to(He.get()),St&&rt.emit("settle"),kt||rt.emit("scroll")},K=Q1(r,n,()=>R(Be),Re=>q(Be,Re)),Y=.68,ne=te[B.get()],Z=Yt(ne),ue=Yt(ne),fe=Yt(ne),ie=Yt(ne),we=Z1(Z,fe,ue,ie,p,Y),Pe=oh(f,te,J,ee,ie),ce=lh(K,B,G,we,Pe,ie,a),de=nh(ee),ve=is(),Ee=fh(t,s,a,g),{slideRegistry:Ie}=ah(A,b,te,se,H,V),Le=ch(e,s,Ie,ce,we,ve,a,_),Be={ownerDocument:r,ownerWindow:n,eventHandler:a,containerRect:N,slideRects:E,animation:K,axis:P,dragHandler:U1(P,e,r,n,ie,G1(P,n),Z,K,ce,we,Pe,B,a,z,m,h,y,Y,j),eventStore:ve,percentOfView:z,index:B,indexPrevious:G,limit:ee,location:Z,offsetLocation:fe,previousLocation:ue,options:i,resizeHandler:X1(t,a,n,s,P,w,S),scrollBody:we,scrollBounds:eh(ee,fe,ie,we,z),scrollLooper:rh(J,ee,fe,[Z,fe,ue,ie]),scrollProgress:de,scrollSnapList:te.map(de.get),scrollSnaps:te,scrollTarget:Pe,scrollTo:ce,slideLooper:dh(P,M,J,D,O,T,te,fe,s),slideFocus:Le,slidesHandler:uh(t,a,k),slidesInView:Ee,slideIndexes:V,slideRegistry:Ie,slidesToScroll:H,target:ie,translate:Co(P,t)};return Be}function gh(){let e={},t;function s(d){t=d}function r(d){return e[d]||[]}function n(d){return r(d).forEach(u=>u(t,d)),c}function i(d,u){return e[d]=r(d).concat([u]),c}function a(d,u){return e[d]=r(d).filter(f=>f!==u),c}function o(){e={}}const c={init:s,emit:n,off:a,on:i,clear:o};return c}var xh={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function vh(e){function t(n,i){return ko(n,i||{})}function s(n){const i=n.breakpoints||{};return t(n,ns(i).filter(a=>e.matchMedia(a).matches).map(a=>i[a]).reduce((a,o)=>t(a,o),{}))}function r(n){return n.map(i=>ns(i.breakpoints||{})).reduce((i,a)=>i.concat(a),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:s,optionsMediaQueries:r}}function yh(e){let t=[];function s(n,i){return t=i.filter(({options:a})=>e.optionsAtMedia(a).active!==!1),t.forEach(a=>a.init(n,e)),i.reduce((a,o)=>Object.assign(a,{[o.name]:o}),{})}function r(){t=t.filter(n=>n.destroy())}return{init:s,destroy:r}}function Ps(e,t,s){const r=e.ownerDocument,n=r.defaultView,i=vh(n),a=yh(i),o=is(),c=gh(),{mergeOptions:d,optionsAtMedia:u,optionsMediaQueries:f}=i,{on:p,off:m,emit:h}=c,g=P;let v=!1,y,b=d(xh,Ps.globalOptions),w=d(b),k=[],j,_,C;function S(){const{container:R,slides:q}=w;_=(ir(R)?e.querySelector(R):R)||e.children[0];const K=ir(q)?_.querySelectorAll(q):q;C=[].slice.call(K||_.children)}function N(R){const q=ph(e,_,C,r,n,R,c);return R.loop&&!q.slideLooper.canLoop()?N(Object.assign({},R,{loop:!1})):q}function E(R,q){v||(b=d(b,R),w=u(b),k=q||k,S(),y=N(w),f([b,...k.map(({options:K})=>K)]).forEach(K=>o.add(K,"change",P)),w.active&&(y.translate.to(y.location.get()),y.animation.init(),y.slidesInView.init(),y.slideFocus.init(V),y.eventHandler.init(V),y.resizeHandler.init(V),y.slidesHandler.init(V),y.options.loop&&y.slideLooper.loop(),_.offsetParent&&C.length&&y.dragHandler.init(V),j=a.init(V,k)))}function P(R,q){const K=T();M(),E(d({startIndex:K},R),q),c.emit("reInit")}function M(){y.dragHandler.destroy(),y.eventStore.clear(),y.translate.clear(),y.slideLooper.clear(),y.resizeHandler.destroy(),y.slidesHandler.destroy(),y.slidesInView.destroy(),y.animation.destroy(),a.destroy(),o.clear()}function z(){v||(v=!0,o.clear(),M(),c.emit("destroy"),c.clear())}function $(R,q,K){!w.active||v||(y.scrollBody.useBaseFriction().useDuration(q===!0?0:w.duration),y.scrollTo.index(R,K||0))}function A(R){$(y.index.add(1).get(),R,-1)}function D(R){$(y.index.add(-1).get(),R,1)}function O(){return y.index.add(1).get()!==T()}function F(){return y.index.add(-1).get()!==T()}function I(){return y.scrollSnapList}function H(){return y.scrollProgress.get(y.offsetLocation.get())}function T(){return y.index.get()}function W(){return y.indexPrevious.get()}function J(){return y.slidesInView.get()}function X(){return y.slidesInView.get(!1)}function se(){return j}function te(){return y}function ee(){return e}function B(){return _}function G(){return C}const V={canScrollNext:O,canScrollPrev:F,containerNode:B,internalEngine:te,destroy:z,off:m,on:p,emit:h,plugins:se,previousScrollSnap:W,reInit:g,rootNode:ee,scrollNext:A,scrollPrev:D,scrollProgress:H,scrollSnapList:I,scrollTo:$,selectedScrollSnap:T,slideNodes:G,slidesInView:J,slidesNotInView:X};return E(t,s),setTimeout(()=>c.emit("init"),0),V}Ps.globalOptions=void 0;function qr(e={},t=[]){const s=(0,x.useRef)(e),r=(0,x.useRef)(t),[n,i]=(0,x.useState)(),[a,o]=(0,x.useState)(),c=(0,x.useCallback)(()=>{n&&n.reInit(s.current,r.current)},[n]);return(0,x.useEffect)(()=>{Dr(s.current,e)||(s.current=e,c())},[e,c]),(0,x.useEffect)(()=>{V1(r.current,t)||(r.current=t,c())},[t,c]),(0,x.useEffect)(()=>{if(O1()&&a){Ps.globalOptions=qr.globalOptions;const d=Ps(a,s.current,r.current);return i(d),()=>d.destroy()}else i(void 0)},[a,i]),[o,n]}qr.globalOptions=void 0;var Or=U(),No=x.createContext(null);function Po(){const e=x.useContext(No);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}function bh(e){const t=(0,Or.c)(45);let s,r,n,i,a,o,c;t[0]!==e?({orientation:c,opts:n,setApi:o,plugins:i,className:r,children:s,...a}=e,t[0]=e,t[1]=s,t[2]=r,t[3]=n,t[4]=i,t[5]=a,t[6]=o,t[7]=c):(s=t[1],r=t[2],n=t[3],i=t[4],a=t[5],o=t[6],c=t[7]);const d=c===void 0?"horizontal":c,u=d==="horizontal"?"x":"y";let f;t[8]!==n||t[9]!==u?(f={...n,axis:u},t[8]=n,t[9]=u,t[10]=f):f=t[10];const[p,m]=qr(f,i),[h,g]=x.useState(!1),[v,y]=x.useState(!1);let b;t[11]===Symbol.for("react.memo_cache_sentinel")?(b=I=>{I&&(g(I.canScrollPrev()),y(I.canScrollNext()))},t[11]=b):b=t[11];const w=b;let k;t[12]!==m?(k=()=>{m?.scrollPrev()},t[12]=m,t[13]=k):k=t[13];const j=k;let _;t[14]!==m?(_=()=>{m?.scrollNext()},t[14]=m,t[15]=_):_=t[15];const C=_;let S;t[16]!==C||t[17]!==j?(S=I=>{I.key==="ArrowLeft"?(I.preventDefault(),j()):I.key==="ArrowRight"&&(I.preventDefault(),C())},t[16]=C,t[17]=j,t[18]=S):S=t[18];const N=S;let E,P;t[19]!==m||t[20]!==o?(E=()=>{!m||!o||o(m)},P=[m,o],t[19]=m,t[20]=o,t[21]=E,t[22]=P):(E=t[21],P=t[22]),x.useEffect(E,P);let M,z;t[23]!==m?(M=()=>{if(m)return w(m),m.on("reInit",w),m.on("select",w),()=>{m?.off("select",w)}},z=[m,w],t[23]=m,t[24]=M,t[25]=z):(M=t[24],z=t[25]),x.useEffect(M,z);const $=d||(n?.axis==="y"?"vertical":"horizontal");let A;t[26]!==m||t[27]!==v||t[28]!==h||t[29]!==p||t[30]!==n||t[31]!==C||t[32]!==j||t[33]!==$?(A={carouselRef:p,api:m,opts:n,orientation:$,scrollPrev:j,scrollNext:C,canScrollPrev:h,canScrollNext:v},t[26]=m,t[27]=v,t[28]=h,t[29]=p,t[30]=n,t[31]=C,t[32]=j,t[33]=$,t[34]=A):A=t[34];let D;t[35]!==r?(D=Q("relative",r),t[35]=r,t[36]=D):D=t[36];let O;t[37]!==s||t[38]!==N||t[39]!==a||t[40]!==D?(O=(0,l.jsx)("div",{onKeyDownCapture:N,className:D,role:"region","aria-roledescription":"carousel","data-slot":"carousel",...a,children:s}),t[37]=s,t[38]=N,t[39]=a,t[40]=D,t[41]=O):O=t[41];let F;return t[42]!==A||t[43]!==O?(F=(0,l.jsx)(No.Provider,{value:A,children:O}),t[42]=A,t[43]=O,t[44]=F):F=t[44],F}function wh(e){const t=(0,Or.c)(12);let s,r;t[0]!==e?({className:s,...r}=e,t[0]=e,t[1]=s,t[2]=r):(s=t[1],r=t[2]);const{carouselRef:n,orientation:i}=Po(),a=i==="horizontal"?"-ml-4":"-mt-4 flex-col";let o;t[3]!==s||t[4]!==a?(o=Q("flex",a,s),t[3]=s,t[4]=a,t[5]=o):o=t[5];let c;t[6]!==r||t[7]!==o?(c=(0,l.jsx)("div",{className:o,...r}),t[6]=r,t[7]=o,t[8]=c):c=t[8];let d;return t[9]!==n||t[10]!==c?(d=(0,l.jsx)("div",{ref:n,className:"overflow-hidden","data-slot":"carousel-content",children:c}),t[9]=n,t[10]=c,t[11]=d):d=t[11],d}function _h(e){const t=(0,Or.c)(9);let s,r;t[0]!==e?({className:s,...r}=e,t[0]=e,t[1]=s,t[2]=r):(s=t[1],r=t[2]);const{orientation:n}=Po(),i=n==="horizontal"?"pl-4":"pt-4";let a;t[3]!==s||t[4]!==i?(a=Q("min-w-0 shrink-0 grow-0 basis-full",i,s),t[3]=s,t[4]=i,t[5]=a):a=t[5];let o;return t[6]!==r||t[7]!==a?(o=(0,l.jsx)("div",{role:"group","aria-roledescription":"slide","data-slot":"carousel-item",className:a,...r}),t[6]=r,t[7]=a,t[8]=o):o=t[8],o}var wt=U();const Lv=e=>{const t=(0,wt.c)(12);let s,r,n;t[0]!==e?({className:s,opts:r,...n}=e,t[0]=e,t[1]=s,t[2]=r,t[3]=n):(s=t[1],r=t[2],n=t[3]);let i;t[4]!==s?(i=Q("w-full",s),t[4]=s,t[5]=i):i=t[5];let a;t[6]!==r?(a={align:"start",loop:!1,dragFree:!0,...r},t[6]=r,t[7]=a):a=t[7];let o;return t[8]!==n||t[9]!==i||t[10]!==a?(o=(0,l.jsx)(bh,{className:i,opts:a,...n}),t[8]=n,t[9]=i,t[10]=a,t[11]=o):o=t[11],o},Rv=e=>{const t=(0,wt.c)(8);let s,r;t[0]!==e?({className:s,...r}=e,t[0]=e,t[1]=s,t[2]=r):(s=t[1],r=t[2]);let n;t[3]!==s?(n=Q("-ml-2 gap-2",s),t[3]=s,t[4]=n):n=t[4];let i;return t[5]!==r||t[6]!==n?(i=(0,l.jsx)(wh,{className:n,...r}),t[5]=r,t[6]=n,t[7]=i):i=t[7],i},Dv=e=>{const t=(0,wt.c)(13);let s,r;t[0]!==e?({className:s,...r}=e,t[0]=e,t[1]=s,t[2]=r):(s=t[1],r=t[2]);let n;t[3]!==s?(n=Q("basis-0 pl-2 md:pl-4 min-w-[150px] sm:min-w-[180px]",s),t[3]=s,t[4]=n):n=t[4];let i;t[5]!==s?(i=Q("group relative overflow-hidden rounded-xl bg-muted/40","cursor-pointer transition-all duration-200","hover:scale-[1.02] hover:shadow-lg","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),t[5]=s,t[6]=i):i=t[6];let a;t[7]!==r||t[8]!==i?(a=(0,l.jsx)("div",{className:i,role:"button",tabIndex:0,...r}),t[7]=r,t[8]=i,t[9]=a):a=t[9];let o;return t[10]!==n||t[11]!==a?(o=(0,l.jsx)(_h,{className:n,children:a}),t[10]=n,t[11]=a,t[12]=o):o=t[12],o};var jh=/t=(\d+(?:\.\d+)?)/;const Tv=e=>{const t=(0,wt.c)(24);let s,r;t[0]!==e?({className:s,...r}=e,t[0]=e,t[1]=s,t[2]=r):(s=t[1],r=t[2]);const n=(0,x.useRef)(null),i=(0,x.useRef)(0),[a,o]=(0,x.useState)(!1);let c,d;t[3]!==r.src?(c=()=>{const P=r.src??"";let M=0;if(typeof P=="string"){const z=P.indexOf("#");if(z!==-1){const $=P.slice(z+1).match(jh);$&&(M=Number.parseFloat($[1]))}}i.current=M},d=[r.src],t[3]=r.src,t[4]=c,t[5]=d):(c=t[4],d=t[5]),(0,x.useEffect)(c,d);let u,f;t[6]===Symbol.for("react.memo_cache_sentinel")?(u=()=>{const P=n.current;return()=>{P&&P.pause()}},f=[],t[6]=u,t[7]=f):(u=t[6],f=t[7]),(0,x.useEffect)(u,f);let p;t[8]===Symbol.for("react.memo_cache_sentinel")?(p=()=>{n.current?.play()},t[8]=p):p=t[8];const m=p;let h;t[9]===Symbol.for("react.memo_cache_sentinel")?(h=()=>{n.current&&(n.current.pause(),n.current.currentTime=i.current)},t[9]=h):h=t[9];const g=h;let v;t[10]===Symbol.for("react.memo_cache_sentinel")?(v=()=>{n.current?.play()},t[10]=v):v=t[10];const y=v;let b;t[11]===Symbol.for("react.memo_cache_sentinel")?(b=()=>{n.current&&(n.current.pause(),n.current.currentTime=i.current)},t[11]=b):b=t[11];const w=b;let k;t[12]===Symbol.for("react.memo_cache_sentinel")?(k=()=>{o(!0)},t[12]=k):k=t[12];const j=k;let _;t[13]!==a?(_=!a&&(0,l.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,l.jsx)("div",{className:"size-6 border-2 border-white/20 border-t-white/80 rounded-full animate-spin"})}),t[13]=a,t[14]=_):_=t[14];const C=a?"opacity-100":"opacity-0";let S;t[15]!==s||t[16]!==C?(S=Q("absolute inset-0 size-full object-cover","transition-opacity duration-500",C,"group-hover:opacity-90",s),t[15]=s,t[16]=C,t[17]=S):S=t[17];let N;t[18]!==r||t[19]!==S?(N=(0,l.jsx)("video",{className:S,loop:!0,muted:!0,playsInline:!0,"webkit-playsinline":"true",onBlur:w,onFocus:y,onMouseOut:g,onMouseOver:m,onCanPlay:j,preload:"metadata",ref:n,tabIndex:0,...r}),t[18]=r,t[19]=S,t[20]=N):N=t[20];let E;return t[21]!==_||t[22]!==N?(E=(0,l.jsxs)("div",{className:"absolute inset-0 size-full bg-zinc-900 overflow-hidden",children:[_,N]}),t[21]=_,t[22]=N,t[23]=E):E=t[23],E},Fv=e=>{const t=(0,wt.c)(12);let s,r,n;t[0]!==e?({className:r,children:s,...n}=e,t[0]=e,t[1]=s,t[2]=r,t[3]=n):(s=t[1],r=t[2],n=t[3]);let i;t[4]!==r?(i=Q("absolute right-0 bottom-0 left-0 z-10","p-3 text-white",r),t[4]=r,t[5]=i):i=t[5];let a;t[6]!==s?(a=(0,l.jsx)("div",{className:"flex items-center gap-2",children:s}),t[6]=s,t[7]=a):a=t[7];let o;return t[8]!==n||t[9]!==i||t[10]!==a?(o=(0,l.jsx)("div",{className:i,...n,children:a}),t[8]=n,t[9]=i,t[10]=a,t[11]=o):o=t[11],o},Iv=e=>{const t=(0,wt.c)(21);let s,r,n,i,a;t[0]!==e?({src:a,fallback:r,name:n,className:s,...i}=e,t[0]=e,t[1]=s,t[2]=r,t[3]=n,t[4]=i,t[5]=a):(s=t[1],r=t[2],n=t[3],i=t[4],a=t[5]);let o;t[6]!==s?(o=Q("size-6 border border-white/20",s),t[6]=s,t[7]=o):o=t[7];let c;t[8]!==n||t[9]!==a?(c=a&&(0,l.jsx)(Ge,{alt:n,src:a}),t[8]=n,t[9]=a,t[10]=c):c=t[10];let d;t[11]!==r||t[12]!==n?(d=r||n?.charAt(0)?.toUpperCase(),t[11]=r,t[12]=n,t[13]=d):d=t[13];let u;t[14]!==d?(u=(0,l.jsx)(Je,{className:"bg-white/10 text-white text-xs",children:d}),t[14]=d,t[15]=u):u=t[15];let f;return t[16]!==i||t[17]!==o||t[18]!==c||t[19]!==u?(f=(0,l.jsxs)(Ue,{className:o,...i,children:[c,u]}),t[16]=i,t[17]=o,t[18]=c,t[19]=u,t[20]=f):f=t[20],f},qv=e=>{const t=(0,wt.c)(8);let s,r;t[0]!==e?({className:s,...r}=e,t[0]=e,t[1]=s,t[2]=r):(s=t[1],r=t[2]);let n;t[3]!==s?(n=Q("truncate font-medium text-sm",s),t[3]=s,t[4]=n):n=t[4];let i;return t[5]!==r||t[6]!==n?(i=(0,l.jsx)("span",{className:n,...r}),t[5]=r,t[6]=n,t[7]=i):i=t[7],i},Ov=e=>{const t=(0,wt.c)(10);let s,r,n;t[0]!==e?({className:s,side:n,...r}=e,t[0]=e,t[1]=s,t[2]=r,t[3]=n):(s=t[1],r=t[2],n=t[3]);const i=(n===void 0?"bottom":n)==="top"?"top-0 bg-gradient-to-b":"bottom-0 bg-gradient-to-t";let a;t[4]!==s||t[5]!==i?(a=Q("absolute right-0 left-0 h-10 from-black/20 to-transparent",i,s),t[4]=s,t[5]=i,t[6]=a):a=t[6];let o;return t[7]!==r||t[8]!==a?(o=(0,l.jsx)("div",{className:a,...r}),t[7]=r,t[8]=a,t[9]=o):o=t[9],o};var Vn=e=>typeof e=="boolean"?`${e}`:e===0?"0":e;const Bn=Wi,$o=(e,t)=>s=>{var r;if(t?.variants==null)return Bn(e,s?.class,s?.className);const{variants:n,defaultVariants:i}=t,a=Object.keys(n).map(c=>{const d=s?.[c],u=i?.[c];if(d===null)return null;const f=Vn(d)||Vn(u);return n[c][f]}),o=s&&Object.entries(s).reduce((c,d)=>{let[u,f]=d;return f===void 0||(c[u]=f),c},{});return Bn(e,a,t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:u,className:f,...p}=d;return Object.entries(p).every(m=>{let[h,g]=m;return Array.isArray(g)?g.includes({...i,...o}[h]):{...i,...o}[h]===g})?[...c,u,f]:c},[]),s?.class,s?.className)};var kh=U(),Sh=$o("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ch=x.forwardRef((e,t)=>{const s=(0,kh.c)(9);let r,n;s[0]!==e?({className:r,...n}=e,s[0]=e,s[1]=r,s[2]=n):(r=s[1],n=s[2]);let i;s[3]!==r?(i=Q(Sh(),r),s[3]=r,s[4]=i):i=s[4];let a;return s[5]!==n||s[6]!==t||s[7]!==i?(a=(0,l.jsx)(Oi,{ref:t,className:i,...n}),s[5]=n,s[6]=t,s[7]=i,s[8]=a):a=s[8],a});Ch.displayName=Oi.displayName;var Nh=U(),Ph=$o("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input"),$h=x.forwardRef((e,t)=>{const s=(0,Nh.c)(10);let r,n;s[0]!==e?({className:r,...n}=e,s[0]=e,s[1]=r,s[2]=n):(r=s[1],n=s[2]);let i;s[3]!==r?(i=Q(Ph(),r),s[3]=r,s[4]=i):i=s[4];let a;s[5]===Symbol.for("react.memo_cache_sentinel")?(a=(0,l.jsx)(ql,{className:Q("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")}),s[5]=a):a=s[5];let o;return s[6]!==n||s[7]!==t||s[8]!==i?(o=(0,l.jsx)(Hi,{className:i,...n,ref:t,children:a}),s[6]=n,s[7]=t,s[8]=i,s[9]=o):o=s[9],o});$h.displayName=Hi.displayName;var Eh=({onRefresh:e,children:t,className:s,pullThreshold:r=80,maxPullDistance:n=150})=>{const[i,a]=(0,x.useState)(0),[o,c]=(0,x.useState)(!1),d=(0,x.useRef)(null),u=(0,x.useRef)(0),f=(0,x.useRef)(!1),p=g=>{window.scrollY!==0||o||(u.current=g.touches[0].pageY,f.current=!0)},m=(0,x.useCallback)(g=>{if(!f.current||o)return;const v=g.touches[0].pageY-u.current;v>0?(a(Math.min(v*.5,n)),v>10&&g.cancelable&&g.preventDefault()):(a(0),f.current=!1)},[o,n]),h=async()=>{if(!(!f.current||o))if(f.current=!1,i>=r){c(!0),a(r);try{await e()}catch(g){console.error("Refresh failed:",g)}finally{c(!1),a(0)}}else a(0)};return(0,x.useEffect)(()=>{const g=d.current;if(g)return g.addEventListener("touchstart",p,{passive:!0}),g.addEventListener("touchmove",m,{passive:!1}),g.addEventListener("touchend",h),()=>{g.removeEventListener("touchstart",p),g.removeEventListener("touchmove",m),g.removeEventListener("touchend",h)}},[m,h,i,r]),(0,l.jsxs)("div",{ref:d,className:Q("relative w-full",s),children:[(0,l.jsx)("div",{className:"absolute left-0 right-0 flex justify-center overflow-hidden",style:{height:i,top:0,zIndex:40},children:(0,l.jsx)("div",{className:"flex items-center justify-center py-4",style:{opacity:Math.min(i/r,1)},children:o?(0,l.jsx)(ws,{className:"h-6 w-6 animate-spin text-zinc-500"}):(0,l.jsx)(he.div,{animate:{rotate:i/r*180},className:"text-zinc-400",children:(0,l.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,l.jsx)("path",{d:"M12 5v14M19 12l-7 7-7-7"})})})})}),(0,l.jsx)(he.div,{animate:{y:i},transition:o?{type:"spring",stiffness:300,damping:30}:{type:"tween",duration:0},className:"relative bg-background",children:t})]})},Vv=Eh,zh=U();const Eo=e=>{const t=(0,zh.c)(16),s=$e(),r=e?.id;let n;t[0]!==r?(n=["unread_notifications_count",r],t[0]=r,t[1]=n):n=t[1];let i;t[2]!==e?.id?(i=()=>Xd(e?.id||""),t[2]=e?.id,t[3]=i):i=t[3];const a=!!e?.id;let o;t[4]!==n||t[5]!==i||t[6]!==a?(o={queryKey:n,queryFn:i,enabled:a},t[4]=n,t[5]=i,t[6]=a,t[7]=o):o=t[7];const{data:c}=ye(o),d=c===void 0?0:c;let u;t[8]!==e||t[9]!==s?(u=()=>{if(!e?.id)return;let h=!0;const g=L.channel(`unread_count:${e.id}`).on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`recipient_id=eq.${e.id}`},()=>{h&&(s.invalidateQueries({queryKey:["unread_notifications_count",e.id]}),s.invalidateQueries({queryKey:["notifications",e.id]}))}).subscribe();return()=>{h=!1,g&&L.removeChannel(g)}},t[8]=e,t[9]=s,t[10]=u):u=t[10];const f=e?.id;let p;t[11]!==s||t[12]!==f?(p=[f,s],t[11]=s,t[12]=f,t[13]=p):p=t[13],(0,x.useEffect)(u,p);let m;return t[14]!==d?(m={unreadCount:d},t[14]=d,t[15]=m):m=t[15],m};var Mh=U();const Vr=e=>{const t=(0,Mh.c)(23),s=e?.id;let r;t[0]!==s?(r=["conversations",s],t[0]=s,t[1]=r):r=t[1];let n;t[2]!==e?.id?(n=()=>Id(e?.id||""),t[2]=e?.id,t[3]=n):n=t[3];const i=!!e?.id;let a;t[4]!==r||t[5]!==n||t[6]!==i?(a={queryKey:r,queryFn:n,enabled:i,staleTime:6e4},t[4]=r,t[5]=n,t[6]=i,t[7]=a):a=t[7];const{data:o,isLoading:c,refetch:d}=ye(a);let u;t[8]!==o?(u=o===void 0?[]:o,t[8]=o,t[9]=u):u=t[9];const f=u,p=e?.id;let m;t[10]!==p?(m=["unread_messages_count",p],t[10]=p,t[11]=m):m=t[11];let h;t[12]!==e?.id?(h=()=>Td(e?.id||""),t[12]=e?.id,t[13]=h):h=t[13];const g=!!e?.id;let v;t[14]!==g||t[15]!==m||t[16]!==h?(v={queryKey:m,queryFn:h,enabled:g,staleTime:6e4},t[14]=g,t[15]=m,t[16]=h,t[17]=v):v=t[17];const{data:y}=ye(v),b=y===void 0?0:y;let w;return t[18]!==f||t[19]!==c||t[20]!==d||t[21]!==b?(w={conversations:f,unreadCount:b,isConvLoading:c,refetchConversations:d},t[18]=f,t[19]=c,t[20]=d,t[21]=b,t[22]=w):w=t[22],w};var Ah=U(),Lh=()=>{const e=(0,Ah.c)(5),{currentUser:t}=be(),s=as(),r=Eo(t),n=Vr(t),i=r?.unreadCount||0,a=n?.unreadCount||0;let o;if(e[0]!==t||e[1]!==s||e[2]!==a||e[3]!==i){const c=[{id:"home",icon:ho,path:"/"},{id:"explore",icon:go,path:"/explore"},{id:"reels",icon:xo,path:"/r"},{id:"create",icon:Mi,path:"/create"},{id:"messages",icon:po,path:"/m",count:a},{id:"notifications",icon:vo,path:"/notifications",count:i},{id:"profile",icon:es,path:t?`/u/${t.handle}`:"/login",isProfile:!0}],d=u=>{(s.pathname===u||u==="/"&&s.pathname==="/feed")&&window.scrollTo({top:0,behavior:"smooth"})};o=(0,l.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 z-50 flex h-[calc(60px+env(safe-area-inset-bottom))] w-full items-center justify-around border-t border-zinc-200 bg-white/95 backdrop-blur-md px-2 pb-[env(safe-area-inset-bottom)] dark:border-zinc-800 dark:bg-black/95 transition-transform duration-300 md:hidden print:hidden touch-manipulation",children:c.map(u=>{const f=s.pathname===u.path||u.path!=="/"&&u.path!=="/login"&&s.pathname.startsWith(u.path);return u.isProfile?(0,l.jsx)(vs,{to:u.path,"aria-label":u.id,onClick:()=>d(u.path),className:"relative flex flex-col items-center justify-center p-2 transition-all active:scale-90",children:p=>{const{isActive:m}=p;return(0,l.jsx)(he.div,{animate:m?{scale:1.1}:{scale:1},transition:{type:"spring",stiffness:400,damping:17},className:Q("rounded-full transition-all",m?"ring-2 ring-black dark:ring-white ring-offset-1 ring-offset-white dark:ring-offset-black":""),children:(0,l.jsxs)(Ue,{className:"h-7 w-7 border border-zinc-200 dark:border-zinc-800",children:[(0,l.jsx)(Ge,{src:t?.avatar,alt:t?.handle,className:"object-cover"}),(0,l.jsx)(Je,{children:t?.handle?.[0]?.toUpperCase()})]})})}},u.id):u.id==="create"?(0,l.jsx)(vs,{to:u.path,"aria-label":u.id,onClick:()=>d(u.path),className:"flex items-center justify-center transition-all active:scale-90",children:(0,l.jsx)(he.div,{whileTap:{scale:.9},className:"flex items-center justify-center rounded-xl bg-zinc-950 p-2 text-white shadow-lg dark:bg-white dark:text-zinc-950",children:(0,l.jsx)(u.icon,{size:26,strokeWidth:2.5})})},u.id):(0,l.jsx)(vs,{to:u.path,"aria-label":u.id,onClick:()=>d(u.path),className:Dh,children:(0,l.jsxs)(he.div,{className:"relative",animate:f?{scale:1.1}:{scale:1},whileTap:{scale:.9},transition:{type:"spring",stiffness:400,damping:17},children:[(0,l.jsx)(u.icon,{size:26,strokeWidth:f?2.5:2,className:f?"fill-current":""}),(0,l.jsx)(Cs,{children:u.count?(0,l.jsx)(he.span,{initial:{scale:0},animate:{scale:1},exit:{scale:0},className:"absolute -right-1 -top-1 flex h-4 w-4 items-center justify-center rounded-full bg-rose-500 text-[10px] font-bold text-white shadow-sm ring-2 ring-white dark:ring-black",children:u.count>9?"9+":u.count}):null})]})},u.id)})}),e[0]=t,e[1]=s,e[2]=a,e[3]=i,e[4]=o}else o=e[4];return o},Rh=Lh;function Dh(e){const{isActive:t}=e;return Q("relative flex flex-col items-center justify-center p-2 transition-colors active:scale-90",t?"text-black dark:text-white":"text-zinc-500 hover:text-zinc-900 dark:text-zinc-500 dark:hover:text-zinc-100")}var Th=U(),Fh=e=>{const t=(0,Th.c)(8),{triggerClassName:s}=e,r=Ce();let n;t[0]!==r?(n=()=>r("/create"),t[0]=r,t[1]=n):n=t[1];let i;t[2]!==s?(i=Q("flex items-center justify-center transition-all duration-200 hover:scale-110 active:scale-95 shadow-lg",s),t[2]=s,t[3]=i):i=t[3];let a;t[4]===Symbol.for("react.memo_cache_sentinel")?(a=(0,l.jsx)(Mi,{size:26,strokeWidth:2.5}),t[4]=a):a=t[4];let o;return t[5]!==n||t[6]!==i?(o=(0,l.jsx)("button",{"aria-label":"Create Post",onClick:n,className:i,children:a}),t[5]=n,t[6]=i,t[7]=o):o=t[7],o},Ih=Fh,qh=U(),Oh=()=>{const e=(0,qh.c)(4);let t,s,r;e[0]===Symbol.for("react.memo_cache_sentinel")?(t={opacity:0,y:-20},s={opacity:1,y:0},r={duration:.5,type:"spring",stiffness:100},e[0]=t,e[1]=s,e[2]=r):(t=e[0],s=e[1],r=e[2]);let n;return e[3]===Symbol.for("react.memo_cache_sentinel")?(n=(0,l.jsxs)(he.div,{initial:t,animate:s,transition:r,className:"group relative mb-6 aspect-[21/9] w-full cursor-pointer overflow-hidden rounded-3xl sm:aspect-[2.5/1] active:scale-[0.98] transition-transform duration-200",children:[(0,l.jsx)("img",{src:"/welcome-banner.webp",alt:"Welcome Banner",fetchPriority:"high",loading:"eager",decoding:"async",className:"h-full w-full object-cover duration-700 group-hover:scale-105"}),(0,l.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"})]}),e[3]=n):n=e[3],n},Vh=Oh,Bh=U(),Hh=()=>{const e=(0,Bh.c)(12);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,l.jsxs)(ze,{to:"/",className:"flex items-center gap-2 text-zinc-500 transition-colors hover:text-black dark:hover:text-white",children:[(0,l.jsx)(vr,{size:20}),(0,l.jsx)("span",{className:"text-sm font-medium",children:"Back to Feed"})]}),e[0]=t):t=e[0];let s;e[1]===Symbol.for("react.memo_cache_sentinel")?(s=(0,l.jsx)("header",{className:"sticky top-0 z-50 border-b border-zinc-100 bg-white/80 backdrop-blur-md dark:border-zinc-800 dark:bg-black/80",children:(0,l.jsxs)("div",{className:"mx-auto flex h-16 max-w-4xl items-center justify-between px-4 sm:px-6",children:[t,(0,l.jsxs)(ze,{to:"/",className:"flex items-center gap-2",children:[(0,l.jsx)("img",{src:"/logo.webp",alt:"Logo",className:"size-8 rounded-lg"}),(0,l.jsx)("span",{className:"text-xl font-bold tracking-tight",children:"MySys"})]}),(0,l.jsx)("div",{className:"w-20"})," "]})}),e[1]=s):s=e[1];let r;e[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,l.jsx)("main",{className:"mx-auto max-w-4xl px-4 py-12 sm:px-6 lg:py-20",children:(0,l.jsx)("div",{className:"prose prose-zinc dark:prose-invert max-w-none",children:(0,l.jsx)(mr,{})})}),e[2]=r):r=e[2];let n;e[3]===Symbol.for("react.memo_cache_sentinel")?(n=(0,l.jsx)("h3",{className:"text-sm font-semibold text-black dark:text-white",children:"Legal"}),e[3]=n):n=e[3];let i,a;e[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,l.jsxs)("div",{children:[n,(0,l.jsxs)("ul",{className:"mt-4 space-y-2",children:[(0,l.jsx)("li",{children:(0,l.jsx)(ze,{to:"/terms",className:"text-sm text-zinc-500 hover:text-violet-500",children:"Terms"})}),(0,l.jsx)("li",{children:(0,l.jsx)(ze,{to:"/privacy",className:"text-sm text-zinc-500 hover:text-violet-500",children:"Privacy"})}),(0,l.jsx)("li",{children:(0,l.jsx)(ze,{to:"/guidelines",className:"text-sm text-zinc-500 hover:text-violet-500",children:"Guidelines"})})]})]}),a=(0,l.jsx)("h3",{className:"text-sm font-semibold text-black dark:text-white",children:"Support"}),e[4]=i,e[5]=a):(i=e[4],a=e[5]);let o,c;e[6]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsxs)("div",{children:[a,(0,l.jsxs)("ul",{className:"mt-4 space-y-2",children:[(0,l.jsx)("li",{children:(0,l.jsx)(ze,{to:"/support",className:"text-sm text-zinc-500 hover:text-violet-500",children:"Help Center"})}),(0,l.jsx)("li",{children:(0,l.jsx)(ze,{to:"/status",className:"text-sm text-zinc-500 hover:text-violet-500",children:"System Status"})})]})]}),c=(0,l.jsx)("h3",{className:"text-sm font-semibold text-black dark:text-white",children:"Community"}),e[6]=o,e[7]=c):(o=e[6],c=e[7]);let d,u;e[8]===Symbol.for("react.memo_cache_sentinel")?(d=(0,l.jsxs)("div",{children:[c,(0,l.jsxs)("ul",{className:"mt-4 space-y-2",children:[(0,l.jsx)("li",{children:(0,l.jsx)("a",{href:"https://discord.com/systemadminbd",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-zinc-500 hover:text-violet-500",children:"Discord"})}),(0,l.jsx)("li",{children:(0,l.jsx)("a",{href:"https://github.com/mysys",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-zinc-500 hover:text-violet-500",children:"GitHub"})})]})]}),u=(0,l.jsx)("h3",{className:"text-sm font-semibold text-black dark:text-white",children:"Social"}),e[8]=d,e[9]=u):(d=e[8],u=e[9]);let f;e[10]===Symbol.for("react.memo_cache_sentinel")?(f=(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-8 md:grid-cols-4",children:[i,o,d,(0,l.jsxs)("div",{children:[u,(0,l.jsx)("ul",{className:"mt-4 space-y-2",children:(0,l.jsx)("li",{children:(0,l.jsx)(ze,{to:"/",className:"text-sm text-zinc-500 hover:text-violet-500",children:"MySys"})})})]})]}),e[10]=f):f=e[10];let p;return e[11]===Symbol.for("react.memo_cache_sentinel")?(p=(0,l.jsxs)("div",{className:"min-h-screen bg-background selection:bg-violet-500 selection:text-white",children:[s,r,(0,l.jsx)("footer",{className:"border-t border-zinc-100 bg-zinc-50 py-12 dark:border-zinc-800 dark:bg-zinc-900/50",children:(0,l.jsxs)("div",{className:"mx-auto max-w-4xl px-4 sm:px-6",children:[f,(0,l.jsx)("div",{className:"mt-12 border-t border-zinc-200 pt-8 dark:border-zinc-800",children:(0,l.jsx)("p",{className:"text-sm text-zinc-500",children:" 2026 MySys. All rights reserved. Built with passion."})})]})})]}),e[11]=p):p=e[11],p},Kh=Hh,Qh=U(),Wh=()=>{const e=(0,Qh.c)(21),{currentUser:t}=be(),{unreadCount:s}=Eo(t),{unreadCount:r}=Vr(t);let n,i,a,o,c;e[0]===Symbol.for("react.memo_cache_sentinel")?(n={id:"home",icon:ho,path:"/"},i={id:"explore",icon:go,path:"/explore"},a={id:"reels",icon:xo,path:"/r"},o={id:"messages",icon:po,path:"/m"},c={id:"notifications",icon:vo,path:"/notifications"},e[0]=n,e[1]=i,e[2]=a,e[3]=o,e[4]=c):(n=e[0],i=e[1],a=e[2],o=e[3],c=e[4]);const d=t?`/u/${t.handle}`:"/login";let u;e[5]!==d?(u={id:"profile",icon:es,path:d},e[5]=d,e[6]=u):u=e[6];let f;if(e[7]!==t?.role||e[8]!==u){if(f=[n,i,a,o,c,u],t?.role==="admin"){let v;e[10]===Symbol.for("react.memo_cache_sentinel")?(v={id:"admin",icon:gr,path:"/syspanel"},e[10]=v):v=e[10],f.push(v)}e[7]=t?.role,e[8]=u,e[9]=f}else f=e[9];let p;e[11]===Symbol.for("react.memo_cache_sentinel")?(p=(0,l.jsx)(ze,{to:"/",className:"mb-8 transition-transform hover:scale-110",children:(0,l.jsx)("img",{src:"/logo.webp",alt:"Logo",className:"size-8 rounded-lg"})}),e[11]=p):p=e[11];let m;e[12]!==r||e[13]!==f||e[14]!==s?(m=f.map(v=>(0,l.jsxs)(vs,{to:v.path,"aria-label":v.id,className:Gh,children:[(0,l.jsx)(v.icon,{size:26,strokeWidth:2.5}),v.id==="notifications"&&s>0&&(0,l.jsx)("span",{className:"absolute right-2 top-2 size-2 rounded-full bg-rose-500 ring-2 ring-white dark:ring-black"}),v.id==="messages"&&r>0&&(0,l.jsx)("span",{className:"absolute right-2 top-2 size-2 rounded-full bg-rose-500 ring-2 ring-white dark:ring-black"})]},v.id)),e[12]=r,e[13]=f,e[14]=s,e[15]=m):m=e[15];let h;e[16]!==t?(h=t&&(0,l.jsx)("div",{className:"mt-2",children:(0,l.jsx)(Ih,{triggerClassName:"rounded-xl bg-zinc-950 p-2.5 text-white dark:bg-white dark:text-zinc-950"})}),e[16]=t,e[17]=h):h=e[17];let g;return e[18]!==m||e[19]!==h?(g=(0,l.jsxs)("aside",{className:"sticky top-0 hidden h-screen w-[68px] shrink-0 self-start flex-col items-center bg-white py-5 transition-colors duration-200 dark:bg-black md:flex",children:[p,(0,l.jsxs)("nav",{className:"flex w-full flex-col items-center gap-y-4",children:[m,h]})]}),e[18]=m,e[19]=h,e[20]=g):g=e[20],g},Uh=Wh;function Gh(e){const{isActive:t}=e;return`relative rounded-xl border border-transparent p-2.5 transition-all duration-200 ${t?"border-zinc-200 bg-zinc-100 text-black dark:border-zinc-800 dark:bg-zinc-900 dark:text-white":"text-zinc-500 hover:bg-zinc-50 dark:hover:bg-zinc-900"}`}var zo=U(),Jh=[{name:" 2026 MySys",path:"/terms"},{name:"Terms",path:"/terms"},{name:"Privacy",path:"/privacy"},{name:"Guidelines",path:"/guidelines"},{name:"Discord",path:"https://discord.com/systemadminbd",isExternal:!0},{name:"MySys",path:"/"},{name:"GitHub",path:"https://github.com/systemadminbd",isExternal:!0},{name:"Support",path:"/support"},{name:"Status",path:"/status"}],Hn=()=>{const e=(0,zo.c)(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,l.jsx)("div",{className:"flex flex-wrap gap-x-4 gap-y-2 px-2 pb-5 text-[13px] font-medium text-zinc-500",children:Jh.map(Zh)}),e[0]=t):t=e[0],t},Yh=()=>{const e=(0,zo.c)(51),{currentUser:t}=be(),{darkMode:s,toggleDarkMode:r}=As(),[n,i]=(0,x.useState)(""),a=Ce();let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o={queryKey:["trending-hashtags"],queryFn:ep,staleTime:3e5,refetchInterval:6e4},e[0]=o):o=e[0];const{data:c}=ye(o);let d,u,f;if(e[1]!==t||e[2]!==s||e[3]!==a||e[4]!==n||e[5]!==c||e[6]!==r){u=Symbol.for("react.early_return_sentinel");e:{const k=c===void 0?[]:c;let j;e[10]!==a||e[11]!==n?(j=N=>{N.key==="Enter"&&n.trim()&&(a(`/explore?q=${encodeURIComponent(n.trim())}&tab=posts`),i(""))},e[10]=a,e[11]=n,e[12]=j):j=e[12],d=j;const _=(k||[]).filter(tp);let C;e[13]!==s?(C=s?(0,l.jsx)(bl,{size:20}):(0,l.jsx)(Fl,{size:20}),e[13]=s,e[14]=C):C=e[14];let S;if(e[15]!==C||e[16]!==r?(S=(0,l.jsx)("button",{onClick:r,className:"cursor-pointer rounded-full border border-zinc-100 bg-zinc-50 p-3 text-zinc-500 transition-all hover:bg-zinc-100 dark:border-zinc-800 dark:bg-zinc-900 dark:text-zinc-400 dark:hover:bg-zinc-800",title:"Toggle Theme",children:C}),e[15]=C,e[16]=r,e[17]=S):S=e[17],f=S,t){let N;e[18]===Symbol.for("react.memo_cache_sentinel")?(N=()=>i(""),e[18]=N):N=e[18];let E;e[19]!==d||e[20]!==n?(E=(0,l.jsx)("div",{className:"flex-1",children:(0,l.jsx)(Tn,{value:n,onChange:i,onClear:N,onKeyDown:d})}),e[19]=d,e[20]=n,e[21]=E):E=e[21];let P;e[22]!==E||e[23]!==f?(P=(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[E,f]}),e[22]=E,e[23]=f,e[24]=P):P=e[24];let M;e[25]===Symbol.for("react.memo_cache_sentinel")?(M=(0,l.jsx)("h3",{className:"px-4 pt-4 pb-2 text-xl font-black text-[--foreground]",children:"What's happening"}),e[25]=M):M=e[25];let z;e[26]!==a?(z=(I,H)=>{const T=I.name.replace(/^#/,"");return(0,l.jsxs)("div",{onClick:()=>a(`/tags/${T}`),className:"group cursor-pointer px-4 py-3 transition-colors hover:bg-zinc-50 dark:hover:bg-zinc-900/50",children:[(0,l.jsx)("div",{className:"text-[13px] font-medium text-zinc-500 dark:text-zinc-400",children:"Trending"}),(0,l.jsxs)("div",{className:"text-[15px] font-bold text-[--foreground] group-hover:text-violet-500 transition-colors",children:["#",T]}),(0,l.jsxs)("div",{className:"text-[13px] text-zinc-500 dark:text-zinc-400",children:[I.usage_count??0," posts"]})]},I.id??`${T}-${H}`)},e[26]=a,e[27]=z):z=e[27];let $;e[28]===Symbol.for("react.memo_cache_sentinel")?($=(0,l.jsx)("button",{className:"w-full px-4 py-4 text-left text-violet-500 hover:bg-zinc-50 dark:hover:bg-zinc-900/50 transition-colors text-sm font-medium",children:"Show more"}),e[28]=$):$=e[28];const A=(0,l.jsxs)("div",{className:"flex flex-col",children:[_.map(z),_.length===0&&(0,l.jsx)("p",{className:"px-4 py-6 text-sm text-zinc-500 text-center",children:"No trends yet"}),$]});let D;e[29]!==A?(D=(0,l.jsxs)("div",{className:"rounded-2xl overflow-hidden",children:[M,A]}),e[29]=A,e[30]=D):D=e[30];let O;e[31]===Symbol.for("react.memo_cache_sentinel")?(O=(0,l.jsx)(Hn,{}),e[31]=O):O=e[31];let F;e[32]!==D||e[33]!==P?(F=(0,l.jsxs)("aside",{className:"sticky top-0 hidden max-h-screen w-[350px] shrink-0 self-start flex-col gap-y-6 overflow-y-auto pt-5 lg:flex",children:[P,D,O]}),e[32]=D,e[33]=P,e[34]=F):F=e[34],u=F;break e}}e[1]=t,e[2]=s,e[3]=a,e[4]=n,e[5]=c,e[6]=r,e[7]=d,e[8]=u,e[9]=f}else d=e[7],u=e[8],f=e[9];if(u!==Symbol.for("react.early_return_sentinel"))return u;let p,m;e[35]!==a?(p=(0,l.jsx)("button",{onClick:()=>a("/register"),className:"cursor-pointer flex-1 rounded-full border border-[--border] bg-[--card] py-2.5 font-bold text-[--foreground] shadow-sm transition-colors hover:bg-zinc-50 dark:hover:bg-zinc-900",children:"Signup"}),m=(0,l.jsx)("button",{onClick:()=>a("/login"),className:"cursor-pointer flex-1 rounded-full bg-zinc-950 py-2.5 font-bold text-white transition-opacity hover:opacity-90 dark:bg-white dark:text-zinc-950",children:"Login"}),e[35]=a,e[36]=p,e[37]=m):(p=e[36],m=e[37]);let h;e[38]!==p||e[39]!==m||e[40]!==f?(h=(0,l.jsxs)("div",{className:"flex gap-3",children:[p,m,f]}),e[38]=p,e[39]=m,e[40]=f,e[41]=h):h=e[41];let g;e[42]===Symbol.for("react.memo_cache_sentinel")?(g=()=>i(""),e[42]=g):g=e[42];let v;e[43]!==d||e[44]!==n?(v=(0,l.jsx)(Tn,{value:n,onChange:i,onClear:g,onKeyDown:d}),e[43]=d,e[44]=n,e[45]=v):v=e[45];let y,b;e[46]===Symbol.for("react.memo_cache_sentinel")?(y=(0,l.jsx)(S1,{}),b=(0,l.jsx)(Hn,{}),e[46]=y,e[47]=b):(y=e[46],b=e[47]);let w;return e[48]!==h||e[49]!==v?(w=(0,l.jsxs)("aside",{className:"sticky top-0 hidden max-h-screen w-[400px] shrink-0 self-start flex-col gap-y-6 overflow-y-auto pt-5 pr-4 lg:flex",children:[h,v,y,b]}),e[48]=h,e[49]=v,e[50]=w):w=e[50],w},Xh=Yh;function Zh(e){return e.isExternal?(0,l.jsx)("a",{href:e.path,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:e.name},e.name):(0,l.jsx)(ze,{to:e.path,className:"hover:underline",children:e.name},e.name)}function ep(){return tu(5)}function tp(e){return typeof e?.name=="string"&&e.name.trim().length>0}var sp=U(),rp=()=>{const e=(0,sp.c)(26),t=as(),{darkMode:s}=As(),r=t.pathname==="/";let n;e[0]!==t.pathname?(n=t.pathname.startsWith("/r"),e[0]=t.pathname,e[1]=n):n=e[1];const i=n;let a;e[2]!==t.pathname||e[3]!==t.search?(a=t.pathname.startsWith("/r")||t.pathname.startsWith("/create")||t.pathname==="/settings"||t.pathname==="/edit-profile"||t.pathname.startsWith("/m")&&(t.pathname.split("/").length>2||t.search.includes("with")),e[2]=t.pathname,e[3]=t.search,e[4]=a):a=e[4];const o=a,c=s&&"dark";let d;e[5]!==c?(d=Q("min-h-[100dvh] bg-[--background] text-[--foreground] font-sans selection:bg-violet-500 selection:text-white transition-colors duration-200 pt-[env(safe-area-inset-top)]",c),e[5]=c,e[6]=d):d=e[6];let u;e[7]===Symbol.for("react.memo_cache_sentinel")?(u=(0,l.jsx)(Uh,{}),e[7]=u):u=e[7];const f=`flex w-full flex-1 justify-center px-0 gap-x-0 ${i?"":"md:px-2 md:py-3 md:gap-x-4 lg:gap-x-8"}`;let p;e[8]!==r?(p=r&&(0,l.jsx)("div",{className:"w-full max-w-full overflow-hidden",children:(0,l.jsx)(Vh,{})}),e[8]=r,e[9]=p):p=e[9];let m;e[10]===Symbol.for("react.memo_cache_sentinel")?(m=(0,l.jsx)("div",{className:"w-full min-w-0 relative",children:(0,l.jsx)(mr,{})}),e[10]=m):m=e[10];let h;e[11]!==p?(h=(0,l.jsxs)("div",{className:"flex w-full min-w-0 flex-1 flex-col overflow-x-hidden",children:[p,m]}),e[11]=p,e[12]=h):h=e[12];let g;e[13]!==i||e[14]!==t.pathname?(g=!t.pathname.startsWith("/m")&&!i&&(0,l.jsx)(Xh,{}),e[13]=i,e[14]=t.pathname,e[15]=g):g=e[15];let v;e[16]!==f||e[17]!==h||e[18]!==g?(v=(0,l.jsxs)("div",{className:"mx-auto flex min-h-[100dvh] w-full max-w-[1500px] justify-center px-0 sm:px-0",children:[u,(0,l.jsxs)("main",{className:f,children:[h,g]})]}),e[16]=f,e[17]=h,e[18]=g,e[19]=v):v=e[19];let y;e[20]!==o?(y=!o&&(0,l.jsx)(Rh,{}),e[20]=o,e[21]=y):y=e[21];let b;return e[22]!==v||e[23]!==y||e[24]!==d?(b=(0,l.jsxs)("div",{className:d,children:[v,y]}),e[22]=v,e[23]=y,e[24]=d,e[25]=b):b=e[25],b},np=rp,ip=U();const Bv=(e,t)=>{const s=(0,ip.c)(58),r=e?.id,n=$e(),{addToast:i}=Fe(),a=e?.follower_count||0,o=e?.following_count||0;let c;s[0]!==a||s[1]!==o?(c={followers:a,following:o},s[0]=a,s[1]=o,s[2]=c):c=s[2];const[d,u]=(0,x.useState)(c),[f,p]=(0,x.useState)(e?.id);e?.id!==f&&(p(e?.id),u({followers:e?.follower_count||0,following:e?.following_count||0}));let m;s[3]!==t||s[4]!==r?(m=r&&Qe(r)&&t&&Qe(t),s[3]=t,s[4]=r,s[5]=m):m=s[5];const h=m;let g,v;s[6]!==t||s[7]!==r?(g=["isFollowing",t,r],v=()=>od(t,r),s[6]=t,s[7]=r,s[8]=g,s[9]=v):(g=s[8],v=s[9]);const y=!!h;let b;s[10]!==g||s[11]!==v||s[12]!==y?(b={queryKey:g,queryFn:v,enabled:y,staleTime:1/0},s[10]=g,s[11]=v,s[12]=y,s[13]=b):b=s[13];const{data:w}=ye(b),k=w===void 0?!1:w;let j,_,C;s[14]!==r?(C=["followStats",r],j=async()=>{const I=await dd(r);return u(I),I},_=!!r&&Qe(r),s[14]=r,s[15]=j,s[16]=_,s[17]=C):(j=s[15],_=s[16],C=s[17]);let S;s[18]!==j||s[19]!==_||s[20]!==C?(S={queryKey:C,queryFn:j,enabled:_,staleTime:6e4},s[18]=j,s[19]=_,s[20]=C,s[21]=S):S=s[21],ye(S);let N;s[22]!==t||s[23]!==r?(N=()=>ad(t,r),s[22]=t,s[23]=r,s[24]=N):N=s[24];let E;s[25]!==t||s[26]!==k||s[27]!==n||s[28]!==r?(E=async()=>{await n.cancelQueries({queryKey:["isFollowing",t,r]});const I=n.getQueryData(["isFollowing",t,r]);return n.setQueryData(["isFollowing",t,r],!k),u(H=>({...H,followers:k?Math.max(0,H.followers-1):H.followers+1})),{previousFollowing:I}},s[25]=t,s[26]=k,s[27]=n,s[28]=r,s[29]=E):E=s[29];let P;s[30]!==i||s[31]!==t||s[32]!==n||s[33]!==r?(P=(I,H,T)=>{T?.previousFollowing!==void 0&&(n.setQueryData(["isFollowing",t,r],T.previousFollowing),u(W=>({...W,followers:T.previousFollowing?W.followers+1:Math.max(0,W.followers-1)}))),i("Failed to update follow status","error")},s[30]=i,s[31]=t,s[32]=n,s[33]=r,s[34]=P):P=s[34];let M;s[35]!==t||s[36]!==n||s[37]!==r?(M=()=>{n.invalidateQueries({queryKey:["isFollowing",t,r]}),n.invalidateQueries({queryKey:["followStats",r]})},s[35]=t,s[36]=n,s[37]=r,s[38]=M):M=s[38];let z;s[39]!==i?(z=I=>{i(I?"Followed":"Unfollowed")},s[39]=i,s[40]=z):z=s[40];let $;s[41]!==N||s[42]!==E||s[43]!==P||s[44]!==M||s[45]!==z?($={mutationFn:N,onMutate:E,onError:P,onSettled:M,onSuccess:z},s[41]=N,s[42]=E,s[43]=P,s[44]=M,s[45]=z,s[46]=$):$=s[46];const A=me($);let D;s[47]!==i||s[48]!==t||s[49]!==A||s[50]!==h||s[51]!==r?(D=async()=>{if(!t)return i("Please login to follow!","error");if(t===r)return i("You cannot follow yourself!","error");h&&A.mutate()},s[47]=i,s[48]=t,s[49]=A,s[50]=h,s[51]=r,s[52]=D):D=s[52];const O=D;let F;return s[53]!==A.isPending||s[54]!==O||s[55]!==k||s[56]!==d?(F={isFollowing:k,stats:d,loading:A.isPending,handleFollow:O,setStats:u},s[53]=A.isPending,s[54]=O,s[55]=k,s[56]=d,s[57]=F):F=s[57],F};var ap=U();const op=(e,t,s)=>{const r=(0,ap.c)(16);let n,i;r[0]!==t||r[1]!==e?(n=["follows",t,e],i=v=>{const{pageParam:y}=v;return(t==="Followers"?ld:cd)(e,y,10)},r[0]=t,r[1]=e,r[2]=n,r[3]=i):(n=r[2],i=r[3]);const a=!!e&&s;let o;r[4]!==n||r[5]!==i||r[6]!==a?(o={queryKey:n,queryFn:i,initialPageParam:null,getNextPageParam:lp,enabled:a},r[4]=n,r[5]=i,r[6]=a,r[7]=o):o=r[7];const{data:c,fetchNextPage:d,hasNextPage:u,isFetchingNextPage:f,isLoading:p}=Oe(o);let m;r[8]!==c?.pages?(m=c?.pages.flatMap(cp)||[],r[8]=c?.pages,r[9]=m):m=r[9];const h=m;let g;return r[10]!==d||r[11]!==h||r[12]!==u||r[13]!==f||r[14]!==p?(g={followList:h,fetchNextPage:d,hasNextPage:u,isFetchingNextPage:f,isLoading:p},r[10]=d,r[11]=h,r[12]=u,r[13]=f,r[14]=p,r[15]=g):g=r[15],g};function lp(e){if(!(!e||e.length<10))return e[e.length-1].followed_at}function cp(e){return e}var dp=U();const up=(e,t)=>{const s=(0,dp.c)(95),r=$e(),{addToast:n}=Fe();let i;s[0]!==e?.id?(i=(q,K)=>{const Y=q===void 0?[]:q,ne=K===void 0?[]:K;return Y.map(Z=>{const ue=Z.reply_to_id;let fe=null;if(ue){const ie=Y.find(we=>we.id===ue);ie&&(fe={id:ie.id,senderName:ie.sender?.name||ie.sender?.display_name||"Unknown",text:ie.content||(ie.type==="image"?"Photo":ie.type==="video"?"Video":ie.type==="voice"?"Voice message":"")})}return{id:Z.id,sender:Z.sender_id===e?.id?"me":"them",senderId:Z.sender_id,senderAvatar:Z.sender?.avatar,senderName:Z.sender?.name,text:Z.content||"",type:Z.type||"text",media:Z.media?Array.isArray(Z.media)?Z.media:[Z.media]:[],isRead:Z.is_read||!1,replyToId:ue,replyTo:fe,reactions:ne.filter(ie=>ie.message_id===Z.id),time:(()=>{if(!Z.created_at)return"Just now";const ie=new Date(Z.created_at);return isNaN(ie.getTime())?"Just now":ie.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})(),updatedAt:Z.updated_at,isOptimistic:Z.isOptimistic}})},s[0]=e?.id,s[1]=i):i=s[1],e?.id;const a=i;let o,c;s[2]!==t?(o=["messages",t],c=q=>{const{pageParam:K}=q;return qd(t,K,20)},s[2]=t,s[3]=o,s[4]=c):(o=s[3],c=s[4]);const d=!!t;let u;s[5]!==o||s[6]!==c||s[7]!==d?(u={queryKey:o,queryFn:c,initialPageParam:null,getNextPageParam:fp,enabled:d,refetchOnWindowFocus:!1},s[5]=o,s[6]=c,s[7]=d,s[8]=u):u=s[8];const{data:f,fetchNextPage:p,hasNextPage:m,isFetchingNextPage:h,isLoading:g,refetch:v}=Oe(u);let y,b;s[9]!==t?(y=["reactions",t],b=()=>Od(t),s[9]=t,s[10]=y,s[11]=b):(y=s[10],b=s[11]);const w=!!t;let k;s[12]!==y||s[13]!==b||s[14]!==w?(k={queryKey:y,queryFn:b,enabled:w,staleTime:3e5},s[12]=y,s[13]=b,s[14]=w,s[15]=k):k=s[15];const{data:j}=ye(k);let _;s[16]!==j?(_=j===void 0?[]:j,s[16]=j,s[17]=_):_=s[17];const C=_;let S;s[18]!==e?(S=q=>{const{convId:K,text:Y,type:ne,media:Z,replyToId:ue}=q,fe=ne===void 0?"text":ne,ie=Z===void 0?[]:Z,we=ue===void 0?null:ue;return Bd(K,e.id,Y,fe,ie,we)},s[18]=e,s[19]=S):S=s[19];let N;s[20]!==t||s[21]!==e||s[22]!==r?(N=async q=>{await r.cancelQueries({queryKey:["messages",t]});const K=r.getQueryData(["messages",t]),Y={id:`temp-${Date.now()}`,conversation_id:t,sender_id:e.id,content:q.text,type:q.type||"text",media:q.media||[],reply_to_id:q.replyToId,reply_to:null,is_read:!1,created_at:new Date().toISOString(),isOptimistic:!0,sender:{id:e.id,handle:e.handle,name:e.name,avatar:e.avatar,verified:e.verified}};return r.setQueryData(["messages",t],ne=>{if(!ne)return{pages:[[Y]],pageParams:[null]};const Z=[...ne.pages];return Z[0]=[Y,...Z[0]],{...ne,pages:Z}}),{previousMessages:K}},s[20]=t,s[21]=e,s[22]=r,s[23]=N):N=s[23];let E;s[24]!==t||s[25]!==n||s[26]!==r?(E=(q,K,Y)=>{r.setQueryData(["messages",t],Y?.previousMessages),n("Failed to send message","error")},s[24]=t,s[25]=n,s[26]=r,s[27]=E):E=s[27];let P;s[28]!==t||s[29]!==e||s[30]!==r?(P=()=>{r.invalidateQueries({queryKey:["messages",t]}),r.invalidateQueries({queryKey:["conversations",e.id]})},s[28]=t,s[29]=e,s[30]=r,s[31]=P):P=s[31];let M;s[32]!==S||s[33]!==N||s[34]!==E||s[35]!==P?(M={mutationFn:S,onMutate:N,onError:E,onSettled:P},s[32]=S,s[33]=N,s[34]=E,s[35]=P,s[36]=M):M=s[36];const z=me(M);let $;s[37]!==t||s[38]!==r?($=async q=>{const{messageId:K,content:Y}=q;await r.cancelQueries({queryKey:["messages",t]});const ne=r.getQueryData(["messages",t]);return r.setQueryData(["messages",t],Z=>Z&&{...Z,pages:Z.pages.map(ue=>ue.map(fe=>fe.id===K?{...fe,content:Y}:fe))}),{previousMessages:ne}},s[37]=t,s[38]=r,s[39]=$):$=s[39];let A;s[40]!==t||s[41]!==e?.id||s[42]!==r?(A=q=>{q&&(r.invalidateQueries({queryKey:["messages",t]}),r.invalidateQueries({queryKey:["conversations",e?.id]}))},s[40]=t,s[41]=e?.id,s[42]=r,s[43]=A):A=s[43];let D;s[44]!==t||s[45]!==n||s[46]!==r?(D=(q,K,Y)=>{r.setQueryData(["messages",t],Y?.previousMessages),n("Failed to edit message","error")},s[44]=t,s[45]=n,s[46]=r,s[47]=D):D=s[47];let O;s[48]!==$||s[49]!==A||s[50]!==D?(O={mutationFn:mp,onMutate:$,onSuccess:A,onError:D},s[48]=$,s[49]=A,s[50]=D,s[51]=O):O=s[51];const F=me(O);let I;s[52]!==t||s[53]!==n||s[54]!==e||s[55]!==r?(I=async(q,K)=>{if(!e?.id||!t)return;await r.cancelQueries({queryKey:["reactions",t]});const Y=r.getQueryData(["reactions",t]),ne=Y?.find(Z=>Z.message_id===q&&Z.user_id===e.id&&Z.emoji===K);r.setQueryData(["reactions",t],Z=>{const ue=Z===void 0?[]:Z;if(ne)return ue.filter(ie=>ie.id!==ne.id);const fe={id:`temp-${Date.now()}`,message_id:q,user_id:e.id,emoji:K,created_at:new Date().toISOString()};return[...ue,fe]});try{await Vd(q,e.id,K),r.invalidateQueries({queryKey:["reactions",t]})}catch(Z){console.error("Failed to toggle reaction:",Z),r.setQueryData(["reactions",t],Y),n("Failed to update reaction","error")}},s[52]=t,s[53]=n,s[54]=e,s[55]=r,s[56]=I):I=s[56];const H=I;let T;s[57]!==t||s[58]!==r?(T=async q=>{await r.cancelQueries({queryKey:["messages",t]});const K=r.getQueryData(["messages",t]);return r.setQueryData(["messages",t],Y=>Y&&{...Y,pages:Y.pages.map(ne=>ne.filter(Z=>Z.id!==q))}),{previousMessages:K}},s[57]=t,s[58]=r,s[59]=T):T=s[59];let W;s[60]!==t||s[61]!==e?.id||s[62]!==r?(W=()=>{r.invalidateQueries({queryKey:["messages",t]}),r.invalidateQueries({queryKey:["conversations",e?.id]})},s[60]=t,s[61]=e?.id,s[62]=r,s[63]=W):W=s[63];let J;s[64]!==t||s[65]!==n||s[66]!==r?(J=(q,K,Y)=>{r.setQueryData(["messages",t],Y?.previousMessages),n("Failed to delete message","error")},s[64]=t,s[65]=n,s[66]=r,s[67]=J):J=s[67];let X;s[68]!==T||s[69]!==W||s[70]!==J?(X={mutationFn:hp,onMutate:T,onSuccess:W,onError:J},s[68]=T,s[69]=W,s[70]=J,s[71]=X):X=s[71];const se=me(X);let te;s[72]!==f?.pages?(te=[...f?.pages.flatMap(pp)||[]].reverse(),s[72]=f?.pages,s[73]=te):te=s[73];const ee=te;let B;s[74]!==z?(B=(q,K,Y,ne,Z)=>z.mutate({convId:q,text:K,type:Y,media:ne,replyToId:Z}),s[74]=z,s[75]=B):B=s[75];let G;s[76]!==F?(G=(q,K)=>F.mutate({messageId:q,content:K}),s[76]=F,s[77]=G):G=s[77];let V;s[78]!==se?(V=q=>se.mutate(q),s[78]=se,s[79]=V):V=s[79];let R;return s[80]!==C||s[81]!==F.isPending||s[82]!==p||s[83]!==ee||s[84]!==a||s[85]!==m||s[86]!==h||s[87]!==g||s[88]!==H||s[89]!==v||s[90]!==z.isPending||s[91]!==B||s[92]!==G||s[93]!==V?(R={messages:ee,isMsgLoading:g,refetchMessages:v,fetchNextMessages:p,hasMoreMessages:m,isFetchingMoreMessages:h,sendMessage:B,editMessage:G,isSending:z.isPending,isEditing:F.isPending,onToggleReaction:H,onDeleteMessage:V,conversationReactions:C,formatMessages:a},s[80]=C,s[81]=F.isPending,s[82]=p,s[83]=ee,s[84]=a,s[85]=m,s[86]=h,s[87]=g,s[88]=H,s[89]=v,s[90]=z.isPending,s[91]=B,s[92]=G,s[93]=V,s[94]=R):R=s[94],R};function fp(e){if(!(!e||e.length<20))return e[e.length-1].created_at}function mp(e){const{messageId:t,content:s}=e;return Hd(t,s)}function hp(e){return Wd(e)}function pp(e){return e}var gp=U();const xp=(e,t)=>{const s=(0,gp.c)(26),r=$e();let n;s[0]===Symbol.for("react.memo_cache_sentinel")?(n={},s[0]=n):n=s[0];const[i,a]=(0,x.useState)(n),o=(0,x.useRef)(null);let c;s[1]===Symbol.for("react.memo_cache_sentinel")?(c={},s[1]=c):c=s[1];const d=(0,x.useRef)(c);let u;s[2]!==e||s[3]!==r?(u=async S=>{if(!(!e?.id||!S))try{await Fd(S),r.invalidateQueries({queryKey:["unread_messages_count",e.id]}),r.invalidateQueries({queryKey:["conversations",e.id]})}catch(N){console.error("Failed to mark as read:",N)}},s[2]=e,s[3]=r,s[4]=u):u=s[4];const f=u,p=(0,x.useRef)(null);let m,h;s[5]!==t?(m=()=>{p.current=t||null},h=[t],s[5]=t,s[6]=m,s[7]=h):(m=s[6],h=s[7]),(0,x.useEffect)(m,h);let g;s[8]!==e||s[9]!==f||s[10]!==r?(g=()=>{if(!e?.id)return;const S=L.channel("global_messages_subscription").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},N=>{const E=N.new,P=p.current;P&&E.conversation_id===P&&(r.invalidateQueries({queryKey:["messages",P]}),E.sender_id!==e.id&&f(P)),r.invalidateQueries({queryKey:["conversations",e.id]}),E.sender_id!==e.id&&r.invalidateQueries({queryKey:["unread_messages_count",e.id]}),a(M=>({...M,[E.conversation_id]:!1}))}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"messages"},N=>{const E=N.new,P=p.current;P&&E.conversation_id===P&&r.invalidateQueries({queryKey:["messages",P]}),r.invalidateQueries({queryKey:["conversations",e.id]})}).on("postgres_changes",{event:"DELETE",schema:"public",table:"messages"},()=>{r.invalidateQueries({queryKey:["messages"]}),r.invalidateQueries({queryKey:["conversations",e.id]})}).on("postgres_changes",{event:"*",schema:"public",table:"message_reactions"},()=>{const N=p.current;N&&(r.invalidateQueries({queryKey:["reactions",N]}),r.invalidateQueries({queryKey:["messages",N]}))}).subscribe();return()=>{L.removeChannel(S).catch(vp)}},s[8]=e,s[9]=f,s[10]=r,s[11]=g):g=s[11];const v=e?.id;let y;s[12]!==f||s[13]!==r||s[14]!==v?(y=[v,r,f],s[12]=f,s[13]=r,s[14]=v,s[15]=y):y=s[15],(0,x.useEffect)(g,y);let b;s[16]!==e?(b=()=>{if(!e?.id)return;const S=L.channel("chat_typing_shared").on("broadcast",{event:"typing"},E=>{const{payload:P}=E,{conversationId:M,isTyping:z,userId:$}=P;$!==e.id&&(a(A=>({...A,[M]:z})),d.current[M]&&window.clearTimeout(d.current[M]),z&&(d.current[M]=window.setTimeout(()=>{a(A=>({...A,[M]:!1}))},5e3)))}).subscribe();o.current=S;const N=d.current;return()=>{L.removeChannel(S).catch(yp),Object.values(N).forEach(window.clearTimeout)}},s[16]=e,s[17]=b):b=s[17];const w=e?.id;let k;s[18]!==w?(k=[w],s[18]=w,s[19]=k):k=s[19],(0,x.useEffect)(b,k);let j;s[20]!==e?(j=(S,N)=>{o.current&&e&&o.current.send({type:"broadcast",event:"typing",payload:{conversationId:S,isTyping:N,userId:e.id}})},s[20]=e,s[21]=j):j=s[21];const _=j;let C;return s[22]!==f||s[23]!==_||s[24]!==i?(C={typingStatus:i,sendTypingStatus:_,markAsRead:f},s[22]=f,s[23]=_,s[24]=i,s[25]=C):C=s[25],C};function vp(){}function yp(){}var bp=U();const wp=(e,t)=>{const s=(0,bp.c)(22),{conversations:r,unreadCount:n,isConvLoading:i,refetchConversations:a}=Vr(e),{messages:o,isMsgLoading:c,refetchMessages:d,fetchNextMessages:u,hasMoreMessages:f,isFetchingMoreMessages:p,sendMessage:m,editMessage:h,isSending:g,isEditing:v,onToggleReaction:y,onDeleteMessage:b,conversationReactions:w,formatMessages:k}=up(e,t),{typingStatus:j,sendTypingStatus:_,markAsRead:C}=xp(e,t);let S;return s[0]!==w||s[1]!==r||s[2]!==h||s[3]!==u||s[4]!==k||s[5]!==f||s[6]!==i||s[7]!==v||s[8]!==p||s[9]!==c||s[10]!==g||s[11]!==C||s[12]!==o||s[13]!==b||s[14]!==y||s[15]!==a||s[16]!==d||s[17]!==m||s[18]!==_||s[19]!==j||s[20]!==n?(S={conversations:r,unreadCount:n,isConvLoading:i,refetchConversations:a,refetchMessages:d,sendMessage:m,editMessage:h,sendTypingStatus:_,typingStatus:j,markAsRead:C,formatMessages:k,onToggleReaction:y,onDeleteMessage:b,conversationReactions:w,isSending:g,isEditing:v,messages:o,isMsgLoading:c,fetchNextMessages:u,hasMoreMessages:f,isFetchingMoreMessages:p},s[0]=w,s[1]=r,s[2]=h,s[3]=u,s[4]=k,s[5]=f,s[6]=i,s[7]=v,s[8]=p,s[9]=c,s[10]=g,s[11]=C,s[12]=o,s[13]=b,s[14]=y,s[15]=a,s[16]=d,s[17]=m,s[18]=_,s[19]=j,s[20]=n,s[21]=S):S=s[21],S};var _p=U();const Hv=(e,t,s,r)=>{const n=(0,_p.c)(83),i=$e(),{addToast:a}=Fe();let o;n[0]!==t?(o=t||{comments:0,likes:0,mirrors:0,reposts:0},n[0]=t,n[1]=o):o=n[1];const[c,d]=(0,x.useState)(o),[u,f]=(0,x.useState)(t);t!==u&&(f(t),d(B=>({...B,...t})));let p;n[2]!==r||n[3]!==s?.id||n[4]!==e?(p=r?["comment",r,"interaction",s?.id]:["post",e,"interaction",s?.id],n[2]=r,n[3]=s?.id,n[4]=e,n[5]=p):p=n[5];const m=p;let h;n[6]!==m?(h=[...m,"liked"],n[6]=m,n[7]=h):h=n[7];let g,v;n[8]!==r||n[9]!==s||n[10]!==e?(g=()=>_d(s.id,e,r),v=!!s&&(Qe(e)||(r?Qe(r):!1))&&Qe(s.id),n[8]=r,n[9]=s,n[10]=e,n[11]=g,n[12]=v):(g=n[11],v=n[12]);let y;n[13]!==h||n[14]!==g||n[15]!==v?(y={queryKey:h,queryFn:g,enabled:v,staleTime:6e5},n[13]=h,n[14]=g,n[15]=v,n[16]=y):y=n[16];const{data:b}=ye(y),w=b===void 0?!1:b;let k;n[17]!==m?(k=[...m,"reposted"],n[17]=m,n[18]=k):k=n[18];let j,_;n[19]!==r||n[20]!==s||n[21]!==e?(j=()=>kd(s.id,e,r),_=!!s&&(Qe(e)||(r?Qe(r):!1))&&Qe(s.id),n[19]=r,n[20]=s,n[21]=e,n[22]=j,n[23]=_):(j=n[22],_=n[23]);let C;n[24]!==k||n[25]!==j||n[26]!==_?(C={queryKey:k,queryFn:j,enabled:_,staleTime:6e5},n[24]=k,n[25]=j,n[26]=_,n[27]=C):C=n[27];const{data:S}=ye(C),N=S===void 0?!1:S;let E;n[28]!==r||n[29]!==s||n[30]!==e?(E=()=>wd(s.id,e,r),n[28]=r,n[29]=s,n[30]=e,n[31]=E):E=n[31];let P;n[32]!==m||n[33]!==i?(P=async()=>{await i.cancelQueries({queryKey:[...m,"liked"]});const B=i.getQueryData([...m,"liked"]);return i.setQueryData([...m,"liked"],!B),d(G=>({...G,likes:B?(G.likes||0)-1:(G.likes||0)+1})),{previousLiked:B}},n[32]=m,n[33]=i,n[34]=P):P=n[34];let M;n[35]!==a||n[36]!==m||n[37]!==i?(M=(B,G,V)=>{V?.previousLiked!==void 0&&(i.setQueryData([...m,"liked"],V.previousLiked),d(R=>({...R,likes:V.previousLiked?(R.likes||0)+1:(R.likes||0)-1}))),a("Failed to update like","error")},n[35]=a,n[36]=m,n[37]=i,n[38]=M):M=n[38];let z;n[39]!==m||n[40]!==i?(z=()=>{i.invalidateQueries({queryKey:[...m,"liked"]})},n[39]=m,n[40]=i,n[41]=z):z=n[41];let $;n[42]!==E||n[43]!==P||n[44]!==M||n[45]!==z?($={mutationFn:E,onMutate:P,onError:M,onSettled:z},n[42]=E,n[43]=P,n[44]=M,n[45]=z,n[46]=$):$=n[46];const A=me($);let D;n[47]!==r||n[48]!==s||n[49]!==e?(D=()=>jd(s.id,e,r),n[47]=r,n[48]=s,n[49]=e,n[50]=D):D=n[50];let O;n[51]!==m||n[52]!==i?(O=async()=>{await i.cancelQueries({queryKey:[...m,"reposted"]});const B=i.getQueryData([...m,"reposted"]);return i.setQueryData([...m,"reposted"],!B),d(G=>({...G,reposts:B?(G.reposts||0)-1:(G.reposts||0)+1,mirrors:B?(G.mirrors||0)-1:(G.mirrors||0)+1})),{previousReposted:B}},n[51]=m,n[52]=i,n[53]=O):O=n[53];let F;n[54]!==a||n[55]!==m||n[56]!==i?(F=(B,G,V)=>{V?.previousReposted!==void 0&&(i.setQueryData([...m,"reposted"],V.previousReposted),d(R=>({...R,reposts:V.previousReposted?(R.reposts||0)+1:(R.reposts||0)-1,mirrors:V.previousReposted?(R.mirrors||0)+1:(R.mirrors||0)-1}))),a("Failed to update repost","error")},n[54]=a,n[55]=m,n[56]=i,n[57]=F):F=n[57];let I;n[58]!==m||n[59]!==i?(I=()=>{i.invalidateQueries({queryKey:[...m,"reposted"]})},n[58]=m,n[59]=i,n[60]=I):I=n[60];let H;n[61]!==a?(H=B=>{a(B?"Reposted!":"Removed repost")},n[61]=a,n[62]=H):H=n[62];let T;n[63]!==D||n[64]!==O||n[65]!==F||n[66]!==I||n[67]!==H?(T={mutationFn:D,onMutate:O,onError:F,onSettled:I,onSuccess:H},n[63]=D,n[64]=O,n[65]=F,n[66]=I,n[67]=H,n[68]=T):T=n[68];const W=me(T);let J;n[69]!==a||n[70]!==s||n[71]!==A?(J=async B=>{if(B&&B.stopPropagation(),!s)return a("Please login to like!","error");A.isPending||A.mutate()},n[69]=a,n[70]=s,n[71]=A,n[72]=J):J=n[72];const X=J;let se;n[73]!==a||n[74]!==s||n[75]!==W?(se=async B=>{if(B&&B.stopPropagation(),!s)return a("Please login to repost!","error");W.mutate()},n[73]=a,n[74]=s,n[75]=W,n[76]=se):se=n[76];const te=se;let ee;return n[77]!==X||n[78]!==te||n[79]!==w||n[80]!==N||n[81]!==c?(ee={liked:w,reposted:N,localStats:c,setLocalStats:d,handleLike:X,handleRepost:te},n[77]=X,n[78]=te,n[79]=w,n[80]=N,n[81]=c,n[82]=ee):ee=n[82],ee};var Kv=U(),jp=U();const Qv=()=>{const e=(0,jp.c)(30),[t,s]=(0,x.useState)(!1),[r,n]=(0,x.useState)(!1),[i,a]=(0,x.useState)(0),[o,c]=(0,x.useState)(null),[d,u]=(0,x.useState)(null),f=(0,x.useRef)(null),p=(0,x.useRef)(null);let m;e[0]===Symbol.for("react.memo_cache_sentinel")?(m=[],e[0]=m):m=e[0];const h=(0,x.useRef)(m),g=(0,x.useRef)(!0);let v,y;e[1]!==d?(v=()=>(g.current=!0,()=>{g.current=!1,p.current&&clearInterval(p.current),f.current&&f.current.state!=="inactive"&&(f.current.onstop=null,f.current.stop(),f.current.stream.getTracks().forEach(kp)),d&&URL.revokeObjectURL(d)}),y=[d],e[1]=d,e[2]=v,e[3]=y):(v=e[2],y=e[3]),(0,x.useEffect)(v,y);let b;e[4]===Symbol.for("react.memo_cache_sentinel")?(b=()=>{p.current=window.setInterval(()=>{a(Sp)},1e3)},e[4]=b):b=e[4];const w=b;let k;e[5]===Symbol.for("react.memo_cache_sentinel")?(k=()=>{p.current&&(clearInterval(p.current),p.current=null)},e[5]=k):k=e[5];const j=k;let _;e[6]===Symbol.for("react.memo_cache_sentinel")?(_=async()=>{try{const I=await navigator.mediaDevices.getUserMedia({audio:!0}),H=new MediaRecorder(I);f.current=H,h.current=[],H.ondataavailable=T=>{T.data.size>0&&h.current.push(T.data)},H.onstop=()=>{if(!g.current)return;const T=new Blob(h.current,{type:"audio/webm;codecs=opus"}),W=URL.createObjectURL(T);c(T),u(W),I.getTracks().forEach(Cp)},H.start(),s(!0),n(!1),a(0),w()}catch(I){const H=I;throw console.error("Error accessing microphone:",H),H}},e[6]=_):_=e[6];const C=_;let S;e[7]!==t?(S=()=>{f.current&&t&&(f.current.stop(),s(!1),n(!1),j())},e[7]=t,e[8]=S):S=e[8];const N=S;let E;e[9]!==r||e[10]!==t?(E=()=>{f.current&&t&&!r&&(f.current.pause(),n(!0),j())},e[9]=r,e[10]=t,e[11]=E):E=e[11];const P=E;let M;e[12]!==r||e[13]!==t?(M=()=>{f.current&&t&&r&&(f.current.resume(),n(!1),w())},e[12]=r,e[13]=t,e[14]=M):M=e[14];const z=M;let $;e[15]!==t?($=()=>{f.current&&t&&(f.current.stop(),f.current.onstop=null,s(!1),n(!1),j(),a(0),f.current.stream&&f.current.stream.getTracks().forEach(Np))},e[15]=t,e[16]=$):$=e[16];const A=$;let D;e[17]!==d?(D=()=>{d&&URL.revokeObjectURL(d),c(null),u(null),a(0)},e[17]=d,e[18]=D):D=e[18];const O=D;let F;return e[19]!==o||e[20]!==d||e[21]!==A||e[22]!==O||e[23]!==r||e[24]!==t||e[25]!==P||e[26]!==i||e[27]!==z||e[28]!==N?(F={isRecording:t,isPaused:r,recordingTime:i,startRecording:C,stopRecording:N,pauseRecording:P,resumeRecording:z,cancelRecording:A,audioBlob:o,audioUrl:d,clearAudio:O},e[19]=o,e[20]=d,e[21]=A,e[22]=O,e[23]=r,e[24]=t,e[25]=P,e[26]=i,e[27]=z,e[28]=N,e[29]=F):F=e[29],F};function kp(e){return e.stop()}function Sp(e){return e+1}function Cp(e){return e.stop()}function Np(e){return e.stop()}var Pp=U();const Wv=(e,t,s)=>{const r=(0,Pp.c)(52),n=$e(),{currentUser:i}=be();let a,o;r[0]!==s||r[1]!==e?(a=["comments",e,s],o=A=>{const{pageParam:D}=A;return yd(e,D,10,s)},r[0]=s,r[1]=e,r[2]=a,r[3]=o):(a=r[2],o=r[3]);let c;r[4]!==t?(c=t?{pages:[t],pageParams:[null]}:void 0,r[4]=t,r[5]=c):c=r[5];let d;r[6]!==e?(d=!!e&&!e.startsWith("temp-"),r[6]=e,r[7]=d):d=r[7];let u;r[8]!==a||r[9]!==o||r[10]!==c||r[11]!==d?(u={queryKey:a,queryFn:o,initialPageParam:null,getNextPageParam:$p,initialData:c,enabled:d},r[8]=a,r[9]=o,r[10]=c,r[11]=d,r[12]=u):u=r[12];const{data:f,fetchNextPage:p,hasNextPage:m,isFetchingNextPage:h,isLoading:g,refetch:v}=Oe(u);let y;r[13]!==f?.pages?(y=f?.pages.flatMap(Ep)||[],r[13]=f?.pages,r[14]=y):y=r[14];const b=y;let w;r[15]!==i||r[16]!==e?(w=async A=>{const{userId:D,content:O,media:F,replyToId:I,type:H,duration:T}=A,W=H===void 0?"text":H;if(!i)throw new Error("User not authenticated");return bd(e,D,O,F,I,W,T)},r[15]=i,r[16]=e,r[17]=w):w=r[17];let k;r[18]!==i||r[19]!==s||r[20]!==e||r[21]!==n?(k=async A=>{if(!i)return;const D=["comments",e,s];await n.cancelQueries({queryKey:D});const O=n.getQueryData(D),F={id:`temp-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,post_id:e,user_id:i.id,content:A.content,media:A.media||null,created_at:new Date().toISOString(),parent_id:A.replyToId||s||null,stats:{likes:0,comments:0,reposts:0},user:i,timeAgo:"Just now"};return n.setQueryData(D,I=>I?{...I,pages:[[F,...I.pages[0]],...I.pages.slice(1)]}:{pages:[[F]],pageParams:[null]}),{previousComments:O}},r[18]=i,r[19]=s,r[20]=e,r[21]=n,r[22]=k):k=r[22];let j,_;r[23]!==s||r[24]!==e||r[25]!==n?(j=(A,D,O)=>{const F=["comments",e,s];O?.previousComments&&n.setQueryData(F,O.previousComments)},_=()=>{const A=["comments",e,s];n.invalidateQueries({queryKey:A}),n.invalidateQueries({queryKey:["post",e]})},r[23]=s,r[24]=e,r[25]=n,r[26]=j,r[27]=_):(j=r[26],_=r[27]);let C;r[28]!==w||r[29]!==k||r[30]!==j||r[31]!==_?(C={mutationFn:w,onMutate:k,onError:j,onSettled:_},r[28]=w,r[29]=k,r[30]=j,r[31]=_,r[32]=C):C=r[32];const S=me(C);let N;r[33]!==e||r[34]!==n?(N={mutationFn:zp,onSuccess:()=>{n.invalidateQueries({queryKey:["comments",e]}),n.invalidateQueries({queryKey:["post",e]})}},r[33]=e,r[34]=n,r[35]=N):N=r[35];const E=me(N);let P;r[36]!==e||r[37]!==n?(P={mutationFn:Mp,onSuccess:()=>{n.invalidateQueries({queryKey:["comments",e]})}},r[36]=e,r[37]=n,r[38]=P):P=r[38];const M=me(P);let z;r[39]!==b?(z=b||[],r[39]=b,r[40]=z):z=r[40];let $;return r[41]!==S.isPending||r[42]!==S.mutateAsync||r[43]!==E.mutateAsync||r[44]!==p||r[45]!==m||r[46]!==h||r[47]!==g||r[48]!==v||r[49]!==z||r[50]!==M.mutateAsync?($={comments:z,fetchNextPage:p,hasNextPage:m,isFetchingNextPage:h,isLoading:g,refetch:v,addComment:S.mutateAsync,deleteComment:E.mutateAsync,updateComment:M.mutateAsync,isSubmitting:S.isPending},r[41]=S.isPending,r[42]=S.mutateAsync,r[43]=E.mutateAsync,r[44]=p,r[45]=m,r[46]=h,r[47]=g,r[48]=v,r[49]=z,r[50]=M.mutateAsync,r[51]=$):$=r[51],$};function $p(e){if(!(!e||e.length<10))return e[e.length-1].created_at}function Ep(e){return e}async function zp(e){return gd(e)}async function Mp(e){const{commentId:t,content:s,media:r}=e;return vd(t,{content:s,media:r})}var Ap=U();const Uv=()=>{const e=(0,Ap.c)(69),t=$e(),[s]=zs();let r;e[0]!==s?(r=s.get("page")||"1",e[0]=s,e[1]=r):r=e[1];const n=parseInt(r,10);let i;e[2]===Symbol.for("react.memo_cache_sentinel")?(i={queryKey:["admin","stats"],queryFn:Lp},e[2]=i):i=e[2];const a=ye(i);let o;e[3]!==n?(o={queryKey:["admin","users",n],queryFn:()=>Me.getAllUsers(n,50)},e[3]=n,e[4]=o):o=e[4];const c=ye(o);let d;e[5]===Symbol.for("react.memo_cache_sentinel")?(d={queryKey:["admin","posts"],queryFn:Rp},e[5]=d):d=e[5];const u=ye(d);let f;e[6]!==n?(f={queryKey:["admin","reports",n],queryFn:()=>Me.getReports(n,50)},e[6]=n,e[7]=f):f=e[7];const p=ye(f);let m;e[8]===Symbol.for("react.memo_cache_sentinel")?(m={queryKey:["admin","analytics"],queryFn:Dp},e[8]=m):m=e[8];const h=ye(m);let g;e[9]===Symbol.for("react.memo_cache_sentinel")?(g={queryKey:["admin","settings"],queryFn:Tp},e[9]=g):g=e[9];const v=ye(g);let y;e[10]!==t?(y={mutationFn:Fp,onSuccess:()=>{t.invalidateQueries({queryKey:["admin","settings"]}),xe.success("Settings updated")},onError:Ip},e[10]=t,e[11]=y):y=e[11];const b=me(y);let w;e[12]!==t?(w={mutationFn:qp,onSuccess:()=>{t.invalidateQueries({queryKey:["admin","users"]}),xe.success("User role updated")},onError:Op},e[12]=t,e[13]=w):w=e[13];const k=me(w);let j;e[14]!==t?(j={mutationFn:Vp,onSuccess:()=>{t.invalidateQueries({queryKey:["admin","users"]}),xe.success("Verification status updated")},onError:Bp},e[14]=t,e[15]=j):j=e[15];const _=me(j);let C;e[16]!==t?(C={mutationFn:Hp,onSuccess:()=>{t.invalidateQueries({queryKey:["admin","users"]}),xe.success("User ban status updated")},onError:Kp},e[16]=t,e[17]=C):C=e[17];const S=me(C);let N;e[18]!==t?(N={mutationFn:Qp,onSuccess:()=>{t.invalidateQueries({queryKey:["admin","users"]}),xe.success("User details updated successfully")},onError:Wp},e[18]=t,e[19]=N):N=e[19];const E=me(N);let P;e[20]!==t?(P={mutationFn:Up,onSuccess:()=>{t.invalidateQueries({queryKey:["admin","posts"]}),xe.success("Post deleted permanently")},onError:Gp},e[20]=t,e[21]=P):P=e[21];const M=me(P);let z;e[22]!==t?(z={mutationFn:Jp,onSuccess:()=>{t.invalidateQueries({queryKey:["admin","reports"]}),xe.success("Report status updated")},onError:Yp},e[22]=t,e[23]=z):z=e[23];const $=me(z);let A;e[24]!==t?(A={mutationFn:Xp,onSuccess:()=>{t.invalidateQueries({queryKey:["admin","reports"]}),xe.success("Content removed successfully")},onError:Zp},e[24]=t,e[25]=A):A=e[25];const D=me(A);let O;e[26]!==a.data||e[27]!==a.isLoading?(O={data:a.data,isLoading:a.isLoading},e[26]=a.data,e[27]=a.isLoading,e[28]=O):O=e[28];let F;e[29]!==c.data||e[30]!==c.isLoading?(F={data:c.data,isLoading:c.isLoading},e[29]=c.data,e[30]=c.isLoading,e[31]=F):F=e[31];let I;e[32]!==u.data||e[33]!==u.isLoading?(I={data:u.data,isLoading:u.isLoading},e[32]=u.data,e[33]=u.isLoading,e[34]=I):I=e[34];let H;e[35]!==p.data||e[36]!==p.isLoading?(H={data:p.data,isLoading:p.isLoading},e[35]=p.data,e[36]=p.isLoading,e[37]=H):H=e[37];let T;e[38]!==h.data||e[39]!==h.isLoading?(T={data:h.data,isLoading:h.isLoading},e[38]=h.data,e[39]=h.isLoading,e[40]=T):T=e[40];let W;e[41]!==v.data||e[42]!==v.isLoading?(W={data:v.data,isLoading:v.isLoading},e[41]=v.data,e[42]=v.isLoading,e[43]=W):W=e[43];let J;e[44]!==E.mutate||e[45]!==E.mutateAsync||e[46]!==M.mutate||e[47]!==M.mutateAsync||e[48]!==D.mutate||e[49]!==D.mutateAsync||e[50]!==S.mutate||e[51]!==S.mutateAsync||e[52]!==_.mutate||e[53]!==_.mutateAsync||e[54]!==$.mutate||e[55]!==$.mutateAsync||e[56]!==k.mutate||e[57]!==k.mutateAsync||e[58]!==b.mutate||e[59]!==b.mutateAsync?(J={updateRole:k.mutate,updateRoleAsync:k.mutateAsync,toggleVerification:_.mutate,toggleVerificationAsync:_.mutateAsync,toggleBan:S.mutate,toggleBanAsync:S.mutateAsync,adminUpdateUser:E.mutate,adminUpdateUserAsync:E.mutateAsync,deletePost:M.mutate,deletePostAsync:M.mutateAsync,updateSettings:b.mutate,updateSettingsAsync:b.mutateAsync,updateReportStatus:$.mutate,updateReportStatusAsync:$.mutateAsync,deleteTarget:D.mutate,deleteTargetAsync:D.mutateAsync},e[44]=E.mutate,e[45]=E.mutateAsync,e[46]=M.mutate,e[47]=M.mutateAsync,e[48]=D.mutate,e[49]=D.mutateAsync,e[50]=S.mutate,e[51]=S.mutateAsync,e[52]=_.mutate,e[53]=_.mutateAsync,e[54]=$.mutate,e[55]=$.mutateAsync,e[56]=k.mutate,e[57]=k.mutateAsync,e[58]=b.mutate,e[59]=b.mutateAsync,e[60]=J):J=e[60];let X;return e[61]!==O||e[62]!==F||e[63]!==I||e[64]!==H||e[65]!==T||e[66]!==W||e[67]!==J?(X={stats:O,users:F,posts:I,reports:H,analytics:T,settings:W,actions:J},e[61]=O,e[62]=F,e[63]=I,e[64]=H,e[65]=T,e[66]=W,e[67]=J,e[68]=X):X=e[68],X};function Lp(){return Me.getSystemStats()}function Rp(){return Me.getLatestPosts()}function Dp(){return Me.getAnalytics()}function Tp(){return Me.getSettings()}function Fp(e){return Me.updateSettings(e)}function Ip(e){console.error("Settings update error:",e),xe.error("Failed to update settings")}function qp(e){const{userId:t,role:s}=e;return Me.updateUserRole(t,s)}function Op(e){console.error("Role update error:",e),xe.error("Failed to update role")}function Vp(e){const{userId:t,verified:s}=e;return Me.toggleUserVerification(t,s)}function Bp(e){console.error("Verification toggle error:",e),xe.error("Failed to update verification")}function Hp(e){const{userId:t,banned:s}=e;return Me.toggleUserBan(t,s)}function Kp(e){console.error("Ban toggle error:",e),xe.error("Failed to update ban status")}function Qp(e){const{userId:t,role:s,proValidityDays:r}=e;return Me.adminUpdateUser(t,s,r)}function Wp(e){console.error("User details update error:",e),xe.error("Failed to update user details")}function Up(e){return Me.deletePost(e)}function Gp(e){console.error("Delete post error:",e),xe.error("Failed to delete post")}function Jp(e){const{reportId:t,status:s}=e;return Me.updateReportStatus(t,s)}function Yp(e){console.error("Report status update error:",e),xe.error("Failed to update report")}function Xp(e){const{type:t,id:s}=e;return Me.deleteReportTarget(t,s)}function Zp(e){console.error("Delete target error:",e),xe.error("Failed to remove content")}var eg=U();const Gv=()=>{const e=(0,eg.c)(59),{handle:t}=os(),s=Ce(),{currentUser:r}=be(),{addToast:n}=Fe();let i,a;e[0]!==t?(i=["profile",t],a=()=>nd(t),e[0]=t,e[1]=i,e[2]=a):(i=e[1],a=e[2]);const o=!!t;let c;e[3]!==i||e[4]!==a||e[5]!==o?(c={queryKey:i,queryFn:a,enabled:o,staleTime:3e5},e[3]=i,e[4]=a,e[5]=o,e[6]=c):c=e[6];const{data:d,isLoading:u}=ye(c),[f,p]=(0,x.useState)("feed"),m=d?.id;let h;e[7]!==f||e[8]!==m?(h=["posts","user",m,f],e[7]=f,e[8]=m,e[9]=h):h=e[9];let g;e[10]!==f||e[11]!==d?(g=K=>{const{pageParam:Y}=K;return md(d.id,Y,20,f==="reels"?"reel":null)},e[10]=f,e[11]=d,e[12]=g):g=e[12];const v=!!d?.id;let y;e[13]!==h||e[14]!==g||e[15]!==v?(y={queryKey:h,queryFn:g,enabled:v,initialPageParam:null,getNextPageParam:tg},e[13]=h,e[14]=g,e[15]=v,e[16]=y):y=e[16];const{data:b,fetchNextPage:w,hasNextPage:k,isFetchingNextPage:j,isLoading:_,refetch:C}=Oe(y);let S;e[17]!==d?.id||e[18]!==C?(S=()=>{d?.id&&C()},e[17]=d?.id,e[18]=C,e[19]=S):S=e[19];const N=d?.id;let E;e[20]!==f||e[21]!==C||e[22]!==N?(E=[f,N,C],e[20]=f,e[21]=C,e[22]=N,e[23]=E):E=e[23],(0,x.useEffect)(S,E);let P;e[24]!==b?.pages?(P=b?.pages.flatMap(sg)||[],e[24]=b?.pages,e[25]=P):P=e[25];const M=P,[z,$]=(0,x.useState)(!1),[A,D]=(0,x.useState)("Followers"),{followList:O,fetchNextPage:F,hasNextPage:I,isFetchingNextPage:H,isLoading:T}=op(d?.id,A,z);let W;e[26]===Symbol.for("react.memo_cache_sentinel")?(W=K=>{D(K),$(!0)},e[26]=W):W=e[26];const J=W;let X;e:{if(f==="feed"){let K;e[27]!==M?(K=M.filter(rg),e[27]=M,e[28]=K):K=e[28],X=K;break e}X=M}const se=X;let te;e[29]!==s?(te=K=>{s(`/p/${K}`)},e[29]=s,e[30]=te):te=e[30];const ee=te;let B;e[31]!==t||e[32]!==s?(B=K=>{K!==t&&s(`/u/${K}`)},e[31]=t,e[32]=s,e[33]=B):B=e[33];const G=B;let V;e[34]!==w?(V=()=>{w()},e[34]=w,e[35]=V):V=e[35];const R=V;let q;return e[36]!==f||e[37]!==n||e[38]!==r||e[39]!==F||e[40]!==se||e[41]!==O||e[42]!==A||e[43]!==t||e[44]!==ee||e[45]!==G||e[46]!==I||e[47]!==k||e[48]!==H||e[49]!==j||e[50]!==z||e[51]!==T||e[52]!==R||e[53]!==_||e[54]!==u||e[55]!==s||e[56]!==d||e[57]!==M?(q={handle:t,profile:d,loading:u,userPosts:M,setUserPosts:ng,activeProfileTab:f,setActiveProfileTab:p,loadingPosts:_,isFetchingMorePosts:j,hasMorePosts:k,filteredPosts:se,isFollowModalOpen:z,setIsFollowModalOpen:$,followModalType:A,followListData:O,isListLoading:T,isFetchingMoreFollows:H,hasMoreFollows:I,openFollowModal:J,fetchNextFollows:F,handlePostClick:ee,handleUserClick:G,loadUserPosts:R,currentUser:r,addToast:n,navigate:s},e[36]=f,e[37]=n,e[38]=r,e[39]=F,e[40]=se,e[41]=O,e[42]=A,e[43]=t,e[44]=ee,e[45]=G,e[46]=I,e[47]=k,e[48]=H,e[49]=j,e[50]=z,e[51]=T,e[52]=R,e[53]=_,e[54]=u,e[55]=s,e[56]=d,e[57]=M,e[58]=q):q=e[58],q};function tg(e){if(!e||e.length<20)return;const t=e[e.length-1];return t.sort_timestamp||t.created_at}function sg(e){return e}function rg(e){return!e.community_id&&!e.parent_id}function ng(){return console.warn("setUserPosts is deprecated")}var ig=U();const Jv=()=>{const e=(0,ig.c)(75),{handle:t}=os(),s=Ce(),{currentUser:r}=be(),{addToast:n}=Fe(),i=$e();let a,o;e[0]!==t?(a=["community",t],o=()=>$d(t),e[0]=t,e[1]=a,e[2]=o):(a=e[1],o=e[2]);const c=!!t;let d;e[3]!==a||e[4]!==o||e[5]!==c?(d={queryKey:a,queryFn:o,enabled:c,staleTime:6e5},e[3]=a,e[4]=o,e[5]=c,e[6]=d):d=e[6];const{data:u,isLoading:f,refetch:p}=ye(d),m=u?.id,h=r?.id;let g;e[7]!==m||e[8]!==h?(g=["community",m,"membership",h],e[7]=m,e[8]=h,e[9]=g):g=e[9];let v;e[10]!==u||e[11]!==r?(v=()=>Md(u.id,r.id),e[10]=u,e[11]=r,e[12]=v):v=e[12];const y=!!u?.id&&!!r?.id;let b;e[13]!==g||e[14]!==v||e[15]!==y?(b={queryKey:g,queryFn:v,enabled:y,staleTime:3e5},e[13]=g,e[14]=v,e[15]=y,e[16]=b):b=e[16];const{data:w}=ye(b),k=!!w,j=w?.role||null,_=u?.id;let C;e[17]!==_?(C=["posts","community",_],e[17]=_,e[18]=C):C=e[18];let S;e[19]!==u?(S=B=>{const{pageParam:G}=B;return Ed(u.id,G,10)},e[19]=u,e[20]=S):S=e[20];const N=!!u?.id;let E;e[21]!==C||e[22]!==S||e[23]!==N?(E={queryKey:C,queryFn:S,enabled:N,initialPageParam:null,getNextPageParam:ag},e[21]=C,e[22]=S,e[23]=N,e[24]=E):E=e[24];const{data:P,fetchNextPage:M,hasNextPage:z,isFetchingNextPage:$,isLoading:A}=Oe(E);let D;e[25]!==P?.pages?(D=P?.pages.flatMap(og)||[],e[25]=P?.pages,e[26]=D):D=e[26];const O=D;let F;e[27]!==u||e[28]!==r?(F=()=>zd(u.id,r.id),e[27]=u,e[28]=r,e[29]=F):F=e[29];let I;e[30]!==u||e[31]!==r||e[32]!==t||e[33]!==i?(I=async()=>{const B=u.id,G=r.id;await i.cancelQueries({queryKey:["community",B,"membership",G]}),await i.cancelQueries({queryKey:["community",t]});const V=i.getQueryData(["community",B,"membership",G]),R=i.getQueryData(["community",t]);return i.setQueryData(["community",B,"membership",G],V?null:{role:"member"}),i.setQueryData(["community",t],q=>q&&{...q,membersCount:V?q.membersCount-1:q.membersCount+1}),{previousMembership:V,previousCommunity:R}},e[30]=u,e[31]=r,e[32]=t,e[33]=i,e[34]=I):I=e[34];let H;e[35]!==n||e[36]!==u||e[37]!==r||e[38]!==t||e[39]!==i?(H=(B,G,V)=>{V?.previousMembership!==void 0&&i.setQueryData(["community",u.id,"membership",r.id],V.previousMembership),V?.previousCommunity&&i.setQueryData(["community",t],V.previousCommunity),n("Failed to update membership","error")},e[35]=n,e[36]=u,e[37]=r,e[38]=t,e[39]=i,e[40]=H):H=e[40];let T;e[41]!==u?.id||e[42]!==r?.id||e[43]!==t||e[44]!==i?(T=()=>{i.invalidateQueries({queryKey:["community",u?.id,"membership",r?.id]}),i.invalidateQueries({queryKey:["community",t]})},e[41]=u?.id,e[42]=r?.id,e[43]=t,e[44]=i,e[45]=T):T=e[45];let W;e[46]!==n||e[47]!==u?(W=B=>{u&&n(B?`Joined ${u.name}`:`Left ${u.name}`)},e[46]=n,e[47]=u,e[48]=W):W=e[48];let J;e[49]!==F||e[50]!==I||e[51]!==H||e[52]!==T||e[53]!==W?(J={mutationFn:F,onMutate:I,onError:H,onSettled:T,onSuccess:W},e[49]=F,e[50]=I,e[51]=H,e[52]=T,e[53]=W,e[54]=J):J=e[54];const X=me(J);let se;e[55]!==n||e[56]!==r||e[57]!==X?(se=async()=>{if(!r)return n("Please login to join communities","error");X.mutate()},e[55]=n,e[56]=r,e[57]=X,e[58]=se):se=e[58];const te=se;let ee;return e[59]!==n||e[60]!==u||e[61]!==O||e[62]!==r||e[63]!==M||e[64]!==te||e[65]!==z||e[66]!==$||e[67]!==k||e[68]!==X.isPending||e[69]!==f||e[70]!==A||e[71]!==s||e[72]!==p||e[73]!==j?(ee={community:u,loading:f,isMember:k,userRole:j,isJoining:X.isPending,communityPosts:O,loadingPosts:A,isFetchingMorePosts:$,hasMorePosts:z,handleJoinToggle:te,loadCommunityPosts:M,refetchCommunity:p,currentUser:r,addToast:n,navigate:s},e[59]=n,e[60]=u,e[61]=O,e[62]=r,e[63]=M,e[64]=te,e[65]=z,e[66]=$,e[67]=k,e[68]=X.isPending,e[69]=f,e[70]=A,e[71]=s,e[72]=p,e[73]=j,e[74]=ee):ee=e[74],ee};function ag(e){if(!(!e||e.length<10))return e[e.length-1].sort_timestamp}function og(e){return e}function at(e){return Array.isArray?Array.isArray(e):Lo(e)==="[object Array]"}var lg=1/0;function cg(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-lg?"-0":t}function dg(e){return e==null?"":cg(e)}function st(e){return typeof e=="string"}function Mo(e){return typeof e=="number"}function ug(e){return e===!0||e===!1||fg(e)&&Lo(e)=="[object Boolean]"}function Ao(e){return typeof e=="object"}function fg(e){return Ao(e)&&e!==null}function De(e){return e!=null}function Js(e){return!e.trim().length}function Lo(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}var mg="Incorrect 'index' type",hg=e=>`Invalid value for key ${e}`,pg=e=>`Pattern length exceeds max of ${e}.`,gg=e=>`Missing ${e} property in key`,xg=e=>`Property 'weight' in key '${e}' must be a positive integer`,Kn=Object.prototype.hasOwnProperty,vg=class{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(s=>{let r=Ro(s);this._keys.push(r),this._keyMap[r.id]=r,t+=r.weight}),this._keys.forEach(s=>{s.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}};function Ro(e){let t=null,s=null,r=null,n=1,i=null;if(st(e)||at(e))r=e,t=Qn(e),s=or(e);else{if(!Kn.call(e,"name"))throw new Error(gg("name"));const a=e.name;if(r=a,Kn.call(e,"weight")&&(n=e.weight,n<=0))throw new Error(xg(a));t=Qn(a),s=or(a),i=e.getFn}return{path:t,id:s,weight:n,src:r,getFn:i}}function Qn(e){return at(e)?e:e.split(".")}function or(e){return at(e)?e.join("."):e}function yg(e,t){let s=[],r=!1;const n=(i,a,o)=>{if(De(i))if(!a[o])s.push(i);else{const c=i[a[o]];if(!De(c))return;if(o===a.length-1&&(st(c)||Mo(c)||ug(c)))s.push(dg(c));else if(at(c)){r=!0;for(let d=0,u=c.length;d<u;d+=1)n(c[d],a,o+1)}else a.length&&n(c,a,o+1)}};return n(e,st(t)?t.split("."):t,0),r?s:s[0]}var bg={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},wg={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},_g={location:0,threshold:.6,distance:100},jg={useExtendedSearch:!1,getFn:yg,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1},re={...wg,...bg,..._g,...jg},kg=/[^ ]+/g;function Sg(e=1,t=3){const s=new Map,r=Math.pow(10,t);return{get(n){const i=n.match(kg).length;if(s.has(i))return s.get(i);const a=1/Math.pow(i,.5*e),o=parseFloat(Math.round(a*r)/r);return s.set(i,o),o},clear(){s.clear()}}}var Br=class{constructor({getFn:e=re.getFn,fieldNormWeight:t=re.fieldNormWeight}={}){this.norm=Sg(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((t,s)=>{this._keysMap[t.id]=s})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,st(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){const t=this.size();st(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,s=this.size();t<s;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!De(e)||Js(e))return;let s={v:e,i:t,n:this.norm.get(e)};this.records.push(s)}_addObject(e,t){let s={i:t,$:{}};this.keys.forEach((r,n)=>{let i=r.getFn?r.getFn(e):this.getFn(e,r.path);if(De(i)){if(at(i)){let a=[];const o=[{nestedArrIndex:-1,value:i}];for(;o.length;){const{nestedArrIndex:c,value:d}=o.pop();if(De(d))if(st(d)&&!Js(d)){let u={v:d,i:c,n:this.norm.get(d)};a.push(u)}else at(d)&&d.forEach((u,f)=>{o.push({nestedArrIndex:f,value:u})})}s.$[n]=a}else if(st(i)&&!Js(i)){let a={v:i,n:this.norm.get(i)};s.$[n]=a}}}),this.records.push(s)}toJSON(){return{keys:this.keys,records:this.records}}};function Do(e,t,{getFn:s=re.getFn,fieldNormWeight:r=re.fieldNormWeight}={}){const n=new Br({getFn:s,fieldNormWeight:r});return n.setKeys(e.map(Ro)),n.setSources(t),n.create(),n}function Cg(e,{getFn:t=re.getFn,fieldNormWeight:s=re.fieldNormWeight}={}){const{keys:r,records:n}=e,i=new Br({getFn:t,fieldNormWeight:s});return i.setKeys(r),i.setIndexRecords(n),i}function xs(e,{errors:t=0,currentLocation:s=0,expectedLocation:r=0,distance:n=re.distance,ignoreLocation:i=re.ignoreLocation}={}){const a=t/e.length;if(i)return a;const o=Math.abs(r-s);return n?a+o/n:o?1:a}function Ng(e=[],t=re.minMatchCharLength){let s=[],r=-1,n=-1,i=0;for(let a=e.length;i<a;i+=1){let o=e[i];o&&r===-1?r=i:!o&&r!==-1&&(n=i-1,n-r+1>=t&&s.push([r,n]),r=-1)}return e[i-1]&&i-r>=t&&s.push([r,i-1]),s}var Nt=32;function Pg(e,t,s,{location:r=re.location,distance:n=re.distance,threshold:i=re.threshold,findAllMatches:a=re.findAllMatches,minMatchCharLength:o=re.minMatchCharLength,includeMatches:c=re.includeMatches,ignoreLocation:d=re.ignoreLocation}={}){if(t.length>Nt)throw new Error(pg(Nt));const u=t.length,f=e.length,p=Math.max(0,Math.min(r,f));let m=i,h=p;const g=o>1||c,v=g?Array(f):[];let y;for(;(y=e.indexOf(t,h))>-1;){let C=xs(t,{currentLocation:y,expectedLocation:p,distance:n,ignoreLocation:d});if(m=Math.min(C,m),h=y+u,g){let S=0;for(;S<u;)v[y+S]=1,S+=1}}h=-1;let b=[],w=1,k=u+f;const j=1<<u-1;for(let C=0;C<u;C+=1){let S=0,N=k;for(;S<N;)xs(t,{errors:C,currentLocation:p+N,expectedLocation:p,distance:n,ignoreLocation:d})<=m?S=N:k=N,N=Math.floor((k-S)/2+S);k=N;let E=Math.max(1,p-N+1),P=a?f:Math.min(p+N,f)+u,M=Array(P+2);M[P+1]=(1<<C)-1;for(let z=P;z>=E;z-=1){let $=z-1,A=s[e.charAt($)];if(g&&(v[$]=+!!A),M[z]=(M[z+1]<<1|1)&A,C&&(M[z]|=(b[z+1]|b[z])<<1|1|b[z+1]),M[z]&j&&(w=xs(t,{errors:C,currentLocation:$,expectedLocation:p,distance:n,ignoreLocation:d}),w<=m)){if(m=w,h=$,h<=p)break;E=Math.max(1,2*p-h)}}if(xs(t,{errors:C+1,currentLocation:p,expectedLocation:p,distance:n,ignoreLocation:d})>m)break;b=M}const _={isMatch:h>=0,score:Math.max(.001,w)};if(g){const C=Ng(v,o);C.length?c&&(_.indices=C):_.isMatch=!1}return _}function $g(e){let t={};for(let s=0,r=e.length;s<r;s+=1){const n=e.charAt(s);t[n]=(t[n]||0)|1<<r-s-1}return t}var $s=String.prototype.normalize?(e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,"")):(e=>e),To=class{constructor(e,{location:t=re.location,threshold:s=re.threshold,distance:r=re.distance,includeMatches:n=re.includeMatches,findAllMatches:i=re.findAllMatches,minMatchCharLength:a=re.minMatchCharLength,isCaseSensitive:o=re.isCaseSensitive,ignoreDiacritics:c=re.ignoreDiacritics,ignoreLocation:d=re.ignoreLocation}={}){if(this.options={location:t,threshold:s,distance:r,includeMatches:n,findAllMatches:i,minMatchCharLength:a,isCaseSensitive:o,ignoreDiacritics:c,ignoreLocation:d},e=o?e:e.toLowerCase(),e=c?$s(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;const u=(p,m)=>{this.chunks.push({pattern:p,alphabet:$g(p),startIndex:m})},f=this.pattern.length;if(f>Nt){let p=0;const m=f%Nt,h=f-m;for(;p<h;)u(this.pattern.substr(p,Nt),p),p+=Nt;if(m){const g=f-Nt;u(this.pattern.substr(g),g)}}else u(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,ignoreDiacritics:s,includeMatches:r}=this.options;if(e=t?e:e.toLowerCase(),e=s?$s(e):e,this.pattern===e){let h={isMatch:!0,score:0};return r&&(h.indices=[[0,e.length-1]]),h}const{location:n,distance:i,threshold:a,findAllMatches:o,minMatchCharLength:c,ignoreLocation:d}=this.options;let u=[],f=0,p=!1;this.chunks.forEach(({pattern:h,alphabet:g,startIndex:v})=>{const{isMatch:y,score:b,indices:w}=Pg(e,h,g,{location:n+v,distance:i,threshold:a,findAllMatches:o,minMatchCharLength:c,includeMatches:r,ignoreLocation:d});y&&(p=!0),f+=b,y&&w&&(u=[...u,...w])});let m={isMatch:p,score:p?f/this.chunks.length:1};return p&&r&&(m.indices=u),m}},_t=class{constructor(e){this.pattern=e}static isMultiMatch(e){return Wn(e,this.multiRegex)}static isSingleMatch(e){return Wn(e,this.singleRegex)}search(){}};function Wn(e,t){const s=e.match(t);return s?s[1]:null}var Eg=class extends _t{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},zg=class extends _t{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const t=e.indexOf(this.pattern)===-1;return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},Mg=class extends _t{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},Ag=class extends _t{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},Lg=class extends _t{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},Rg=class extends _t{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},Fo=class extends _t{constructor(e,{location:t=re.location,threshold:s=re.threshold,distance:r=re.distance,includeMatches:n=re.includeMatches,findAllMatches:i=re.findAllMatches,minMatchCharLength:a=re.minMatchCharLength,isCaseSensitive:o=re.isCaseSensitive,ignoreDiacritics:c=re.ignoreDiacritics,ignoreLocation:d=re.ignoreLocation}={}){super(e),this._bitapSearch=new To(e,{location:t,threshold:s,distance:r,includeMatches:n,findAllMatches:i,minMatchCharLength:a,isCaseSensitive:o,ignoreDiacritics:c,ignoreLocation:d})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}},Io=class extends _t{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t=0,s;const r=[],n=this.pattern.length;for(;(s=e.indexOf(this.pattern,t))>-1;)t=s+n,r.push([s,t-1]);const i=!!r.length;return{isMatch:i,score:i?0:1,indices:r}}},lr=[Eg,Io,Mg,Ag,Rg,Lg,zg,Fo],Un=lr.length,Dg=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Tg="|";function Fg(e,t={}){return e.split(Tg).map(s=>{let r=s.trim().split(Dg).filter(i=>i&&!!i.trim()),n=[];for(let i=0,a=r.length;i<a;i+=1){const o=r[i];let c=!1,d=-1;for(;!c&&++d<Un;){const u=lr[d];let f=u.isMultiMatch(o);f&&(n.push(new u(f,t)),c=!0)}if(!c)for(d=-1;++d<Un;){const u=lr[d];let f=u.isSingleMatch(o);if(f){n.push(new u(f,t));break}}}return n})}var Ig=new Set([Fo.type,Io.type]),qg=class{constructor(e,{isCaseSensitive:t=re.isCaseSensitive,ignoreDiacritics:s=re.ignoreDiacritics,includeMatches:r=re.includeMatches,minMatchCharLength:n=re.minMatchCharLength,ignoreLocation:i=re.ignoreLocation,findAllMatches:a=re.findAllMatches,location:o=re.location,threshold:c=re.threshold,distance:d=re.distance}={}){this.query=null,this.options={isCaseSensitive:t,ignoreDiacritics:s,includeMatches:r,minMatchCharLength:n,findAllMatches:a,ignoreLocation:i,location:o,threshold:c,distance:d},e=t?e:e.toLowerCase(),e=s?$s(e):e,this.pattern=e,this.query=Fg(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:s,isCaseSensitive:r,ignoreDiacritics:n}=this.options;e=r?e:e.toLowerCase(),e=n?$s(e):e;let i=0,a=[],o=0;for(let c=0,d=t.length;c<d;c+=1){const u=t[c];a.length=0,i=0;for(let f=0,p=u.length;f<p;f+=1){const m=u[f],{isMatch:h,indices:g,score:v}=m.search(e);if(h){if(i+=1,o+=v,s){const y=m.constructor.type;Ig.has(y)?a=[...a,...g]:a.push(g)}}else{o=0,i=0,a.length=0;break}}if(i){let f={isMatch:!0,score:o/i};return s&&(f.indices=a),f}}return{isMatch:!1,score:1}}},cr=[];function Og(...e){cr.push(...e)}function dr(e,t){for(let s=0,r=cr.length;s<r;s+=1){let n=cr[s];if(n.condition(e,t))return new n(e,t)}return new To(e,t)}var Es={AND:"$and",OR:"$or"},ur={PATH:"$path",PATTERN:"$val"},fr=e=>!!(e[Es.AND]||e[Es.OR]),Vg=e=>!!e[ur.PATH],Bg=e=>!at(e)&&Ao(e)&&!fr(e),Gn=e=>({[Es.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function qo(e,t,{auto:s=!0}={}){const r=n=>{let i=Object.keys(n);const a=Vg(n);if(!a&&i.length>1&&!fr(n))return r(Gn(n));if(Bg(n)){const c=a?n[ur.PATH]:i[0],d=a?n[ur.PATTERN]:n[c];if(!st(d))throw new Error(hg(c));const u={keyId:or(c),pattern:d};return s&&(u.searcher=dr(d,t)),u}let o={children:[],operator:i[0]};return i.forEach(c=>{const d=n[c];at(d)&&d.forEach(u=>{o.children.push(r(u))})}),o};return fr(e)||(e=Gn(e)),r(e)}function Hg(e,{ignoreFieldNorm:t=re.ignoreFieldNorm}){e.forEach(s=>{let r=1;s.matches.forEach(({key:n,norm:i,score:a})=>{const o=n?n.weight:null;r*=Math.pow(a===0&&o?Number.EPSILON:a,(o||1)*(t?1:i))}),s.score=r})}function Kg(e,t){const s=e.matches;t.matches=[],De(s)&&s.forEach(r=>{if(!De(r.indices)||!r.indices.length)return;const{indices:n,value:i}=r;let a={indices:n,value:i};r.key&&(a.key=r.key.src),r.idx>-1&&(a.refIndex=r.idx),t.matches.push(a)})}function Qg(e,t){t.score=e.score}function Wg(e,t,{includeMatches:s=re.includeMatches,includeScore:r=re.includeScore}={}){const n=[];return s&&n.push(Kg),r&&n.push(Qg),e.map(i=>{const{idx:a}=i,o={item:t[a],refIndex:a};return n.length&&n.forEach(c=>{c(i,o)}),o})}var Et=class{constructor(e,t={},s){this.options={...re,...t},this.options.useExtendedSearch,this._keyStore=new vg(this.options.keys),this.setCollection(e,s)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof Br))throw new Error(mg);this._myIndex=t||Do(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){De(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const t=[];for(let s=0,r=this._docs.length;s<r;s+=1){const n=this._docs[s];e(n,s)&&(this.removeAt(s),s-=1,r-=1,t.push(n))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:s,includeScore:r,shouldSort:n,sortFn:i,ignoreFieldNorm:a}=this.options;let o=st(e)?st(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return Hg(o,{ignoreFieldNorm:a}),n&&o.sort(i),Mo(t)&&t>-1&&(o=o.slice(0,t)),Wg(o,this._docs,{includeMatches:s,includeScore:r})}_searchStringList(e){const t=dr(e,this.options),{records:s}=this._myIndex,r=[];return s.forEach(({v:n,i,n:a})=>{if(!De(n))return;const{isMatch:o,score:c,indices:d}=t.searchIn(n);o&&r.push({item:n,idx:i,matches:[{score:c,value:n,norm:a,indices:d}]})}),r}_searchLogical(e){const t=qo(e,this.options),s=(a,o,c)=>{if(!a.children){const{keyId:u,searcher:f}=a,p=this._findMatches({key:this._keyStore.get(u),value:this._myIndex.getValueForItemAtKeyId(o,u),searcher:f});return p&&p.length?[{idx:c,item:o,matches:p}]:[]}const d=[];for(let u=0,f=a.children.length;u<f;u+=1){const p=a.children[u],m=s(p,o,c);if(m.length)d.push(...m);else if(a.operator===Es.AND)return[]}return d},r=this._myIndex.records,n={},i=[];return r.forEach(({$:a,i:o})=>{if(De(a)){let c=s(t,a,o);c.length&&(n[o]||(n[o]={idx:o,item:a,matches:[]},i.push(n[o])),c.forEach(({matches:d})=>{n[o].matches.push(...d)}))}}),i}_searchObjectList(e){const t=dr(e,this.options),{keys:s,records:r}=this._myIndex,n=[];return r.forEach(({$:i,i:a})=>{if(!De(i))return;let o=[];s.forEach((c,d)=>{o.push(...this._findMatches({key:c,value:i[d],searcher:t}))}),o.length&&n.push({idx:a,item:i,matches:o})}),n}_findMatches({key:e,value:t,searcher:s}){if(!De(t))return[];let r=[];if(at(t))t.forEach(({v:n,i,n:a})=>{if(!De(n))return;const{isMatch:o,score:c,indices:d}=s.searchIn(n);o&&r.push({score:c,key:e,value:n,idx:i,norm:a,indices:d})});else{const{v:n,n:i}=t,{isMatch:a,score:o,indices:c}=s.searchIn(n);a&&r.push({score:o,key:e,value:n,norm:i,indices:c})}return r}};Et.version="7.1.0";Et.createIndex=Do;Et.parseIndex=Cg;Et.config=re;Et.parseQuery=qo;Og(qg);var Ug=U();const Yv=()=>{const e=(0,Ug.c)(55),{currentUser:t}=be(),s=Ce(),[r,n]=zs();let i;e[0]!==r?(i=r.get("q")||"",e[0]=r,e[1]=i):i=e[1];const a=i;let o;e[2]!==r||e[3]!==a?(o=r.get("tab")||(a?"posts":"communities"),e[2]=r,e[3]=a,e[4]=o):o=e[4];const c=o,[d,u]=(0,x.useState)(!1);let f,p;e[5]!==a?(f=["explore","users",a],p=()=>Ss(a||""),e[5]=a,e[6]=f,e[7]=p):(f=e[6],p=e[7]);const m=c==="users";let h;e[8]!==f||e[9]!==p||e[10]!==m?(h={queryKey:f,queryFn:p,enabled:m,initialPageParam:null,getNextPageParam:Gg},e[8]=f,e[9]=p,e[10]=m,e[11]=h):h=e[11];const{data:g,fetchNextPage:v,hasNextPage:y,isFetchingNextPage:b,isLoading:w}=Oe(h);let k;e[12]!==g?.pages?(k=g?.pages.flatMap(Jg)||[],e[12]=g?.pages,e[13]=k):k=e[13];const j=k;let _;e[14]===Symbol.for("react.memo_cache_sentinel")?(_={queryKey:["explore","communities"],queryFn:Yg,initialPageParam:1,getNextPageParam:Xg},e[14]=_):_=e[14];const{data:C,fetchNextPage:S,hasNextPage:N,isFetchingNextPage:E,isLoading:P}=Oe(_);let M;e[15]!==C?.pages?(M=C?.pages.flatMap(Zg)||[],e[15]=C?.pages,e[16]=M):M=e[16];const z=M;let $;e[17]!==a?($={queryKey:["explore","posts",a],queryFn:R=>{const{pageParam:q}=R;return a?Sd(a,null,20,!1):Cd(q)},initialPageParam:1,getNextPageParam:e2},e[17]=a,e[18]=$):$=e[18];const{data:A,fetchNextPage:D,hasNextPage:O,isFetchingNextPage:F,isLoading:I}=Oe($);let H;e[19]!==A?.pages?(H=A?.pages.flatMap(t2)||[],e[19]=A?.pages,e[20]=H):H=e[20];const T=H;let W;e:{if(!a.trim()){W=z;break e}let R;e[21]!==z||e[22]!==a?(R=new Et(z,{keys:["name","handle","description"],threshold:.3,ignoreLocation:!0}).search(a).map(s2),e[21]=z,e[22]=a,e[23]=R):R=e[23],W=R}const J=W;let X;e[24]!==s?(X=R=>{s(`/c/${R}`)},e[24]=s,e[25]=X):X=e[25];const se=X;let te;e[26]!==n?(te=R=>{n(q=>(R?q.set("q",R):q.delete("q"),q),{replace:!0})},e[26]=n,e[27]=te):te=e[27];const ee=te;let B;e[28]!==n?(B=R=>{n(q=>(q.set("tab",R),q),{replace:!0})},e[28]=n,e[29]=B):B=e[29];const G=B;let V;return e[30]!==c||e[31]!==z||e[32]!==t||e[33]!==S||e[34]!==D||e[35]!==v||e[36]!==J||e[37]!==se||e[38]!==ee||e[39]!==G||e[40]!==N||e[41]!==O||e[42]!==y||e[43]!==P||e[44]!==d||e[45]!==E||e[46]!==F||e[47]!==b||e[48]!==I||e[49]!==w||e[50]!==s||e[51]!==T||e[52]!==a||e[53]!==j?(V={currentUser:t,searchQuery:a,setSearchQuery:ee,activeTab:c,setActiveTab:G,isCreateModalOpen:d,setIsCreateModalOpen:u,communitiesData:z,isCommunitiesLoading:P,isFetchingMoreCommunities:E,hasMoreCommunities:N,postsData:T,isPostsLoading:I,isFetchingMorePosts:F,hasMorePosts:O,filteredCommunities:J,usersData:j,isUsersLoading:w,hasMoreUsers:y,isFetchingMoreUsers:b,handleCommunityClick:se,loadCommunities:S,loadPosts:D,loadUsers:v,navigate:s},e[30]=c,e[31]=z,e[32]=t,e[33]=S,e[34]=D,e[35]=v,e[36]=J,e[37]=se,e[38]=ee,e[39]=G,e[40]=N,e[41]=O,e[42]=y,e[43]=P,e[44]=d,e[45]=E,e[46]=F,e[47]=b,e[48]=I,e[49]=w,e[50]=s,e[51]=T,e[52]=a,e[53]=j,e[54]=V):V=e[54],V};function Gg(){}function Jg(e){return e}function Yg(e){const{pageParam:t}=e;return Pd(t)}function Xg(e,t){if(!(!e||e.length<10))return t.length+1}function Zg(e){return e}function e2(e,t){if(!(!e||e.length<10))return t.length+1}function t2(e){return e}function s2(e){return e.item}var r2=U();const Xv=()=>{const e=(0,r2.c)(20),{currentUser:t}=be(),{posts:s,loading:r,hasMore:n,isFetchingNextPage:i,fetchNextPage:a,refreshPosts:o}=ku(),{addToast:c}=Fe(),d=Ce();let u;e[0]===Symbol.for("react.memo_cache_sentinel")?(u={queryKey:["stories"],queryFn:n2,refetchInterval:6e4},e[0]=u):u=e[0];const{data:f,isLoading:p}=ye(u);let m;if(e[1]!==f){const k=f||[],j=JSON.parse(localStorage.getItem("seenStories")||"[]");m=k.reduce(i2,[]).map(_=>({..._,isSeen:j.includes(_.user.id)})),e[1]=f,e[2]=m}else m=e[2];const h=m;let g;e[3]!==d?(g=k=>{d(`/p/${k}`)},e[3]=d,e[4]=g):g=e[4];const v=g;let y;e[5]!==d?(y=k=>{d(`/u/${k}`)},e[5]=d,e[6]=y):y=e[6];const b=y;let w;return e[7]!==c||e[8]!==t||e[9]!==a||e[10]!==h||e[11]!==v||e[12]!==b||e[13]!==n||e[14]!==s||e[15]!==i||e[16]!==r||e[17]!==p||e[18]!==o?(w={currentUser:t,homePosts:s,groupedStories:h,isPostsLoading:r,isStoriesLoading:p,hasMore:n,isFetchingNextPage:i,fetchNextPage:a,refreshPosts:o,addToast:c,handlePostClick:v,handleUserClick:b},e[7]=c,e[8]=t,e[9]=a,e[10]=h,e[11]=v,e[12]=b,e[13]=n,e[14]=s,e[15]=i,e[16]=r,e[17]=p,e[18]=o,e[19]=w):w=e[19],w};function n2(){return Zd(9)}function i2(e,t){const s=e.find(r=>r.user.id===t.user_id);return s?s.stories.push(t):e.push({user:t.user,stories:[t],isSeen:!1}),e}var a2=U();const Zv=()=>{const e=(0,a2.c)(80),{id:t}=os(),[s]=zs();let r;e[0]!==s?(r=s.get("with"),e[0]=s,e[1]=r):r=e[1];const n=r,i=Ce(),{currentUser:a}=be(),{onlineUsers:o}=au(),c=$e(),[d,u]=(0,x.useState)("");let f;e[2]===Symbol.for("react.memo_cache_sentinel")?(f=[],e[2]=f):f=e[2];const[p,m]=(0,x.useState)(f),[h,g]=(0,x.useState)(null),v=(0,x.useRef)(null),{conversations:y,isConvLoading:b,refetchConversations:w,refetchMessages:k,sendMessage:j,editMessage:_,sendTypingStatus:C,typingStatus:S,markAsRead:N,formatMessages:E,onDeleteMessage:P,onToggleReaction:M,conversationReactions:z,messages:$,isMsgLoading:A,fetchNextMessages:D,hasMoreMessages:O,isFetchingMoreMessages:F}=wp(a,t);let I,H;e[3]!==y||e[4]!==a||e[5]!==i||e[6]!==h||e[7]!==n?(I=()=>{if(!n||!a){h&&setTimeout(()=>g(null),0),v.current=null;return}const ce=y.find(de=>!de.isGroup&&de.user?.id===n);if(ce){i(`/m/${ce.id}`,{replace:!0});return}v.current=n,_r(n,"id").then(de=>{v.current===n&&g(de)}).catch(()=>{i("/m",{replace:!0})})},H=[n,a,y,i,h],e[3]=y,e[4]=a,e[5]=i,e[6]=h,e[7]=n,e[8]=I,e[9]=H):(I=e[8],H=e[9]),(0,x.useEffect)(I,H);let T;e[10]!==j||e[11]!==a||e[12]!==t||e[13]!==i||e[14]!==h||e[15]!==c||e[16]!==n?(T=async(ce,de,ve,Ee,Ie)=>{if(n&&h&&!t){try{const Le=await nn(a.id,n);c.invalidateQueries({queryKey:["conversations",a.id]}),i(`/m/${Le}`,{replace:!0}),await j(Le,de,ve,Ee,Ie)}catch(Le){console.error("Failed to create conversation on first send:",Le)}return}j(ce,de,ve,Ee,Ie)},e[10]=j,e[11]=a,e[12]=t,e[13]=i,e[14]=h,e[15]=c,e[16]=n,e[17]=T):T=e[17];const W=T;let J;e:{if(n&&h&&!t){let de;e[18]===Symbol.for("react.memo_cache_sentinel")?(de=[],e[18]=de):de=e[18];let ve;e[19]!==h?(ve={id:"pending",isGroup:!1,user:h,messages:de,lastMessage:null,lastMessageAt:null},e[19]=h,e[20]=ve):ve=e[20],J=ve;break e}if(!t||y.length===0){J=null;break e}let ce;e[21]!==y||e[22]!==t?(ce=y.find(de=>de.id===t)||null,e[21]=y,e[22]=t,e[23]=ce):ce=e[23],J=ce}const X=J;let se,te;e[24]!==t||e[25]!==N?(se=()=>{t&&N(t)},te=[t,N],e[24]=t,e[25]=N,e[26]=se,e[27]=te):(se=e[26],te=e[27]),(0,x.useEffect)(se,te);let ee;e[28]!==y||e[29]!==a?.id||e[30]!==d?(ee=()=>{const ce=setTimeout(async()=>{if(d.length>1){const de=await Ss(d),ve=y.map(o2);m(de.filter(Ee=>Ee.id!==a?.id&&!ve.includes(Ee.id)))}else m([])},300);return()=>clearTimeout(ce)},e[28]=y,e[29]=a?.id,e[30]=d,e[31]=ee):ee=e[31];const B=a?.id;let G;e[32]!==y||e[33]!==d||e[34]!==B?(G=[d,y,B],e[32]=y,e[33]=d,e[34]=B,e[35]=G):G=e[35],(0,x.useEffect)(ee,G);let V;e[36]!==a||e[37]!==i||e[38]!==c?(V=async ce=>{if(a)try{const de=await nn(a.id,ce.id);c.invalidateQueries({queryKey:["conversations",a.id]}),u(""),i(`/m/${de}`)}catch(de){console.error("Failed to start conversation:",de)}},e[36]=a,e[37]=i,e[38]=c,e[39]=V):V=e[39];const R=V;let q;e[40]!==i?(q=ce=>{i(`/m/${ce.id}`)},e[40]=i,e[41]=q):q=e[41];const K=q;let Y;e[42]!==z||e[43]!==E||e[44]!==$?(Y=E($,z),e[42]=z,e[43]=E,e[44]=$,e[45]=Y):Y=e[45];const ne=Y;let Z;e:{if(!d.trim()){Z=y;break e}let ce;e[46]!==y||e[47]!==d?(ce=new Et(y,{keys:["user.name","user.handle","lastMessage"],threshold:.3,ignoreLocation:!0}).search(d).map(l2),e[46]=y,e[47]=d,e[48]=ce):ce=e[48],Z=ce}const ue=Z,fe=X&&S[X.id];let ie;e[49]!==o||e[50]!==X?(ie=X&&X.user?.id&&o.has(X.user.id),e[49]=o,e[50]=X,e[51]=ie):ie=e[51];const we=ie;let Pe;return e[52]!==y||e[53]!==fe||e[54]!==a||e[55]!==_||e[56]!==D||e[57]!==ue||e[58]!==K||e[59]!==R||e[60]!==O||e[61]!==t||e[62]!==b||e[63]!==F||e[64]!==A||e[65]!==ne||e[66]!==d||e[67]!==i||e[68]!==P||e[69]!==M||e[70]!==o||e[71]!==we||e[72]!==w||e[73]!==k||e[74]!==X||e[75]!==W||e[76]!==C||e[77]!==S||e[78]!==p?(Pe={id:t,currentUser:a,onlineUsers:o,msgSearchQuery:d,setMsgSearchQuery:u,userSearchResults:p,conversations:y,filteredConversations:ue,selectedConversation:X,localMessages:ne,isConvLoading:b,isMsgLoading:A,currentIsTyping:fe,otherUserIsOnline:we,handleStartConversation:R,handleSelectConversation:K,refetchConversations:w,refetchMessages:k,sendMessage:W,editMessage:_,onDeleteMessage:P,sendTypingStatus:C,typingStatus:S,onToggleReaction:M,navigate:i,fetchNextMessages:D,hasMoreMessages:O,isFetchingMoreMessages:F},e[52]=y,e[53]=fe,e[54]=a,e[55]=_,e[56]=D,e[57]=ue,e[58]=K,e[59]=R,e[60]=O,e[61]=t,e[62]=b,e[63]=F,e[64]=A,e[65]=ne,e[66]=d,e[67]=i,e[68]=P,e[69]=M,e[70]=o,e[71]=we,e[72]=w,e[73]=k,e[74]=X,e[75]=W,e[76]=C,e[77]=S,e[78]=p,e[79]=Pe):Pe=e[79],Pe};function o2(e){return e.user?.id}function l2(e){return e.item}var c2=U();const ey=()=>{const e=(0,c2.c)(48),{currentUser:t}=be(),s=Ce(),r=$e(),n=t?.id;let i;e[0]!==n?(i=["notifications",n],e[0]=n,e[1]=i):i=e[1];let a;e[2]!==t?(a=D=>{const{pageParam:O}=D;return Jd(t.id,O,10)},e[2]=t,e[3]=a):a=e[3];const o=!!t?.id;let c;e[4]!==i||e[5]!==a||e[6]!==o?(c={queryKey:i,queryFn:a,enabled:o,initialPageParam:null,getNextPageParam:d2},e[4]=i,e[5]=a,e[6]=o,e[7]=c):c=e[7];const{data:d,fetchNextPage:u,hasNextPage:f,isFetchingNextPage:p,isLoading:m,refetch:h}=Oe(c);let g;e[8]!==d?.pages?(g=d?.pages.flatMap(u2)||[],e[8]=d?.pages,e[9]=g):g=e[9];const v=g;let y;e[10]!==t||e[11]!==r?(y=()=>{if(!t?.id)return;const D=t.id,O=L.channel(`user_notifications:${D}`).on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`recipient_id=eq.${D}`},()=>{r.invalidateQueries({queryKey:["notifications",D]}),r.invalidateQueries({queryKey:["unread_notifications_count",D]})}).subscribe();return()=>{L.removeChannel(O)}},e[10]=t,e[11]=r,e[12]=y):y=e[12];const b=t?.id;let w;e[13]!==r||e[14]!==b?(w=[b,r],e[13]=r,e[14]=b,e[15]=w):w=e[15],(0,x.useEffect)(y,w);let k;e[16]!==t?(k=()=>t?Yd(t.id):Promise.resolve(),e[16]=t,e[17]=k):k=e[17];let j,_,C;e[18]!==t?.id||e[19]!==r?(j=async()=>{const D=t?.id;await r.cancelQueries({queryKey:["notifications",D]});const O=r.getQueryData(["notifications",D]);return r.setQueryData(["notifications",D],h2),{previousNotifications:O}},_=(D,O,F)=>{F?.previousNotifications&&r.setQueryData(["notifications",t?.id],F.previousNotifications)},C=()=>{r.invalidateQueries({queryKey:["notifications",t?.id]}),r.invalidateQueries({queryKey:["unread_notifications_count",t?.id]})},e[18]=t?.id,e[19]=r,e[20]=j,e[21]=_,e[22]=C):(j=e[20],_=e[21],C=e[22]);let S;e[23]!==j||e[24]!==_||e[25]!==C||e[26]!==k?(S={mutationFn:k,onMutate:j,onError:_,onSettled:C},e[23]=j,e[24]=_,e[25]=C,e[26]=k,e[27]=S):S=e[27];const N=me(S);let E;e[28]!==s?(E=D=>{D.type==="follow"?s(`/u/${D.user}`):D.post_id&&s(`/p/${D.post_id}`)},e[28]=s,e[29]=E):E=e[29];const P=E;let M;e[30]!==t?.id||e[31]!==N||e[32]!==v?(M=()=>{t?.id&&v.some(p2)&&N.mutate()},e[30]=t?.id,e[31]=N,e[32]=v,e[33]=M):M=e[33];const z=t?.id;let $;e[34]!==N||e[35]!==v||e[36]!==z?($=[z,v,N],e[34]=N,e[35]=v,e[36]=z,e[37]=$):$=e[37],(0,x.useEffect)(M,$);let A;return e[38]!==t||e[39]!==u||e[40]!==P||e[41]!==f||e[42]!==p||e[43]!==m||e[44]!==s||e[45]!==v||e[46]!==h?(A={currentUser:t,notifications:v,isLoading:m,isFetchingMore:p,hasMore:f,loadNotifications:u,refreshNotifications:h,handleNotificationClick:P,navigate:s},e[38]=t,e[39]=u,e[40]=P,e[41]=f,e[42]=p,e[43]=m,e[44]=s,e[45]=v,e[46]=h,e[47]=A):A=e[47],A};function d2(e){if(!(!e||e.length<10))return e[e.length-1].created_at}function u2(e){return e}function f2(e){return{...e,is_read:!0}}function m2(e){return e.map(f2)}function h2(e){return e&&{...e,pages:e.pages.map(m2)}}function p2(e){return!e.is_read}var g2=U();const ty=()=>{const e=(0,g2.c)(23),{id:t}=os(),s=Ce(),{currentUser:r}=be(),{addToast:n}=Fe(),i=$e();let a,o;e[0]!==t?(a=["post",t],o=async()=>{if(!t||!Qe(t))throw new Error("Invalid post ID");return fd(t)},e[0]=t,e[1]=a,e[2]=o):(a=e[1],o=e[2]);const c=!!t;let d;e[3]!==a||e[4]!==o||e[5]!==c?(d={queryKey:a,queryFn:o,enabled:c,retry:!1},e[3]=a,e[4]=o,e[5]=c,e[6]=d):d=e[6];const{data:u,isLoading:f,isError:p}=ye(d);let m;e[7]!==s?(m=k=>{s(`/u/${k}`)},e[7]=s,e[8]=m):m=e[8];const h=m;let g;e[9]!==s?(g=()=>{s(-1)},e[9]=s,e[10]=g):g=e[10];const v=g;let y;e[11]!==i?(y=(k,j,_)=>{i.setQueryData(["post",k],C=>C&&{...C,content:j,media:_})},e[11]=i,e[12]=y):y=e[12];const b=y;let w;return e[13]!==n||e[14]!==r||e[15]!==v||e[16]!==b||e[17]!==h||e[18]!==p||e[19]!==f||e[20]!==s||e[21]!==u?(w={post:u,isLoading:f,isError:p,currentUser:r,addToast:n,navigate:s,handleUserClick:h,handleDelete:v,handleUpdate:b},e[13]=n,e[14]=r,e[15]=v,e[16]=b,e[17]=h,e[18]=p,e[19]=f,e[20]=s,e[21]=u,e[22]=w):w=e[22],w};var x2=U();const sy=()=>{const e=(0,x2.c)(51),t=Ce(),{id:s}=os(),[r]=zs();let n;e[0]!==s||e[1]!==r?(n=s||r.get("id"),e[0]=s,e[1]=r,e[2]=n):n=e[2];const i=n,a=(0,x.useRef)(null);let o;e[3]===Symbol.for("react.memo_cache_sentinel")?(o=new Map,e[3]=o):o=e[3];const c=(0,x.useRef)(o),[d,u]=(0,x.useState)(null),[f,p]=(0,x.useState)(v2);let m,h;e[4]!==f?(m=()=>{localStorage.setItem("reel-volume",JSON.stringify(f))},h=[f],e[4]=f,e[5]=m,e[6]=h):(m=e[5],h=e[6]),(0,x.useEffect)(m,h);let g;e[7]===Symbol.for("react.memo_cache_sentinel")?(g=V=>{p(V)},e[7]=g):g=e[7];const v=g,[y]=(0,x.useState)(y2);let b,w;e[8]!==y?(b=["reels",y],w=V=>{const{pageParam:R}=V;return Nd(R,10,y)},e[8]=y,e[9]=b,e[10]=w):(b=e[9],w=e[10]);let k;e[11]!==b||e[12]!==w?(k={queryKey:b,queryFn:w,initialPageParam:null,getNextPageParam:b2},e[11]=b,e[12]=w,e[13]=k):k=e[13];const{data:j,fetchNextPage:_,hasNextPage:C,isFetchingNextPage:S,isLoading:N}=Oe(k);let E;e[14]!==j?.pages?(E=j?.pages.flatMap(w2)||[],e[14]=j?.pages,e[15]=E):E=e[15];const P=E,[M,z]=(0,x.useState)(0);P.length>0&&P.length!==M&&!d&&(z(P.length),i&&P.find(V=>V.id===i)?u(i):u(P[0].id));const $=(0,x.useRef)(!1);let A,D;e[16]!==P.length||e[17]!==i?(D=()=>{if(P.length>0&&i&&!$.current){const V=c.current.get(i);V&&(V.scrollIntoView({behavior:"instant"}),$.current=!0)}},A=[P.length,i],e[16]=P.length,e[17]=i,e[18]=A,e[19]=D):(A=e[18],D=e[19]),(0,x.useEffect)(D,A);let O;e[20]!==d||e[21]!==P?(O=()=>{if(P.length===0)return;const V=P.findIndex(R=>R.id===d);if(V<P.length-1){const R=P[V+1];c.current.get(R.id)?.scrollIntoView({behavior:"smooth"})}},e[20]=d,e[21]=P,e[22]=O):O=e[22];const F=O;let I;e[23]!==d||e[24]!==P?(I=()=>{if(P.length===0)return;const V=P.findIndex(R=>R.id===d);if(V>0){const R=P[V-1];c.current.get(R.id)?.scrollIntoView({behavior:"smooth"})}},e[23]=d,e[24]=P,e[25]=I):I=e[25];const H=I;let T,W;e[26]!==P.length?(T=()=>{if(P.length===0)return;const V={root:a.current,threshold:.6},R=K=>{const Y=K.reduce(_2,K[0]);if(Y?.isIntersecting){const ne=Y.target.getAttribute("data-id");ne&&u(ne)}},q=new IntersectionObserver(R,V);return c.current.forEach(K=>q.observe(K)),()=>{q.disconnect()}},W=[P.length],e[26]=P.length,e[27]=T,e[28]=W):(T=e[27],W=e[28]),(0,x.useEffect)(T,W);let J,X;e[29]!==d||e[30]!==F||e[31]!==H?(J=()=>{const V=R=>{const q=R.target;if(!(q.tagName==="INPUT"||q.tagName==="TEXTAREA"||q.isContentEditable)&&!(R.ctrlKey||R.altKey||R.metaKey))e:switch(R.key){case"ArrowUp":R.preventDefault(),H();break e;case"ArrowDown":R.preventDefault(),F();break e;case" ":{R.preventDefault();const K=c.current.get(d||"");if(K){const Y=K.querySelector(".reel-item");Y&&Y.click()}}}};return window.addEventListener("keydown",V),()=>window.removeEventListener("keydown",V)},X=[d,F,H],e[29]=d,e[30]=F,e[31]=H,e[32]=J,e[33]=X):(J=e[32],X=e[33]),(0,x.useEffect)(J,X);let se;e[34]===Symbol.for("react.memo_cache_sentinel")?(se=(V,R)=>{R?c.current.set(V,R):c.current.delete(V)},e[34]=se):se=e[34];const te=se;let ee,B;e[35]!==_||e[36]!==C||e[37]!==S?(ee=()=>{const V=()=>{if(!a.current||S||!C)return;const{scrollTop:q,scrollHeight:K,clientHeight:Y}=a.current;q+Y>=K-800&&_()},R=a.current;if(R)return R.addEventListener("scroll",V),()=>R.removeEventListener("scroll",V)},B=[S,C,_],e[35]=_,e[36]=C,e[37]=S,e[38]=ee,e[39]=B):(ee=e[38],B=e[39]),(0,x.useEffect)(ee,B);let G;return e[40]!==d||e[41]!==_||e[42]!==C||e[43]!==S||e[44]!==N||e[45]!==t||e[46]!==P||e[47]!==F||e[48]!==H||e[49]!==f?(G={reels:P,loading:N,loadingMore:S,activeReelId:d,hasMore:C,volume:f,setVolume:v,containerRef:a,setReelRef:te,navigate:t,scrollToNext:F,scrollToPrev:H,loadReels:_},e[40]=d,e[41]=_,e[42]=C,e[43]=S,e[44]=N,e[45]=t,e[46]=P,e[47]=F,e[48]=H,e[49]=f,e[50]=G):G=e[50],G};function v2(){const e=localStorage.getItem("reel-volume");return e?JSON.parse(e):1}function y2(){return Math.random().toString(36).substring(7)}function b2(e){if(!e||e.length<10)return;const t=e[e.length-1];return t.score!==void 0?`${t.id}:${t.score}`:t.sort_timestamp||t.created_at}function w2(e){return e}function _2(e,t){return t.intersectionRatio>e.intersectionRatio?t:e}const ry=()=>{const{currentUser:e,logout:t}=be(),{darkMode:s,toggleDarkMode:r,fontSize:n,setFontSize:i,dataSaver:a,setDataSaver:o}=As(),{addToast:c}=Fe(),[d,u]=(0,x.useState)(!1),[f,p]=(0,x.useState)({newPassword:"",confirmPassword:""}),[m,h]=(0,x.useState)(!1),g=async()=>{try{await t(),c("Logged out successfully")}catch(_){console.error("Logout error:",_),c("Failed to logout")}};return{currentUser:e,darkMode:s,toggleDarkMode:r,fontSize:n,setFontSize:i,dataSaver:a,setDataSaver:o,isChangingPassword:d,setIsChangingPassword:u,passwordData:f,setPasswordData:p,loading:m,handleLogout:g,handlePasswordChange:async _=>{if(_.preventDefault(),f.newPassword!==f.confirmPassword){c("Passwords do not match","error");return}if(f.newPassword.length<6){c("Password must be at least 6 characters","error");return}h(!0);try{const{error:C}=await L.auth.updateUser({password:f.newPassword});if(C)throw C;c("Password updated successfully!"),u(!1),p({newPassword:"",confirmPassword:""})}catch(C){console.error("Password update error:",C),c(C.message||"Failed to update password","error")}finally{h(!1)}},handlePasswordReset:async()=>{if(e?.email){h(!0);try{const{error:_}=await L.auth.resetPasswordForEmail(e.email,{redirectTo:`${window.location.origin}/verify-otp?email=${encodeURIComponent(e.email)}&type=recovery`});if(_)throw _;c("Password reset email sent!")}catch(_){console.error("Reset password error:",_),c(_.message||"Failed to send reset email","error")}finally{h(!1)}}},handleClearCache:()=>{["seenStories","font-size","data-saver","theme"].forEach(_=>localStorage.removeItem(_)),c("Cache cleared! Reloading..."),setTimeout(()=>window.location.reload(),1500)},handleDownloadData:async()=>{if(e){h(!0);try{const _={user:{id:e.id,handle:e.handle,name:e.name,email:e.email},exportDate:new Date().toISOString(),note:"This is a mock export of your MySys data."},C=new Blob([JSON.stringify(_,null,2)],{type:"application/json"}),S=URL.createObjectURL(C),N=document.createElement("a");N.href=S,N.download=`MySys-data-${e.handle}.json`,N.click(),URL.revokeObjectURL(S),c("Data export started!")}catch{c("Failed to export data","error")}finally{h(!1)}}},handleDeleteAccount:()=>{window.confirm("Are you absolutely sure? This will permanently delete your account and all associated data. This action is irreversible.")&&(c("Account deletion request submitted. Logging out..."),setTimeout(g,2e3))},handleReportBug:()=>{window.prompt("Please describe the bug you found:")&&c("Bug reported! Thank you for your feedback.")}}};var j2=U(),k2=e=>{const t=(0,j2.c)(17),{children:s,mode:r}=e,n=r===void 0?"default":r,i=Gu(),a=Nr("(max-width: 768px)");let o;t[0]===Symbol.for("react.memo_cache_sentinel")?(o={initial:{x:"100%",zIndex:10},animate:{x:0,zIndex:10},exit:{x:"-30%",opacity:.9,zIndex:0}},t[0]=o):o=t[0];const c=o;let d;t[1]===Symbol.for("react.memo_cache_sentinel")?(d={initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10}},t[1]=d):d=t[1];const u=d;let f;t[2]===Symbol.for("react.memo_cache_sentinel")?(f={initial:{opacity:1,x:0,y:0},animate:{opacity:1,x:0,y:0},exit:{opacity:1,x:0,y:0}},t[2]=f):f=t[2];const p=n==="none"?f:a?c:u;let m;t[3]!==a?(m=a?Da.transition.sheetSpring:{type:"tween",ease:"easeInOut",duration:.2},t[3]=a,t[4]=m):m=t[4];const h=a&&!i?"absolute":"relative",g=a&&i?"-10px 0 20px rgba(0,0,0,0.1)":"none";let v;t[5]!==h||t[6]!==g?(v={position:h,top:0,left:0,background:"var(--background)",boxShadow:g,willChange:"transform"},t[5]=h,t[6]=g,t[7]=v):v=t[7];let y;t[8]!==a||t[9]!==i?(y=a&&!i&&(0,l.jsx)(he.div,{initial:{opacity:0},animate:{opacity:.3},className:"absolute inset-0 bg-black pointer-events-none z-[11]"}),t[8]=a,t[9]=i,t[10]=y):y=t[10];let b;return t[11]!==s||t[12]!==m||t[13]!==v||t[14]!==y||t[15]!==p?(b=(0,l.jsxs)(he.div,{initial:"initial",animate:"animate",exit:"exit",variants:p,transition:m,className:"w-full h-full",style:v,children:[y,s]}),t[11]=s,t[12]=m,t[13]=v,t[14]=y,t[15]=p,t[16]=b):b=t[16],b},ke=k2,ny=U(),iy=(0,x.lazy)(()=>ae(()=>import("./Feed-ICekwsg9.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12]))),ay=(0,x.lazy)(()=>ae(()=>import("./Explore-bS0q8oox.js"),__vite__mapDeps([13,1,2,3,4,5,6,7,8,9,10,11,12]))),oy=(0,x.lazy)(()=>ae(()=>import("./Reels-BDJV6LU8.js"),__vite__mapDeps([14,1,2,3,4,5,6,7,8,9,10,11,12]))),ly=(0,x.lazy)(()=>ae(()=>import("./Messages-DrFJwZ55.js"),__vite__mapDeps([15,1,2,3,4,5,11,6,7,8,9,12,16]))),cy=(0,x.lazy)(()=>ae(()=>import("./Notifications-BLQ5xDx9.js"),__vite__mapDeps([17,1,2,3,4,5,6,7]))),dy=(0,x.lazy)(()=>ae(()=>import("./CreatePost-WByuBCRV.js"),__vite__mapDeps([18,1,2,3,4,5,11,6,7,19,12,16]))),uy=U(),S2=U(),C2=e=>{const t=(0,S2.c)(7),{children:s,allowedRoles:r}=e,n=r===void 0?["user","admin","moderator"]:r,{currentUser:i,loading:a}=be(),o=as();if(a){let d;return t[0]===Symbol.for("react.memo_cache_sentinel")?(d=(0,l.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,l.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-violet-500 border-t-transparent"})}),t[0]=d):d=t[0],d}if(!i){let d;return t[1]!==o?(d=(0,l.jsx)(Is,{to:"/",state:{from:o},replace:!0}),t[1]=o,t[2]=d):d=t[2],d}if(!i.onboarding_completed&&o.pathname!=="/onboarding"){let d;return t[3]===Symbol.for("react.memo_cache_sentinel")?(d=(0,l.jsx)(Is,{to:"/onboarding",replace:!0}),t[3]=d):d=t[3],d}if(n&&!n.includes(i.role)){let d;return t[4]===Symbol.for("react.memo_cache_sentinel")?(d=(0,l.jsx)(Is,{to:"/",replace:!0}),t[4]=d):d=t[4],d}let c;return t[5]!==s?(c=(0,l.jsx)(l.Fragment,{children:s}),t[5]=s,t[6]=c):c=t[6],c},N2=C2;function fy({isOpen:e,onClose:t,community:s,onUpdate:r}){const{addToast:n}=Fe(),[i,a]=(0,x.useState)({name:"",handle:"",description:"",avatar:"",cover:"",isPrivate:!1}),[o,c]=(0,x.useState)(!1),d=(0,x.useRef)(null),u=(0,x.useRef)(null);(0,x.useEffect)(()=>{s&&e&&a({name:s.name||"",handle:s.handle||"",description:s.description||"",avatar:s.avatar||"",cover:s.cover||"",isPrivate:s.isPrivate||!1})},[s,e]);const f=(h,g)=>{const v=h.target.files?.[0];v&&p(v,g)},p=async(h,g)=>{c(!0);try{const v=await ks(h);a(y=>({...y,[g]:v.url})),n(`${g.charAt(0).toUpperCase()+g.slice(1)} uploaded!`)}catch{n(`Failed to upload ${g}`,"error")}finally{c(!1)}},m=async h=>{if(h.preventDefault(),!(!i.name||!i.handle||!s)){c(!0);try{const g=await Ad(s.id,{name:i.name,handle:i.handle.toLowerCase().replace(/[^a-z0-9_]/g,""),description:i.description,avatar_url:i.avatar,cover_url:i.cover,is_private:i.isPrivate});n("Community updated successfully!"),r&&r(g),t()}catch(g){console.error(g),n(g.message||"Failed to update community","error")}finally{c(!1)}}};return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(us,{isOpen:e,onClose:()=>!o&&t(),title:"Edit Community",className:"sm:max-w-xl",children:[(0,l.jsxs)("div",{className:"max-h-[85vh] space-y-6 overflow-y-auto px-1",children:[(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)("div",{className:"group relative h-32 overflow-hidden rounded-xl bg-zinc-100 dark:bg-zinc-900 sm:h-40",children:[i.cover&&(0,l.jsx)("img",{src:i.cover,className:"h-full w-full object-cover",alt:""}),(0,l.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 opacity-0 transition-opacity group-hover:opacity-100",children:(0,l.jsx)("button",{onClick:()=>u.current?.click(),className:"rounded-full bg-black/60 p-3 text-white transition-all hover:bg-black",children:(0,l.jsx)(Ys,{size:20})})})]}),(0,l.jsx)("div",{className:"absolute -bottom-8 left-6",children:(0,l.jsxs)("div",{className:"group relative size-20 overflow-hidden rounded-2xl border-4 border-white bg-zinc-100 shadow-lg dark:border-black dark:bg-zinc-800 sm:size-24",children:[(0,l.jsx)("img",{src:i.avatar,className:"size-full object-cover",alt:""}),(0,l.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40 opacity-0 transition-opacity group-hover:opacity-100",children:(0,l.jsx)("button",{onClick:()=>d.current?.click(),className:"p-2 text-white",children:(0,l.jsx)(Ys,{size:18})})})]})})]}),(0,l.jsx)("div",{className:"pt-6",children:(0,l.jsxs)("form",{onSubmit:m,className:"space-y-5",children:[(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"space-y-1.5",children:[(0,l.jsx)("label",{className:"ml-1 text-sm font-bold",children:"Community Name"}),(0,l.jsx)("input",{type:"text",required:!0,className:"w-full rounded-xl border border-zinc-200 bg-zinc-50 px-4 py-2.5 font-medium outline-none transition-all focus:border-violet-500 focus:ring-2 focus:ring-violet-500/20 dark:border-zinc-800 dark:bg-zinc-900",value:i.name,onChange:h=>a({...i,name:h.target.value})})]}),(0,l.jsxs)("div",{className:"space-y-1.5",children:[(0,l.jsx)("label",{className:"ml-1 text-sm font-bold",children:"Handle"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-sm font-medium text-zinc-500",children:"c/"}),(0,l.jsx)("input",{type:"text",required:!0,className:"w-full rounded-xl border border-zinc-200 bg-zinc-50 pl-8 pr-4 py-2.5 text-sm font-medium outline-none transition-all focus:border-violet-500 focus:ring-2 focus:ring-violet-500/20 dark:border-zinc-800 dark:bg-zinc-900",value:i.handle,onChange:h=>a({...i,handle:h.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"")})})]})]}),(0,l.jsxs)("div",{className:"space-y-1.5",children:[(0,l.jsx)("label",{className:"ml-1 text-sm font-bold",children:"Description"}),(0,l.jsx)("textarea",{className:"min-h-[100px] w-full resize-none rounded-xl border border-zinc-200 bg-zinc-50 px-4 py-2.5 font-medium outline-none transition-all focus:border-violet-500 focus:ring-2 focus:ring-violet-500/20 dark:border-zinc-800 dark:bg-zinc-900",placeholder:"What is this community about?",value:i.description,onChange:h=>a({...i,description:h.target.value})})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between rounded-xl border border-zinc-200 bg-zinc-50 p-4 dark:border-zinc-800 dark:bg-zinc-900",children:[(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("span",{className:"text-sm font-bold",children:"Private Community"}),(0,l.jsx)("span",{className:"text-[10px] text-zinc-500",children:"Only Admins can post in private communities"})]}),(0,l.jsx)("input",{type:"checkbox",className:"size-5 cursor-pointer rounded-md accent-violet-600",checked:i.isPrivate,onChange:h=>a({...i,isPrivate:h.target.checked})})]})]}),(0,l.jsxs)("div",{className:"flex gap-3 py-2 pt-6",children:[(0,l.jsx)(vt,{type:"button",variant:"outline",className:"h-11 flex-1 rounded-xl font-bold",onClick:t,disabled:o,children:"Cancel"}),(0,l.jsx)(vt,{type:"submit",className:"h-11 flex-1 rounded-xl bg-zinc-900 font-bold text-white transition-all hover:bg-zinc-800 active:scale-95 dark:bg-white dark:text-black dark:hover:bg-zinc-200",loading:o,disabled:!i.name,children:"Save Changes"})]})]})})]}),(0,l.jsx)("input",{type:"file",ref:d,className:"hidden",accept:"image/*",onChange:h=>f(h,"avatar")}),(0,l.jsx)("input",{type:"file",ref:u,className:"hidden",accept:"image/*",onChange:h=>f(h,"cover")})]})})}function my({isOpen:e,onClose:t,community:s}){const{addToast:r}=Fe(),{currentUser:n}=be(),[i,a]=(0,x.useState)([]),[o,c]=(0,x.useState)(!1),[d,u]=(0,x.useState)(""),[f,p]=(0,x.useState)("members"),[m,h]=(0,x.useState)(!1),g=n?.id===s?.creatorId,v=(0,x.useCallback)(async(j="")=>{if(s?.id){c(!0),h(!0);try{a(await Ld(s.id,j))}catch(_){console.error("Failed to load members:",_),r("Failed to load members","error")}finally{c(!1)}}},[s?.id,r]);(0,x.useEffect)(()=>{e&&s?.id?v(""):(u(""),a([]),h(!1))},[e,s?.id,v]),(0,x.useEffect)(()=>{if(d.length>=2){const j=setTimeout(()=>{v(d)},500);return()=>clearTimeout(j)}else d.length===0&&m&&v("")},[d,v,m]);const y=async(j,_)=>{try{const C=_==="admin"?"member":"admin";await Rd(s.id,j,C),a(S=>S.map(N=>N.userId===j?{...N,role:C}:N)),r(`Role updated to ${C}`)}catch{r("Failed to update role","error")}},b=(0,x.useMemo)(()=>i.filter(j=>j.role==="admin"||j.userId===s.creatorId),[i,s.creatorId]),w=(0,x.useMemo)(()=>i.filter(j=>j.role!=="admin"&&j.userId!==s.creatorId),[i,s.creatorId]),k=j=>o?(0,l.jsx)("div",{className:"flex flex-col",children:[1,2,3,4,5].map(_=>(0,l.jsx)($1,{},_))}):j.length>0?(0,l.jsx)("div",{className:"divide-y divide-zinc-100 dark:divide-zinc-800/50",children:j.map(_=>(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 transition-colors hover:bg-white dark:hover:bg-zinc-800/50",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsxs)(Ue,{className:"size-10 border border-zinc-200 shadow-sm dark:border-zinc-700",children:[(0,l.jsx)(Ge,{src:_.user.avatar_url}),(0,l.jsx)(Je,{children:_.user.username?.[0]?.toUpperCase()})]}),(0,l.jsxs)("div",{className:"min-w-0 flex flex-col",children:[(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)("span",{className:"font-bold dark:text-zinc-200",children:_.user.name}),_.user.role==="admin"&&(0,l.jsx)(fo,{size:18}),_.user.is_verified?(0,l.jsx)(uo,{size:14}):_.user.is_pro&&(0,l.jsx)(mo,{size:14})]}),(0,l.jsxs)("span",{className:"text-xs font-medium text-zinc-500",children:["@",_.user.username]})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[_.userId===s.creatorId?(0,l.jsx)("span",{className:"rounded-full bg-zinc-200 px-3 py-1 text-[10px] font-black tracking-wider text-zinc-600 dark:bg-zinc-800 dark:text-zinc-400",children:"OWNER"}):g&&(0,l.jsx)("button",{onClick:()=>y(_.userId,_.role),className:`flex items-center gap-1.5 rounded-full px-3 py-1.5 text-[11px] font-bold transition-all ${_.role==="admin"?"bg-rose-50 text-rose-600 hover:bg-rose-100 dark:bg-rose-950/20 dark:text-rose-400":"bg-zinc-100 text-zinc-600 hover:bg-zinc-200 dark:bg-zinc-800 dark:text-zinc-400 dark:hover:bg-zinc-700"}`,children:_.role==="admin"?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(gr,{size:14}),"Admin"]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(es,{size:14}),"Make Admin"]})}),!g&&_.role==="admin"&&_.userId!==s.creatorId&&(0,l.jsx)("span",{className:"rounded-full bg-violet-50 px-3 py-1 text-[10px] font-black tracking-wider text-violet-600 dark:bg-violet-900/20 dark:text-violet-400",children:"ADMIN"})]})]},_.userId))}):(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center px-6 py-20 text-center",children:[(0,l.jsx)("div",{className:"mb-3 flex size-12 items-center justify-center rounded-full bg-zinc-100 dark:bg-zinc-800",children:(0,l.jsx)(es,{size:24,className:"text-zinc-400"})}),(0,l.jsxs)("p",{className:"text-sm font-bold dark:text-white",children:["No ",f," found"]}),(0,l.jsx)("p",{className:"mt-1 text-xs text-zinc-500",children:"Try a different search term"})]});return(0,l.jsx)(us,{isOpen:e,onClose:t,title:"Manage Members",className:"sm:max-w-md",children:(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(hr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400",size:18}),(0,l.jsx)("input",{type:"text",placeholder:"Search members...",className:"w-full rounded-xl border border-zinc-200 bg-zinc-50 pl-10 pr-4 py-2.5 text-sm font-medium outline-none transition-all focus:border-violet-500 focus:ring-2 focus:ring-violet-500/20 dark:border-zinc-800 dark:bg-zinc-900",value:d,onChange:j=>u(j.target.value)})]}),(0,l.jsxs)(A1,{value:f,onValueChange:p,className:"w-full",children:[(0,l.jsxs)(jo,{className:"h-11 w-full rounded-xl bg-zinc-100 p-1 dark:bg-zinc-900",children:[(0,l.jsxs)(rr,{value:"members",className:"flex-1 rounded-lg font-bold data-[state=active]:bg-white dark:text-zinc-400 dark:data-[state=active]:bg-zinc-800 dark:data-[state=active]:text-white",children:["Members (",w.length,")"]}),(0,l.jsxs)(rr,{value:"admins",className:"flex-1 rounded-lg font-bold data-[state=active]:bg-white dark:text-zinc-400 dark:data-[state=active]:bg-zinc-800 dark:data-[state=active]:text-white",children:["Admins (",b.length,")"]})]}),(0,l.jsxs)("div",{className:"max-h-[400px] min-h-[300px] mt-4 overflow-y-auto overflow-hidden rounded-2xl border border-zinc-100 bg-zinc-50 dark:border-zinc-800 dark:bg-zinc-900",children:[(0,l.jsx)(nr,{value:"members",className:"m-0",children:k(w)}),(0,l.jsx)(nr,{value:"admins",className:"m-0",children:k(b)})]})]})]})})}var P2=({isOpen:e,onClose:t,conversation:s,onUpdate:r})=>{const{currentUser:n}=be(),{addToast:i}=Fe(),a=$e(),o=Ce(),[c,d]=(0,x.useState)(s.name||""),[u,f]=(0,x.useState)(!1),[p,m]=(0,x.useState)(""),[h,g]=(0,x.useState)([]),[v,y]=(0,x.useState)(!1),b=(0,x.useRef)(null),w=n?.id===s.creatorId,{data:k,isLoading:j,fetchNextPage:_,hasNextPage:C,isFetchingNextPage:S}=Oe({queryKey:["conversation-participants",s.id],queryFn:({pageParam:T=1})=>Ud(s.id,T,50),enabled:e&&!!s.id,initialPageParam:1,getNextPageParam:(T,W)=>T.length===50?W.length+1:void 0}),N=x.useMemo(()=>k?.pages.flatMap(T=>T)||[],[k]),E=me({mutationFn:T=>Gd(s.id,T),onSuccess:T=>{r(T),a.invalidateQueries({queryKey:["conversations",n?.id]}),i("Group updated!")},onError:T=>{i(T.message||"Update failed","error")}}),P=me({mutationFn:T=>Dd(s.id,[T]),onSuccess:()=>{a.invalidateQueries({queryKey:["conversation-participants",s.id]}),i("Member added!"),m(""),g([])},onError:()=>i("Failed to add member","error")}),M=me({mutationFn:T=>Qd(s.id,T),onSuccess:()=>{a.invalidateQueries({queryKey:["conversation-participants",s.id]}),i("Member removed from group")},onError:()=>i("Failed to remove member","error")}),z=me({mutationFn:()=>Kd(s.id,n.id),onSuccess:()=>{a.invalidateQueries({queryKey:["conversations",n?.id]}),t(),i("You left the group."),o("/m")},onError:()=>i("Failed to leave group","error")}),$=me({mutationFn:()=>da(s.id),onSuccess:()=>{a.invalidateQueries({queryKey:["conversations",n?.id]}),t(),i("Group deleted."),o("/m")},onError:()=>i("Failed to delete group","error")});x.useEffect(()=>{e&&(d(s.name||""),f(!1),m(""),g([]))},[e,s.id,s.name]);const A=async T=>{if(m(T),T.length<2){g([]);return}y(!0);try{const W=await Ss(T),J=N.map(X=>X.id);g(W.filter(X=>!J.includes(X.id)))}catch(W){console.error("Search failed:",W)}finally{y(!1)}},D=async T=>{const W=T.target.files?.[0];if(!(!W||!w))try{const J=await ks(W);E.mutate({avatar_url:J.url})}catch(J){console.error("Upload failed:",J),i("Failed to update avatar","error")}},O=()=>{!c.trim()||c===s.name||!w||E.mutate({name:c.trim()})},F=()=>{!window.confirm("Are you sure you want to leave this group?")||!n||z.mutate()},I=()=>{w&&window.confirm("Are you sure you want to delete this group? All messages and media will be removed forever.")&&$.mutate()},H=(T,W)=>{w&&window.confirm(`Remove ${W} from this group?`)&&M.mutate(T)};return(0,l.jsx)(us,{isOpen:e,onClose:t,className:"max-w-[340px] rounded-[32px] border border-black/10 bg-white/75 p-0 shadow-2xl backdrop-blur-xl dark:border-white/10 dark:bg-zinc-900/75 sm:max-w-[360px]",children:(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsxs)("div",{className:"flex flex-col items-center gap-4 px-6 py-8 pb-6 text-center",children:[(0,l.jsxs)("div",{className:"group relative",children:[(0,l.jsxs)(Ue,{className:"size-24 border-4 border-white shadow-xl dark:border-zinc-900",children:[(0,l.jsx)(Ge,{src:s.avatar,className:"object-cover"}),(0,l.jsx)(Je,{className:"bg-zinc-100 text-2xl font-black text-zinc-400 dark:bg-zinc-800",children:s.name?.[0]?.toUpperCase()||"?"})]}),w&&(0,l.jsx)("button",{onClick:()=>b.current?.click(),className:"absolute bottom-0 right-0 rounded-full bg-violet-600 p-2 text-white shadow-lg transition-transform hover:scale-110 active:scale-95",children:(0,l.jsx)(Ys,{size:16})}),(0,l.jsx)("input",{type:"file",ref:b,className:"hidden",accept:"image/*",onChange:D})]}),(0,l.jsx)("div",{className:"w-full space-y-3",children:w?(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(a1,{value:c,onChange:T=>d(T.target.value),placeholder:"Group name",className:"h-10 rounded-xl border-black/5 bg-black/5 focus:ring-violet-500/20 dark:border-white/5 dark:bg-white/5 dark:focus:bg-zinc-800"}),(0,l.jsx)(vt,{size:"sm",onClick:O,loading:E.isPending,disabled:c===s.name,className:"h-10 rounded-xl px-4 font-bold",children:"Save"})]}):(0,l.jsx)("h3",{className:"text-[20px] font-black leading-tight dark:text-white",children:s.name})})]}),(0,l.jsxs)("div",{className:"flex flex-col border-t border-black/10 dark:border-white/10",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between border-b border-black/5 p-4 px-6 dark:border-white/5",children:[(0,l.jsxs)("h4",{className:"text-[10px] font-bold uppercase tracking-wider text-zinc-400",children:["Members  ",N.length]}),w&&(0,l.jsx)("button",{onClick:()=>f(!u),className:Q("flex items-center gap-1.5 text-[11px] font-bold transition-colors",u?"text-rose-500":"text-violet-600 hover:text-violet-700"),children:u?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Ut,{size:14}),"Cancel"]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(dl,{size:14}),"Add Member"]})})]}),u&&w&&(0,l.jsxs)("div",{className:"animate-in slide-in-from-top-2 border-b border-black/10 p-4 px-6 duration-200 dark:border-white/10",children:[(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(hr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400",size:16}),(0,l.jsx)("input",{type:"text",value:p,onChange:T=>A(T.target.value),placeholder:"Search people...",className:"w-full rounded-xl border-none bg-black/5 py-2.5 pl-10 pr-4 text-[14px] font-medium outline-none focus:ring-2 focus:ring-violet-500/20 dark:bg-white/5"})]}),h.length>0&&(0,l.jsx)("div",{className:"mt-3 max-h-[200px] overflow-y-auto rounded-2xl bg-black/5 p-1 dark:bg-white/5",children:h.map(T=>(0,l.jsxs)("div",{className:"flex items-center justify-between rounded-xl p-2 transition-colors hover:bg-white dark:hover:bg-zinc-800/50",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsxs)(Ue,{className:"size-8",children:[(0,l.jsx)(Ge,{src:T.avatar}),(0,l.jsx)(Je,{children:T.name[0]})]}),(0,l.jsxs)("div",{className:"min-w-0",children:[(0,l.jsx)("div",{className:"truncate text-[12px] font-bold",children:T.name}),(0,l.jsxs)("div",{className:"truncate text-[10px] text-zinc-500",children:["@",T.handle]})]})]}),(0,l.jsx)("button",{onClick:()=>P.mutate(T.id),disabled:P.isPending,className:"rounded-full bg-violet-600 px-3 py-1 text-[11px] font-bold text-white transition-all hover:bg-violet-700 active:scale-95 disabled:opacity-50",children:"Add"})]},T.id))}),v&&(0,l.jsx)("div",{className:"flex justify-center py-4",children:(0,l.jsx)(ws,{size:18,className:"animate-spin text-zinc-400"})})]}),(0,l.jsxs)("div",{className:"max-h-[300px] overflow-y-auto border-b border-black/10 dark:border-white/10",children:[j?(0,l.jsx)("div",{className:"flex flex-col items-center justify-center py-12 gap-3",children:(0,l.jsx)(ws,{size:24,className:"animate-spin text-zinc-300"})}):N.map(T=>(0,l.jsxs)("div",{className:"flex h-14 items-center gap-3 px-6 transition-colors active:bg-black/5 dark:active:bg-white/5",children:[(0,l.jsxs)(Ue,{className:"size-9",children:[(0,l.jsx)(Ge,{src:T.avatar_url,className:"object-cover"}),(0,l.jsx)(Je,{children:T.display_name?.[0]})]}),(0,l.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,l.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,l.jsx)("span",{className:"truncate text-[14px] font-bold",children:T.display_name}),T.id===s.creatorId&&(0,l.jsx)(gr,{size:12,className:"text-violet-500"})]}),(0,l.jsxs)("div",{className:"truncate text-[11px] text-zinc-500",children:["@",T.username]})]}),w&&T.id!==n?.id&&(0,l.jsx)("button",{onClick:()=>H(T.id,T.display_name),disabled:M.isPending,className:"rounded-full p-2 text-rose-600 transition-colors hover:bg-rose-50 dark:text-rose-500 dark:hover:bg-rose-900/20 active:scale-90",title:"Remove Member",children:(0,l.jsx)(ul,{size:18})}),T.id===n?.id&&(0,l.jsx)("span",{className:"rounded-full bg-zinc-100 px-2 py-0.5 text-[9px] font-black text-zinc-500 dark:bg-zinc-800",children:"YOU"})]},T.id)),C&&(0,l.jsx)("div",{className:"flex justify-center p-4",children:(0,l.jsx)("button",{onClick:()=>_(),disabled:S,className:"text-[13px] font-bold text-violet-600 hover:text-violet-700 disabled:opacity-50",children:S?"Loading...":"Load More Members"})})]}),(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsxs)("button",{onClick:F,disabled:z.isPending,className:"flex h-14 w-full items-center justify-center text-[17px] font-semibold text-rose-600 transition-colors active:bg-rose-500/10 dark:text-rose-500 dark:active:bg-rose-500/20",children:[(0,l.jsx)(si,{size:18,className:"mr-2"}),"Leave Group"]}),w&&(0,l.jsxs)("button",{onClick:I,disabled:$.isPending,className:"flex h-14 w-full items-center justify-center border-t border-black/10 text-[17px] font-bold text-rose-500 transition-colors active:bg-rose-500/10 dark:border-white/10 dark:active:bg-rose-500/20",children:[(0,l.jsx)(ai,{size:18,className:"mr-2"}),"Delete Group"]}),(0,l.jsx)("button",{onClick:t,className:"flex h-14 w-full items-center justify-center border-t border-black/10 text-[17px] font-medium text-zinc-500 transition-colors active:bg-black/5 dark:border-white/10 dark:active:bg-white/5",children:"Cancel"})]})]})]})})},hy=P2;const $2={async createReport(e,t,s,r){const{data:n,error:i}=await L.from("reports").insert([{reporter_id:e,target_type:t,target_id:s,reason:r}]).select().single();if(i)throw i;return n}};var E2=({isOpen:e,onClose:t,targetType:s,targetId:r})=>{const{currentUser:n}=be(),[i,a]=(0,x.useState)(""),[o,c]=(0,x.useState)(!1),d=async()=>{if(!n){xe.error("You must be logged in to report content.");return}c(!0);try{await $2.createReport(n.id,s,r,i),xe.success("Thank you for your report. Our team will review it shortly."),t(),a("")}catch(u){console.error("Report error:",u),xe.error("Failed to submit report. Please try again.")}finally{c(!1)}};return(0,l.jsx)(us,{isOpen:e,onClose:t,className:"max-w-[320px] rounded-[32px] border border-black/10 bg-white/75 p-0 shadow-2xl backdrop-blur-xl dark:border-white/10 dark:bg-zinc-900/75 sm:max-w-[340px]",children:(0,l.jsxs)("div",{className:"flex flex-col text-center",children:[(0,l.jsxs)("div",{className:"flex flex-col items-center px-6 py-8 pb-6",children:[(0,l.jsxs)("h2",{className:"text-[19px] font-semibold leading-tight text-zinc-900 dark:text-zinc-50",children:["Report ",s?s.charAt(0).toUpperCase()+s.slice(1):""]}),(0,l.jsx)("p",{className:"mt-1.5 px-4 text-[14px] leading-snug text-zinc-500/80 dark:text-zinc-400/80",children:"Select a reason for reporting this content. Your report is securely anonymous."})]}),(0,l.jsx)("div",{className:"px-6 pb-6",children:(0,l.jsx)("textarea",{autoFocus:!0,rows:3,placeholder:"Reason for report...",value:i,onChange:u=>a(u.target.value),className:"w-full resize-none rounded-2xl border border-black/5 bg-black/5 p-4 text-[16px] outline-none placeholder:text-zinc-400 focus:border-violet-500/30 dark:border-white/5 dark:bg-white/5 dark:text-zinc-100"})}),(0,l.jsxs)("div",{className:"flex flex-col border-t border-black/10 dark:border-white/10",children:[(0,l.jsx)("button",{onClick:d,disabled:o||!i.trim(),className:"flex h-14 w-full items-center justify-center text-[19px] font-semibold text-violet-600 transition-colors active:bg-black/5 disabled:opacity-30 dark:text-violet-400 dark:active:bg-white/5",children:o?"Submitting...":"Submit"}),(0,l.jsx)("button",{onClick:t,disabled:o,className:"flex h-14 w-full items-center justify-center border-t border-black/10 text-[19px] font-medium text-zinc-500 transition-colors active:bg-black/5 dark:border-white/10 dark:text-zinc-400 dark:active:bg-white/5",children:"Cancel"})]})]})})},Oo=E2,z2=({isOpen:e,onClose:t,user:s,conversationId:r})=>{const n=Ce(),{addToast:i}=Fe(),a=$e(),[o,c]=x.useState(!1),[d,u]=x.useState(!1);if(!s)return null;const f=()=>{t(),n(`/u/${s.handle}`)},p=async()=>{if(window.confirm("Are you sure you want to delete this entire conversation? This cannot be undone.")){c(!0);try{await da(r),a.invalidateQueries({queryKey:["conversations"]}),i("Conversation deleted."),t(),n("/m")}catch(m){console.error("Delete failed:",m),i("Failed to delete conversation","error")}finally{c(!1)}}};return(0,l.jsxs)(us,{isOpen:e,onClose:t,className:"max-w-[320px] rounded-[32px] border border-black/10 bg-white/75 p-0 shadow-2xl backdrop-blur-xl dark:border-white/10 dark:bg-zinc-900/75 sm:max-w-[340px]",children:[(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsxs)("div",{className:"flex flex-col items-center gap-4 px-6 py-8 pb-6 text-center",children:[(0,l.jsxs)(Ue,{className:"size-24 border-4 border-white shadow-xl dark:border-zinc-900",children:[(0,l.jsx)(Ge,{src:s.avatar,className:"object-cover"}),(0,l.jsx)(Je,{className:"bg-zinc-100 text-2xl font-black text-zinc-400 dark:bg-zinc-800",children:s.name?.[0]?.toUpperCase()})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("h3",{className:"text-[20px] font-black leading-tight dark:text-white",children:s.name}),(0,l.jsxs)("p",{className:"text-[14px] font-medium text-zinc-500",children:["@",s.handle]})]}),(0,l.jsxs)(vt,{variant:"secondary",size:"sm",className:"h-8 rounded-full bg-zinc-100 px-4 text-xs font-bold transition-transform active:scale-95 dark:bg-zinc-800",onClick:f,children:[(0,l.jsx)(es,{size:14,className:"mr-1.5"}),"View Profile"]})]}),(0,l.jsxs)("div",{className:"flex flex-col border-t border-black/10 dark:border-white/10",children:[(s.bio||s.location||s.website)&&(0,l.jsxs)("div",{className:"border-b border-black/10 p-4 px-6 dark:border-white/10",children:[(0,l.jsx)("h4",{className:"mb-2 text-[10px] font-bold uppercase tracking-wider text-zinc-400",children:"About"}),(0,l.jsxs)("div",{className:"space-y-3",children:[s.bio&&(0,l.jsx)("p",{className:"text-[13px] leading-relaxed text-zinc-600 dark:text-zinc-300",children:s.bio}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-x-4 gap-y-2",children:[s.location&&(0,l.jsxs)("div",{className:"flex items-center gap-1 text-[11px] font-medium text-zinc-500",children:[(0,l.jsx)(Xl,{size:12}),s.location]}),s.website&&(0,l.jsxs)("a",{href:s.website.startsWith("http")?s.website:`https://${s.website}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-[11px] font-bold text-violet-600 hover:underline",children:[(0,l.jsx)(pl,{size:12}),s.website.replace(/^https?:\/\//,"")]})]})]})]}),(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsxs)("button",{className:"flex h-14 w-full items-center justify-between border-b border-black/10 px-6 transition-colors active:bg-black/5 dark:border-white/10 dark:active:bg-white/5",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"rounded-full bg-zinc-100 p-2 dark:bg-zinc-800",children:(0,l.jsx)(Cl,{size:18,className:"text-zinc-500"})}),(0,l.jsxs)("span",{className:"text-[16px] font-semibold text-zinc-700 dark:text-zinc-200",children:["Block @",s.handle]})]}),(0,l.jsx)(Hr,{size:14,className:"text-zinc-400"})]}),(0,l.jsxs)("button",{onClick:()=>u(!0),className:"flex h-14 w-full items-center justify-between border-b border-black/10 px-6 transition-colors active:bg-black/5 dark:border-white/10 dark:active:bg-white/5",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"rounded-full bg-zinc-100 p-2 dark:bg-zinc-800",children:(0,l.jsx)(pr,{size:18,className:"text-zinc-500"})}),(0,l.jsx)("span",{className:"text-[16px] font-semibold text-zinc-700 dark:text-zinc-200",children:"Report User"})]}),(0,l.jsx)(Hr,{size:14,className:"text-zinc-400"})]}),(0,l.jsxs)("button",{onClick:p,disabled:o,className:"flex h-14 w-full items-center justify-center text-[17px] font-bold text-rose-500 transition-colors active:bg-rose-500/10 dark:active:bg-rose-500/20",children:[(0,l.jsx)(ai,{size:18,className:"mr-2"}),o?"Deleting...":"Delete Conversation"]}),(0,l.jsx)("button",{onClick:t,className:"flex h-14 w-full items-center justify-center border-t border-black/10 text-[17px] font-medium text-zinc-500 transition-colors active:bg-black/5 dark:border-white/10 dark:active:bg-white/5",children:"Cancel"})]})]})]}),(0,l.jsx)(Oo,{isOpen:d,onClose:()=>u(!1),targetType:"user",targetId:s.id})]})},py=z2,M2=U(),A2=()=>{const e=(0,M2.c)(7),{isOpen:t,targetType:s,targetId:r,closeReport:n}=Fu();let i;e[0]!==n||e[1]!==t||e[2]!==r||e[3]!==s?(i=s&&r&&(0,l.jsx)(Oo,{isOpen:t,onClose:n,targetType:s,targetId:r}),e[0]=n,e[1]=t,e[2]=r,e[3]=s,e[4]=i):i=e[4];let a;return e[5]!==i?(a=(0,l.jsx)(l.Fragment,{children:i}),e[5]=i,e[6]=a):a=e[6],a},L2=A2,R2=U(),D2=e=>{const t=(0,R2.c)(151),{story:s,onClose:r}=e,[n,i]=(0,x.useState)(0),[a,o]=(0,x.useState)(0),[c,d]=(0,x.useState)(!1),[u,f]=(0,x.useState)(F2);let p,m;t[0]!==u?(p=()=>{localStorage.setItem("story-muted",JSON.stringify(u))},m=[u],t[0]=u,t[1]=p,t[2]=m):(p=t[1],m=t[2]),(0,x.useEffect)(p,m);let h;t[3]!==s.stories?(h=()=>{const ge={};return s.stories.forEach(_e=>{ge[_e.id]=_e.views_count||0}),ge},t[3]=s.stories,t[4]=h):h=t[4];const[g,v]=(0,x.useState)(h);let y;t[5]===Symbol.for("react.memo_cache_sentinel")?(y=new Set,t[5]=y):y=t[5];const[b]=(0,x.useState)(y),w=Ts(0);let k,j;t[6]===Symbol.for("react.memo_cache_sentinel")?(k=[0,200],j=[1,.5],t[6]=k,t[7]=j):(k=t[6],j=t[7]);const _=Wt(w,k,j);let C,S;t[8]===Symbol.for("react.memo_cache_sentinel")?(C=[0,200],S=[1,.9],t[8]=C,t[9]=S):(C=t[8],S=t[9]);const N=Wt(w,C,S),[E,P]=(0,x.useState)(5e3),M=(0,x.useRef)(null),z=s.stories,$=z[n];let A;t[10]!==$.media?(A=$.media.toLowerCase().match(/\.(mp4|webm|ogg|mov)$/)||$.media.includes("video"),t[10]=$.media,t[11]=A):A=t[11];const D=A;let O;t[12]===Symbol.for("react.memo_cache_sentinel")?(O=()=>{const ge=setTimeout(()=>P(5e3),0);return()=>clearTimeout(ge)},t[12]=O):O=t[12];let F;t[13]!==n?(F=[n],t[13]=n,t[14]=F):F=t[14],(0,x.useEffect)(O,F);let I;t[15]!==c||t[16]!==D?(I=()=>{D&&M.current&&(c?M.current.pause():M.current.play().catch(I2))},t[15]=c,t[16]=D,t[17]=I):I=t[17];let H;t[18]!==n||t[19]!==c||t[20]!==D?(H=[c,D,n],t[18]=n,t[19]=c,t[20]=D,t[21]=H):H=t[21],(0,x.useEffect)(I,H);let T;t[22]===Symbol.for("react.memo_cache_sentinel")?(T=ge=>{const _e=ge.currentTarget.duration*1e3;_e>0&&P(_e)},t[22]=T):T=t[22];const W=T;let J;t[23]!==$||t[24]!==b?(J=()=>{if($&&!b.has($.id)){b.add($.id);const ge=setTimeout(()=>{Jc($.id,"story")&&(v(_e=>({..._e,[$.id]:(_e[$.id]||0)+1})),eu($.id).then(_e=>{_e!==null&&v(mt=>({...mt,[$.id]:_e}))}))},0);return()=>clearTimeout(ge)}},t[23]=$,t[24]=b,t[25]=J):J=t[25];const X=$?.id;let se;t[26]!==b||t[27]!==X?(se=[X,b],t[26]=b,t[27]=X,t[28]=se):se=t[28],(0,x.useEffect)(J,se);let te;t[29]!==n||t[30]!==r||t[31]!==z.length||t[32]!==s.user.id?(te=()=>{n<z.length-1?(i(q2),o(0)):setTimeout(()=>r(s.user.id),0)},t[29]=n,t[30]=r,t[31]=z.length,t[32]=s.user.id,t[33]=te):te=t[33];const ee=te;let B;t[34]!==n?(B=()=>{n>0&&(i(O2),o(0))},t[34]=n,t[35]=B):B=t[35];const G=B;let V;t[36]===Symbol.for("react.memo_cache_sentinel")?(V=ge=>{ge.stopPropagation(),d(V2)},t[36]=V):V=t[36];const R=V;let q;t[37]!==ee||t[38]!==c||t[39]!==E?(q=()=>{if(c)return;const ge=50/E*100,_e=setInterval(()=>{o(mt=>mt>=100?(ee(),100):mt+ge)},50);return()=>clearInterval(_e)},t[37]=ee,t[38]=c,t[39]=E,t[40]=q):q=t[40];let K;t[41]!==n||t[42]!==ee||t[43]!==c||t[44]!==E?(K=[ee,n,c,E],t[41]=n,t[42]=ee,t[43]=c,t[44]=E,t[45]=K):K=t[45],(0,x.useEffect)(q,K);let Y,ne,Z;t[46]===Symbol.for("react.memo_cache_sentinel")?(Y={opacity:0},ne={opacity:1},Z={opacity:0},t[46]=Y,t[47]=ne,t[48]=Z):(Y=t[46],ne=t[47],Z=t[48]);let ue;t[49]!==r||t[50]!==s.user.id?(ue=()=>setTimeout(()=>r(s.user.id),0),t[49]=r,t[50]=s.user.id,t[51]=ue):ue=t[51];let fe;if(t[52]!==n||t[53]!==a||t[54]!==z){let ge;t[56]!==n||t[57]!==a?(ge=(_e,mt)=>(0,l.jsx)("div",{className:"h-full flex-1 overflow-hidden rounded-full bg-white/30",children:(0,l.jsx)("div",{className:"h-full bg-white transition-all duration-100",style:{width:mt<n?"100%":mt===n?`${a}%`:"0%"}})},mt),t[56]=n,t[57]=a,t[58]=ge):ge=t[58],fe=z.map(ge),t[52]=n,t[53]=a,t[54]=z,t[55]=fe}else fe=t[55];let ie;t[59]!==fe?(ie=(0,l.jsx)("div",{className:"flex h-0.5 w-full gap-1.5 bg-transparent",children:fe}),t[59]=fe,t[60]=ie):ie=t[60];const we=`/u/${s.user.handle}`;let Pe;t[61]!==s.user.avatar||t[62]!==s.user.handle?(Pe=(0,l.jsx)(Ge,{src:s.user.avatar,alt:s.user.handle,className:"object-cover"}),t[61]=s.user.avatar,t[62]=s.user.handle,t[63]=Pe):Pe=t[63];let ce;t[64]!==s.user.handle?.[0]?(ce=s.user.handle?.[0]?.toUpperCase(),t[64]=s.user.handle?.[0],t[65]=ce):ce=t[65];let de;t[66]!==ce?(de=(0,l.jsx)(Je,{children:ce}),t[66]=ce,t[67]=de):de=t[67];let ve;t[68]!==Pe||t[69]!==de?(ve=(0,l.jsxs)(Ue,{className:"size-10 border border-white/20 shadow-sm",children:[Pe,de]}),t[68]=Pe,t[69]=de,t[70]=ve):ve=t[70];let Ee;t[71]!==s.user.handle?(Ee=(0,l.jsx)("span",{className:"text-sm font-bold shadow-black drop-shadow-md",children:s.user.handle}),t[71]=s.user.handle,t[72]=Ee):Ee=t[72];let Ie;t[73]!==$.created_at?(Ie=new Date($.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),t[73]=$.created_at,t[74]=Ie):Ie=t[74];let Le;t[75]!==Ie?(Le=(0,l.jsx)("span",{children:Ie}),t[75]=Ie,t[76]=Le):Le=t[76];let Be;t[77]!==$.id||t[78]!==g?(Be=g[$.id]!==void 0&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{children:""}),(0,l.jsxs)("span",{children:[g[$.id]," views"]})]}),t[77]=$.id,t[78]=g,t[79]=Be):Be=t[79];let Re;t[80]!==Le||t[81]!==Be?(Re=(0,l.jsxs)("div",{className:"flex items-center gap-1 text-[10px] text-white/60 shadow-black drop-shadow-md",children:[Le,Be]}),t[80]=Le,t[81]=Be,t[82]=Re):Re=t[82];let Ze;t[83]!==Ee||t[84]!==Re?(Ze=(0,l.jsxs)("div",{className:"flex flex-col text-white",children:[Ee,Re]}),t[83]=Ee,t[84]=Re,t[85]=Ze):Ze=t[85];let et;t[86]!==we||t[87]!==ve||t[88]!==Ze?(et=(0,l.jsxs)(ze,{to:we,className:"flex items-center gap-3 transition-opacity hover:opacity-80",onClick:B2,children:[ve,Ze]}),t[86]=we,t[87]=ve,t[88]=Ze,t[89]=et):et=t[89];let He;t[90]!==u||t[91]!==D?(He=D&&(0,l.jsx)("button",{onClick:ge=>{ge.stopPropagation(),f(!u)},className:"rounded-full p-2 text-white transition-colors hover:bg-white/10 active:scale-90",title:u?"Unmute":"Mute",children:u?(0,l.jsx)(Tl,{size:24}):(0,l.jsx)(ml,{size:24})}),t[90]=u,t[91]=D,t[92]=He):He=t[92];let ct;t[93]!==r||t[94]!==s.user.id?(ct=ge=>{ge.stopPropagation(),setTimeout(()=>r(s.user.id),0)},t[93]=r,t[94]=s.user.id,t[95]=ct):ct=t[95];let zt;t[96]===Symbol.for("react.memo_cache_sentinel")?(zt=(0,l.jsx)(Ut,{size:24}),t[96]=zt):zt=t[96];let dt;t[97]!==ct?(dt=(0,l.jsx)("button",{onClick:ct,className:"rounded-full p-2 text-white transition-colors hover:bg-white/10 active:scale-90",children:zt}),t[97]=ct,t[98]=dt):dt=t[98];let ut;t[99]!==He||t[100]!==dt?(ut=(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[He,dt]}),t[99]=He,t[100]=dt,t[101]=ut):ut=t[101];let ft;t[102]!==et||t[103]!==ut?(ft=(0,l.jsxs)("div",{className:"flex items-center justify-between pointer-events-auto",children:[et,ut]}),t[102]=et,t[103]=ut,t[104]=ft):ft=t[104];let rt;t[105]!==ie||t[106]!==ft?(rt=(0,l.jsxs)("div",{className:"absolute left-0 right-0 top-0 z-[110] flex flex-col gap-4 p-4 pointer-events-none",children:[ie,ft]}),t[105]=ie,t[106]=ft,t[107]=rt):rt=t[107];let Mt,jt;t[108]===Symbol.for("react.memo_cache_sentinel")?(Mt={top:0,bottom:0},jt={top:0,bottom:.8},t[108]=Mt,t[109]=jt):(Mt=t[108],jt=t[109]);let nt;t[110]!==w||t[111]!==_||t[112]!==N?(nt={y:w,opacity:_,scale:N},t[110]=w,t[111]=_,t[112]=N,t[113]=nt):nt=t[113];let it;t[114]!==r||t[115]!==s.user.id?(it=(ge,_e)=>{(_e.offset.y>100||_e.velocity.y>500)&&setTimeout(()=>r(s.user.id),0)},t[114]=r,t[115]=s.user.id,t[116]=it):it=t[116];let At,kt,St,Lt;t[117]===Symbol.for("react.memo_cache_sentinel")?(At={opacity:0,scale:.9,x:20},kt={opacity:1,scale:1,x:0},St={opacity:0,scale:1.1,x:-20},Lt={type:"spring",stiffness:300,damping:30},t[117]=At,t[118]=kt,t[119]=St,t[120]=Lt):(At=t[117],kt=t[118],St=t[119],Lt=t[120]);let Rt;t[121]!==$.media||t[122]!==u||t[123]!==D?(Rt=D?(0,l.jsx)("video",{ref:M,src:$.media,onLoadedMetadata:W,className:"h-full max-h-full w-full object-contain rounded-xl shadow-2xl",playsInline:!0,autoPlay:!0,muted:u}):(0,l.jsx)("img",{src:$.media,className:"h-full max-h-full w-full object-contain rounded-xl shadow-2xl",alt:""}),t[121]=$.media,t[122]=u,t[123]=D,t[124]=Rt):Rt=t[124];let Dt;t[125]!==$.content?(Dt=$.content&&(0,l.jsx)("div",{className:"absolute bottom-16 left-0 right-0 px-8 pb-4 z-30",children:(0,l.jsx)("div",{className:"bg-black/40 backdrop-blur-md px-4 py-3 rounded-2xl border border-white/10 shadow-lg",children:(0,l.jsx)("p",{className:"text-white text-sm font-medium leading-relaxed drop-shadow-sm text-center",children:$.content})})}),t[125]=$.content,t[126]=Dt):Dt=t[126];let Tt;t[127]!==c?(Tt=c&&(0,l.jsx)("div",{className:"pointer-events-none absolute inset-0 z-10 flex items-center justify-center",children:(0,l.jsx)(he.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"rounded-full border border-white/10 bg-black/40 px-4 py-2 text-xs font-bold text-white backdrop-blur-md",children:"PAUSED"})}),t[127]=c,t[128]=Tt):Tt=t[128];let Ft;t[129]!==$.id||t[130]!==Rt||t[131]!==Dt||t[132]!==Tt?(Ft=(0,l.jsx)(Cs,{mode:"wait",children:(0,l.jsxs)(he.div,{initial:At,animate:kt,exit:St,transition:Lt,className:"relative flex h-full w-full items-center justify-center",children:[Rt,Dt,Tt]},$.id)}),t[129]=$.id,t[130]=Rt,t[131]=Dt,t[132]=Tt,t[133]=Ft):Ft=t[133];let It;t[134]!==G?(It=(0,l.jsx)("div",{className:"w-[30%] cursor-w-resize",onClick:G}),t[134]=G,t[135]=It):It=t[135];let ms;t[136]===Symbol.for("react.memo_cache_sentinel")?(ms=(0,l.jsx)("div",{className:"flex w-[40%] cursor-pointer items-center justify-center",onClick:R}),t[136]=ms):ms=t[136];let qt;t[137]!==ee?(qt=(0,l.jsx)("div",{className:"w-[30%] cursor-e-resize",onClick:ee}),t[137]=ee,t[138]=qt):qt=t[138];let Ot;t[139]!==It||t[140]!==qt?(Ot=(0,l.jsxs)("div",{className:"absolute inset-0 z-20 flex",children:[It,ms,qt]}),t[139]=It,t[140]=qt,t[141]=Ot):Ot=t[141];let Vt;t[142]!==nt||t[143]!==it||t[144]!==Ft||t[145]!==Ot?(Vt=(0,l.jsxs)(he.div,{drag:"y",dragConstraints:Mt,dragElastic:jt,style:nt,onDragEnd:it,onClick:H2,className:"relative flex h-full w-full max-w-xl items-center justify-center p-2 touch-none",children:[Ft,Ot]}),t[142]=nt,t[143]=it,t[144]=Ft,t[145]=Ot,t[146]=Vt):Vt=t[146];let hs;return t[147]!==ue||t[148]!==rt||t[149]!==Vt?(hs=(0,l.jsxs)(he.div,{initial:Y,animate:ne,exit:Z,onClick:ue,className:"fixed inset-0 z-[9999] bg-black/90",children:[rt,Vt]}),t[147]=ue,t[148]=rt,t[149]=Vt,t[150]=hs):hs=t[150],hs},T2=D2;function F2(){const e=localStorage.getItem("story-muted");return e?JSON.parse(e):!0}function I2(){}function q2(e){return e+1}function O2(e){return e-1}function V2(e){return!e}function B2(e){return e.stopPropagation()}function H2(e){return e.stopPropagation()}var K2=U();const Q2=()=>{const e=(0,K2.c)(1);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],e[0]=t):t=e[0],(0,x.useEffect)(U2,t)};function W2(e){const t=e.target;t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable||e.ctrlKey||e.altKey||e.metaKey||e.key.toLowerCase()}function U2(){const e=W2;return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}var G2=U(),J2=(0,x.lazy)(()=>ae(()=>import("./Profile-CBCKioim.js"),__vite__mapDeps([20,1,2,3,4,5,6,7,8,9,10,11,12,21]))),Y2=(0,x.lazy)(()=>ae(()=>import("./Community-BDJVrVy0.js"),__vite__mapDeps([22,1,2,3,4,5,6,7,8,9,10,11,12,21]))),X2=(0,x.lazy)(()=>ae(()=>import("./PostDetails-BEOfKGwE.js"),__vite__mapDeps([23,1,2,3,4,5,6,7,8,9,10,11,12]))),Z2=(0,x.lazy)(()=>ae(()=>import("./Settings-B_ZXZO13.js"),__vite__mapDeps([24,1,2,3,4,5,6,7]))),ex=(0,x.lazy)(()=>ae(()=>import("./HashtagFeed-DI9lhB0W.js"),__vite__mapDeps([25,1,2,3,4,5,11,6,7,8,9,10,12]))),tx=(0,x.lazy)(()=>ae(()=>import("./CreateCommunity-DeUQAUTQ.js"),__vite__mapDeps([26,1,2,3,4,5,11,6,7]))),sx=(0,x.lazy)(()=>ae(()=>import("./CreateGroup-BrnIjFz5.js"),__vite__mapDeps([27,1,2,3,4,5,11,6,7]))),rx=(0,x.lazy)(()=>ae(()=>import("./page-Cy0ofbpB.js"),__vite__mapDeps([28,1,2,3,4,5,6,7,29]))),nx=(0,x.lazy)(()=>ae(()=>import("./page-DgVvf2im.js"),__vite__mapDeps([30,1,2,3,4,5,6,7,29]))),ix=(0,x.lazy)(()=>ae(()=>import("./page-DRTMPcqj.js"),__vite__mapDeps([31,1,2,3,4,5,6,7]))),ax=(0,x.lazy)(()=>ae(()=>import("./page-Cfmj-2rJ.js"),__vite__mapDeps([32,1,2,3,4,5,6,7]))),ox=(0,x.lazy)(()=>ae(()=>import("./page-DY4vg-yn.js"),__vite__mapDeps([33,1,2,3,4,5,6,7]))),lx=(0,x.lazy)(()=>ae(()=>import("./onboarding-Dle0JzDU.js"),__vite__mapDeps([34,1,2,3,4,5,11,6,7]))),cx=(0,x.lazy)(()=>ae(()=>import("./page-DDp2WDyg.js"),__vite__mapDeps([35,1,2,3,4,5,6,7]))),Jn=(0,x.lazy)(()=>ae(()=>import("./UserManagement-C_HT2UY1.js"),__vite__mapDeps([36,1,2,3,4,5,6,7]))),dx=(0,x.lazy)(()=>ae(()=>import("./ReportsManagement-CbzQV3rY.js"),__vite__mapDeps([37,1,2,3,4,5,6,7]))),ux=(0,x.lazy)(()=>ae(()=>import("./Terms-BxgsZv2o.js"),__vite__mapDeps([38,1,2,3,4]))),fx=(0,x.lazy)(()=>ae(()=>import("./Privacy-SFqMycsh.js"),__vite__mapDeps([39,1,2,3,4]))),mx=(0,x.lazy)(()=>ae(()=>import("./Guidelines-g_C9_HEp.js"),__vite__mapDeps([40,1,2,3,4]))),hx=(0,x.lazy)(()=>ae(()=>import("./Support-6_FXLxgX.js"),__vite__mapDeps([41,1,2,3,4,5]))),px=(0,x.lazy)(()=>ae(()=>import("./Status-B18oBbg2.js"),__vite__mapDeps([42,1,2,3,4,5]))),gx=(0,x.lazy)(()=>ae(()=>import("./NotFoundPage-PW6Cb27D.js"),__vite__mapDeps([43,1,2,3,4,5]))),Yn=(0,x.lazy)(()=>ae(()=>import("./Reels-BDJV6LU8.js"),__vite__mapDeps([14,1,2,3,4,5,6,7,8,9,10,11,12]))),Xn=(0,x.lazy)(()=>ae(()=>import("./Messages-DrFJwZ55.js"),__vite__mapDeps([15,1,2,3,4,5,11,6,7,8,9,12,16]))),xx=(0,x.lazy)(()=>ae(()=>import("./Feed-ICekwsg9.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12]))),vx=(0,x.lazy)(()=>ae(()=>import("./Explore-bS0q8oox.js"),__vite__mapDeps([13,1,2,3,4,5,6,7,8,9,10,11,12]))),yx=(0,x.lazy)(()=>ae(()=>import("./Notifications-BLQ5xDx9.js"),__vite__mapDeps([17,1,2,3,4,5,6,7]))),bx=(0,x.lazy)(()=>ae(()=>import("./CreatePost-WByuBCRV.js"),__vite__mapDeps([18,1,2,3,4,5,11,6,7,19,12,16]))),wx=(0,x.lazy)(()=>ae(()=>import("./EditProfile-C9KdmQ51.js"),__vite__mapDeps([44,1,2,3,4,5,6,7,19,16])));function _x(){const e=(0,G2.c)(54),t=Ce(),{isOpen:s,images:r,currentIndex:n,closeLightbox:i,setIndex:a}=Lu(),[o,c]=(0,x.useState)(null);Q2(),Vu();let d;e[0]===Symbol.for("react.memo_cache_sentinel")?(d=(0,l.jsx)(Yc,{}),e[0]=d):d=e[0];let u;e[1]===Symbol.for("react.memo_cache_sentinel")?(u=(0,l.jsx)(oe,{path:"/login",element:(0,l.jsx)(rx,{})}),e[1]=u):u=e[1];let f;e[2]===Symbol.for("react.memo_cache_sentinel")?(f=(0,l.jsx)(oe,{path:"/register",element:(0,l.jsx)(nx,{})}),e[2]=f):f=e[2];let p;e[3]===Symbol.for("react.memo_cache_sentinel")?(p=(0,l.jsx)(oe,{path:"/forgot-password",element:(0,l.jsx)(ix,{})}),e[3]=p):p=e[3];let m;e[4]===Symbol.for("react.memo_cache_sentinel")?(m=(0,l.jsx)(oe,{path:"/reset-password",element:(0,l.jsx)(ax,{})}),e[4]=m):m=e[4];let h;e[5]===Symbol.for("react.memo_cache_sentinel")?(h=(0,l.jsx)(oe,{path:"/verify-otp",element:(0,l.jsx)(ox,{})}),e[5]=h):h=e[5];let g;e[6]===Symbol.for("react.memo_cache_sentinel")?(g=(0,l.jsx)(oe,{path:"/onboarding",element:(0,l.jsx)(lx,{})}),e[6]=g):g=e[6];let v;e[7]===Symbol.for("react.memo_cache_sentinel")?(v=(0,l.jsx)(np,{}),e[7]=v):v=e[7];let y;e[8]===Symbol.for("react.memo_cache_sentinel")?(y=(0,l.jsx)(oe,{path:"/",element:(0,l.jsx)(ke,{children:(0,l.jsx)(xx,{onStoryClick:c})})}),e[8]=y):y=e[8];let b;e[9]===Symbol.for("react.memo_cache_sentinel")?(b=(0,l.jsx)(oe,{path:"/explore",element:(0,l.jsx)(ke,{children:(0,l.jsx)(vx,{})})}),e[9]=b):b=e[9];let w;e[10]===Symbol.for("react.memo_cache_sentinel")?(w=(0,l.jsx)(oe,{path:"/r",element:(0,l.jsx)(ke,{children:(0,l.jsx)(Yn,{})})}),e[10]=w):w=e[10];let k;e[11]===Symbol.for("react.memo_cache_sentinel")?(k=(0,l.jsx)(oe,{path:"/m",element:(0,l.jsx)(ke,{children:(0,l.jsx)(Xn,{})})}),e[11]=k):k=e[11];let j;e[12]===Symbol.for("react.memo_cache_sentinel")?(j=(0,l.jsx)(oe,{path:"/notifications",element:(0,l.jsx)(ke,{children:(0,l.jsx)(yx,{})})}),e[12]=j):j=e[12];let _;e[13]===Symbol.for("react.memo_cache_sentinel")?(_=(0,l.jsx)(oe,{path:"/r/:id",element:(0,l.jsx)(ke,{children:(0,l.jsx)(Yn,{},"reels-page")})}),e[13]=_):_=e[13];let C;e[14]===Symbol.for("react.memo_cache_sentinel")?(C=(0,l.jsx)(oe,{path:"/m/:id",element:(0,l.jsx)(ke,{children:(0,l.jsx)(Xn,{})})}),e[14]=C):C=e[14];let S;e[15]===Symbol.for("react.memo_cache_sentinel")?(S=(0,l.jsx)(oe,{path:"/settings",element:(0,l.jsx)(ke,{children:(0,l.jsx)(Z2,{})})}),e[15]=S):S=e[15];let N;e[16]===Symbol.for("react.memo_cache_sentinel")?(N=(0,l.jsx)(oe,{path:"/p/:id",element:(0,l.jsx)(ke,{children:(0,l.jsx)(X2,{})})}),e[16]=N):N=e[16];let E;e[17]===Symbol.for("react.memo_cache_sentinel")?(E=(0,l.jsx)(oe,{path:"/create",element:(0,l.jsx)(ke,{children:(0,l.jsx)(bx,{})})}),e[17]=E):E=e[17];let P;e[18]===Symbol.for("react.memo_cache_sentinel")?(P=(0,l.jsx)(oe,{path:"/create-community",element:(0,l.jsx)(ke,{children:(0,l.jsx)(tx,{})})}),e[18]=P):P=e[18];let M;e[19]===Symbol.for("react.memo_cache_sentinel")?(M=(0,l.jsx)(oe,{path:"/create-group",element:(0,l.jsx)(ke,{children:(0,l.jsx)(sx,{})})}),e[19]=M):M=e[19];let z;e[20]!==t?(z=(0,l.jsx)(oe,{path:"/c/:handle",element:(0,l.jsx)(ke,{children:(0,l.jsx)(Y2,{onPostInCommunity:ne=>{t("/create",{state:{initialCommunity:ne}})}})})}),e[20]=t,e[21]=z):z=e[21];let $;e[22]===Symbol.for("react.memo_cache_sentinel")?($=(0,l.jsx)(oe,{path:"/tags/:tag",element:(0,l.jsx)(ke,{children:(0,l.jsx)(ex,{})})}),e[22]=$):$=e[22];let A;e[23]===Symbol.for("react.memo_cache_sentinel")?(A=(0,l.jsx)(oe,{path:"/u/:handle",element:(0,l.jsx)(ke,{children:(0,l.jsx)(J2,{})})}),e[23]=A):A=e[23];let D;e[24]===Symbol.for("react.memo_cache_sentinel")?(D=(0,l.jsx)(oe,{path:"/edit-profile",element:(0,l.jsx)(ke,{children:(0,l.jsx)(wx,{})})}),e[24]=D):D=e[24];let O;e[25]===Symbol.for("react.memo_cache_sentinel")?(O=(0,l.jsx)(oe,{path:"/pro",element:(0,l.jsx)(ke,{children:(0,l.jsx)(cx,{})})}),e[25]=O):O=e[25];let F;e[26]!==z?(F=(0,l.jsxs)(oe,{element:v,children:[y,b,w,k,j,_,C,S,N,E,P,M,z,$,A,D,O]}),e[26]=z,e[27]=F):F=e[27];let I;e[28]===Symbol.for("react.memo_cache_sentinel")?(I=(0,l.jsx)(N2,{allowedRoles:["admin"],children:(0,l.jsx)(bf,{})}),e[28]=I):I=e[28];let H;e[29]===Symbol.for("react.memo_cache_sentinel")?(H=(0,l.jsx)(oe,{index:!0,element:(0,l.jsx)(Jn,{})}),e[29]=H):H=e[29];let T;e[30]===Symbol.for("react.memo_cache_sentinel")?(T=(0,l.jsx)(oe,{path:"users",element:(0,l.jsx)(Jn,{})}),e[30]=T):T=e[30];let W;e[31]===Symbol.for("react.memo_cache_sentinel")?(W=(0,l.jsxs)(oe,{path:"/syspanel",element:I,children:[H,T,(0,l.jsx)(oe,{path:"reports",element:(0,l.jsx)(dx,{})})]}),e[31]=W):W=e[31];let J;e[32]===Symbol.for("react.memo_cache_sentinel")?(J=(0,l.jsx)(Kh,{}),e[32]=J):J=e[32];let X;e[33]===Symbol.for("react.memo_cache_sentinel")?(X=(0,l.jsx)(oe,{path:"terms",element:(0,l.jsx)(ux,{})}),e[33]=X):X=e[33];let se;e[34]===Symbol.for("react.memo_cache_sentinel")?(se=(0,l.jsx)(oe,{path:"privacy",element:(0,l.jsx)(fx,{})}),e[34]=se):se=e[34];let te;e[35]===Symbol.for("react.memo_cache_sentinel")?(te=(0,l.jsx)(oe,{path:"guidelines",element:(0,l.jsx)(mx,{})}),e[35]=te):te=e[35];let ee;e[36]===Symbol.for("react.memo_cache_sentinel")?(ee=(0,l.jsx)(oe,{path:"support",element:(0,l.jsx)(hx,{})}),e[36]=ee):ee=e[36];let B;e[37]===Symbol.for("react.memo_cache_sentinel")?(B=(0,l.jsxs)(oe,{path:"/info",element:J,children:[X,se,te,ee,(0,l.jsx)(oe,{path:"status",element:(0,l.jsx)(px,{})})]}),e[37]=B):B=e[37];let G;e[38]===Symbol.for("react.memo_cache_sentinel")?(G=(0,l.jsx)(oe,{path:"*",element:(0,l.jsx)(gx,{})}),e[38]=G):G=e[38];let V;e[39]!==F?(V=(0,l.jsx)(x.Suspense,{fallback:null,children:(0,l.jsxs)(Wo,{children:[u,f,p,m,h,g,F,W,B,G]})}),e[39]=F,e[40]=V):V=e[40];let R;e[41]!==i||e[42]!==n||e[43]!==r||e[44]!==s||e[45]!==a?(R=s&&(0,l.jsx)(n1,{media:r,currentIndex:n,onClose:i,onNavigate:a}),e[41]=i,e[42]=n,e[43]=r,e[44]=s,e[45]=a,e[46]=R):R=e[46];let q;e[47]!==o?(q=o&&(0,l.jsx)(T2,{story:o,onClose:ne=>{if(ne){const Z=JSON.parse(localStorage.getItem("seenStories")||"[]");typeof ne=="string"&&!Z.includes(ne)&&localStorage.setItem("seenStories",JSON.stringify([...Z,ne]))}c(null)}}),e[47]=o,e[48]=q):q=e[48];let K;e[49]===Symbol.for("react.memo_cache_sentinel")?(K=(0,l.jsx)(L2,{}),e[49]=K):K=e[49];let Y;return e[50]!==V||e[51]!==R||e[52]!==q?(Y=(0,l.jsxs)(qu,{children:[d,V,R,q,K]}),e[50]=V,e[51]=R,e[52]=q,e[53]=Y):Y=e[53],Y}window.addEventListener("error",e=>{e.message&&(e.message.includes("Failed to fetch dynamically imported module")||e.message.includes("Importing a prohibited module"))&&(console.warn("Chunk load error detected, reloading page..."),window.location.reload())},!0);var jx=new el({defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:1e3*60*30,retry:1,refetchOnWindowFocus:!1}}}),Zn=document.getElementById("root");Zn&&(0,Lc.createRoot)(Zn).render((0,l.jsx)(x.StrictMode,{children:(0,l.jsx)(Zo,{client:jx,children:(0,l.jsx)(Yo,{children:(0,l.jsx)(lu,{children:(0,l.jsx)(ru,{children:(0,l.jsx)(iu,{children:(0,l.jsx)(ju,{children:(0,l.jsx)(bu,{children:(0,l.jsx)(Tu,{children:(0,l.jsx)(Au,{children:(0,l.jsx)(_x,{})})})})})})})})})})}));export{Sv as $,Ts as $t,Tv as A,Qx as An,Er as At,$v as B,Vx as Bn,Mf as Bt,Lv as C,yd as Cn,uv as Ct,Iv as D,Gx as Dn,Ta as Dt,Fv as E,wd as En,dv as Et,nr as F,rd as Fn,iv as Ft,Cv as G,L as Gn,Nf as Gt,Pv as H,Bx as Hn,av as Ht,jo as I,Q as In,Af as It,v1 as J,Cf as Jt,y1 as K,Pf as Kt,rr as L,Ox as Ln,Lf as Lt,Mv as M,ad as Mn,zr as Mt,R1 as N,id as Nn,lv as Nt,qv as O,od as On,Pr as Ot,A1 as P,ks as Pn,Nr as Pt,bo as Q,Wt as Qt,zv as R,Hx as Rn,Ff as Rt,Ch as S,_d as Sn,Qf as St,Dv as T,Sd as Tn,Yf as Tt,le as U,Jc as Un,vt as Ut,$1 as V,Kx as Vn,zf as Vt,S1 as W,Ms as Wn,nv as Wt,Tn as X,jf as Xt,Nv as Y,kf as Yt,p1 as Z,Sf as Zt,Qv as _,Bd as _n,co as _t,ke as a,rv as an,_v as at,Vv as b,Jx as bn,fv as bt,ty as c,ku as cn,mo as ct,Xv as d,be as dn,uo as dt,he as en,fo as et,Yv as f,tv as fn,pv as ft,Wv as g,nn as gn,us as gt,Uv as h,Id as hn,hv as ht,fy as i,Ge as in,bv as it,Av as j,Ss as jn,$r as jt,Ov as k,Wx as kn,Ia as kt,ey as l,Fe as ln,xv as lt,Gv as m,Zx as mn,gv as mt,hy as n,Ue as nn,vv as nt,ry as o,Fu as on,wv as ot,Jv as p,ev as pn,f1 as pt,w1 as q,_f as qt,my as r,Je as rn,yv as rt,sy as s,Lu as sn,kv as st,py as t,Cs as tn,po as tt,Zv as u,As as un,jv as ut,Hv as v,Xx as vn,a1 as vt,Rv as w,Ux as wn,Wf as wt,$h as x,bd as xn,cv as xt,Bv as y,Yx as yn,mv as yt,Ev as z,oa as zn,ov as zt};
