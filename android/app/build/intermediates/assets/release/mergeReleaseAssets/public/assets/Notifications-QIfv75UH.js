import{a as h}from"./rolldown-runtime-BaZ8gS7u.js";import{c as g,l as N,w as b}from"./framework-3lkjbTvb.js";import"./database-COznt_u0.js";import{Fn as j,Jt as x,Yt as w,fr as k,gn as y,kn as _}from"./ui-libs-oBja7Jpd.js";import"./media-libs-C98UjHPF.js";import{B as z,Bn as S,Wt as C,an as A,at as q,in as F,l as M,rn as $}from"./index-C1_utqYf.js";var B=g(),X=h(b(),1),t=h(N(),1),I=()=>{const e=(0,B.c)(17),{notifications:s,isLoading:p,isFetchingMore:d,hasMore:a,loadNotifications:m,handleNotificationClick:u}=M(),f=L,v=Y;if(p&&s.length===0){let r;return e[0]===Symbol.for("react.memo_cache_sentinel")?(r=(0,t.jsx)("div",{className:"flex flex-col",children:[1,2,3,4,5,6].map(E)}),e[0]=r):r=e[0],r}let c;e[1]===Symbol.for("react.memo_cache_sentinel")?(c=(0,t.jsx)("div",{className:"sticky top-0 z-10 border-b border-zinc-100 bg-white/80 p-4 backdrop-blur-md dark:bg-black/80 dark:border-zinc-800",children:(0,t.jsx)("h2",{className:"text-xl font-bold dark:text-white",children:"Notifications"})}),e[1]=c):c=e[1];let i;e[2]!==u||e[3]!==s?(i=s.length>0?(0,t.jsx)("div",{className:"divide-y divide-zinc-100 dark:divide-zinc-800",children:s.map(r=>(0,t.jsxs)("div",{onClick:()=>u(r),className:`flex cursor-pointer gap-4 p-4 transition-colors hover:bg-zinc-50 dark:hover:bg-zinc-900/50 ${r.is_read?"":"bg-violet-50/30 dark:bg-violet-900/10"}`,children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)($,{className:"h-12 w-12 border border-zinc-100 dark:border-zinc-800",children:[(0,t.jsx)(A,{src:r.avatar}),(0,t.jsx)(F,{children:r.user?.[0]?.toUpperCase()||"?"})]}),(0,t.jsx)("div",{className:"absolute -bottom-1 -right-1 rounded-full bg-white p-1 shadow-sm dark:bg-zinc-900",children:f(r.type)})]}),(0,t.jsx)("div",{className:"flex flex-1 flex-col gap-1",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"text-sm dark:text-zinc-100",children:[(0,t.jsx)("span",{className:"font-bold",children:r.user?`@${r.user}`:"System"})," ",v(r)]}),(0,t.jsx)("span",{className:"text-xs text-zinc-500",children:S(r.created_at)})]})})]},r.id))}):(0,t.jsx)("div",{className:"p-16 text-center text-zinc-500",children:(0,t.jsx)("p",{className:"font-medium",children:"No notifications yet."})}),e[2]=u,e[3]=s,e[4]=i):i=e[4];let n;e[5]!==a||e[6]!==d||e[7]!==m||e[8]!==s.length?(n=s.length>0&&a&&(0,t.jsx)("div",{className:"flex justify-center p-4",children:(0,t.jsx)(C,{variant:"ghost",onClick:()=>m(),loading:d,className:"text-sm",children:"Load more"})}),e[5]=a,e[6]=d,e[7]=m,e[8]=s.length,e[9]=n):n=e[9];let o;e[10]!==a||e[11]!==s.length?(o=s.length>0&&!a&&(0,t.jsx)("div",{className:"p-8 text-center text-sm text-zinc-500",children:"You've caught up with everything!"}),e[10]=a,e[11]=s.length,e[12]=o):o=e[12];let l;return e[13]!==i||e[14]!==n||e[15]!==o?(l=(0,t.jsxs)("div",{className:"min-h-screen rounded-none border-y border-zinc-100 bg-white pb-20 shadow-sm dark:bg-black dark:border-zinc-800 md:rounded-xl md:border",children:[c,i,n,o]}),e[13]=i,e[14]=n,e[15]=o,e[16]=l):l=e[16],l},D=I;function L(e){switch(e){case"like":return(0,t.jsx)(j,{className:"h-4 w-4 fill-red-500 text-red-500"});case"mention":return(0,t.jsx)(k,{className:"h-4 w-4 text-violet-500"});case"repost":return(0,t.jsx)(_,{className:"h-4 w-4 text-green-500"});case"comment":return(0,t.jsx)(y,{className:"h-4 w-4 text-blue-500"});case"follow":return(0,t.jsx)(q,{className:"h-4 w-4 text-zinc-500"});case"report_resolved":return(0,t.jsx)(w,{className:"h-4 w-4 text-emerald-500"});case"report_declined":return(0,t.jsx)(x,{className:"h-4 w-4 text-amber-500"});case"content_removed":return(0,t.jsx)(x,{className:"h-4 w-4 text-red-500"});default:return null}}function Y(e){switch(e.type){case"like":return"liked your post";case"mention":return"mentioned you in a post";case"repost":return"reposted your post";case"comment":return"replied to your post";case"follow":return"started following you";case"report_resolved":return"reviewed your report and resolved it";case"report_declined":return"reviewed your report and declined it";case"content_removed":return"Your content was removed for violating community guidelines";default:return"interacted with you"}}function E(e){return(0,t.jsx)(z,{},e)}export{D as default};
