import{a as h}from"./rolldown-runtime-BaZ8gS7u.js";import{o as b,s as g}from"./animations-pEILWrFP.js";import{c as N}from"./framework-di2JoXyY.js";import"./database-CdmW3A7f.js";import{En as v,Sn as j,ar as k,pn as w}from"./ui-libs-yzUERV1o.js";import"./media-libs-D2H42K39.js";import{dt as y,k as z,lt as _,p as S,ut as A,xt as C,yn as q}from"./index-soDPyNUO.js";import{i as F}from"./hooks-N9eoj8eq.js";var L=N(),J=h(g(),1),t=h(b(),1),M=()=>{const e=(0,L.c)(17),{notifications:s,isLoading:u,isFetchingMore:c,hasMore:a,loadNotifications:m,handleNotificationClick:x}=F(),p=I,f=$;if(u&&s.length===0){let r;return e[0]===Symbol.for("react.memo_cache_sentinel")?(r=(0,t.jsx)("div",{className:"flex flex-col",children:[1,2,3,4,5,6].map(E)}),e[0]=r):r=e[0],r}let l;e[1]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)("div",{className:"sticky top-0 z-10 border-b border-zinc-100 bg-white/80 p-4 backdrop-blur-md dark:bg-black/80 dark:border-zinc-800",children:(0,t.jsx)("h2",{className:"text-xl font-bold dark:text-white",children:"Notifications"})}),e[1]=l):l=e[1];let i;e[2]!==x||e[3]!==s?(i=s.length>0?(0,t.jsx)("div",{className:"divide-y divide-zinc-100 dark:divide-zinc-800",children:s.map(r=>(0,t.jsxs)("div",{onClick:()=>x(r),className:`flex cursor-pointer gap-4 p-4 transition-colors hover:bg-zinc-50 dark:hover:bg-zinc-900/50 ${r.is_read?"":"bg-violet-50/30 dark:bg-violet-900/10"}`,children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)(_,{className:"h-12 w-12 border border-zinc-100 dark:border-zinc-800",children:[(0,t.jsx)(y,{src:r.avatar}),(0,t.jsx)(A,{children:r.user?.[0]?.toUpperCase()||"?"})]}),(0,t.jsx)("div",{className:"absolute -bottom-1 -right-1 rounded-full bg-white p-1 shadow-sm dark:bg-zinc-900",children:p(r.type)})]}),(0,t.jsx)("div",{className:"flex flex-1 flex-col gap-1",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"text-sm dark:text-zinc-100",children:[(0,t.jsxs)("span",{className:"font-bold",children:["@",r.user]})," ",f(r)]}),(0,t.jsx)("span",{className:"text-xs text-zinc-500",children:q(r.created_at)})]})})]},r.id))}):(0,t.jsx)("div",{className:"p-16 text-center text-zinc-500",children:(0,t.jsx)("p",{className:"font-medium",children:"No notifications yet."})}),e[2]=x,e[3]=s,e[4]=i):i=e[4];let n;e[5]!==a||e[6]!==c||e[7]!==m||e[8]!==s.length?(n=s.length>0&&a&&(0,t.jsx)("div",{className:"flex justify-center p-4",children:(0,t.jsx)(C,{variant:"ghost",onClick:()=>m(),disabled:c,className:"text-sm",children:c?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"mr-2 animate-pulse",children:"..."}),"Loading..."]}):"Load more"})}),e[5]=a,e[6]=c,e[7]=m,e[8]=s.length,e[9]=n):n=e[9];let o;e[10]!==a||e[11]!==s.length?(o=s.length>0&&!a&&(0,t.jsx)("div",{className:"p-8 text-center text-sm text-zinc-500",children:"You've caught up with everything!"}),e[10]=a,e[11]=s.length,e[12]=o):o=e[12];let d;return e[13]!==i||e[14]!==n||e[15]!==o?(d=(0,t.jsxs)("div",{className:"min-h-screen rounded-none border-y border-zinc-100 bg-white pb-20 shadow-sm dark:bg-black dark:border-zinc-800 md:rounded-xl md:border",children:[l,i,n,o]}),e[13]=i,e[14]=n,e[15]=o,e[16]=d):d=e[16],d},K=M;function I(e){switch(e){case"like":return(0,t.jsx)(v,{className:"h-4 w-4 fill-red-500 text-red-500"});case"mention":return(0,t.jsx)(k,{className:"h-4 w-4 text-violet-500"});case"repost":return(0,t.jsx)(j,{className:"h-4 w-4 text-green-500"});case"comment":return(0,t.jsx)(w,{className:"h-4 w-4 text-blue-500"});case"follow":return(0,t.jsx)(S,{className:"h-4 w-4 text-zinc-500"});default:return null}}function $(e){switch(e.type){case"like":return"liked your post";case"mention":return"mentioned you in a post";case"repost":return"reposted your post";case"comment":return"replied to your post";case"follow":return"started following you";default:return"interacted with you"}}function E(e){return(0,t.jsx)(z,{},e)}export{K as default};
